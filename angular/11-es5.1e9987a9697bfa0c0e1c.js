!function(){function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,c=!1,a=void 0;try{for(var o,r=e[Symbol.iterator]();!(i=(o=r.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(s){c=!0,a=s}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return n}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var c=0,a=function(){};return{s:a,n:function(){return c>=e.length?{done:!0}:{done:!1,value:e[c++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw o}}}}function i(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{X2wh:function(e,t,n){"use strict";n.d(t,"a",function(){return Ge});var i=n("fXoL"),c=n("tyNb"),o=n("gbi4"),s=n("Avyq"),l=n("yTNM"),u=n("ofXK"),b=n("UXJo"),f=n("NFeN"),g=n("wZkO"),d=n("IU+r"),p=n("Qu3c"),m=n("uZ1F"),h=n("loSA"),v=n("gaSO");function k(e,t){1&e&&(i.Vb(0,"p",6),i.Rc(1,"Ch\u01b0a c\xf3 h\u1ecdc sinh n\xe0o tham gia thi"),i.Ub())}function y(e,t){if(1&e){var n=i.Wb();i.Vb(0,"a",7),i.cc("click",function(){return i.Dc(n),i.gc(2).showCopySuccess()}),i.Vb(1,"mat-icon",8),i.Rc(2,"share"),i.Ub(),i.Vb(3,"span",8),i.Rc(4,"\xa0Copy link \u0111\u1ec1 thi"),i.Ub(),i.Ub()}if(2&e){var c=i.gc(2);i.nc("cdkCopyToClipboard",c.copyLinkToClipboard())}}function w(e,t){1&e&&(i.Vb(0,"p",6),i.Rc(1,"Ch\u01b0a c\xf3 h\u1ecdc sinh n\xe0o n\u1ed9p b\xe0i t\u1eadp"),i.Ub())}function x(e,t){if(1&e){var n=i.Wb();i.Vb(0,"a",7),i.cc("click",function(){return i.Dc(n),i.gc(2).showCopySuccess()}),i.Vb(1,"mat-icon",8),i.Rc(2,"share"),i.Ub(),i.Vb(3,"span",8),i.Rc(4,"\xa0Copy link b\xe0i t\u1eadp"),i.Ub(),i.Ub()}if(2&e){var c=i.gc(2);i.nc("cdkCopyToClipboard",c.copyLinkHomeWorkToClipboard())}}function P(e,t){if(1&e&&(i.Vb(0,"div"),i.Vb(1,"div",3),i.Pc(2,k,2,0,"p",4),i.Pc(3,y,5,1,"a",5),i.Pc(4,w,2,0,"p",4),i.Pc(5,x,5,1,"a",5),i.Ub(),i.Ub()),2&e){var n=i.gc();i.Db(2),i.nc("ngIf",!n.isHomeworkFlow),i.Db(1),i.nc("ngIf",!n.isHomeworkFlow),i.Db(1),i.nc("ngIf",n.isHomeworkFlow),i.Db(1),i.nc("ngIf",n.isHomeworkFlow)}}function C(e,t){if(1&e&&(i.Vb(0,"span",21),i.Qb(1,"azt-create-avatar",22),i.Ub()),2&e){var n=i.gc().$implicit;i.Db(1),i.oc("matTooltip",n.classObj.teacherAvatar.fullName),i.nc("nameCreateAvatar",n.classObj.teacherAvatar.fullName)("size",25)("linkAvatar",n.classObj.teacherAvatar.avatar)}}function U(e,t){if(1&e){var n=i.Wb();i.Vb(0,"div",37),i.cc("click",function(){i.Dc(n);var e=i.gc().$implicit;return i.gc(5).openResultHistoryReview(e)}),i.Vb(1,"mat-icon",38),i.Rc(2,"history"),i.Ub(),i.Ub()}}function V(e,t){1&e&&(i.Vb(0,"span",39),i.Rc(1," (\u0110ang Thi)"),i.Ub())}function I(e,t){1&e&&(i.Vb(0,"p",46),i.Rc(1," Ch\u01b0a ch\u1ea5m "),i.Ub())}function R(e,t){1&e&&(i.Vb(0,"p",47),i.Rc(1," \u0110ang thi "),i.Ub())}function D(e,t){1&e&&i.Qb(0,"span",50)}function _(e,t){if(1&e&&(i.Vb(0,"p",48),i.Rc(1," Ch\u01b0a thi "),i.Pc(2,D,1,0,"span",49),i.Ub()),2&e){var n=i.gc(7);i.Db(2),i.nc("ngIf",n.hasEssayQuestion)}}function T(e,t){if(1&e&&(i.Vb(0,"p",51),i.Rc(1," \u0110i\u1ec3m: "),i.Vb(2,"b"),i.Rc(3),i.Ub(),i.Ub()),2&e){var n=i.gc(2).$implicit;i.Db(3),i.Sc(n.mark)}}function S(e,t){if(1&e&&(i.Vb(0,"p",52),i.Rc(1),i.Ub()),2&e){var n=i.gc(2).$implicit,c=i.gc(5);i.Db(1),i.Tc(" ",c.calculationTime(n.createdAt)," tr\u01b0\u1edbc ")}}function M(e,t){if(1&e&&(i.Vb(0,"div",40),i.Pc(1,I,2,0,"p",41),i.Pc(2,R,2,0,"p",42),i.Pc(3,_,3,1,"p",43),i.Pc(4,T,4,1,"p",44),i.Pc(5,S,2,1,"p",45),i.Ub()),2&e){var n=i.gc().$implicit;i.Db(1),i.nc("ngIf",n.isNotMarked),i.Db(1),i.nc("ngIf",n.isOnTest),i.Db(1),i.nc("ngIf",n.isNotTested),i.Db(1),i.nc("ngIf",n.isMarked),i.Db(1),i.nc("ngIf",n.isMarked||n.isNotMarked)}}function O(e,t){1&e&&(i.Vb(0,"p",52),i.Rc(1," Th\u1eddi gian l\xe0m b\xe0i: "),i.Ub())}function N(e,t){if(1&e&&(i.Vb(0,"p",52),i.Rc(1),i.Ub()),2&e){var n=i.gc(2).$implicit,c=i.gc(5);i.Db(1),i.Tc(" ",c.calculationTestedTime(n.startedTest,n.createdAt)," ")}}function L(e,t){if(1&e&&(i.Vb(0,"p",52),i.Rc(1),i.Ub()),2&e){var n=i.gc(2).$implicit,c=i.gc(5);i.Db(1),i.Tc(" ",c.calculationTestedTime(n.startedTest)," ")}}function A(e,t){if(1&e&&(i.Vb(0,"div",53),i.Pc(1,O,2,0,"p",45),i.Pc(2,N,2,1,"p",45),i.Pc(3,L,2,1,"p",45),i.Ub()),2&e){var n=i.gc().$implicit;i.Db(1),i.nc("ngIf",!n.isNotTested),i.Db(1),i.nc("ngIf",n.isMarked||n.isNotMarked),i.Db(1),i.nc("ngIf",n.isOnTest)}}function z(e,t){1&e&&(i.Vb(0,"p",52),i.Rc(1," S\u1ed1 t\u1ec7p tin \u0111\xe3 n\u1ed9p: "),i.Ub())}function F(e,t){if(1&e&&(i.Vb(0,"p",52),i.Rc(1),i.Ub()),2&e){var n=i.gc(2).$implicit;i.Db(1),i.Tc(" ",n.files&&n.files.length>0?n.files.length:0," ")}}function B(e,t){if(1&e&&(i.Vb(0,"div",53),i.Pc(1,z,2,0,"p",45),i.Pc(2,F,2,1,"p",45),i.Ub()),2&e){var n=i.gc().$implicit;i.Db(1),i.nc("ngIf",n.isMarked||n.isNotMarked),i.Db(1),i.nc("ngIf",n.isMarked||n.isNotMarked)}}var j=function(e){return{"col-lg-4":e}},E=function(e){return{disableClick:e}},H=function(e){return[e]},$=function(e){return{backto:e}};function Q(e,t){if(1&e&&(i.Vb(0,"div",23),i.Vb(1,"div",24),i.Vb(2,"div",25),i.Vb(3,"span",26),i.Qb(4,"azt-create-avatar",27),i.Pc(5,U,3,0,"div",28),i.Ub(),i.Vb(6,"div",29),i.Vb(7,"a",30),i.hc(8,"mylocalize"),i.Vb(9,"div",31),i.Vb(10,"span",32),i.Vb(11,"span",33),i.Rc(12),i.Pc(13,V,2,0,"span",34),i.Ub(),i.Ub(),i.Ub(),i.Pc(14,M,6,5,"div",35),i.Pc(15,A,4,3,"div",36),i.Pc(16,B,3,2,"div",36),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Ub()),2&e){var n=t.$implicit,c=i.gc(5);i.nc("ngClass",i.sc(15,j,c.isOpenSideNav)),i.Db(1),i.nc("ngClass",i.sc(17,E,n.isNotSubmit||n.mustReSubmit)),i.Db(3),i.nc("linkAvatar",n.avatar)("nameCreateAvatar",n.fullName)("size",30),i.Db(1),i.nc("ngIf",c.checkShowIconHistory(n)),i.Db(2),i.nc("routerLink",i.sc(19,H,i.ic(8,13,"/admin/testbank/test-review/"+c.obj.id+"/"+n.userId+"/"+n.studentId+"/0")))("queryParams",i.sc(21,$,c.backToLink)),i.Db(5),i.Tc("",n.fullName," "),i.Db(1),i.nc("ngIf",1==n.status&&(n.isMarked||n.isNotMarked)),i.Db(1),i.nc("ngIf",!c.isHomeworkFlow),i.Db(1),i.nc("ngIf",!c.isHomeworkFlow),i.Db(1),i.nc("ngIf",!c.isHomeworkFlow&&c.hasEssayQuestion)}}function q(e,t){if(1&e){var n=i.Wb();i.Vb(0,"div",15),i.Vb(1,"div",16),i.Vb(2,"p",17),i.cc("click",function(){i.Dc(n);var e=t.$implicit;return i.gc(4).goToStudentList(e.classObj.id)}),i.Vb(3,"span"),i.Rc(4),i.Ub(),i.Pc(5,C,2,4,"span",18),i.Ub(),i.Ub(),i.Vb(6,"div",19),i.Pc(7,Q,17,23,"div",20),i.Ub(),i.Ub()}if(2&e){var c=t.$implicit;i.Db(4),i.Sc(c.classObj.name+"("+c.countSubmitted+"/"+c.classObj.countStudents+")"),i.Db(1),i.nc("ngIf",c.classObj.teacherAvatar),i.Db(2),i.nc("ngForOf",c.results)}}function W(e,t){if(1&e&&(i.Vb(0,"mat-tab",13),i.Pc(1,q,8,3,"div",14),i.Ub()),2&e){var n=i.gc(3);i.oc("label","Theo l\u1edbp ("+n.totalSubmitByClass+")"),i.Db(1),i.nc("ngForOf",n.studentListsInClass)}}function J(e,t){if(1&e){var n=i.Wb();i.Vb(0,"div",37),i.cc("click",function(){i.Dc(n);var e=i.gc(2).$implicit;return i.gc(4).openResultHistoryReview(e)}),i.Vb(1,"mat-icon",38),i.Rc(2,"history"),i.Ub(),i.Ub()}}function Y(e,t){1&e&&(i.Vb(0,"span",39),i.Rc(1," (\u0110ang Thi)"),i.Ub())}function G(e,t){1&e&&(i.Vb(0,"p",46),i.Rc(1," Ch\u01b0a ch\u1ea5m "),i.Ub())}function K(e,t){1&e&&(i.Vb(0,"p",63),i.Rc(1," \u0110ang thi "),i.Ub())}function X(e,t){1&e&&i.Qb(0,"span",50)}function Z(e,t){if(1&e&&(i.Vb(0,"p",48),i.Rc(1," Ch\u01b0a thi "),i.Pc(2,X,1,0,"span",49),i.Ub()),2&e){var n=i.gc(7);i.Db(2),i.nc("ngIf",n.hasEssayQuestion)}}function ee(e,t){if(1&e&&(i.Vb(0,"p",51),i.Rc(1," \u0110i\u1ec3m: "),i.Vb(2,"b"),i.Rc(3),i.Ub(),i.Ub()),2&e){var n=i.gc(3).$implicit;i.Db(3),i.Sc(n.mark)}}function te(e,t){if(1&e&&(i.Vb(0,"p",52),i.Rc(1),i.Ub()),2&e){var n=i.gc(3).$implicit,c=i.gc(4);i.Db(1),i.Tc(" ",c.calculationTime(n.createdAt)," tr\u01b0\u1edbc ")}}function ne(e,t){if(1&e&&(i.Vb(0,"div",53),i.Pc(1,G,2,0,"p",41),i.Pc(2,K,2,0,"p",62),i.Pc(3,Z,3,1,"p",43),i.Pc(4,ee,4,1,"p",44),i.Pc(5,te,2,1,"p",45),i.Ub()),2&e){var n=i.gc(2).$implicit;i.Db(1),i.nc("ngIf",n.isNotMarked),i.Db(1),i.nc("ngIf",n.isOnTest),i.Db(1),i.nc("ngIf",n.isNotTested),i.Db(1),i.nc("ngIf",n.isMarked),i.Db(1),i.nc("ngIf",n.isMarked||n.isNotMarked)}}function ie(e,t){1&e&&(i.Vb(0,"p",52),i.Rc(1," Th\u1eddi gian l\xe0m b\xe0i: "),i.Ub())}function ce(e,t){if(1&e&&(i.Vb(0,"p",52),i.Rc(1),i.Ub()),2&e){var n=i.gc(3).$implicit,c=i.gc(4);i.Db(1),i.Tc(" ",c.calculationTestedTime(n.startedTest,n.createdAt)," ")}}function ae(e,t){if(1&e&&(i.Vb(0,"p",52),i.Rc(1),i.Ub()),2&e){var n=i.gc(3).$implicit,c=i.gc(4);i.Db(1),i.Tc(" ",c.calculationTestedTime(n.startedTest)," ")}}function oe(e,t){if(1&e&&(i.Vb(0,"div",53),i.Pc(1,ie,2,0,"p",45),i.Pc(2,ce,2,1,"p",45),i.Pc(3,ae,2,1,"p",45),i.Ub()),2&e){var n=i.gc(2).$implicit;i.Db(1),i.nc("ngIf",!n.isNotTested),i.Db(1),i.nc("ngIf",n.isMarked||n.isNotMarked),i.Db(1),i.nc("ngIf",n.isOnTest)}}function re(e,t){1&e&&(i.Vb(0,"p",52),i.Rc(1," S\u1ed1 t\u1ec7p tin \u0111\xe3 n\u1ed9p: "),i.Ub())}function se(e,t){if(1&e&&(i.Vb(0,"p",52),i.Rc(1),i.Ub()),2&e){var n=i.gc(3).$implicit;i.Db(1),i.Tc(" ",n.files&&n.files.length>0?n.files.length:0," ")}}function le(e,t){if(1&e&&(i.Vb(0,"div",53),i.Pc(1,re,2,0,"p",45),i.Pc(2,se,2,1,"p",45),i.Ub()),2&e){var n=i.gc(2).$implicit;i.Db(1),i.nc("ngIf",n.isMarked||n.isNotMarked),i.Db(1),i.nc("ngIf",n.isMarked||n.isNotMarked)}}function ue(e,t){if(1&e){var n=i.Wb();i.Vb(0,"div"),i.Vb(1,"div",60),i.Vb(2,"div",25),i.Vb(3,"span",26),i.Qb(4,"azt-create-avatar",27),i.Pc(5,J,3,0,"div",28),i.Ub(),i.Vb(6,"div",61),i.cc("click",function(){i.Dc(n);var e=i.gc().$implicit;return i.gc(4).goToResultReview(e)}),i.Vb(7,"div",31),i.Vb(8,"span",32),i.Vb(9,"span",33),i.Rc(10),i.Pc(11,Y,2,0,"span",34),i.Ub(),i.Ub(),i.Ub(),i.Pc(12,ne,6,5,"div",36),i.Pc(13,oe,4,3,"div",36),i.Pc(14,le,3,2,"div",36),i.Ub(),i.Ub(),i.Ub(),i.Ub()}if(2&e){var c=i.gc().$implicit,a=i.gc(4);i.Db(1),i.nc("ngClass",i.sc(10,E,c.isNotSubmit||c.mustReSubmit)),i.Db(3),i.nc("linkAvatar",c.avatar)("nameCreateAvatar",c.fullName)("size",30),i.Db(1),i.nc("ngIf",a.checkShowIconHistory(c)),i.Db(5),i.Tc("",c.fullName," "),i.Db(1),i.nc("ngIf",1==c.status&&(c.isMarked||c.isNotMarked)),i.Db(1),i.nc("ngIf",!a.isHomeworkFlow),i.Db(1),i.nc("ngIf",!a.isHomeworkFlow),i.Db(1),i.nc("ngIf",!a.isHomeworkFlow&&a.hasEssayQuestion)}}function be(e,t){if(1&e){var n=i.Wb();i.Vb(0,"div",37),i.cc("click",function(){i.Dc(n);var e=i.gc(2).$implicit;return i.gc(4).openResultHistoryReview(e)}),i.Vb(1,"mat-icon",38),i.Rc(2,"history"),i.Ub(),i.Ub()}}function fe(e,t){1&e&&(i.Vb(0,"span",39),i.Rc(1," (\u0110ang Thi)"),i.Ub())}function ge(e,t){1&e&&(i.Vb(0,"p",46),i.Rc(1," Ch\u01b0a ch\u1ea5m "),i.Ub())}function de(e,t){1&e&&(i.Vb(0,"p",63),i.Rc(1," \u0110ang thi "),i.Ub())}function pe(e,t){1&e&&i.Qb(0,"span",50)}function me(e,t){if(1&e&&(i.Vb(0,"p",48),i.Rc(1," Ch\u01b0a thi "),i.Pc(2,pe,1,0,"span",49),i.Ub()),2&e){var n=i.gc(7);i.Db(2),i.nc("ngIf",n.hasEssayQuestion)}}function he(e,t){if(1&e&&(i.Vb(0,"p",51),i.Rc(1," \u0110i\u1ec3m: "),i.Vb(2,"b"),i.Rc(3),i.Ub(),i.Ub()),2&e){var n=i.gc(3).$implicit;i.Db(3),i.Sc(n.mark)}}function ve(e,t){if(1&e&&(i.Vb(0,"p",52),i.Rc(1),i.Ub()),2&e){var n=i.gc(3).$implicit,c=i.gc(4);i.Db(1),i.Tc(" ",c.calculationTime(n.createdAt)," tr\u01b0\u1edbc ")}}function ke(e,t){if(1&e&&(i.Vb(0,"div",53),i.Pc(1,ge,2,0,"p",41),i.Pc(2,de,2,0,"p",62),i.Pc(3,me,3,1,"p",43),i.Pc(4,he,4,1,"p",44),i.Pc(5,ve,2,1,"p",45),i.Ub()),2&e){var n=i.gc(2).$implicit;i.Db(1),i.nc("ngIf",n.isNotMarked),i.Db(1),i.nc("ngIf",n.isOnTest),i.Db(1),i.nc("ngIf",n.isNotTested),i.Db(1),i.nc("ngIf",n.isMarked),i.Db(1),i.nc("ngIf",n.isMarked||n.isNotMarked)}}function ye(e,t){1&e&&(i.Vb(0,"p",52),i.Rc(1," Th\u1eddi gian l\xe0m b\xe0i: "),i.Ub())}function we(e,t){if(1&e&&(i.Vb(0,"p",52),i.Rc(1),i.Ub()),2&e){var n=i.gc(3).$implicit,c=i.gc(4);i.Db(1),i.Tc(" ",c.calculationTestedTime(n.startedTest,n.createdAt)," ")}}function xe(e,t){if(1&e&&(i.Vb(0,"p",52),i.Rc(1),i.Ub()),2&e){var n=i.gc(3).$implicit,c=i.gc(4);i.Db(1),i.Tc(" ",c.calculationTestedTime(n.startedTest)," ")}}function Pe(e,t){if(1&e&&(i.Vb(0,"div",53),i.Pc(1,ye,2,0,"p",45),i.Pc(2,we,2,1,"p",45),i.Pc(3,xe,2,1,"p",45),i.Ub()),2&e){var n=i.gc(2).$implicit;i.Db(1),i.nc("ngIf",!n.isNotTested),i.Db(1),i.nc("ngIf",n.isMarked||n.isNotMarked),i.Db(1),i.nc("ngIf",n.isOnTest)}}function Ce(e,t){1&e&&(i.Vb(0,"p",52),i.Rc(1," S\u1ed1 t\u1ec7p tin \u0111\xe3 n\u1ed9p: "),i.Ub())}function Ue(e,t){if(1&e&&(i.Vb(0,"p",52),i.Rc(1),i.Ub()),2&e){var n=i.gc(3).$implicit;i.Db(1),i.Tc(" ",n.files&&n.files.length>0?n.files.length:0," ")}}function Ve(e,t){if(1&e&&(i.Vb(0,"div",53),i.Pc(1,Ce,2,0,"p",45),i.Pc(2,Ue,2,1,"p",45),i.Ub()),2&e){var n=i.gc(2).$implicit;i.Db(1),i.nc("ngIf",n.isMarked||n.isNotMarked),i.Db(1),i.nc("ngIf",n.isMarked||n.isNotMarked)}}function Ie(e,t){if(1&e){var n=i.Wb();i.Vb(0,"div",60),i.Vb(1,"div",25),i.Vb(2,"span",26),i.Qb(3,"azt-create-avatar",27),i.Pc(4,be,3,0,"div",28),i.Ub(),i.Vb(5,"div",61),i.cc("click",function(){i.Dc(n);var e=i.gc().$implicit;return i.gc(4).goToResultReview(e)}),i.Vb(6,"a",64),i.hc(7,"mylocalize"),i.Vb(8,"div",31),i.Vb(9,"span",32),i.Vb(10,"span",33),i.Rc(11),i.Pc(12,fe,2,0,"span",34),i.Ub(),i.Ub(),i.Ub(),i.Pc(13,ke,6,5,"div",36),i.Pc(14,Pe,4,3,"div",36),i.Pc(15,Ve,3,2,"div",36),i.Ub(),i.Ub(),i.Ub(),i.Ub()}if(2&e){var c=i.gc().$implicit,a=i.gc(4);i.nc("ngClass",i.sc(14,E,c.isNotSubmit||c.mustReSubmit)),i.Db(3),i.nc("linkAvatar",c.avatar)("nameCreateAvatar",c.fullName)("size",30),i.Db(1),i.nc("ngIf",a.checkShowIconHistory(c)),i.Db(2),i.nc("routerLink",i.sc(16,H,i.ic(7,12,"/admin/testbank/test-review/"+a.obj.id+"/"+c.userId+"/"+c.studentId+"/0")))("queryParams",i.sc(18,$,a.backToLink)),i.Db(5),i.Tc("",c.fullName," "),i.Db(1),i.nc("ngIf",1==c.status&&(c.isMarked||c.isNotMarked)),i.Db(1),i.nc("ngIf",!a.isHomeworkFlow),i.Db(1),i.nc("ngIf",!a.isHomeworkFlow),i.Db(1),i.nc("ngIf",!a.isHomeworkFlow&&a.hasEssayQuestion)}}function Re(e,t){if(1&e&&(i.Vb(0,"div",58),i.Pc(1,ue,15,12,"div",10),i.Pc(2,Ie,16,20,"ng-template",null,59,i.Qc),i.Ub()),2&e){var n=t.$implicit,c=i.zc(3),a=i.gc(4);i.nc("ngClass",i.sc(3,j,a.isOpenSideNav)),i.Db(1),i.nc("ngIf",n.isNotSubmit||n.mustReSubmit)("ngIfElse",c)}}function De(e,t){if(1&e){var n=i.Wb();i.Vb(0,"div",65),i.Vb(1,"azt-paging",66),i.cc("SendPage",function(e){return i.Dc(n),i.gc(4).clickPage(e)}),i.Ub(),i.Ub()}if(2&e){var c=i.gc(4);i.Db(1),i.nc("lengthPage",c.totalPage)("paging",c.curPage)}}function _e(e,t){if(1&e&&(i.Vb(0,"mat-tab",13),i.Vb(1,"div",54),i.Pc(2,Re,4,5,"div",55),i.Vb(3,"div",56),i.Pc(4,De,2,2,"div",57),i.Ub(),i.Ub(),i.Ub()),2&e){var n=i.gc(3);i.oc("label","T\u1ef1 do ("+n.studentLists.length+")"),i.Db(2),i.nc("ngForOf",n.studentListPage),i.Db(2),i.nc("ngIf",n.totalPage>1)}}function Te(e,t){if(1&e&&(i.Vb(0,"mat-tab-group"),i.Pc(1,W,2,2,"mat-tab",12),i.Pc(2,_e,5,3,"mat-tab",12),i.Ub()),2&e){var n=i.gc(2);i.Db(1),i.nc("ngIf",n.examHasClass),i.Db(1),i.nc("ngIf",n.studentLists&&n.studentLists.length>0)}}function Se(e,t){1&e&&(i.Vb(0,"p",46),i.Rc(1," Ch\u01b0a ch\u1ea5m "),i.Ub())}function Me(e,t){1&e&&(i.Vb(0,"p",47),i.Rc(1," Ch\u01b0a n\u1ed9p "),i.Ub())}function Oe(e,t){1&e&&(i.Vb(0,"p",47),i.Rc(1," \u0110\xe3 y\xeau c\u1ea7u n\u1ed9p l\u1ea1i "),i.Ub())}function Ne(e,t){if(1&e&&(i.Vb(0,"p",51),i.Rc(1," \u0110i\u1ec3m: "),i.Vb(2,"b"),i.Qb(3,"azt-check-mark",69),i.Ub(),i.Ub()),2&e){var n=i.gc(2).$implicit;i.Db(3),i.nc("mark",n.point)}}function Le(e,t){if(1&e&&(i.Vb(0,"p",52),i.Rc(1),i.Ub()),2&e){var n=i.gc(2).$implicit,c=i.gc(3);i.Db(1),i.Tc(" ",c.calculationTime(n.createdAt)," tr\u01b0\u1edbc ")}}function Ae(e,t){if(1&e&&(i.Vb(0,"div",53),i.Vb(1,"p",52),i.Rc(2," S\u1ed1 t\u1ec7p tin \u0111\xe3 n\u1ed9p: "),i.Ub(),i.Vb(3,"p",52),i.Rc(4),i.Ub(),i.Ub()),2&e){var n=i.gc(2).$implicit,c=i.gc(3);i.Db(4),i.Tc(" ",n.answer.files&&c.formatArray(n.answer.files).length>0?c.formatArray(n.answer.files).length:0," ")}}function ze(e,t){if(1&e&&(i.Vb(0,"div"),i.Vb(1,"a",64),i.hc(2,"mylocalize"),i.Vb(3,"div",60),i.Vb(4,"div",25),i.Vb(5,"span",26),i.Qb(6,"azt-create-avatar",27),i.Ub(),i.Vb(7,"div",29),i.Vb(8,"div",31),i.Vb(9,"span",32),i.Vb(10,"span",33),i.Rc(11),i.Ub(),i.Ub(),i.Ub(),i.Vb(12,"div",53),i.Pc(13,Se,2,0,"p",41),i.Pc(14,Me,2,0,"p",42),i.Pc(15,Oe,2,0,"p",42),i.Pc(16,Ne,4,1,"p",44),i.Pc(17,Le,2,1,"p",45),i.Ub(),i.Pc(18,Ae,5,1,"div",36),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Ub()),2&e){var n=i.gc().$implicit,c=i.gc(3);i.Db(1),i.nc("routerLink",i.sc(15,H,i.ic(2,13,"/admin/homework/mark-exercise/"+n.answer.id)))("queryParams",i.sc(17,$,c.backToLink)),i.Db(2),i.nc("ngClass",i.sc(19,E,n.isNotSubmit||n.mustReSubmit)),i.Db(3),i.nc("linkAvatar",n.avatar)("nameCreateAvatar",n.fullName)("size",30),i.Db(5),i.Sc(n.fullName),i.Db(2),i.nc("ngIf",n.isSubmitted),i.Db(1),i.nc("ngIf",n.isNotSubmit),i.Db(1),i.nc("ngIf",n.mustReSubmit),i.Db(1),i.nc("ngIf",n.isMarked),i.Db(1),i.nc("ngIf",null!=n.createdAt),i.Db(1),i.nc("ngIf",n.isMarked||n.isSubmitted)}}function Fe(e,t){1&e&&(i.Vb(0,"p",46),i.Rc(1," Ch\u01b0a ch\u1ea5m "),i.Ub())}function Be(e,t){1&e&&(i.Vb(0,"p",47),i.Rc(1," Ch\u01b0a n\u1ed9p "),i.Ub())}function je(e,t){1&e&&(i.Vb(0,"p",47),i.Rc(1," \u0110\xe3 y\xeau c\u1ea7u n\u1ed9p l\u1ea1i "),i.Ub())}function Ee(e,t){if(1&e&&(i.Vb(0,"p",51),i.Rc(1," \u0110i\u1ec3m: "),i.Vb(2,"b"),i.Rc(3),i.Ub(),i.Ub()),2&e){var n=i.gc(2).$implicit;i.Db(3),i.Sc(n.point)}}function He(e,t){if(1&e&&(i.Vb(0,"p",52),i.Rc(1),i.Ub()),2&e){var n=i.gc(2).$implicit,c=i.gc(3);i.Db(1),i.Tc(" ",c.calculationTime(n.createdAt)," tr\u01b0\u1edbc ")}}function $e(e,t){if(1&e&&(i.Vb(0,"div",53),i.Vb(1,"p",52),i.Rc(2," S\u1ed1 t\u1ec7p tin \u0111\xe3 n\u1ed9p: "),i.Ub(),i.Vb(3,"p",52),i.Rc(4),i.Ub(),i.Ub()),2&e){var n=i.gc(2).$implicit,c=i.gc(3);i.Db(4),i.Tc(" ",n.answer.files&&c.formatArray(n.answer.files).length>0?c.formatArray(n.answer.files).length:0," ")}}function Qe(e,t){if(1&e){var n=i.Wb();i.Vb(0,"div",60),i.Vb(1,"div",25),i.Vb(2,"span",26),i.Qb(3,"azt-create-avatar",27),i.Ub(),i.Vb(4,"div",61),i.cc("click",function(){i.Dc(n);var e=i.gc().$implicit;return i.gc(3).goToResultReview(e)}),i.Vb(5,"div",31),i.Vb(6,"span",32),i.Vb(7,"span",33),i.Rc(8),i.Ub(),i.Ub(),i.Ub(),i.Vb(9,"div",53),i.Pc(10,Fe,2,0,"p",41),i.Pc(11,Be,2,0,"p",42),i.Pc(12,je,2,0,"p",42),i.Pc(13,Ee,4,1,"p",44),i.Pc(14,He,2,1,"p",45),i.Ub(),i.Pc(15,$e,5,1,"div",36),i.Ub(),i.Ub(),i.Ub()}if(2&e){var c=i.gc().$implicit;i.nc("ngClass",i.sc(11,E,c.isNotSubmit||c.mustReSubmit)),i.Db(3),i.nc("linkAvatar",c.avatar)("nameCreateAvatar",c.fullName)("size",30),i.Db(5),i.Sc(c.fullName),i.Db(2),i.nc("ngIf",c.isSubmitted),i.Db(1),i.nc("ngIf",c.isNotSubmit),i.Db(1),i.nc("ngIf",c.mustReSubmit),i.Db(1),i.nc("ngIf",c.isMarked),i.Db(1),i.nc("ngIf",null!=c.createdAt),i.Db(1),i.nc("ngIf",c.isMarked||c.isSubmitted)}}function qe(e,t){if(1&e&&(i.Vb(0,"div",58),i.Pc(1,ze,19,21,"div",10),i.Pc(2,Qe,16,13,"ng-template",null,68,i.Qc),i.Ub()),2&e){var n=t.$implicit,c=i.zc(3),a=i.gc(3);i.nc("ngClass",i.sc(3,j,a.isOpenSideNav)),i.Db(1),i.nc("ngIf",n.answer)("ngIfElse",c)}}function We(e,t){if(1&e&&(i.Vb(0,"div",67),i.Pc(1,qe,4,5,"div",55),i.Ub()),2&e){var n=i.gc(2);i.Db(1),i.nc("ngForOf",n.studentLists)}}function Je(e,t){if(1&e&&(i.Vb(0,"div",9),i.Pc(1,Te,3,2,"mat-tab-group",10),i.Pc(2,We,2,1,"ng-template",null,11,i.Qc),i.Ub()),2&e){var n=i.zc(3),c=i.gc();i.Db(1),i.nc("ngIf",!c.isHomeworkFlow)("ngIfElse",n)}}var Ye=function(e){return{"mt-3":e}},Ge=function(){var e=function(){function e(t,n,c,o,r){a(this,e),this.activeRoute=t,this.router=n,this.commonService=c,this.localize=o,this.apiService=r,this.studentLists=[],this.studentListsInClass=[],this.obj={},this.backToLink="",this.totalSubmitted=0,this.totalSubmitByClass=0,this.examHasClass=!1,this.hasEssayQuestion=!1,this.isNotTestedYet=!1,this.isHomeworkFlow=!1,this.searchKey="",this.isOpenSideNav=!0,this.goToResult=new i.o,this.openResultHistory=new i.o,this.studentListPage=[],this.isLoadingPage=!1,this.checkPaging=!1,this.curPage=1,this.totalPage=0}return r(e,[{key:"goToResultReview",value:function(e){e.isNotSubmit||e.mustReSubmit||this.checkExecuteViewTest()||this.goToResult.emit(e)}},{key:"clickPage",value:function(e){this.createPageStudent(e)}},{key:"openResultHistoryReview",value:function(e){this.openResultHistory.emit(e)}},{key:"checkValidClickLink",value:function(e){return"[]"!=e.answers&&null!=e.answers}},{key:"checkExecuteViewTest",value:function(){return this.commonService.hasConfigAndViewClassroomPermission("exam",this.obj.permissionObj)}},{key:"checkShowIconHistory",value:function(e){var t=!1;return 1!=e.status&&(e.isMarked||e.isNotMarked)&&(t=!0),0==this.obj.examType||1==this.obj.examType?!(!t||!this.commonService.checkEmptyAnswerExamAll(e)):!(!t||""!=e.files&&null!=e.files&&!this.commonService.checkEmptyAnswerExamAll(e))}},{key:"createPageStudent",value:function(e){this.studentListPage=[];var t=this.studentLists.length;if(this.totalPage=Math.ceil(t/100),t>100)for(var n=100*(e-1);n<100*e;n++)this.studentLists.length-1>=n&&this.studentListPage.push(this.studentLists[n]);else this.checkPaging=!1,this.studentListPage=this.studentLists;this.isLoadingPage=!1}},{key:"copyLinkToClipboard",value:function(){return"".concat(location.protocol+"//"+location.hostname+(location.port?":"+location.port:""),"/de-thi/").concat(this.obj.hashId)}},{key:"copyLinkHomeWorkToClipboard",value:function(){return"".concat(location.protocol+"//"+location.hostname+(location.port?":"+location.port:""),"/bai-tap/").concat(this.obj.hashId)}},{key:"showCopySuccess",value:function(){this.commonService.snackSuccess("Sao ch\xe9p th\xe0nh c\xf4ng","")}},{key:"calculationTime",value:function(e,t){return this.commonService.calculationTime(e,t)}},{key:"calculationTestedTime",value:function(e,t){return this.commonService.calculationTestedTime(e,t)}},{key:"formatArray",value:function(e){return JSON.parse(e)}},{key:"goToStudentList",value:function(e){this.commonService.myNavigation("/admin/student/class-details/"+e)}},{key:"isSearch",value:function(e){return 0==e.length}},{key:"ngOnInit",value:function(){this.createPageStudent(this.curPage)}},{key:"ngOnChanges",value:function(){this.createPageStudent(this.curPage)}},{key:"ngOnDestroy",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Pb(c.a),i.Pb(c.i),i.Pb(o.a),i.Pb(s.e),i.Pb(l.a))},e.\u0275cmp=i.Jb({type:e,selectors:[["app-student-result-view"]],inputs:{studentLists:"studentLists",studentListsInClass:"studentListsInClass",obj:"obj",backToLink:"backToLink",totalSubmitted:"totalSubmitted",totalSubmitByClass:"totalSubmitByClass",examHasClass:"examHasClass",hasEssayQuestion:"hasEssayQuestion",isNotTestedYet:"isNotTestedYet",isHomeworkFlow:"isHomeworkFlow",searchKey:"searchKey",isOpenSideNav:"isOpenSideNav"},outputs:{goToResult:"goToResult",openResultHistory:"openResultHistory"},features:[i.Bb],decls:3,vars:5,consts:[[1,"box-content","py-2","scrollable-content",3,"ngClass"],[4,"ngIf"],["class","pt-0 pb-2 px-3 ",4,"ngIf"],[1,"text-center","mt-3"],["class","h5",4,"ngIf"],["class","clickable","style","user-select: none;",3,"cdkCopyToClipboard","click",4,"ngIf"],[1,"h5"],[1,"clickable",2,"user-select","none",3,"cdkCopyToClipboard","click"],[2,"vertical-align","middle","color","#333333"],[1,"pt-0","pb-2","px-3"],[4,"ngIf","ngIfElse"],["HomeworkFlow",""],[3,"label",4,"ngIf"],[3,"label"],["class","mt-3",4,"ngFor","ngForOf"],[1,"mt-3"],[1,"row","ml-0","mr-0","pl-3"],[1,"h5","clickable","link-stu",3,"click"],["class","ml-2",4,"ngIf"],[1,"row","ml-0","mr-0","pl-0","pr-0"],["class","col-12 col-sm-12 col-md-4 col-lg-3 mb-2 d-flex","style","align-items: stretch;",3,"ngClass",4,"ngFor","ngForOf"],[1,"ml-2"],[2,"cursor","pointer",3,"matTooltip","nameCreateAvatar","size","linkAvatar"],[1,"col-12","col-sm-12","col-md-4","col-lg-3","mb-2","d-flex",2,"align-items","stretch",3,"ngClass"],[1,"box-item",2,"align-self","stretch","width","100%",3,"ngClass"],[1,"student-item"],[1,"stdimg","align-self-center"],[3,"linkAvatar","nameCreateAvatar","size"],["class","text-center",3,"click",4,"ngIf"],[1,"stdinfo"],[2,"width","100%",3,"routerLink","queryParams"],[1,"stdinfo-fullname"],[2,"vertical-align","middle"],[2,"vertical-align","middle","color","#333333","font-weight","400","font-size","15px","word-break","break-word"],["style","vertical-align: middle; color: #9F0000; font-size: 12px;","matTooltip","H\u1ecdc sinh \u0111ang thi l\u1ea1i",4,"ngIf"],["class","d-flex justify-content-between","style","padding-top: 3px;",4,"ngIf"],["class","d-flex justify-content-between",4,"ngIf"],[1,"text-center",3,"click"],["matTooltip","L\u1ecbch s\u1eed thi",2,"vertical-align","middle","margin-top","2px","color","#cccccc"],["matTooltip","H\u1ecdc sinh \u0111ang thi l\u1ea1i",2,"vertical-align","middle","color","#9F0000","font-size","12px"],[1,"d-flex","justify-content-between",2,"padding-top","3px"],["style","color: #F39C12; font-size: 13px; margin-bottom: 2px;",4,"ngIf"],["style","color: #9F0000; font-size: 13px; margin-bottom: 2px;",4,"ngIf"],["style","color: #9C9C9C; font-size: 13px; margin-bottom: 2px;",4,"ngIf"],["style","font-size: 13px; margin-bottom: 2px;",4,"ngIf"],["style","font-size: 13px; margin-bottom: 2px; color: #9C9C9C",4,"ngIf"],[2,"color","#F39C12","font-size","13px","margin-bottom","2px"],[2,"color","#9F0000","font-size","13px","margin-bottom","2px"],[2,"color","#9C9C9C","font-size","13px","margin-bottom","2px"],["style","padding: 7px;margin-bottom: 2px;",4,"ngIf"],[2,"padding","7px","margin-bottom","2px"],[2,"font-size","13px","margin-bottom","2px"],[2,"font-size","13px","margin-bottom","2px","color","#9C9C9C"],[1,"d-flex","justify-content-between"],[1,"row","ml-0","mr-0","pl-0","pr-0","mt-2",2,"overflow-y","hidden"],["class","col-12 col-sm-12 col-md-4 col-lg-3 mb-2",3,"ngClass",4,"ngFor","ngForOf"],[1,"col-12","mt-2"],["class","col-md-11 text-left mt-2",4,"ngIf"],[1,"col-12","col-sm-12","col-md-4","col-lg-3","mb-2",3,"ngClass"],["dataDone",""],[1,"box-item",3,"ngClass"],[1,"stdinfo",3,"click"],["style","color: #9F0000; font-size: 13px; margin-bottom: 0px;",4,"ngIf"],[2,"color","#9F0000","font-size","13px","margin-bottom","0px"],[3,"routerLink","queryParams"],[1,"col-md-11","text-left","mt-2"],[3,"lengthPage","paging","SendPage"],[1,"row","ml-0","mr-0","pl-0","pr-0","mt-2"],["answerIdNull",""],[3,"mark"]],template:function(e,t){1&e&&(i.Vb(0,"div",0),i.Pc(1,P,6,4,"div",1),i.Pc(2,Je,4,2,"div",2),i.Ub()),2&e&&(i.nc("ngClass",i.sc(3,Ye,!t.isHomeworkFlow)),i.Db(1),i.nc("ngIf",t.isNotTestedYet),i.Db(1),i.nc("ngIf",!t.isNotTestedYet))},directives:[u.k,u.m,b.a,f.a,g.b,g.a,u.l,d.a,p.a,c.k,m.a,h.a],pipes:[v.o],styles:[".box-content[_ngcontent-%COMP%]{background:inherit;background-color:#f9f9f9;box-sizing:border-box;border:1px solid #e9e9e9;border-radius:5px;box-shadow:none}a[_ngcontent-%COMP%]{color:#000}.disableClick[_ngcontent-%COMP%]{cursor:default!important}.scrollable-content[_ngcontent-%COMP%]{height:calc(100vh - 166px);overflow-y:scroll}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;margin:5px}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px #cecece;border-radius:10px}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cfcece;border-radius:10px}.box-item[_ngcontent-%COMP%]{background-color:#fff;padding:10px;border:1px solid #ccc;border-radius:4px;margin-bottom:10px;cursor:pointer;position:relative}.badge-testing[_ngcontent-%COMP%]{position:absolute;top:0;right:6px;border-radius:4px;padding:0 3px}.student-item[_ngcontent-%COMP%]{display:flex;position:relative}.link-stu[_ngcontent-%COMP%], .student-item[_ngcontent-%COMP%]   .deleteBtn[_ngcontent-%COMP%], .student-item[_ngcontent-%COMP%]   .enterClsWrap[_ngcontent-%COMP%]{display:flex}.link-stu[_ngcontent-%COMP%]{align-items:center}.link-stu[_ngcontent-%COMP%]:hover{color:#007bff}.stdimg[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-right:10px}.stdinfo[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:auto}.menu-icon[_ngcontent-%COMP%]{vertical-align:middle;color:#828282}.create-avatar[_ngcontent-%COMP%]{vertical-align:middle;display:inline-block;margin-top:2px;border-radius:50%;width:30px;text-transform:uppercase;height:30px;background:#ddd;text-align:center;padding-top:5px}@media screen and (max-width:750px){.scrollable-content[_ngcontent-%COMP%]{min-height:calc(100vh - 170px);height:auto;overflow-y:inherit}.tested_list_container[_ngcontent-%COMP%]{height:auto}}"]}),e}()},unp7:function(e,i,c){"use strict";c.d(i,"a",function(){return f});var o=c("mrSG"),s=c("fXoL"),l=c("gbi4"),u=c("yTNM"),b=function(e){return e[e.Cdn=0]="Cdn",e[e.CdnTimestamp=1]="CdnTimestamp",e[e.Rawlink=2]="Rawlink",e[e.RawlinkTimestamp=3]="RawlinkTimestamp",e}({}),f=function(){var e=function(){function e(t,n){a(this,e),this.commonService=t,this.apiService=n}return r(e,[{key:"getExtensionFile",value:function(e){if(!e)return"";var t=e.split(".");return t.length<=1?"":t[t.length-1].toLocaleLowerCase().split("_")[0]}},{key:"translateMetaTitle",value:function(e){this.commonService.translateMetaData({title:"Export PDF: "+e.data.examObj.name,description:"Export PDF: "+e.data.examObj.name,image:"lang_cms_test_image"})}},{key:"handleError",value:function(e){var t=this;this.commonService.myTranslate([e.message,"lang_cms_common_ok"]).subscribe(function(n){t.commonService.snackError(n[e.message],n.lang_cms_common_ok)})}},{key:"convertAnswersArr",value:function(e,t){0!=e.length&&e.forEach(function(e){t["id_"+e.QuestionId]=e.AnswerContent[0].Content})}},{key:"create_pdf",value:function(e,t,n){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var c;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!n){i.next=4;break}this.convertMargitPagePdf_forHomeWork(),i.next=6;break;case 4:return i.next=6,this.convertMargitPagePdf(e);case 6:if(!(c=document.getElementById(t))){i.next=11;break}return i.next=10,html2pdf().set({pagebreak:{mode:"avoid-all"},image:{type:"jpeg",quality:1},html2canvas:{logging:!0,useCORS:!0},jsPDF:{unit:"in",format:"a4",orientation:"p"}}).from(c).output("blob");case 10:return i.abrupt("return",i.sent);case 11:case"end":return i.stop()}},i,this)}))}},{key:"convertToBase64",value:function(e,t){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i,c,a,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:i=e,n.t0=t,n.next=n.t0===b.Cdn?4:n.t0===b.CdnTimestamp?6:n.t0===b.RawlinkTimestamp?8:9;break;case 4:return i=this.commonService.getMyCdn(e),n.abrupt("break",9);case 6:return i=this.commonService.getMyCdn(e)+"?t="+Date.now(),n.abrupt("break",9);case 8:i=e+"?t="+Date.now();case 9:return n.next=11,fetch(i);case 11:return c=n.sent,n.next=14,c.blob();case 14:return a=n.sent,n.next=17,new Promise(function(e){var t=new FileReader;t.readAsDataURL(a),t.onloadend=function(){e(t.result)}});case 17:return o=n.sent,n.abrupt("return",o&&"string"==typeof o?o:(console.log("kh\xf4ng th\u1ec3 convert url n\xe0y th\xe0nh chu\u1ed7i base64: "+e),e));case 19:case"end":return n.stop()}},n,this)}))}},{key:"convertAndRetryToBase64",value:function(e){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.getExtensionFile(e),!["pdf","jpg","jpeg","png"].includes(n)){t.next=60;break}if(i=[b.Cdn,b.CdnTimestamp,b.Rawlink,b.RawlinkTimestamp],!this.commonService.isViettelCDN(e)){t.next=26;break}return console.log(">>>> YAAAAAA, \u0111\xe2y l\xe0 link Viettel, qu\xe1 tr\xecnh convert c\xf3 th\u1ec3 l\xe2u h\u01a1n b\xecnh th\u01b0\u1eddng, v\xec ph\u1ea3i convert tu\u1ea7n t\u1ef1 sau m\u1ed7i 0.5 gi\xe2y"),t.prev=5,t.next=8,this.convertToBase64(e,i[0]);case 8:c=t.sent,t.next=24;break;case 11:return t.prev=11,t.t0=t.catch(5),t.prev=13,t.next=16,this.asyncTimeout(500);case 16:return t.next=18,this.convertToBase64(e,i[1]);case 18:c=t.sent,t.next=24;break;case 21:t.prev=21,t.t1=t.catch(13),console.log("Kh\xf4ng th\u1ec3 convert url VIETTEL n\xe0y th\xe0nh base64 sau 2 l\u1ea7n th\u1eed: "+e),c=e;case 24:t.next=59;break;case 26:return t.prev=26,t.next=29,this.convertToBase64(e,i[0]);case 29:c=t.sent,t.next=59;break;case 32:return t.prev=32,t.t2=t.catch(26),t.prev=34,t.next=37,this.convertToBase64(e,i[1]);case 37:c=t.sent,t.next=59;break;case 40:return t.prev=40,t.t3=t.catch(34),t.prev=42,t.next=45,this.convertToBase64(e,i[2]);case 45:c=t.sent,t.next=59;break;case 48:return t.prev=48,t.t4=t.catch(42),t.prev=50,t.next=53,this.convertToBase64(e,i[3]);case 53:c=t.sent,t.next=59;break;case 56:t.prev=56,t.t5=t.catch(50),console.log("Kh\xf4ng th\u1ec3 convert url n\xe0y th\xe0nh base64 sau v\xe0i l\u1ea7n retry: "+e),c=e;case 59:return t.abrupt("return",c);case 60:return t.abrupt("return",(console.log("\u0110\u1ecbnh d\u1ea1ng file kh\xf4ng \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3: "+e),""));case 61:case"end":return t.stop()}},t,this,[[5,11],[13,21],[26,32],[34,40],[42,48],[50,56]])}))}},{key:"processUserResult",value:function(e){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var c,a,r,s,l,u,b,f,g=this;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(c=this.commonService.parseJson(e),!this.commonService.isViettelCDN(c.pages[0].backgroundImage)){i.next=32;break}a=n(c.pages),i.prev=3,a.s();case 5:if((r=a.n()).done){i.next=22;break}return s=r.value,i.next=9,this.asyncTimeout(500);case 9:if(!s.draw){i.next=14;break}return i.next=12,this.convertAndRetryToBase64(s.draw);case 12:l=i.sent,s.draw=l;case 14:return i.next=16,this.asyncTimeout(500);case 16:return i.next=18,this.convertAndRetryToBase64(s.backgroundImage);case 18:u=i.sent,s.backgroundImage=u;case 20:i.next=5;break;case 22:i.next=27;break;case 24:i.prev=24,i.t0=i.catch(3),a.e(i.t0);case 27:return i.prev=27,a.f(),i.finish(27);case 30:i.next=34;break;case 32:b=c.pages.map(function(e){return Object(o.a)(g,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.draw){t.next=5;break}return t.next=3,this.convertAndRetryToBase64(e.draw);case 3:n=t.sent,e.draw=n;case 5:case"end":return t.stop()}},t,this)}))}),f=c.pages.map(function(e){return Object(o.a)(g,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.convertAndRetryToBase64(e.backgroundImage);case 2:n=t.sent,e.backgroundImage=n;case 4:case"end":return t.stop()}},t,this)}))}),Promise.all([].concat(t(b),t(f)));case 34:return i.abrupt("return",c);case 35:case"end":return i.stop()}},i,this,[[3,24,27,30]])}))}},{key:"processGroupImages",value:function(e,t){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var c,a,r,s,l,u=this;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!e[0].name.startsWith("[PDFv2]")){i.next=27;break}if(!this.commonService.isViettelCDN(e[0].questionContent[0].groupUrl)){i.next=25;break}c=n(e),i.prev=3,c.s();case 5:if((a=c.n()).done){i.next=15;break}return r=a.value,i.next=9,this.asyncTimeout(500);case 9:return i.next=11,this.convertAndRetryToBase64(r.questionContent[0].groupUrl);case 11:s=i.sent,r.questionContent[0].groupUrl=s;case 13:i.next=5;break;case 15:i.next=20;break;case 17:i.prev=17,i.t0=i.catch(3),c.e(i.t0);case 20:return i.prev=20,c.f(),i.finish(20);case 23:i.next=27;break;case 25:l=e.map(function(e){return Object(o.a)(u,void 0,void 0,regeneratorRuntime.mark(function n(){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.questionContent[0].groupUrl||!t.includes(e.indexLabel)){n.next=5;break}return n.next=3,this.convertAndRetryToBase64(e.questionContent[0].groupUrl);case 3:i=n.sent,e.questionContent[0].groupUrl=i;case 5:case"end":return n.stop()}},n,this)}))}),Promise.all(l);case 27:case"end":return i.stop()}},i,this,[[3,17,20,23]])}))}},{key:"processQuestionImages",value:function(e){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var i,c,a,r,s,l=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=e[0].isImage){t.next=27;break}if(!this.commonService.isViettelCDN(e[0].questionContent[0].url)){t.next=25;break}i=n(e),t.prev=3,i.s();case 5:if((c=i.n()).done){t.next=15;break}return a=c.value,t.next=9,this.asyncTimeout(500);case 9:return t.next=11,this.convertAndRetryToBase64(a.questionContent[0].url);case 11:r=t.sent,a.questionContent[0].url=r;case 13:t.next=5;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(3),i.e(t.t0);case 20:return t.prev=20,i.f(),t.finish(20);case 23:t.next=27;break;case 25:s=e.map(function(e){return Object(o.a)(l,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.convertAndRetryToBase64(e.questionContent[0].url);case 2:n=t.sent,e.questionContent[0].url=n;case 4:case"end":return t.stop()}},t,this)}))}),Promise.all(s);case 27:case"end":return t.stop()}},t,this,[[3,17,20,23]])}))}},{key:"parsingQuestions",value:function(e,t){var n=this;e.forEach(function(e){"string"==typeof e.answerConfig&&(e.answerConfig=n.commonService.parseJson(e.answerConfig)),"string"==typeof e.answerResult&&(e.answerResult=n.commonService.parseJson(e.answerResult)),"string"==typeof e.coordinates&&(e.coordinates=n.commonService.parseJson(e.coordinates)),"string"==typeof e.questionContent&&t&&(e.questionContent=n.commonService.parseJson(e.questionContent))})}},{key:"parseQuestionsFor_PDFv2",value:function(e,t){var n=this;e=t.data.questionObjs;for(var i=0;i<e.length;i++)e[i].indexLabel=i;return e.forEach(function(e){"string"==typeof e.answerConfig&&(e.answerConfig=n.commonService.parseJson(e.answerConfig)),"string"==typeof e.answerResult&&(e.answerResult=n.commonService.parseJson(e.answerResult)),"string"==typeof e.coordinates&&(e.coordinates=n.commonService.parseJson(e.coordinates)),"string"==typeof e.questionContent&&(e.questionContent=n.commonService.parseJson(e.questionContent))}),e}},{key:"resetPaddingTopElements",value:function(e){if(document.getElementById("multipleChoiceWrap")){for(var t=0;t<e.length;t++){var n=document.getElementById("question_item_box_"+e[t].id);n&&(n.style.paddingTop="")}var i=document.getElementById("essayPdfTitle");if(i){i.style.marginTop="";for(var c=document.getElementsByClassName("essayPdfImage"),a=0;a<c.length;a++){c[a].style.marginTop="";for(var o=c[a].children,r=0;r<o.length;r++)"IMG"!==o[r].tagName||o[r].classList.contains("absolute-img")||(o[r].style.height="",o[r].style.width="")}}}}},{key:"asyncTimeout",value:function(e){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0="Waited ",t.next=3,new Promise(function(t){setTimeout(function(){return t(e)},e)});case 3:return t.t1=t.sent,t.abrupt("return",t.t0.concat.call(t.t0,t.t1," miliseconds"));case 5:case"end":return t.stop()}},t)}))}},{key:"convertMargitPagePdf",value:function(e){var t;return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i,c,a,o,r,s,l,u,b,f,g,d;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.resetPaddingTopElements(e),n.next=3,this.asyncTimeout(5e3);case 3:if(i=document.getElementById("multipleChoiceWrap")){for(10,15,c=(null==i?void 0:i.getBoundingClientRect().width)/210,a=document.createElement("style"),o=297*c,r=!1,s=0;s<e.length;s++)(l=document.getElementById("question_item_box_"+e[s].id))&&(u=l.getBoundingClientRect().height+10,!1===r&&(r=null===(t=document.getElementById("multipleChoiceWrapHeader"))||void 0===t?void 0:t.getBoundingClientRect().height,r+=40),r+u+15>o&&(l.style.paddingTop=Math.floor(o-r)+"px",r=0),r+=u);if(document.head.appendChild(a),b=document.getElementById("essayPdfTitle"))for(b.style.marginTop=Math.floor(o-r+20)+"px",r=b.getBoundingClientRect().height,f=document.getElementsByClassName("essayPdfImage"),g=0,d=0;d<f.length;d++)f[d].getBoundingClientRect().height>0&&(0===g?(f[d].getBoundingClientRect().height>o-r&&this.changeSizeHeightImage(o-r,f[d]),r+=f[d].getBoundingClientRect().height):(f[d].getBoundingClientRect().height>o&&this.changeSizeHeightImage(o-r,f[d]),f[d].style.marginTop=Math.floor(o-r)+"px",r=f[d].getBoundingClientRect().height),this.floorSizeImage(f[d]),g++)}case 5:case"end":return n.stop()}},n,this)}))}},{key:"changeSizeHeightImage",value:function(e,t){for(var n=t.children,i=0;i<n.length;i++)"IMG"!==n[i].tagName||n[i].classList.contains("absolute-img")||(n[i].style.height=e+"px",n[i].style.width="auto")}},{key:"floorSizeImage",value:function(e){for(var t=e.children,n=0;n<t.length;n++)if("IMG"===t[n].tagName){var i=t[n].getBoundingClientRect(),c=t[n];if(t[n].classList.contains("rotated-img")){t[n].style.width=Math.floor(c.width)+"px";var a=t[n].getAttribute("data-ratio");t[n].style.height=Math.floor(c.width/a)+"px"}else t[n].classList.contains("absolute-img")||(t[n].style.height=Math.floor(i.height)+"px",t[n].style.width=Math.floor(i.width)+"px")}}},{key:"convertMargitPagePdf_forHomeWork",value:function(){var e,t=document.getElementById("multipleChoiceWrap");if(t){var n=(null==t?void 0:t.getBoundingClientRect().width)/210*297,i=!1;i=null===(e=document.getElementById("multipleChoiceWrapHeader"))||void 0===e?void 0:e.getBoundingClientRect().height;var c=document.getElementById("essayPdfTitle");if(c){i+=c.getBoundingClientRect().height;for(var a=document.getElementsByClassName("essayPdfImage"),o=0,r=0;r<a.length;r++)a[r].getBoundingClientRect().height>0&&(0===o?(a[r].getBoundingClientRect().height>n-i&&this.changeSizeHeightImage_hw(n-i,a[r]),i+=a[r].getBoundingClientRect().height):(a[r].getBoundingClientRect().height>n&&this.changeSizeHeightImage_hw(n-i,a[r]),a[r].style.marginTop=Math.floor(n-i)+"px",i=a[r].getBoundingClientRect().height),this.floorSizeImage_hw(a[r]),o++)}}}},{key:"changeSizeHeightImage_hw",value:function(e,t){for(var n=t.children,i=0;i<n.length;i++)"IMG"===n[i].tagName&&(n[i].style.height=e+"px",n[i].style.width="auto")}},{key:"floorSizeImage_hw",value:function(e){for(var t=e.children,n=0;n<t.length;n++)if("IMG"===t[n].tagName){var i=t[n].getBoundingClientRect(),c=t[n];if(t[n].classList.contains("rotated-img")){t[n].style.width=Math.floor(c.width)+"px";var a=t[n].getAttribute("data-ratio");t[n].style.height=Math.floor(c.width/a)+"px"}else t[n].style.height=Math.floor(i.height)+"px",t[n].style.width=Math.floor(i.width)+"px"}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Zb(l.a),s.Zb(u.a))},e.\u0275prov=s.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},wAhq:function(t,n,i){"use strict";i.d(n,"a",function(){return D});var c=i("fXoL"),o=i("quSY"),s=i("BTbT"),l=i("gbi4"),u=i("jhN1"),b=i("ofXK"),f=i("NFeN"),g=i("IkSl");function d(e,t){1&e&&(c.Vb(0,"div",2),c.Vb(1,"div",3),c.Vb(2,"span",4),c.Rc(3,"Loading..."),c.Ub(),c.Ub(),c.Ub())}function p(e,t){if(1&e&&(c.Vb(0,"div",20),c.Rc(1),c.Ub()),2&e){var n=c.gc(2);c.Db(1),c.Sc(n.fileOption.name)}}function m(e,t){1&e&&(c.Vb(0,"div",20),c.Rc(1,"D\u1eef li\u1ec7u \u1ea3nh c\u1eaft \u0111\u1ec1"),c.Ub())}function h(e,t){if(1&e&&(c.Vb(0,"div",21),c.Rc(1),c.Ub()),2&e){var n=c.gc(2);c.Db(1),c.Uc("Dung l\u01b0\u1ee3ng: ",n.file_mb," MB | Lo\u1ea1i : ",n.fileOption.mimes,"")}}function v(e,t){1&e&&(c.Vb(0,"div",21),c.Rc(1,"Dung l\u01b0\u1ee3ng: 0.3 MB | Lo\u1ea1i : Images"),c.Ub())}function k(e,t){if(1&e&&(c.Vb(0,"a",22),c.Vb(1,"mat-icon",16),c.Rc(2,"save_alt"),c.Ub(),c.Ub()),2&e){var n=c.gc(2);c.Eb("href",n.root_link,c.Hc)("download",n.fileOption.name)}}function y(e,t){if(1&e){var n=c.Wb();c.Vb(0,"div"),c.Vb(1,"div",28),c.Vb(2,"audio",29),c.Vb(3,"source",30),c.cc("load",function(){return c.Dc(n),c.gc(3).onLoad()}),c.Ub(),c.Rc(4," Your browser does not support the audio element. "),c.Ub(),c.Ub(),c.Ub()}if(2&e){var i=c.gc(3);c.Db(3),c.nc("src",i.cdn_link,c.Hc),c.Eb("type",i.fileOption.mimes)}}function w(e,t){if(1&e){var n=c.Wb();c.Vb(0,"div"),c.Vb(1,"div",31),c.Vb(2,"video",32),c.Vb(3,"source",30),c.cc("load",function(){return c.Dc(n),c.gc(3).onLoad()}),c.Ub(),c.Vb(4,"p",33),c.Rc(5," B\u1ea1n \u0111ang s\u1eed d\u1ee5ng tr\xecnh duy\u1ec7t kh\xf4ng h\u1ed7 tr\u1ee3 xem video tr\u1ef1c tuy\u1ebfn. "),c.Ub(),c.Ub(),c.Ub(),c.Ub()}if(2&e){var i=c.gc(3);c.Db(2),c.oc("poster",i.video_thumb_url,c.Hc),c.Db(1),c.nc("src",i.cdn_link,c.Hc),c.Eb("type",i.fileOption.mimes)}}function x(e,t){if(1&e){var n=c.Wb();c.Vb(0,"div"),c.Vb(1,"iframe",34),c.cc("load",function(){return c.Dc(n),c.gc(3).onLoad()}),c.Ub(),c.Ub()}if(2&e){var i=c.gc(3);c.Db(1),c.nc("src",i.cdn_link,c.Fc)}}function P(e,t){if(1&e){var n=c.Wb();c.Vb(0,"div"),c.Vb(1,"div",31),c.Vb(2,"img",35),c.cc("load",function(){return c.Dc(n),c.gc(3).onLoad()}),c.Ub(),c.Ub(),c.Ub()}if(2&e){var i=c.gc(3);c.Db(2),c.Eb("src",i.cdn_link,c.Hc)}}function C(e,t){if(1&e){var n=c.Wb();c.Vb(0,"div"),c.Vb(1,"div",36),c.Vb(2,"iframe",37),c.cc("load",function(){return c.Dc(n),c.gc(3).onLoad()}),c.Ub(),c.Ub(),c.Ub()}if(2&e){var i=c.gc(3);c.Db(2),c.nc("src",i.cdn_link,c.Fc)}}function U(e,t){if(1&e){var n=c.Wb();c.Vb(0,"div"),c.Vb(1,"div",38),c.Vb(2,"pdf-viewer",39),c.cc("load",function(){return c.Dc(n),c.gc(3).onLoad()}),c.Ub(),c.Ub(),c.Ub()}if(2&e){var i=c.gc(3);c.Db(2),c.nc("src",i.cdn_link)("show-all",!0)}}function V(e,t){if(1&e&&(c.Tb(0),c.Vb(1,"div",23),c.Vb(2,"div",24),c.Pc(3,y,5,2,"div",25),c.Pc(4,w,6,3,"div",25),c.Pc(5,x,2,1,"div",25),c.Pc(6,P,3,1,"div",25),c.Pc(7,C,3,1,"div",25),c.Pc(8,U,3,2,"div",25),c.Qb(9,"div",26),c.Ub(),c.Qb(10,"div",27),c.Ub(),c.Sb()),2&e){var n=c.gc(2);c.Db(3),c.nc("ngIf","audio"===n.typeFile),c.Db(1),c.nc("ngIf","video"===n.typeFile),c.Db(1),c.nc("ngIf","vimeo"===n.typeFile),c.Db(1),c.nc("ngIf","image"===n.typeFile),c.Db(1),c.nc("ngIf","officeapps"===n.typeFile),c.Db(1),c.nc("ngIf","pdf"===n.typeFile)}}function I(e,t){if(1&e){var n=c.Wb();c.Vb(0,"div",23),c.Vb(1,"div",24),c.Vb(2,"div",40),c.Vb(3,"img",41),c.cc("load",function(){return c.Dc(n),c.gc(2).onLoad()}),c.Ub(),c.Ub(),c.Ub(),c.Ub()}if(2&e){var i=c.gc(2);c.Db(3),c.Eb("src",i.linkUrl,c.Hc)}}function R(e,t){if(1&e){var n=c.Wb();c.Vb(0,"div",5),c.Vb(1,"div",6),c.Vb(2,"div",7),c.Vb(3,"div",8),c.Qb(4,"div",9),c.Ub(),c.Pc(5,p,2,1,"div",10),c.Pc(6,m,2,0,"div",10),c.Pc(7,h,2,2,"div",11),c.Pc(8,v,2,0,"div",11),c.Ub(),c.Vb(9,"div",12),c.Vb(10,"span",13),c.Pc(11,k,3,2,"a",14),c.Ub(),c.Vb(12,"span",15),c.cc("click",function(){return c.Dc(n),c.gc().btnClosePreview()}),c.Vb(13,"mat-icon",16),c.Rc(14,"close"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(15,"div",17),c.Pc(16,V,11,6,"ng-container",18),c.Pc(17,I,4,1,"ng-template",null,19,c.Qc),c.Ub(),c.Ub()}if(2&e){var i=c.zc(18),a=c.gc();c.Db(5),c.nc("ngIf",null!=a.fileOption),c.Db(1),c.nc("ngIf",null==a.fileOption),c.Db(1),c.nc("ngIf",null!=a.fileOption),c.Db(1),c.nc("ngIf",null==a.fileOption),c.Db(3),c.nc("ngIf",null!=a.fileOption),c.Db(5),c.nc("ngIf",0==a.typePreview)("ngIfElse",i)}}var D=function(){var t=function(){function t(e,n,i){a(this,t),this.commonService=e,this.dom=n,this.sanitizer=i,this.typePreview=0,this.linkUrl="",this.closePreview=new c.o,this.subscriptions=new o.a,this.typeFile="",this.cdn_link="",this.root_link="",this.file_mb=0,this.video_thumb_url="",this.isVimeoLink=!1,this.isLoading=!0}return r(t,[{key:"ngOnInit",value:function(){var e=this;document.body.classList.add("overflow-hidden"),setTimeout(function(){e.initData()},0),this.video_thumb_url="https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/video-thumb.png"}},{key:"onLoad",value:function(){this.isLoading=!1}},{key:"initData",value:function(){var e=this;if(0==this.typePreview){if(this.cdn_link=this.commonService.getMyCdn(this.fileOption.url),this.root_link=this.cdn_link,this.file_mb=this.getFileMB(this.fileOption.size),this.typeFile=Object(s.c)(this.fileOption.mimes),this.isVimeoLink=this.cdn_link.includes("https://player.vimeo.com/")||this.cdn_link.includes("https://mega.nz"),this.isVimeoLink&&(this.typeFile="vimeo"),""!=this.cdn_link)switch(this.typeFile){case"pdf":this.cdn_link=this.cdn_link;break;case"officeapps":this.cdn_link=this.dom.bypassSecurityTrustResourceUrl(this.commonService.getLinkEmbedDocument(this.cdn_link));break;case"video":default:this.cdn_link=this.dom.bypassSecurityTrustResourceUrl(this.cdn_link)}}else this.linkUrl=this.commonService.getMyCdn(this.linkUrl);setTimeout(function(){e.isLoading=!1},200)}},{key:"removeClassCss",value:function(){document.body.classList.remove("overflow-hidden")}},{key:"objToString",value:function(t){for(var n="",i=0,c=Object.entries(t);i<c.length;i++){var a=e(c[i],2),o=a[0],r=a[1];n+="".concat(o,"::").concat(r,"\n")}return n}},{key:"btnClosePreview",value:function(){this.removeClassCss(),this.closePreview.emit()}},{key:"getFileMB",value:function(e){return e>0?(e/=1048576).toFixed(2):0}},{key:"reloadFrame",value:function(e){var t=document.getElementById(e);t&&t.parentNode.replaceChild(t.cloneNode(),t)}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe(),this.removeClassCss()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Pb(l.a),c.Pb(u.b),c.Pb(u.b))},t.\u0275cmp=c.Jb({type:t,selectors:[["azt-preview-media"]],inputs:{fileOption:"fileOption",typePreview:"typePreview",linkUrl:"linkUrl"},outputs:{closePreview:"closePreview"},decls:2,vars:2,consts:[["class","loading-block",4,"ngIf"],["class","file-preview",4,"ngIf"],[1,"loading-block"],["role","status",1,"spinner-border","text-secondary",2,"width","5rem","height","5rem"],[1,"sr-only"],[1,"file-preview"],[1,"file-preview__header","flx","flx-sp-btw"],[1,"file-preview__header-left"],["title","",1,"avatar","avatar--xs"],[1,"avatar-img",2,"background-image",'url("https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/documents.png")',"background-size","cover"],["class","file-preview__header__title",4,"ngIf"],["class","file-preview__header__send-time",4,"ngIf"],[1,"file-preview__header-right"],[1,"file-preview__controls-container"],["class","clickable download","target","_blank",4,"ngIf"],[1,"file-preview__buttons-container",3,"click"],[2,"color","rgb(53, 53, 53)","cursor","pointer"],[1,"file-preview__main","flx",2,"overflow-x","auto","flex","1 1 auto"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"file-preview__header__title"],[1,"file-preview__header__send-time"],["target","_blank",1,"clickable","download"],[1,"file-preview__main-iframe","mx-auto"],[1,"file-preview__notify"],[4,"ngIf"],[1,"tool-hide"],[1,"file-preview__main-comments"],[1,"container-fluid","mt-3"],["controls",""],[3,"src","load"],[1,"pl-2","pr-2","mt-3"],["id","my-video","playsinline","playsinline","controls","","preload","auto","data-setup","{}",1,"video-js",2,"max-height","calc(100vh - 80px)","width","100%","padding-bottom","1rem",3,"poster"],[1,"vjs-no-js"],["frameborder","0","allowfullscreen","",2,"width","100vw","height","95vh","max-height","calc(100vh - 60px)","padding-bottom","1rem",3,"src","load"],["alt","Responsive image",1,"img-fluid","image-preview",2,"max-height","calc(100vh - 80px)","padding-bottom","1rem",3,"load"],[1,"pl-2","pr-2","mp-0"],["frameborder","0",2,"width","100vw","height","95vh","max-height","calc(100vh - 60px)","padding-bottom","1rem",3,"src","load"],[1,"container-fluid","mp-0"],[2,"width","100vw","height","95vh","max-height","calc(100vh - 60px)","padding-bottom","1rem","display","block",3,"src","show-all","load"],[1,"pl-2","pr-2","mt-3","block-img"],["alt","Responsive image",1,"img-fluid","image-preview",3,"load"]],template:function(e,t){1&e&&(c.Pc(0,d,4,0,"div",0),c.Pc(1,R,19,7,"div",1)),2&e&&(c.nc("ngIf",t.isLoading),c.Db(1),c.nc("ngIf",(null!=t.fileOption||""!=t.linkUrl)&&!t.isLoading))},directives:[b.m,f.a,g.a],styles:[".file-preview[_ngcontent-%COMP%]{background:#ecf0f5;position:absolute;width:100%;height:100vh;z-index:9999;display:flex;flex-direction:column;left:0;top:0}.block-img[_ngcontent-%COMP%]{background:#a3a3a3;width:100vw;height:90vh;overflow-y:auto}.loading-block[_ngcontent-%COMP%]{z-index:1000;justify-content:center;align-items:center;left:0;top:0;height:100%;min-height:100vh;background-color:#ecf0f5}.file-preview__main[_ngcontent-%COMP%], .loading-block[_ngcontent-%COMP%]{width:100%;display:flex;position:fixed}.file-preview__main[_ngcontent-%COMP%]{margin-top:65px;min-height:100%;min-width:277px;background:#ecf0f5}.file-preview__header[_ngcontent-%COMP%]{padding-top:10px;height:65px;background:#fff;box-shadow:0 2px 4px 0 rgba(0,0,0,.2);position:fixed;align-items:center;z-index:1;top:0;width:100%}.flx-sp-btw[_ngcontent-%COMP%]{justify-content:space-between}.flx[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap}.file-preview__header-left[_ngcontent-%COMP%]{margin-left:20px;margin-right:10px;margin-bottom:12px;flex:1 1 50px;min-width:0}.file-preview__header-left[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{float:left;margin-right:10px}.avatar--xs[_ngcontent-%COMP%]{width:40px;height:40px;font-size:17px}.avatar[_ngcontent-%COMP%]{position:relative;color:#fff;contain:layout size style}.avatar--xs[_ngcontent-%COMP%] > .avatar-img[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#e5efff}.avatar-img[_ngcontent-%COMP%]{border-radius:100%}.file-preview__header__title[_ngcontent-%COMP%]{font-size:15px;color:#222;font-weight:500}.file-preview__header__send-time[_ngcontent-%COMP%], .file-preview__header__title[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.file-preview__header__send-time[_ngcontent-%COMP%]{padding-top:2px;font-size:13px;color:#a0a0a0}.file-preview__header-right[_ngcontent-%COMP%]{color:#fff;margin-right:15px;white-space:nowrap;display:flex}.file-preview__controls-container[_ngcontent-%COMP%]{margin-right:40px}.file-preview__buttons-container[_ngcontent-%COMP%]{display:inline-flex;align-items:center;position:relative}.mp-0[_ngcontent-%COMP%]{margin:0!important;padding:0!important}"]}),t}()}}])}();