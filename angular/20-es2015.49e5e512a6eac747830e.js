(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"A1Q/":function(e,t,n){"use strict";n.r(t),n.d(t,"TeacherGroupModule",function(){return Ze});var i=n("tyNb"),o=n("ofXK"),c=n("vvyD"),s=n("3Pt+"),r=n("fB2i"),a=n("0IaG"),l=n("mYPf"),d=n("IkSl"),h=n("kmNb"),b=n("Avyq"),g=n("quSY"),p=n("XhcP"),u=n("itXk"),m=n("fXoL"),f=n("gbi4"),v=n("yTNM"),x=n("hZBc"),_=n("nzN9"),P=n("NFeN"),C=n("bTqV"),D=n("STbY"),k=n("IU+r"),w=n("Qu3c"),M=n("gaSO");function O(e,t){if(1&e&&(m.Vb(0,"p",10),m.Rc(1," B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a gi\xe1o vi\xean "),m.Vb(2,"b"),m.Rc(3),m.Ub(),m.Rc(4," kh\u1ecfi nh\xf3m? "),m.Ub()),2&e){const e=m.gc(2);m.Db(3),m.Sc(e.data.obj.fullName)}}function y(e,t){if(1&e&&(m.Vb(0,"p",10),m.Rc(1," B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a "),m.Vb(2,"b"),m.Rc(3),m.Ub(),m.Ub()),2&e){const e=m.gc(2);m.Db(3),m.Sc(e.data.obj.name)}}function U(e,t){if(1&e&&(m.Vb(0,"p",10),m.Rc(1," B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a "),m.Vb(2,"b"),m.Rc(3),m.Ub(),m.Ub()),2&e){const e=m.gc(2);m.Db(3),m.Sc(e.data.obj.fullName)}}function V(e,t){if(1&e&&(m.Vb(0,"p",10),m.Rc(1," B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a t\u1ea5t c\u1ea3 gi\xe1o vi\xean trong nh\xf3m "),m.Vb(2,"b"),m.Rc(3),m.Ub(),m.Ub()),2&e){const e=m.gc(2);m.Db(3),m.Sc(e.data.groupObj.name)}}function S(e,t){1&e&&(m.Vb(0,"span"),m.Qb(1,"span",11),m.Rc(2,"\xa0"),m.Ub())}function I(e,t){if(1&e){const e=m.Wb();m.Vb(0,"div",1),m.Vb(1,"div",2),m.Vb(2,"div",3),m.Pc(3,O,5,1,"p",4),m.Pc(4,y,4,1,"p",4),m.Pc(5,U,4,1,"p",4),m.Pc(6,V,4,1,"p",4),m.Ub(),m.Vb(7,"div",5),m.Vb(8,"div",6),m.Vb(9,"button",7),m.cc("click",function(){return m.Dc(e),m.gc().btnCloseDialog()}),m.Rc(10),m.hc(11,"mytranslate"),m.Ub(),m.Vb(12,"button",8),m.cc("click",function(){return m.Dc(e),m.gc().confirmDelete()}),m.Pc(13,S,3,0,"span",9),m.Rc(14),m.hc(15,"mytranslate"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&e){const e=m.gc();m.Db(3),m.nc("ngIf","delete_member"==e.data.type),m.Db(1),m.nc("ngIf","delete_group"==e.data.type),m.Db(1),m.nc("ngIf","delete_teacher"==e.data.type),m.Db(1),m.nc("ngIf","delete_all_teacher_group"==e.data.type),m.Db(4),m.Tc(" ",m.ic(11,8,"lang_cms_common_close_btn")," "),m.Db(2),m.nc("disabled",e.isLoading),m.Db(1),m.nc("ngIf",!0===e.isLoading),m.Db(1),m.Tc(" ",m.ic(15,10,"lang_cms_common_confirm_btn")," ")}}let T=(()=>{class e{constructor(e,t){this.commonService=e,this.apiService=t,this.closeDialog=new m.o,this.subscriptions=new g.a,this.form=new s.k({}),this.isLoading=!1}confirmDelete(){switch(this.isLoading=!0,this.data.type){case"delete_member":this.apiService.deleteTeacherWithGroup({groupId:this.data.groupId,teacherTeamId:this.data.obj.id}).subscribe(e=>{1==e.success?(this.commonService.snackSuccess("X\xf3a gi\xe1o vi\xean kh\u1ecfi nh\xf3m th\xe0nh c\xf4ng",""),this.closeDialog.emit(this.data)):this.commonService.snackError("X\xf3a gi\xe1o vi\xean kh\u1ecfi nh\xf3m kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoading=!1});break;case"delete_group":this.apiService.deleteGroupTeacher(this.data.obj.id).subscribe(e=>{1==e.success?(this.commonService.snackSuccess("X\xf3a nh\xf3m th\xe0nh c\xf4ng",""),this.closeDialog.emit(this.data)):this.commonService.snackError("X\xf3a nh\xf3m kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoading=!1});break;case"delete_teacher":this.apiService.deleteTeacherObj(this.data.obj.id).subscribe(e=>{1==e.success?(this.commonService.snackSuccess("X\xf3a gi\xe1o vi\xean th\xe0nh c\xf4ng",""),this.closeDialog.emit(this.data)):this.commonService.snackError("X\xf3a gi\xe1o vi\xean kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoading=!1});break;case"delete_all_teacher_group":this.apiService.deleteMultipleTeacherWithGroup({groupId:this.data.groupObj.id,teamTeacherIds:this.data.teacherIds}).subscribe(e=>{1==e.success?(this.commonService.snackSuccess("X\xf3a gi\xe1o vi\xean th\xe0nh c\xf4ng",""),this.closeDialog.emit(this.data)):this.commonService.snackError("X\xf3a gi\xe1o vi\xean kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoading=!1})}}btnCloseDialog(){this.closeDialog.emit()}ngOnInit(){}ngOnDestroy(){this.subscriptions.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(m.Pb(f.a),m.Pb(v.a))},e.\u0275cmp=m.Jb({type:e,selectors:[["app-delete-dialog"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info","p-4"],[1,"text-center"],["class","h5 para_respon font-weight-normal",4,"ngIf"],[1,"d-flex","float-right","mt-3"],[1,"azt-block-button"],["mat-stroked-button","",1,"btn-cannel",3,"click"],["mat-flat-button","","color","warn",1,"btn-save",2,"margin-left","15px",3,"disabled","click"],[4,"ngIf"],[1,"h5","para_respon","font-weight-normal"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&m.Pc(0,I,16,12,"div",0),2&e&&m.nc("ngIf",t.data.isShow)},directives:[o.m,C.b],pipes:[M.p],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:9998;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background:rgba(0,0,0,.5607843137254902)}.school-info[_ngcontent-%COMP%]{z-index:9999;top:50%;left:50%;min-width:30%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.btn-cannel[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;transition:all .5s}.btn-save[_ngcontent-%COMP%]:hover{background:#bd2c22}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}}"]}),e})();function j(e,t){1&e&&(m.Vb(0,"p",20),m.Rc(1,"Th\xeam gi\xe1o vi\xean"),m.Ub())}function R(e,t){1&e&&(m.Vb(0,"p",20),m.Rc(1,"S\u1eeda gi\xe1o vi\xean"),m.Ub())}function z(e,t){1&e&&(m.Vb(0,"span"),m.Rc(1,"Ch\u01b0a c\xf3 file \u0111\u01b0\u1ee3c ch\u1ecdn"),m.Ub())}function A(e,t){if(1&e){const e=m.Wb();m.Vb(0,"div",33),m.Vb(1,"div",34),m.cc("click",function(e){return e.stopPropagation()}),m.Vb(2,"div",35),m.Qb(3,"img",36),m.Ub(),m.Vb(4,"div",37),m.Rc(5),m.Ub(),m.Vb(6,"div",38),m.Vb(7,"button",39),m.cc("click",function(t){return m.Dc(e),m.gc(3).removeFile(t)}),m.Rc(8,"X\xf3a"),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&e){const e=m.gc(3);m.Db(5),m.Sc(e.file?e.file.name:"")}}function L(e,t){if(1&e&&(m.Vb(0,"span",40),m.Rc(1),m.Ub()),2&e){const e=m.gc(3);m.Db(1),m.Sc(e.form_obj?e.form_obj:"K\xe9o th\u1ea3 file Excel ho\u1eb7c Click \u0111\u1ec3 ch\u1ecdn file")}}function G(e,t){if(1&e){const e=m.Wb();m.Vb(0,"div",21),m.Vb(1,"div",22),m.cc("click",function(){return m.Dc(e),m.zc(8).click()}),m.Vb(2,"div",23),m.Vb(3,"div",24),m.Vb(4,"a",25),m.Vb(5,"mat-icon"),m.Rc(6,"cloud_upload"),m.Ub(),m.Ub(),m.Vb(7,"input",26,27),m.cc("change",function(t){return m.Dc(e),m.gc(2).onFileSelected(t)}),m.Ub(),m.Pc(9,z,2,0,"span",28),m.Pc(10,A,9,1,"ng-template",null,29,m.Qc),m.Pc(12,L,2,1,"span",30),m.Ub(),m.Ub(),m.Ub(),m.Vb(13,"div",31),m.Vb(14,"a",32),m.Vb(15,"span"),m.Rc(16,"T\u1ea3i file bi\u1ec3u m\u1eabu "),m.Ub(),m.Vb(17,"mat-icon"),m.Rc(18,"save_alt"),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&e){const e=m.zc(11),t=m.gc(2);m.Db(9),m.nc("ngIf",!t.file)("ngIfElse",e),m.Db(3),m.nc("ngIf",!t.file)}}function E(e,t){1&e&&(m.Vb(0,"div"),m.Rc(1," B\u1ea1n c\u1ea7n nh\u1eadp t\xean gi\xe1o vi\xean! "),m.Ub())}function N(e,t){if(1&e&&(m.Vb(0,"div",48),m.Pc(1,E,2,0,"div",19),m.Ub()),2&e){const e=m.gc(3);m.Db(1),m.nc("ngIf",e.getErrorType("fullName","required"))}}function B(e,t){1&e&&(m.Vb(0,"div"),m.Rc(1," B\u1ea1n ph\u1ea3i nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i. "),m.Ub())}function F(e,t){1&e&&(m.Vb(0,"div"),m.Rc(1," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ph\u1ea3i l\xe0 10 s\u1ed1. "),m.Ub())}function W(e,t){if(1&e&&(m.Vb(0,"div",48),m.Pc(1,B,2,0,"div",19),m.Pc(2,F,2,0,"div",19),m.Ub()),2&e){const e=m.gc(3);m.Db(1),m.nc("ngIf",e.getErrorType("phone","required")),m.Db(1),m.nc("ngIf",e.getErrorType("phone","minlength")||e.getErrorType("phone","maxlength"))}}function Q(e,t){if(1&e&&(m.Vb(0,"div",21),m.Vb(1,"div",41),m.Vb(2,"label",42),m.Rc(3,"H\u1ecd v\xe0 t\xean"),m.Ub(),m.Vb(4,"div",43),m.Qb(5,"input",44),m.Ub(),m.Pc(6,N,2,1,"div",45),m.Ub(),m.Ub(),m.Vb(7,"div",21),m.Vb(8,"div",41),m.Vb(9,"label",46),m.Rc(10,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),m.Ub(),m.Vb(11,"div",43),m.Qb(12,"input",47),m.Ub(),m.Pc(13,W,3,2,"div",45),m.Ub(),m.Ub()),2&e){const e=m.gc(2);m.Db(6),m.nc("ngIf",e.form.controls.fullName.invalid&&e.form.controls.fullName.dirty),m.Db(7),m.nc("ngIf",e.form.controls.phone.invalid&&e.form.controls.phone.dirty)}}function $(e,t){1&e&&(m.Vb(0,"span"),m.Qb(1,"span",49),m.Rc(2,"\xa0"),m.Ub())}function K(e,t){1&e&&(m.Vb(0,"span"),m.Rc(1,"L\u01b0u"),m.Ub())}function X(e,t){1&e&&(m.Vb(0,"span"),m.Rc(1,"C\u1eadp nh\u1eadt"),m.Ub())}function q(e,t){if(1&e){const e=m.Wb();m.Vb(0,"div",1),m.Vb(1,"div",2),m.Vb(2,"form",3),m.Vb(3,"div",4),m.Pc(4,j,2,0,"p",5),m.Pc(5,R,2,0,"p",5),m.Vb(6,"button",6),m.cc("click",function(){return m.Dc(e),m.gc().btnCloseDialog(!1)}),m.Qb(7,"i",7),m.Ub(),m.Ub(),m.Pc(8,G,19,3,"div",8),m.Pc(9,Q,14,2,"ng-template",null,9,m.Qc),m.Vb(11,"div",10),m.Vb(12,"div",11),m.Vb(13,"a",12),m.cc("click",function(){return m.Dc(e),m.gc().showImportExcel()}),m.Vb(14,"span",13),m.Rc(15),m.Ub(),m.Ub(),m.Ub(),m.Vb(16,"div",14),m.Vb(17,"div",15),m.Vb(18,"div",16),m.Vb(19,"button",17),m.cc("click",function(){return m.Dc(e),m.gc().btnCloseDialog(!1)}),m.Rc(20," H\u1ee7y "),m.Ub(),m.Vb(21,"button",18),m.cc("click",function(){return m.Dc(e),m.gc().confirmAction()}),m.Pc(22,$,3,0,"span",19),m.Pc(23,K,2,0,"span",19),m.Pc(24,X,2,0,"span",19),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&e){const e=m.zc(10),t=m.gc();m.Db(2),m.nc("formGroup",t.form),m.Db(2),m.nc("ngIf","add_teacher"==t.data.type),m.Db(1),m.nc("ngIf","edit_teacher"==t.data.type),m.Db(3),m.nc("ngIf",t.importExcel)("ngIfElse",e),m.Db(7),m.Sc(t.importExcel?"Quay l\u1ea1i":"Nh\u1eadp t\u1eeb File Excel"),m.Db(6),m.nc("disabled",t.status_obj.loading||t.form.invalid&&!t.importExcel||1==t.importExcel&&null==t.file),m.Db(1),m.nc("ngIf",t.status_obj.loading),m.Db(1),m.nc("ngIf","add_teacher"==t.data.type),m.Db(1),m.nc("ngIf","edit_teacher"==t.data.type)}}let J=(()=>{class e{constructor(e,t,n){this.fb=e,this.commonService=t,this.apiService=n,this.closeDialog=new m.o,this.subscriptions=new g.a,this.form=new s.k({}),this.isLoading=!0,this.typeString="",this.importExcel=!1,this.type=0,this.birthDay="",this.hideTime=!0,this.status_obj={loading:!1,error:!1,success:!1,error_obj:{message:""}},this.file=null}getError(e){return!(!this.form.controls[e]||!this.form.controls[e].errors)&&this.form.controls[e].errors}getErrorType(e,t){return!!(this.form.controls[e]&&this.form.controls[e].errors&&this.form.controls[e].errors[t])&&this.form.controls[e].errors[t]}onFileSelected(e){let t=e.target.files;this.file=t?t[0]:this.file,this.file&&["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(this.file.type)||(this.file=null,this.commonService.snackError("Vui l\xf2ng ch\u1ecdn \u0111\xfang t\u1ec7p tin Excel",""))}removeFile(e){e.stopPropagation(),this.file=null}confirmAction(){var e=this.commonService.getFormObj(this.form);if(this.status_obj={loading:!0,error:!1,success:!1,error_obj:{message:""}},this.importExcel){var t=new FormData;this.file&&t.append("File",this.file,this.file.name),this.subscriptions.add(this.apiService.addTeacherWithExcel(t).subscribe(e=>{if(1==e.success){this.btnCloseDialog(!0);let t=e.data.saveSuccess?e.data.saveSuccess:0,n=e.data.totalTeacher?e.data.totalTeacher:0,i=e.data.notValidPhone?e.data.notValidPhone:0;this.status_obj={loading:!1,error:!1,success:!1,error_obj:{message:""}},this.commonService.snackSuccess("Th\xeam th\xe0nh c\xf4ng "+t+"/"+n+" gi\xe1o vi\xean v\xe0o danh b\u1ea1! Trong \u0111\xf3 c\xf3 "+i+" S\u0110T sai \u0111\u1ecbnh d\u1ea1ng.","")}else this.btnCloseDialog(!1),"lang_core_some_phone_duplicate_or_not_exist"==e.message?this.commonService.snackError("M\xf4\u0323t s\xf4\u0301 \u0111i\xea\u0323n thoa\u0323i chi\u0309 \u01b0\u0301ng v\u01a1\u0301i m\u1ed9t ta\u0300i khoa\u0309n, Vui lo\u0300ng ki\xea\u0309m tra la\u0323i d\u01b0\u0303 li\xea\u0323u trong file!",""):this.commonService.myTranslate([e.message,"lang_cms_common_ok"]).subscribe(t=>{this.commonService.snackError(t[e.message],t.lang_cms_common_ok)}),this.status_obj={loading:!1,error:!1,success:!1,error_obj:{message:""}}}))}else switch(this.data.type){case"add_teacher":this.form.valid&&this.subscriptions.add(this.apiService.addTeacherObj({numberphone:e.phone,fullname:e.fullName}).subscribe(e=>{1==e.success?(this.btnCloseDialog(!0),this.commonService.snackSuccess("Th\xeam gi\xe1o vi\xean th\xe0nh c\xf4ng","")):(this.btnCloseDialog(!1),this.commonService.snackError("lang_core_teacher_exist"==e.message?"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i \u0111\xe3 t\u1ed3n t\u1ea1i":"Th\xeam gi\xe1o vi\xean kh\xf4ng th\xe0nh c\xf4ng","")),this.status_obj={loading:!1,error:!1,success:!1,error_obj:{message:""}}}));break;case"edit_teacher":this.form.valid&&this.subscriptions.add(this.apiService.updateTeacherObj({id:this.data.obj.id,numberphone:e.phone,fullname:e.fullName}).subscribe(e=>{1==e.success?(this.btnCloseDialog(!0),this.commonService.snackSuccess("S\u1eeda th\xf4ng tin gi\xe1o vi\xean th\xe0nh c\xf4ng","")):(this.btnCloseDialog(!1),this.commonService.snackError("lang_core_teacher_exist"==e.message?"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i \u0111\xe3 t\u1ed3n t\u1ea1i":"S\u1eeda th\xf4ng tin gi\xe1o vi\xean kh\xf4ng th\xe0nh c\xf4ng","")),this.status_obj={loading:!1,error:!1,success:!1,error_obj:{message:""}}}))}}btnCloseDialog(e){e?this.closeDialog.emit(e):this.closeDialog.emit()}showImportExcel(){this.importExcel=!this.importExcel}ngOnInit(){this.form=this.fb.group({phone:["",[s.z.required,s.z.pattern("^[0-9]*$"),s.z.minLength(10),s.z.maxLength(10)]],fullName:new s.h("",[s.z.required]),File:new s.h("")}),"edit_teacher"==this.data.type&&(this.form.controls.phone.setValue(this.data.obj.phone),this.form.controls.fullName.setValue(this.data.obj.fullName))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(m.Pb(s.g),m.Pb(f.a),m.Pb(v.a))},e.\u0275cmp=m.Jb({type:e,selectors:[["app-add-teacher"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info"],[1,"form-horizontal",3,"formGroup"],[1,"heading"],["class","heading-title",4,"ngIf"],[1,"btn-delete",3,"click"],[1,"fa","fa-times"],["class","form-group",4,"ngIf","ngIfElse"],["NormalForm",""],[1,"row","ml-0","mr-0","pl-0","pr-0","justify-content-between"],[1,"col-12","col-sm-6","align-self-center","my-2"],[1,"clickable","text-info","float-left",3,"click"],[2,"vertical-align","middle"],[1,"col-12","col-sm-6","align-self-center"],[1,"d-flex","float-right"],[1,"azt-block-button"],["mat-stroked-button","",1,"btn-cannel",3,"click"],["mat-flat-button","",1,"btn-save",3,"disabled","click"],[4,"ngIf"],[1,"heading-title"],[1,"form-group"],[1,"col-sm-12","text-center","v-dragndrop","dropzone","dz-started","cur-po",3,"click"],[1,"px-4","py-3","rounded"],[1,"file"],["id","select-upload-file",1,"align-self-center","select","dz-clickable"],["type","file","formControlName","File","accept",".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",1,"form-control","file-input",3,"change"],["fileSelect",""],[4,"ngIf","ngIfElse"],["exitsFile",""],["class","d-block mt-20 text-dark-green mt-3",4,"ngIf"],[1,"text-center","file","mt-2"],["target","_self","href","https://5002373-s3user.cloudstorage.com.vn/viwewiin/storage_public/azota_assets/medias/excel_add_teacher_exp_v4.xlsx","download","excel_add_students_exp_v4.xlsx",1,"dz-clickable"],[1,"d-flex","align-items-center","justify-content-center","m-3"],[1,"fileinfo","p-3",3,"click"],[1,"title"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/excel.png","alt","excel icon",1,"img-fluid"],[1,"file-name"],[1,"action"],[1,"btn-remove",3,"click"],[1,"d-block","mt-20","text-dark-green","mt-3"],[1,"col-sm-12"],["for","full-name",1,"text-feild"],[1,"input-group","mb-3"],["type","text","placeholder","H\u1ecd v\xe0 t\xean","id","full-name","formControlName","fullName",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","number-phone",1,"text-feild"],["type","text","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","id","number-phone","formControlName","phone",1,"form-control"],[1,"alert","alert-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&m.Pc(0,q,25,10,"div",0),2&e&&m.nc("ngIf",t.data.isShow)},directives:[o.m,s.B,s.s,s.l,C.b,P.a,s.d,s.r,s.j],styles:["[_ngcontent-%COMP%]:focus{outline:none}button[_ngcontent-%COMP%]{border:none;background:transparent}.school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:rgba(60,60,60,.5)}.school-info[_ngcontent-%COMP%]{padding:15px;border-radius:5px;z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);width:600px;position:fixed;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 9px rgba(91,91,91,.35)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:#f0f8ff}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}.heading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:20px}.heading-title[_ngcontent-%COMP%]{margin:0;font-size:15px;font-weight:500}.btn-delete[_ngcontent-%COMP%]{font-weight:700;color:#838383;position:absolute;right:10px;top:15px}.text-feild[_ngcontent-%COMP%]{font-size:13px}.form-control[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#a7a7a7}.btn-cannel[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;transition:all .5s}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width:768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width:576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width:380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width:290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),e})();function H(e,t){1&e&&(m.Vb(0,"p",22),m.Rc(1,"Th\xeam nh\xf3m gi\xe1o vi\xean"),m.Ub())}function Z(e,t){1&e&&(m.Vb(0,"p",22),m.Rc(1,"S\u1eeda nh\xf3m gi\xe1o vi\xean"),m.Ub())}function Y(e,t){1&e&&(m.Vb(0,"div"),m.Rc(1," B\u1ea1n c\u1ea7n nh\u1eadp t\xean nh\xf3m! "),m.Ub())}function ee(e,t){if(1&e&&(m.Vb(0,"div",23),m.Pc(1,Y,2,0,"div",21),m.Ub()),2&e){const e=m.gc(2);m.Db(1),m.nc("ngIf",e.getErrorType("groupName","required"))}}function te(e,t){1&e&&(m.Vb(0,"span"),m.Qb(1,"span",24),m.Rc(2,"\xa0"),m.Ub())}function ne(e,t){1&e&&(m.Vb(0,"span"),m.Rc(1,"L\u01b0u"),m.Ub())}function ie(e,t){1&e&&(m.Vb(0,"span"),m.Rc(1,"C\u1eadp nh\u1eadt"),m.Ub())}function oe(e,t){if(1&e){const e=m.Wb();m.Vb(0,"div",1),m.Vb(1,"div",2),m.Vb(2,"form",3),m.Vb(3,"div",4),m.Pc(4,H,2,0,"p",5),m.Pc(5,Z,2,0,"p",5),m.Vb(6,"button",6),m.cc("click",function(){return m.Dc(e),m.gc().btnCloseDialog(!1)}),m.Qb(7,"i",7),m.Ub(),m.Ub(),m.Vb(8,"div",8),m.Vb(9,"div",9),m.Vb(10,"div",10),m.Vb(11,"label",11),m.Rc(12,"T\xean nh\xf3m"),m.Ub(),m.Vb(13,"div",12),m.Qb(14,"input",13),m.Ub(),m.Pc(15,ee,2,1,"div",14),m.Ub(),m.Ub(),m.Ub(),m.Vb(16,"div",15),m.Vb(17,"div",16),m.Vb(18,"div",17),m.Vb(19,"div",18),m.Vb(20,"button",19),m.cc("click",function(){return m.Dc(e),m.gc().btnCloseDialog(!1)}),m.Rc(21," H\u1ee7y "),m.Ub(),m.Vb(22,"button",20),m.cc("click",function(){return m.Dc(e),m.gc().confirmAction()}),m.Pc(23,te,3,0,"span",21),m.Pc(24,ne,2,0,"span",21),m.Pc(25,ie,2,0,"span",21),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&e){const e=m.gc();m.Db(2),m.nc("formGroup",e.form),m.Db(2),m.nc("ngIf",""==e.data.obj),m.Db(1),m.nc("ngIf",""!=e.data.obj),m.Db(10),m.nc("ngIf",e.form.controls.groupName.invalid&&e.form.controls.groupName.dirty),m.Db(7),m.nc("disabled",e.status_obj.loading||e.form.invalid),m.Db(1),m.nc("ngIf",e.status_obj.loading),m.Db(1),m.nc("ngIf",""==e.data.obj),m.Db(1),m.nc("ngIf",""!=e.data.obj)}}let ce=(()=>{class e{constructor(e,t,n){this.fb=e,this.commonService=t,this.apiService=n,this.closeDialog=new m.o,this.subscriptions=new g.a,this.form=new s.k({}),this.isLoading=!0,this.typeString="",this.type=0,this.status_obj={loading:!1,error:!1,success:!1,error_obj:{message:""}}}getError(e){return!(!this.form.controls[e]||!this.form.controls[e].errors)&&this.form.controls[e].errors}getErrorType(e,t){return!!(this.form.controls[e]&&this.form.controls[e].errors&&this.form.controls[e].errors[t])&&this.form.controls[e].errors[t]}confirmAction(){if(""===this.data.obj){var e=this.commonService.getFormObj(this.form);this.status_obj={loading:!0,error:!1,success:!1,error_obj:{message:""}},this.form.valid&&this.subscriptions.add(this.apiService.addGroupTeacherObj({groupName:e.groupName}).subscribe(e=>{1==e.success?(this.btnCloseDialog(!0),this.status_obj={loading:!1,error:!1,success:!1,error_obj:{message:""}},this.commonService.snackSuccess("Th\xeam nh\xf3m th\xe0nh c\xf4ng","")):(this.btnCloseDialog(!1),this.commonService.snackError("Th\xeam nh\xf3m kh\xf4ng th\xe0nh c\xf4ng",""),this.status_obj={loading:!1,error:!1,success:!1,error_obj:{message:""}})}))}else e=this.commonService.getFormObj(this.form),this.status_obj={loading:!0,error:!1,success:!1,error_obj:{message:""}},this.form.valid&&this.subscriptions.add(this.apiService.updateGroupTeacher({id:this.data.obj.id,groupName:e.groupName}).subscribe(e=>{1==e.success?(this.btnCloseDialog(!0),this.status_obj={loading:!1,error:!1,success:!1,error_obj:{message:""}},this.commonService.snackSuccess("S\u1eeda nh\xf3m th\xe0nh c\xf4ng","")):(this.btnCloseDialog(!1),this.commonService.snackError("S\u1eeda nh\xf3m kh\xf4ng th\xe0nh c\xf4ng",""),this.status_obj={loading:!1,error:!1,success:!1,error_obj:{message:""}})}))}btnCloseDialog(e){e?this.closeDialog.emit(e):this.closeDialog.emit()}ngOnInit(){this.form=this.fb.group({groupName:new s.h("",[s.z.required])}),""!=this.data.obj&&this.form.controls.groupName.setValue(this.data.obj.name)}ngOnDestroy(){this.subscriptions.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(m.Pb(s.g),m.Pb(f.a),m.Pb(v.a))},e.\u0275cmp=m.Jb({type:e,selectors:[["app-add-group"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info"],[1,"form-horizontal",3,"formGroup"],[1,"heading"],["class","heading-title",4,"ngIf"],[1,"btn-delete",3,"click"],[1,"fa","fa-times"],[1,"form-content"],[1,"form-group"],[1,"col-sm-12"],["for","full-name",1,"text-feild"],[1,"input-group","mb-3"],["type","text","placeholder","T\xean nh\xf3m","id","full-name","formControlName","groupName",1,"form-control"],["class","alert alert-danger",4,"ngIf"],[1,"row","ml-0","mr-0","pl-0","pr-0","justify-content-between"],[1,"col-12","text-right"],[1,"d-flex","float-right"],[1,"azt-block-button"],["mat-stroked-button","",1,"btn-cannel",3,"click"],["mat-flat-button","",1,"btn-save",3,"disabled","click"],[4,"ngIf"],[1,"heading-title"],[1,"alert","alert-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&m.Pc(0,oe,26,8,"div",0),2&e&&m.nc("ngIf",t.data.isShow)},directives:[o.m,s.B,s.s,s.l,s.d,s.r,s.j,C.b],styles:["[_ngcontent-%COMP%]:focus{outline:none}button[_ngcontent-%COMP%]{border:none;background:transparent}.school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:rgba(60,60,60,.5)}.school-info[_ngcontent-%COMP%]{padding:15px;border-radius:5px;z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);width:600px;position:fixed;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 9px rgba(91,91,91,.35)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:#f0f8ff}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}.heading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:20px}.heading-title[_ngcontent-%COMP%]{margin:0;font-size:15px;font-weight:500}.btn-delete[_ngcontent-%COMP%]{font-weight:700;color:#838383;position:absolute;right:10px;top:15px}.text-feild[_ngcontent-%COMP%]{font-size:13px}.form-control[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#a7a7a7}.btn-cannel[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;transition:all .5s}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width:768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width:576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width:380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width:290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),e})();const se=["drawer"];function re(e,t){1&e&&m.Qb(0,"azt-loading-effect")}const ae=function(e){return{"class-active":e}};function le(e,t){if(1&e){const e=m.Wb();m.Vb(0,"div",26),m.Vb(1,"button",27),m.cc("click",function(){m.Dc(e);const n=t.$implicit;return m.gc(4).clickGroup(n)}),m.Vb(2,"mat-icon",28),m.Rc(3,"people"),m.Ub(),m.Vb(4,"span",29),m.Rc(5),m.Ub(),m.Ub(),m.Vb(6,"button",30),m.Vb(7,"mat-icon"),m.Rc(8,"more_vert"),m.Ub(),m.Ub(),m.Vb(9,"mat-menu",null,31),m.Vb(11,"button",32),m.cc("click",function(){m.Dc(e);const n=t.$implicit;return m.gc(4).deleteGroup(n)}),m.Vb(12,"mat-icon"),m.Rc(13,"delete"),m.Ub(),m.Vb(14,"span"),m.Rc(15,"X\xf3a"),m.Ub(),m.Ub(),m.Vb(16,"button",32),m.cc("click",function(){m.Dc(e);const n=t.$implicit;return m.gc(4).editGroup(n)}),m.Vb(17,"mat-icon"),m.Rc(18,"edit"),m.Ub(),m.Vb(19,"span"),m.Rc(20,"S\u1eeda"),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&e){const e=t.$implicit,n=m.zc(10),i=m.gc(4);m.nc("ngClass",m.sc(4,ae,e.id==i.groupId)),m.Db(1),m.nc("id","group_id_"+e.id),m.Db(4),m.Sc(e.name),m.Db(1),m.nc("matMenuTriggerFor",n)}}function de(e,t){if(1&e&&(m.Vb(0,"div",24),m.Pc(1,le,21,6,"div",25),m.hc(2,"appFilter"),m.Ub()),2&e){const e=m.gc(3);m.Db(1),m.nc("ngForOf",m.jc(2,1,e.teacherGroupObj.groups,e.searchKey))}}function he(e,t){if(1&e&&m.Qb(0,"azt-create-avatar",39),2&e){const e=m.gc().$implicit;m.pc("matTooltip","id: ",e.teacherId,""),m.nc("nameCreateAvatar",e.fullName)("size",30)}}function be(e,t){if(1&e&&m.Qb(0,"azt-create-avatar",40),2&e){const e=m.gc().$implicit;m.nc("nameCreateAvatar",e.fullName)("size",30)}}function ge(e,t){1&e&&(m.Vb(0,"p",41),m.Rc(1,"Ch\u01b0a \u0111\u0103ng k\xfd"),m.Ub())}function pe(e,t){if(1&e){const e=m.Wb();m.Vb(0,"div",26),m.Vb(1,"button",27),m.cc("click",function(){m.Dc(e);const n=t.$implicit;return m.gc(4).clickUser(n)}),m.Pc(2,he,1,3,"azt-create-avatar",33),m.Pc(3,be,1,2,"azt-create-avatar",34),m.Vb(4,"div",35),m.Vb(5,"p",36),m.Rc(6),m.Ub(),m.Vb(7,"p",37),m.Rc(8),m.Ub(),m.Pc(9,ge,2,0,"p",38),m.Ub(),m.Ub(),m.Vb(10,"button",30),m.Vb(11,"mat-icon"),m.Rc(12,"more_vert"),m.Ub(),m.Ub(),m.Vb(13,"mat-menu",null,31),m.Vb(15,"button",32),m.cc("click",function(){m.Dc(e);const n=t.$implicit;return m.gc(4).deleteTeacher(n)}),m.Vb(16,"mat-icon"),m.Rc(17,"delete"),m.Ub(),m.Vb(18,"span"),m.Rc(19,"X\xf3a"),m.Ub(),m.Ub(),m.Vb(20,"button",32),m.cc("click",function(){m.Dc(e);const n=t.$implicit;return m.gc(4).editTeacher(n)}),m.Vb(21,"mat-icon"),m.Rc(22,"edit"),m.Ub(),m.Vb(23,"span"),m.Rc(24,"S\u1eeda"),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&e){const e=t.$implicit,n=m.zc(14),i=m.gc(4);m.nc("ngClass",m.sc(8,ae,e.id==i.teacherId)),m.Db(1),m.nc("id","teacher_id_"+e.id),m.Db(1),m.nc("ngIf",null!=e.teacherId),m.Db(1),m.nc("ngIf",null==e.teacherId),m.Db(3),m.Sc(e.fullName),m.Db(2),m.Sc(e.phone),m.Db(1),m.nc("ngIf",null==e.teacherId),m.Db(1),m.nc("matMenuTriggerFor",n)}}function ue(e,t){if(1&e&&(m.Vb(0,"div",24),m.Pc(1,pe,25,10,"div",25),m.hc(2,"appFilter"),m.Ub()),2&e){const e=m.gc(3);m.Db(1),m.nc("ngForOf",m.jc(2,1,e.teacherGroupObj.teachers,e.searchKey))}}function me(e,t){if(1&e&&(m.Vb(0,"div",22),m.Pc(1,de,3,4,"div",23),m.Pc(2,ue,3,4,"div",23),m.Ub()),2&e){const e=m.gc(2);m.Db(1),m.nc("ngIf",e.teacherGroupObj.groups),m.Db(1),m.nc("ngIf",e.teacherGroupObj.teachers)}}function fe(e,t){1&e&&(m.Vb(0,"div",42),m.Vb(1,"span",43),m.Rc(2,"Ch\u01b0a c\xf3 nh\xf3m ho\u1eb7c gi\xe1o vi\xean n\xe0o! Vui l\xf2ng t\u1ea1o th\xeam"),m.Ub(),m.Ub())}function ve(e,t){1&e&&(m.Vb(0,"div",44),m.Vb(1,"div",45),m.Vb(2,"span",46),m.Rc(3,"Loading..."),m.Ub(),m.Ub(),m.Ub())}function xe(e,t){if(1&e){const e=m.Wb();m.Vb(0,"a",58),m.cc("click",function(){return m.Dc(e),m.gc(3).toggleDrawer()}),m.Vb(1,"mat-icon",59),m.Rc(2,"menu_open"),m.Ub(),m.Ub()}}function _e(e,t){if(1&e){const e=m.Wb();m.Vb(0,"a",60),m.cc("click",function(){return m.Dc(e),m.gc(3).toggleDrawer()}),m.Vb(1,"mat-icon",61),m.Rc(2,"menu_open"),m.Ub(),m.Ub()}}function Pe(e,t){if(1&e&&m.Qb(0,"azt-create-avatar",39),2&e){const e=m.gc().$implicit;m.pc("matTooltip","id: ",e.teacherId,""),m.nc("nameCreateAvatar",e.fullName)("size",30)}}function Ce(e,t){if(1&e&&m.Qb(0,"azt-create-avatar",40),2&e){const e=m.gc().$implicit;m.nc("nameCreateAvatar",e.fullName)("size",30)}}function De(e,t){if(1&e){const e=m.Wb();m.Vb(0,"div",89),m.Pc(1,Pe,1,3,"azt-create-avatar",33),m.Pc(2,Ce,1,2,"azt-create-avatar",34),m.Vb(3,"div",35),m.Vb(4,"p",36),m.Rc(5),m.Ub(),m.Ub(),m.Vb(6,"button",90),m.cc("click",function(){m.Dc(e);const n=t.$implicit,i=t.index;return m.gc(4).deleteDialog(n,i)}),m.Qb(7,"i",91),m.Ub(),m.Ub()}if(2&e){const e=t.$implicit;m.Db(1),m.nc("ngIf",null!=e.teacherId),m.Db(1),m.nc("ngIf",null==e.teacherId),m.Db(3),m.Sc(e.fullName)}}function ke(e,t){if(1&e&&m.Qb(0,"azt-create-avatar",39),2&e){const e=m.gc().$implicit;m.pc("matTooltip","id:",e.teacherId,""),m.nc("nameCreateAvatar",e.fullName)("size",30)}}function we(e,t){if(1&e&&m.Qb(0,"azt-create-avatar",40),2&e){const e=m.gc().$implicit;m.nc("nameCreateAvatar",e.fullName)("size",30)}}function Me(e,t){1&e&&m.Qb(0,"div",96)}const Oe=function(e){return{"color-disabled":e}};function ye(e,t){if(1&e){const e=m.Wb();m.Vb(0,"div"),m.Vb(1,"div",93),m.Vb(2,"button",94),m.cc("click",function(){m.Dc(e);const n=t.$implicit;return m.gc(5).addMemberInGroup(n)}),m.Pc(3,ke,1,3,"azt-create-avatar",33),m.Pc(4,we,1,2,"azt-create-avatar",34),m.Vb(5,"div",35),m.Vb(6,"p",36),m.Rc(7),m.Ub(),m.Ub(),m.Ub(),m.Pc(8,Me,1,0,"div",95),m.Ub(),m.Ub()}if(2&e){const e=t.$implicit,n=m.gc(5);m.Db(1),m.nc("disabled",0==n.isLoadingMoreMembers),m.Db(1),m.nc("ngClass",m.sc(6,Oe,e.inGroup)),m.Db(1),m.nc("ngIf",null!=e.teacherId),m.Db(1),m.nc("ngIf",null==e.teacherId),m.Db(3),m.Sc(e.fullName),m.Db(1),m.nc("ngIf",n.isLoadingMoreMembers==e.id)}}function Ue(e,t){if(1&e&&(m.Vb(0,"div"),m.Pc(1,ye,9,8,"div",92),m.hc(2,"appFilter"),m.Ub()),2&e){const e=m.gc(4);m.Db(1),m.nc("ngForOf",m.jc(2,1,e.dataTeacherSearch,e.searchValue))}}function Ve(e,t){1&e&&(m.Vb(0,"div",97),m.Vb(1,"span"),m.Rc(2,"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u"),m.Ub(),m.Ub())}function Se(e,t){if(1&e){const e=m.Wb();m.Vb(0,"div",62),m.Vb(1,"div",63),m.Vb(2,"div",64),m.Vb(3,"h3",65),m.Rc(4," Th\xe0nh vi\xean trong nh\xf3m: "),m.Vb(5,"span",66),m.Rc(6),m.Ub(),m.Ub(),m.Ub(),m.Vb(7,"div",67),m.Vb(8,"button",68),m.Vb(9,"i",69),m.Rc(10,"person_add"),m.Ub(),m.Vb(11,"span",70),m.Rc(12,"Th\xeam nhi\u1ec1u"),m.Ub(),m.Ub(),m.Vb(13,"button",71),m.cc("click",function(){return m.Dc(e),m.gc(3).deleteAllTeacherGroup()}),m.Vb(14,"i",69),m.Rc(15,"delete"),m.Ub(),m.Vb(16,"span",70),m.Rc(17,"X\xf3a t\u1ea5t c\u1ea3"),m.Ub(),m.Ub(),m.Vb(18,"mat-menu",null,72),m.Vb(20,"div",73),m.cc("click",function(e){return e.stopPropagation()}),m.Vb(21,"div",74),m.Vb(22,"p",75),m.Rc(23,"Danh s\xe1ch S\u0110T gi\xe1o vi\xean"),m.Ub(),m.Vb(24,"form",76),m.Qb(25,"textarea",77),m.Ub(),m.Ub(),m.Vb(26,"div",78),m.Vb(27,"small",79),m.Rc(28,"* Nh\u1eadp m\u1ed7i S\u0110T tr\xean 1 d\xf2ng ho\u1eb7c \u0111\u01b0\u1ee3c t\xe1ch nhau b\u1edfi d\u1ea5u c\xe1ch."),m.Ub(),m.Ub(),m.Vb(29,"div",80),m.Vb(30,"button",81),m.cc("click",function(){return m.Dc(e),m.gc(3).addAllTeacherToGroup()}),m.Vb(31,"i",69),m.Rc(32,"add"),m.Ub(),m.Vb(33,"span",70),m.Rc(34,"Th\xeam"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(35,"div",82),m.Pc(36,De,8,3,"div",83),m.Vb(37,"div",84),m.Vb(38,"button",85),m.cc("click",function(){return m.Dc(e),m.gc(3).addMember()}),m.Vb(39,"i",69),m.Rc(40,"person_add"),m.Ub(),m.Vb(41,"span",86),m.Rc(42,"Th\xeam th\xe0nh vi\xean"),m.Ub(),m.Ub(),m.Vb(43,"mat-menu",null,31),m.Vb(45,"div",73),m.cc("click",function(e){return e.stopPropagation()}),m.Vb(46,"div",9),m.Vb(47,"input",10),m.cc("ngModelChange",function(t){return m.Dc(e),m.gc(3).searchValue=t}),m.Ub(),m.Vb(48,"mat-icon",11),m.Rc(49,"search"),m.Ub(),m.Ub(),m.Vb(50,"div",87),m.Vb(51,"div",24),m.Pc(52,Ue,3,4,"div",1),m.Pc(53,Ve,3,0,"ng-template",null,88,m.Qc),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&e){const e=m.zc(19),t=m.zc(44),n=m.zc(54),i=m.gc(3);m.Db(6),m.Tc(" ",i.groupObj.name," "),m.Db(2),m.nc("matMenuTriggerFor",e),m.Db(16),m.nc("formGroup",i.form),m.Db(12),m.nc("ngForOf",i.teachersInGroup),m.Db(2),m.nc("matMenuTriggerFor",t),m.Db(9),m.nc("ngModel",i.searchValue),m.Db(5),m.nc("ngIf",i.dataTeacherSearch)("ngIfElse",n)}}function Ie(e,t){if(1&e){const e=m.Wb();m.Vb(0,"div",114),m.Vb(1,"input",115),m.cc("change",function(n){m.Dc(e);const i=t.index,o=m.gc(2),c=o.$implicit,s=o.index;return m.gc(5).onCheckChange(n,c,s,i)}),m.Ub(),m.Vb(2,"label",116),m.Rc(3),m.Ub(),m.Ub()}if(2&e){const e=t.$implicit,n=t.index,i=m.gc(2).index;m.Db(1),m.nc("id","role_"+i+"_"+n)("checked",e.checked),m.Db(1),m.nc("for","role_"+i+"_"+n),m.Db(1),m.Tc(" ",e.description," ")}}function Te(e,t){if(1&e&&(m.Vb(0,"div",109),m.Vb(1,"div",110),m.Vb(2,"h3",111),m.Rc(3),m.Ub(),m.Vb(4,"div",112),m.Pc(5,Ie,4,4,"div",113),m.Ub(),m.Ub(),m.Ub()),2&e){const e=m.gc().$implicit;m.Db(2),m.oc("matTooltip",e.name),m.Db(1),m.Tc(" ",e.name," "),m.Db(2),m.nc("ngForOf",e.permissionArray)}}function je(e,t){if(1&e){const e=m.Wb();m.Vb(0,"div",114),m.Vb(1,"input",115),m.cc("change",function(n){m.Dc(e);const i=t.index,o=m.gc(2),c=o.$implicit,s=o.index;return m.gc(5).onCheckChange(n,c,s,i)}),m.Ub(),m.Vb(2,"label",116),m.Rc(3),m.Ub(),m.Ub()}if(2&e){const e=t.$implicit,n=t.index,i=m.gc(2).index;m.Db(1),m.nc("id","role_"+i+"_"+n)("checked",e.checked),m.Db(1),m.nc("for","role_"+i+"_"+n),m.Db(1),m.Tc(" ",e.description," ")}}function Re(e,t){if(1&e&&(m.Vb(0,"div",109),m.Vb(1,"div",110),m.Vb(2,"h3",111),m.Rc(3),m.Ub(),m.Vb(4,"div",112),m.Pc(5,je,4,4,"div",113),m.Ub(),m.Ub(),m.Ub()),2&e){const e=m.gc().$implicit;m.Db(2),m.oc("matTooltip",e.name),m.Db(1),m.Tc(" ",e.name," "),m.Db(2),m.nc("ngForOf",e.permissionArray)}}function ze(e,t){if(1&e&&(m.Tb(0),m.Pc(1,Te,6,3,"div",108),m.Pc(2,Re,6,3,"div",108),m.Sb()),2&e){const e=t.$implicit,n=m.gc(5);m.Db(1),m.nc("ngIf",n.hasPermissionClass&&e.teamPermisions),m.Db(1),m.nc("ngIf",!n.hasPermissionClass)}}function Ae(e,t){if(1&e&&(m.Vb(0,"div",106),m.Vb(1,"div",107),m.Pc(2,ze,3,2,"ng-container",92),m.Ub(),m.Ub()),2&e){const e=m.gc(4);m.Db(2),m.nc("ngForOf",e.classListData)}}function Le(e,t){1&e&&(m.Vb(0,"div",117),m.Vb(1,"span",43),m.Rc(2,"Ch\u01b0a c\xf3 d\u1eef li\u1ec7u"),m.Ub(),m.Ub())}function Ge(e,t){if(1&e){const e=m.Wb();m.Vb(0,"div",98),m.Vb(1,"div",63),m.Vb(2,"div",64),m.Vb(3,"h3",65),m.Rc(4," Ph\xe2n quy\u1ec1n trong l\u1edbp "),m.Ub(),m.Vb(5,"a",99),m.Vb(6,"span"),m.Rc(7,"T\xecm hi\u1ec3u th\xeam"),m.Ub(),m.Qb(8,"i",100),m.Ub(),m.Ub(),m.Vb(9,"div",101),m.Vb(10,"input",102),m.cc("ngModelChange",function(t){return m.Dc(e),m.gc(3).hasPermissionClass=t}),m.Ub(),m.Vb(11,"label",103),m.Rc(12," Ch\u1ec9 hi\u1ec7n nh\u1eefng l\u1edbp \u0111\xe3 g\xe1n quy\u1ec1n "),m.Ub(),m.Ub(),m.Ub(),m.Pc(13,Ae,3,1,"div",104),m.Pc(14,Le,3,0,"ng-template",null,105,m.Qc),m.Ub()}if(2&e){const e=m.zc(15),t=m.gc(3);m.Db(10),m.nc("ngModel",t.hasPermissionClass),m.Db(3),m.nc("ngIf",t.classListData.length>0)("ngIfElse",e)}}function Ee(e,t){1&e&&(m.Vb(0,"span"),m.Qb(1,"span",118),m.Rc(2,"\xa0"),m.Ub())}function Ne(e,t){if(1&e){const e=m.Wb();m.Vb(0,"div",47),m.Vb(1,"div",48),m.Pc(2,xe,3,0,"a",49),m.Pc(3,_e,3,0,"a",50),m.Ub(),m.Vb(4,"div",51),m.Pc(5,Se,55,8,"div",52),m.Pc(6,Ge,16,3,"div",53),m.Vb(7,"div",54),m.Vb(8,"button",55),m.cc("click",function(){return m.Dc(e),m.gc(2).clickCannel()}),m.Rc(9,"H\u1ee7y"),m.Ub(),m.Vb(10,"button",56),m.cc("click",function(){return m.Dc(e),m.gc(2).saveData()}),m.Pc(11,Ee,3,0,"span",57),m.Rc(12," L\u01b0u "),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&e){const e=m.gc(2);m.Db(2),m.nc("ngIf",!e.isOpenSideNav||e.isMobile),m.Db(1),m.nc("ngIf",e.isOpenSideNav&&!e.isMobile),m.Db(2),m.nc("ngIf",e.checkGroup),m.Db(1),m.nc("ngIf",e.checkRoleUser),m.Db(4),m.nc("disabled",e.isLoadingBtn),m.Db(1),m.nc("ngIf",e.isLoadingBtn)}}function Be(e,t){if(1&e){const e=m.Wb();m.Vb(0,"app-delete-dialog",119),m.cc("closeDialog",function(t){return m.Dc(e),m.gc(2).closeDeleteMemberInGroup(t)}),m.Ub()}if(2&e){const e=m.gc(2);m.nc("data",e.dataDeleteDialog)}}function Fe(e,t){if(1&e){const e=m.Wb();m.Vb(0,"app-add-teacher",119),m.cc("closeDialog",function(t){return m.Dc(e),m.gc(2).closeAddTeacher(t)}),m.Ub()}if(2&e){const e=m.gc(2);m.nc("data",e.dataAddTeacherDialog)}}function We(e,t){if(1&e){const e=m.Wb();m.Vb(0,"app-add-group",119),m.cc("closeDialog",function(t){return m.Dc(e),m.gc(2).closeAddGroup(t)}),m.Ub()}if(2&e){const e=m.gc(2);m.nc("data",e.dataAddGroupDialog)}}const Qe=function(e,t){return{"w-80":e,"w-33":t}};function $e(e,t){if(1&e){const e=m.Wb();m.Vb(0,"div",3),m.cc("resize",function(t){return m.Dc(e),m.gc().onResize(t)},!1,m.Cc),m.Vb(1,"mat-drawer-container",4),m.Vb(2,"mat-drawer",5,6),m.Vb(4,"div",7),m.Vb(5,"div",8),m.Vb(6,"div",9),m.Vb(7,"input",10),m.cc("ngModelChange",function(t){return m.Dc(e),m.gc().searchKey=t}),m.Ub(),m.Vb(8,"mat-icon",11),m.Rc(9,"search"),m.Ub(),m.Ub(),m.Pc(10,me,3,2,"div",12),m.Pc(11,fe,3,0,"ng-template",null,13,m.Qc),m.Vb(13,"div",14),m.Vb(14,"button",15),m.cc("click",function(){return m.Dc(e),m.gc().addTeacher("")}),m.Rc(15,"+ Th\xeam gi\xe1o vi\xean"),m.Ub(),m.Vb(16,"button",16),m.cc("click",function(){return m.Dc(e),m.gc().addGroup()}),m.Rc(17,"+ Th\xeam nh\xf3m gi\xe1o vi\xean"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(18,"mat-drawer-content",17),m.Vb(19,"div",18),m.Pc(20,ve,4,0,"div",19),m.Pc(21,Ne,13,6,"ng-template",null,20,m.Qc),m.Ub(),m.Ub(),m.Ub(),m.Pc(23,Be,1,1,"app-delete-dialog",21),m.Pc(24,Fe,1,1,"app-add-teacher",21),m.Pc(25,We,1,1,"app-add-group",21),m.Ub()}if(2&e){const e=m.zc(12),t=m.zc(22),n=m.gc();m.Db(1),m.nc("hasBackdrop",n.hasBackdrop),m.Db(1),m.oc("opened",n.isMobile?"false":"true"),m.nc("mode",n.mode)("ngClass",m.tc(12,Qe,n.isMobile,!n.isMobile)),m.Db(5),m.nc("ngModel",n.searchKey),m.Db(3),m.nc("ngIf",n.teacherGroupObj.groups.length>0||n.teacherGroupObj.teachers.length>0)("ngIfElse",e),m.Db(10),m.nc("ngIf",n.isLoadingData)("ngIfElse",t),m.Db(3),m.nc("ngIf",n.dataDeleteDialog.isShow),m.Db(1),m.nc("ngIf",n.dataAddTeacherDialog.isShow),m.Db(1),m.nc("ngIf",n.dataAddGroupDialog.isShow)}}let Ke=(()=>{class e{constructor(e,t,n,i,o,c){this.activeRoute=e,this.commonService=t,this.apiService=n,this.router=i,this.fb=o,this.vps=c,this.subscriptions=new g.a,this.form=new s.k({}),this.isLoadingPage=!0,this.isLoadingData=!1,this.checkActiveBtn=!1,this.isLoadingBtn=!1,this.isLoadingAddMember=!1,this.type=2,this.idParam=null,this.drawer=p.a,this.hasBackdrop=!1,this.mode="side",this.isMobile=!1,this.isShowActions=!0,this.isOpenSideNav=!0,this.isHomeworkFlow=!1,this.dataAddTeacherDialog={obj:"",isShow:!1},this.dataAddGroupDialog={obj:"",isShow:!1},this.addMemberDialog=!1,this.checkGroup=!1,this.checkRoleUser=!1,this.dataDeleteDialog={obj:"",groupId:"",isShow:!1,index:-1},this.searchValue="",this.searchKey="",this.teacherGroupObj={groups:[""],teachers:[]},this.groupId=null,this.teacherId=null,this.teachersInGroup=[],this.classListData=[],this.permissionData=[],this.hasPermissionClass=!1,this.classListPermission=[],this.filterDataClass=[],this.dataTeacherSearch=[]}onScroll(e){const t=window.pageYOffset;if(this.isMobile){let e=document.getElementById("toggle-nav");t>0?e.classList.add("fixed-nav"):e.classList.remove("fixed-nav")}}clickCannel(){this.checkGroup&&this.checkRoleUser?this.getTeacherInGroup(this.groupId):this.getPermissionMyTeacher(this.teacherId)}addTeacher(e){this.dataAddTeacherDialog={obj:e,isShow:!0,type:"add_teacher"}}editTeacher(e){this.dataAddTeacherDialog={obj:e,isShow:!0,type:"edit_teacher"}}deleteTeacher(e){this.dataDeleteDialog={obj:e,groupId:this.groupId,isShow:!0,index:0,type:"delete_teacher"}}editGroup(e){this.dataAddGroupDialog={obj:e,isShow:!0}}deleteGroup(e){this.dataDeleteDialog={obj:e,groupId:this.groupId,isShow:!0,index:0,type:"delete_group"}}addGroup(){this.dataAddGroupDialog={obj:"",isShow:!0}}addMember(){this.addMemberDialog=!this.addMemberDialog}closeAddTeacher(e){e?(this.dataAddTeacherDialog={obj:"",isShow:!1},this.getData()):this.dataAddTeacherDialog={obj:"",isShow:!1}}closeAddGroup(e){e?(this.dataAddGroupDialog={obj:"",isShow:!1},this.getData()):this.dataAddGroupDialog={obj:"",isShow:!1}}clickGroup(e){this.checkGroup=!0,this.checkRoleUser=!0,this.checkActiveBtn=!1,this.groupId=e.id,this.teacherId=null,this.getTeacherInGroup(this.groupId),this.isMobile&&this.toggleDrawer(),this.commonService.myNavigation("/admin/teacher-group/0/"+this.groupId)}clickUser(e){this.checkGroup=!1,this.checkRoleUser=!0,this.checkActiveBtn=!1,this.teacherId=e.id,this.groupId=null,this.getPermissionMyTeacher(e.id),this.isMobile&&this.toggleDrawer(),this.commonService.myNavigation("/admin/teacher-group/1/"+this.teacherId)}closeDeleteMemberInGroup(e){if(e)switch(e.type){case"delete_member":this.getTeacherInGroup(this.groupId),this.teachersInGroup.splice(this.dataDeleteDialog.index,1),this.dataDeleteDialog={obj:"",groupId:"",isShow:!1,index:-1};break;case"delete_group":case"delete_teacher":this.getData(),this.dataDeleteDialog={obj:"",groupId:"",isShow:!1,index:-1},this.commonService.myNavigation("/admin/teacher-group/2/0");break;case"delete_all_teacher_group":this.getTeacherInGroup(this.groupId),this.dataDeleteDialog={obj:"",groupId:"",isShow:!1,index:-1}}else this.dataDeleteDialog={obj:"",groupId:"",isShow:!1,index:-1}}deleteDialog(e,t){this.dataDeleteDialog={obj:e,groupId:this.groupId,isShow:!0,index:t,type:"delete_member"}}deleteAllTeacherGroup(){var e=[];this.teachersInGroup.forEach(t=>{this.commonService.filterArray(e,t.id)||e.push(t.id)}),this.dataDeleteDialog={groupObj:this.groupObj,teacherIds:e,type:"delete_all_teacher_group",isShow:!0}}toggleShowActions(){this.isShowActions=!this.isShowActions}toggleDrawer(){this.drawer.toggle(),this.isOpenSideNav=!this.isOpenSideNav}onResize(e){e.target.innerWidth<768?(this.isMobile=!0,this.mode="over",this.hasBackdrop=!0,this.isShowActions=!0,this.isOpenSideNav=!0):(this.isMobile=!1,this.mode="side",this.hasBackdrop=!1,this.isShowActions=!0,this.isOpenSideNav=!0)}checkWidth(){window.innerWidth<768?(this.isMobile=!0,this.mode="over",this.isShowActions=!0,this.hasBackdrop=!0,this.isOpenSideNav=!0):(this.isMobile=!1,this.mode="side",this.isShowActions=!0,this.hasBackdrop=!1)}getData(){this.isLoadingPage=!0,this.apiService.getTeacherGroupObjs().subscribe(e=>{1==e.success?(this.teacherGroupObj=e.data,this.listGroups=e.data.groups,this.listTeachers=e.data.teachers,this.listTeachers=this.commonService.sortFirstNameStudents(this.listTeachers),2!=this.type&&null!=this.type||(this.teacherGroupObj.groups.length>0?(this.checkGroup=!0,this.checkRoleUser=!0,this.getTeacherInGroup(this.teacherGroupObj.groups[0].id)):(this.checkGroup=!1,this.checkRoleUser=!1),0==this.teacherGroupObj.groups.length&&this.teacherGroupObj.teachers.length>0&&(this.checkGroup=!1,this.checkRoleUser=!0,this.getPermissionMyTeacher(this.teacherGroupObj.teachers[0].id)))):this.commonService.snackError("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoadingPage=!1})}getTeacherInGroup(e){this.isLoadingData=!0,this.apiService.getPermissionsWithGroup(e).subscribe(t=>{if(1==t.success){this.teachersInGroup=t.data.teacherObjs,this.classListData=t.data.classObjs,this.groupId=t.data.groupObj.id,this.teacherId=null,this.groupObj=t.data.groupObj;for(let e=0;e<this.classListData.length;e++)this.classListData[e].permissionArray=JSON.parse(JSON.stringify(this.permissionData));for(let e=0;e<this.classListData.length;e++)if(this.classListData[e].permissionArray)for(let t=0;t<this.classListData[e].permissionArray.length;t++)if(this.classListData[e].teamPermisions&&this.classListData[e].teamPermisions[t])switch(this.classListData[e].teamPermisions[t].id){case 1:this.classListData[e].permissionArray[0].checked=!0;break;case 2:this.classListData[e].permissionArray[1].checked=!0;break;case 3:this.classListData[e].permissionArray[2].checked=!0}this.checkTeacherInGroup()}else 0==e?this.isLoadingData=!1:this.commonService.snackError("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng","");this.isLoadingData=!1})}checkTeacherInGroup(){this.dataTeacherSearch=JSON.parse(JSON.stringify(this.teacherGroupObj.teachers));for(let e=0;e<this.teachersInGroup.length;e++)for(let t=0;t<this.dataTeacherSearch.length;t++)this.teachersInGroup[e].id===this.dataTeacherSearch[t].id&&(this.dataTeacherSearch[t].inGroup=!0)}getPermissionMyTeacher(e){this.isLoadingData=!0,this.apiService.getPermissionsWithTeacher(e).subscribe(t=>{if(1==t.success){this.teacherId=e,this.classListData=t.data.classObjs;for(let e=0;e<this.classListData.length;e++)this.classListData[e].permissionArray=JSON.parse(JSON.stringify(this.permissionData));for(let e=0;e<this.classListData.length;e++)if(this.classListData[e].permissionArray)for(let t=0;t<this.classListData[e].permissionArray.length;t++)if(this.classListData[e].teamPermisions&&this.classListData[e].teamPermisions[t])switch(this.classListData[e].teamPermisions[t].id){case 1:this.classListData[e].permissionArray[0].checked=!0;break;case 2:this.classListData[e].permissionArray[1].checked=!0;break;case 3:this.classListData[e].permissionArray[2].checked=!0}}else this.commonService.snackError("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng","");this.isLoadingData=!1})}getPermissionObjs(){this.isLoadingPage=!0,this.apiService.getValuePermissions(1).subscribe(e=>{1==e.success?this.permissionData=e.data.allPermissionObjs:this.commonService.snackError("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng","")})}addMemberInGroup(e){this.isLoadingMoreMembers=e.id,this.apiService.addTeacherObjWithTeam({groupId:this.groupId,teacherTeamId:e.id}).subscribe(t=>{1==t.success?(this.teachersInGroup.push(e),this.isLoadingMoreMembers=!1,this.checkTeacherInGroup(),this.commonService.snackSuccess("Th\xeam gi\xe1o vi\xean v\xe0o nh\xf3m th\xe0nh c\xf4ng","")):this.commonService.snackError("lang_core_exist_team_teacher"==t.message?"Gi\xe1o vi\xean \u0111\xe3 c\xf3 trong nh\xf3m":"Th\xeam gi\xe1o vi\xean v\xe0o nh\xf3m kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoadingMoreMembers=!1,this.searchValue=""})}autoResizeTextArea(){var e=document.getElementById("add_all_teacher_phone");setTimeout(function(){e.style.cssText="height:auto;",e.style.cssText="height:"+e.scrollHeight+"px"},0)}addAllTeacherToGroup(){var e=this.commonService.getFormObj(this.form),t=e.listPhone?e.listPhone.toString():"",n=[];t.includes("\n")?t.split("\n").forEach(e=>{this.commonService.filterArray(n,e)||""!=e.trim()&&n.push(e.trim())}):t.split(" ").forEach(e=>{this.commonService.filterArray(n,e)||""!=e.trim()&&n.push(e.trim())}),this.apiService.addTeachersWithGroup({groupId:this.groupId,TeacherPhone:n}).subscribe(e=>{if(1==e.success){this.getTeacherInGroup(this.groupId);let t=e.data.countSave?e.data.countSave:0,n=e.data.totalTeacher?e.data.totalTeacher:0;setTimeout(()=>{this.commonService.snackSuccess("Th\xeam th\xe0nh c\xf4ng "+t+"/"+n+" gi\xe1o vi\xean v\xe0o nh\xf3m!","")},1e3)}else this.commonService.snackError("lang_core_invalid_team_teacher_phone"==e.message?"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i c\u1ee7a gi\xe1o vi\xean ch\u01b0a c\xf3 trong danh b\u1ea1, sai \u0111\u1ecbnh d\u1ea1ng ho\u1eb7c \u0111\xe3 c\xf3 trong nh\xf3m. Vui l\xf2ng ki\u1ec3m tra l\u1ea1i!":"Th\xeam gi\xe1o vi\xean v\xe0o nh\xf3m kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoadingData=!1;this.checkActiveBtn=!1})}onCheckChange(e,t,n,i){this.classListData[n].permissionArray[i].checked=!!e.target.checked,this.checkActiveBtn=!0}saveData(){let e={groupId:this.groupId,classWithPermissions:[]},t={teacherId:this.teacherId,classWithPermissions:[]},n={classId:null,permissionIds:[]};for(let i=0;i<this.classListData.length;i++){this.classListData[i].permissionIds=[],n.classId=this.classListData[i].id;for(let e=0;e<this.classListData[i].permissionArray.length;e++)this.classListData[i].permissionArray[e].checked&&(this.classListData[i].permissionIds.push(this.classListData[i].permissionArray[e].id),n.permissionIds=this.classListData[i].permissionIds);this.checkGroup?e.classWithPermissions[i]=n:t.classWithPermissions[i]=n,n={classId:null,permissionIds:[]}}this.isLoadingData=!0,this.checkGroup?this.apiService.updatePermissionInGroup(e).subscribe(e=>{1==e.success?(this.getTeacherInGroup(this.groupId),setTimeout(()=>{this.commonService.snackSuccess("C\u1eadp nh\u1eadt quy\u1ec1n th\xe0nh c\xf4ng","")},1e3)):(this.commonService.snackError("C\u1eadp nh\u1eadt quy\u1ec1n kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoadingData=!1),this.checkActiveBtn=!1}):this.apiService.updatePermissionMyTeacher(t).subscribe(e=>{1==e.success?(this.getPermissionMyTeacher(this.teacherId),setTimeout(()=>{this.commonService.snackSuccess("C\u1eadp nh\u1eadt quy\u1ec1n th\xe0nh c\xf4ng","")},1e3)):(this.commonService.snackError("C\u1eadp nh\u1eadt quy\u1ec1n kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoadingData=!1),this.checkActiveBtn=!1})}ngOnInit(){if(this.form=this.fb.group({listPhone:[""]}),Object(u.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{}),this.type=this.commonService.getMyParam(this.activeRoute,"type"),this.idParam=this.commonService.getMyParam(this.activeRoute,"id"),this.getData(),this.getPermissionObjs(),this.checkWidth(),-1!=this.type&&null!=this.idParam)switch(this.type){case"0":this.checkGroup=!0,this.checkRoleUser=!0,this.groupId=this.idParam,this.vps.scrollToAnchor("group_id_"+this.groupId),this.getTeacherInGroup(this.idParam);break;case"1":this.checkGroup=!1,this.checkRoleUser=!0,this.teacherId=this.idParam,this.vps.scrollToAnchor("teacher_id_"+this.teacherId),this.getPermissionMyTeacher(this.idParam)}this.commonService.translateMetaData({title:"lang_cms_teacher_group_title",description:"lang_cms_teacher_group_description",image:"lang_cms_test_image"})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(m.Pb(i.a),m.Pb(f.a),m.Pb(v.a),m.Pb(i.a),m.Pb(s.g),m.Pb(o.w))},e.\u0275cmp=m.Jb({type:e,selectors:[["app-group-teacher"]],viewQuery:function(e,t){if(1&e&&m.Yc(se,!0),2&e){let e;m.yc(e=m.dc())&&(t.drawer=e.first)}},hostBindings:function(e,t){1&e&&m.cc("scroll",function(e){return t.onScroll(e)},!1,m.Cc)},decls:4,vars:4,consts:[[3,"headerTitle","back_link"],[4,"ngIf","ngIfElse"],["doneLoading",""],["id","teacher-group",1,"container","mt-3",3,"resize"],[1,"group_container",2,"border-radius","5px",3,"hasBackdrop"],[1,"bg-custom",3,"mode","opened","ngClass"],["drawer",""],[1,"container-fluid","pl-0","p-mbr-0"],[1,"slider-nav"],[1,"search"],["type","text","placeholder","T\xecm t\xean ho\u1eb7c S\u0110T",1,"search-input",3,"ngModel","ngModelChange"],[1,"search-icon"],["class","group",4,"ngIf","ngIfElse"],["blockElse",""],[1,"slider-bottom"],[1,"btn-add","mr-3",3,"click"],[1,"btn-add",3,"click"],[1,"mat-drawer-custom"],[1,"container-fluid","p-0"],["class","slider-content","style","display: flex; justify-content: center; align-items: center;",4,"ngIf","ngIfElse"],["doneLoadingData",""],[3,"data","closeDialog",4,"ngIf"],[1,"group"],["class","group-content",4,"ngIf"],[1,"group-content"],["class","group-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"group-item",3,"ngClass"],[1,"group-btn",3,"id","click"],[1,"group-icon"],[1,"group-name",2,"text-align","left"],["mat-icon-button","",1,"group-btn-menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],[3,"matTooltip","nameCreateAvatar","size",4,"ngIf"],[3,"nameCreateAvatar","size",4,"ngIf"],[1,"group-info"],[1,"group-name"],[1,"group-text"],["style","margin-top: 1px;","class","group-text",4,"ngIf"],[3,"matTooltip","nameCreateAvatar","size"],[3,"nameCreateAvatar","size"],[1,"group-text",2,"margin-top","1px"],[1,"group",2,"display","flex","justify-content","center","align-items","center"],[1,"note-text"],[1,"slider-content",2,"display","flex","justify-content","center","align-items","center"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"],[1,"slider-content"],["id","toggle-nav",1,"toggle-nav"],["class","clickable","matTooltip","M\u1edf menu",3,"click",4,"ngIf"],["class","clickable","matTooltip","\u0110\xf3ng menu",3,"click",4,"ngIf"],[1,"slider-body-main"],["class","slider-content-block mt-2 mb-0",4,"ngIf"],["class","slider-content-block mt-2",4,"ngIf"],["id","slider-content-footer ",1,"slider-content-footer"],[1,"btn-cannel",3,"click"],[1,"btn-save",3,"disabled","click"],[4,"ngIf"],["matTooltip","M\u1edf menu",1,"clickable",3,"click"],[2,"vertical-align","middle","color","#646464","transform","rotateY(180deg)"],["matTooltip","\u0110\xf3ng menu",1,"clickable",3,"click"],[2,"vertical-align","middle","color","#646464"],[1,"slider-content-block","mt-2","mb-0"],[1,"slider-bar"],[1,"slider-bar-left"],[1,"slider-bar-title"],[2,"font-weight","bold"],[1,"slider-bar-right","d-flex","align-self-center"],[1,"btn-add-member",3,"matMenuTriggerFor"],[1,"material-icons"],[2,"vertical-align","middle","margin-top","3px"],[1,"btn-del-all-member",3,"click"],["menuAddMultiple","matMenu"],[1,"search-member",3,"click"],[1,"text-center"],[1,"mb-1",2,"font-size","14px","font-weight","450"],[1,"form-horizontal",3,"formGroup"],["type","text","id","add_all_teacher_phone","rows","10","formControlName","listPhone",1,"form-control"],[1,"text-justify"],[1,"pt-1","text-justify",2,"color","#ff0024","line-height","0"],[1,"d-flex","justify-content-end"],[1,"btn-add-all-member",3,"click"],[1,"slider-bar-body"],["class","group-body-item",4,"ngFor","ngForOf"],[1,"add-member"],[1,"btn-add-member",3,"matMenuTriggerFor","click"],[2,"vertical-align","middle","margin-top","2px"],[1,"search-result"],["dataNull",""],[1,"group-body-item"],[1,"btn-delete",3,"click"],["matTooltip","X\xf3a",1,"fa","fa-times"],[4,"ngFor","ngForOf"],[1,"group-item",3,"disabled"],[1,"group-btn",3,"ngClass","click"],["class","spinner-border spinner-border-sm","style","color: silver;","role","status",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm",2,"color","silver"],[2,"display","flex","justify-content","center","align-items","center"],[1,"slider-content-block","mt-2"],["href","","target","_blank",1,"link-research","d-none"],[1,"fa","fa-external-link-alt"],[1,"slider-bar-right"],["type","checkbox","id","checkbox_role_hiden",1,"checkbox-input",3,"ngModel","ngModelChange"],["for","checkbox_role_hiden",1,"text-checkbox"],["class","slider-body",4,"ngIf","ngIfElse"],["templateElse",""],[1,"slider-body"],[1,"row"],["class","col-md-6 col-lg-4 col-xs-12 px-2 mb-3",4,"ngIf"],[1,"col-md-6","col-lg-4","col-xs-12","px-2","mb-3"],[1,"role-teacher"],[1,"class-title",3,"matTooltip"],[1,"role-content"],["class","role-item",4,"ngFor","ngForOf"],[1,"role-item"],["type","checkbox",1,"checkbox-input",3,"id","checked","change"],[1,"text-checkbox",3,"for"],[1,"slider-body",2,"display","flex","justify-content","center","align-items","center"],["role","status",1,"spinner-border","spinner-border-sm"],[3,"data","closeDialog"]],template:function(e,t){if(1&e&&(m.Qb(0,"header-backend",0),m.Pc(1,re,1,0,"azt-loading-effect",1),m.Pc(2,$e,26,15,"ng-template",null,2,m.Qc)),2&e){const e=m.zc(3);m.nc("headerTitle","L\xe0m vi\u1ec7c nh\xf3m")("back_link","/admin/testbank/dashboard"),m.Db(1),m.nc("ngIf",t.isLoadingPage)("ngIfElse",e)}},directives:[x.a,o.m,_.a,p.b,p.a,o.k,s.d,s.r,s.u,P.a,p.c,o.l,C.b,D.d,D.a,D.b,k.a,w.a,s.B,s.s,s.l,s.j,s.a,T,J,ce],pipes:[M.j],styles:["[_ngcontent-%COMP%]:focus{outline:none}button[_ngcontent-%COMP%]{border:none;background:transparent}input[type=checkbox][_ngcontent-%COMP%]{zoom:.9;cursor:pointer}label[_ngcontent-%COMP%]{cursor:pointer}[_ngcontent-%COMP%]::-webkit-scrollbar{width:16px}[_ngcontent-%COMP%]::-webkit-scrollbar, [_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#babac0;border-radius:16px;border:4px solid #fff}[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}.slider[_ngcontent-%COMP%]{height:calc(100vh - 80px)}.slider-nav[_ngcontent-%COMP%]{background:#f9f9f9;padding:15px}.slider-content[_ngcontent-%COMP%], .slider-nav[_ngcontent-%COMP%]{border:1px solid #e9e9e9;border-radius:5px;height:calc(100vh - 80px)}.slider-content[_ngcontent-%COMP%]{background:#fff;padding:15px 0 15px 15px;position:relative}.slider-content-block[_ngcontent-%COMP%]{border:1px solid #e9e9e9;border-radius:3px}.slider-bar[_ngcontent-%COMP%]{background:#fafafa;display:flex;align-items:center;justify-content:space-between;padding:5px 15px;flex-wrap:wrap;border-bottom:1px solid #e9e9e9}.slider-bar-title[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#333}.btn-delete[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;color:#838383;padding-top:5px}.group-body-item[_ngcontent-%COMP%]{align-items:center;margin-right:15px}.add-member[_ngcontent-%COMP%], .group-body-item[_ngcontent-%COMP%]{display:flex;margin-bottom:15px}.add-member[_ngcontent-%COMP%]{position:relative}.search-result[_ngcontent-%COMP%]{height:166px;overflow-y:auto}.bg-custom[_ngcontent-%COMP%]{background:#ecf0f5}.w-33[_ngcontent-%COMP%]{width:33%}.w-80[_ngcontent-%COMP%]{width:80%}.mat-drawer-custom[_ngcontent-%COMP%]{background:#ecf0f5;border:none}.search-member[_ngcontent-%COMP%]{background:#fff;border-radius:5px;padding:10px;z-index:99}.search-member[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.btn-add-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;align-items:center;border-radius:3px;border:1px solid #e9e9e9;padding:2px 10px}.btn-add-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-del-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #f44336;background-color:#f44336;border-radius:3px;padding:2px 10px}.btn-del-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #169bd5;background-color:#169bd5;border-radius:3px;padding:2px 10px}.btn-add-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-member[_ngcontent-%COMP%]:hover{background:#eee}.btn-del-all-member[_ngcontent-%COMP%]:hover{background:#d3392e}.btn-add-all-member[_ngcontent-%COMP%]:hover{background:#066d99}.slider-bar-body[_ngcontent-%COMP%]{display:flex;padding:15px 15px 0;flex-wrap:wrap;overflow-y:auto}.slider-bar-left[_ngcontent-%COMP%]{display:flex;align-items:center}.link-research[_ngcontent-%COMP%]{margin-left:15px;font-size:12px}.link-research[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px}.link-research[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#a7a7a7}.form-check-input[_ngcontent-%COMP%]{margin-top:3px}.text-checkbox[_ngcontent-%COMP%]{font-size:13px;margin-bottom:0;font-family:Arial,Helvetica,sans-serif;display:inline}.role-teacher[_ngcontent-%COMP%]{border:1px solid #e9e9e9;padding:12px;border-radius:3px}.role-item[_ngcontent-%COMP%]{margin-bottom:5px}.checkbox-input[_ngcontent-%COMP%]{margin-right:3px}.slider-content-footer[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px}.btn-cannel[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;padding:5px 25px;transition:all .5s}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff;padding:6px 25px}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}.btn-cannel[_ngcontent-%COMP%]:hover{background:#eee}.btn-save[_ngcontent-%COMP%]:disabled{background:#e0e0e0!important}.class-title[_ngcontent-%COMP%]{width:100%;font-size:13px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.slider-body[_ngcontent-%COMP%]{min-height:20vh;padding:15px 20px 0;overflow-y:auto;overflow-x:hidden}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 200px);overflow:scroll}.h300[_ngcontent-%COMP%]{height:calc(100vh - 260px)}.search[_ngcontent-%COMP%]{position:relative;background:#fff;border:1px solid #e9e9e9;padding:4px;border-radius:3px}.search-input[_ngcontent-%COMP%]{width:88%;font-weight:400;font-style:normal;margin-right:25px;border:none}.search-input[_ngcontent-%COMP%]:focus-visible{border:none!important}.search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{font-size:20px;color:#b8b8b8;position:absolute;top:5px;right:0;cursor:pointer}.note-text[_ngcontent-%COMP%]{font-size:16px;font-weight:600;text-align:center}.group[_ngcontent-%COMP%]{margin:10px 0;padding:15px;background:#fff;border-radius:3px;border:1px solid #e9e9e9;overflow-y:auto;height:calc(100vh - 195px)}.group-block[_ngcontent-%COMP%]{margin-bottom:20px}.group-content[_ngcontent-%COMP%]{margin-top:15px}.group-item[_ngcontent-%COMP%]{margin-bottom:15px;padding:3px;position:relative}.group-btn[_ngcontent-%COMP%]{background:transparent;border:none;text-transform:inherit;display:flex;align-items:center;width:100%;transition:all .5s;border-radius:5px}.group-btn[_ngcontent-%COMP%]:hover:not([disabled]){background:#eee}.group-info[_ngcontent-%COMP%]{text-align:left;line-height:1}.group-icon[_ngcontent-%COMP%]{font-size:30px;color:#169bd5;width:30px;height:30px}.group-name[_ngcontent-%COMP%]{font-size:13px;margin:0 0 0 15px;max-width:120px}.group-text[_ngcontent-%COMP%]{font-size:10px;color:#a2a2a2;margin-bottom:0;margin-left:15px;margin-top:5px}.class-active[_ngcontent-%COMP%]{width:100%;background:#eee;border-radius:5px}.group-btn-menu[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;z-index:99;transform:translateY(-50%)}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{font-size:13px;color:#00a7d0;background:transparent;border:none;text-transform:inherit;transition:all .3s}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:hover{color:#0a5264}.color-disabled[_ngcontent-%COMP%]{color:#8b8b8b}.group-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.group-item[_ngcontent-%COMP%]:hover{background:#eee;border-radius:5px}@media screen and (max-width:768px){.p-mbr-0[_ngcontent-%COMP%]{padding-right:0}.slider-content[_ngcontent-%COMP%], .slider-nav[_ngcontent-%COMP%]{height:86vh}.slider-body[_ngcontent-%COMP%]{min-height:20vh}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 220px);overflow:scroll}.group[_ngcontent-%COMP%]{height:calc(100vh - 270px)}.group-name[_ngcontent-%COMP%]{max-width:190px}}@media screen and (max-width:480px){.slider-body-main[_ngcontent-%COMP%]{height:auto!important}.slider-body[_ngcontent-%COMP%]{height:auto}.fixed-nav[_ngcontent-%COMP%]{position:fixed;top:0;left:15px;padding:5px;background:#ecf0f5;width:100%;z-index:99}.slider-content[_ngcontent-%COMP%]{min-height:calc(100vh - 112px);height:auto}.slider-nav[_ngcontent-%COMP%]{height:100vh}.slider-content-block[_ngcontent-%COMP%]{margin-bottom:50px}.slider-content[_ngcontent-%COMP%]{margin-bottom:15px}.slider-bar-body[_ngcontent-%COMP%]{height:auto}.class-title[_ngcontent-%COMP%]{white-space:normal;overflow:auto}.group[_ngcontent-%COMP%]{height:calc(100vh - 150px)}.group-name[_ngcontent-%COMP%]{max-width:145px}}@media screen and (max-width:321px){.group[_ngcontent-%COMP%]{height:80%}.group-name[_ngcontent-%COMP%]{max-width:100px}}"]}),e})();const Xe=[{path:"",component:Ke,canActivate:[h.a],children:[{path:"",canActivateChild:[h.a],children:[{path:"",component:Ke}]}]}];let qe=(()=>{class e{}return e.\u0275mod=m.Nb({type:e}),e.\u0275inj=m.Mb({factory:function(t){return new(t||e)},imports:[[i.l.forChild(Xe)],i.l,b.c]}),e})();var Je=n("rIor"),He=n("Zhhu");let Ze=(()=>{class e{}return e.\u0275mod=m.Nb({type:e}),e.\u0275inj=m.Mb({factory:function(t){return new(t||e)},imports:[[i.l,o.c,c.a,r.b,s.m,s.x,a.f,l.a,d.b,Je.b,qe,He.a]]}),e})()},fB2i:function(e,t,n){"use strict";n.d(t,"a",function(){return P}),n.d(t,"b",function(){return C});var i=n("fXoL"),o=n("ofXK"),c=n("3Pt+");function s(e,t){}const r=()=>{const e="undefined"!=typeof window?window:void 0;return e&&e.tinymce?e.tinymce:null};let a=(()=>{class e{constructor(){this.onBeforePaste=new i.o,this.onBlur=new i.o,this.onClick=new i.o,this.onContextMenu=new i.o,this.onCopy=new i.o,this.onCut=new i.o,this.onDblclick=new i.o,this.onDrag=new i.o,this.onDragDrop=new i.o,this.onDragEnd=new i.o,this.onDragGesture=new i.o,this.onDragOver=new i.o,this.onDrop=new i.o,this.onFocus=new i.o,this.onFocusIn=new i.o,this.onFocusOut=new i.o,this.onKeyDown=new i.o,this.onKeyPress=new i.o,this.onKeyUp=new i.o,this.onMouseDown=new i.o,this.onMouseEnter=new i.o,this.onMouseLeave=new i.o,this.onMouseMove=new i.o,this.onMouseOut=new i.o,this.onMouseOver=new i.o,this.onMouseUp=new i.o,this.onPaste=new i.o,this.onSelectionChange=new i.o,this.onActivate=new i.o,this.onAddUndo=new i.o,this.onBeforeAddUndo=new i.o,this.onBeforeExecCommand=new i.o,this.onBeforeGetContent=new i.o,this.onBeforeRenderUI=new i.o,this.onBeforeSetContent=new i.o,this.onChange=new i.o,this.onClearUndos=new i.o,this.onDeactivate=new i.o,this.onDirty=new i.o,this.onExecCommand=new i.o,this.onGetContent=new i.o,this.onHide=new i.o,this.onInit=new i.o,this.onInitNgModel=new i.o,this.onLoadContent=new i.o,this.onNodeChange=new i.o,this.onPostProcess=new i.o,this.onPostRender=new i.o,this.onPreInit=new i.o,this.onPreProcess=new i.o,this.onProgressState=new i.o,this.onRedo=new i.o,this.onRemove=new i.o,this.onReset=new i.o,this.onSaveContent=new i.o,this.onSetAttrib=new i.o,this.onObjectResizeStart=new i.o,this.onObjectResized=new i.o,this.onObjectSelected=new i.o,this.onSetContent=new i.o,this.onShow=new i.o,this.onSubmit=new i.o,this.onUndo=new i.o,this.onVisualAid=new i.o}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.Kb({type:e,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),e})();const l=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],d=(e,t)=>"string"==typeof e?e.split(",").map(e=>e.trim()):Array.isArray(e)?e:t;let h=0;const b=e=>{const t=(new Date).getTime(),n=Math.floor(1e9*Math.random());return h++,e+"_"+n+h+String(t)},g=e=>void 0!==e&&"textarea"===e.tagName.toLowerCase(),p=e=>void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" "),u=()=>{},m=e=>null==e,f=()=>({listeners:[],scriptId:b("tiny-script"),scriptLoaded:!1}),v=(()=>{let e=f();return{load:(t,n,i)=>{e.scriptLoaded?i():(e.listeners.push(i),t.getElementById(e.scriptId)||((t,n,i,o)=>{const c=n.createElement("script");c.referrerPolicy="origin",c.type="application/javascript",c.id=t,c.src=i;const s=()=>{c.removeEventListener("load",s),e.listeners.forEach(e=>e()),e.scriptLoaded=!0};c.addEventListener("load",s),n.head&&n.head.appendChild(c)})(e.scriptId,t,n))},reinitialize:()=>{e=f()}}})(),x=new i.s("TINYMCE_SCRIPT_SRC"),_={provide:c.p,useExisting:Object(i.X)(()=>P),multi:!0};let P=(()=>{class e extends a{constructor(e,t,n,i){super(),this.platformId=n,this.tinymceScriptSrc=i,this.cloudChannel="5",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=u,this.onChangeCallback=u,this._elementRef=e,this.ngZone=t,this.initialise=this.initialise.bind(this)}set disabled(e){this._disabled=e,this._editor&&this._editor.initialized&&this._editor.setMode(e?"readonly":"design")}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(e){this._editor&&this._editor.initialized?this._editor.setContent(m(e)?"":e):this.initialValue=null===e?void 0:e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this._editor?this._editor.setMode(e?"readonly":"design"):e&&(this.init=Object.assign(Object.assign({},this.init),{readonly:!0}))}ngAfterViewInit(){Object(o.y)(this.platformId)&&(this.id=this.id||b("tiny-angular"),this.inline=void 0!==this.inline?"boolean"!=typeof this.inline||this.inline:this.init&&this.init.inline,this.createElement(),null!==r()?this.initialise():this._element&&this._element.ownerDocument&&v.load(this._element.ownerDocument,this.getScriptSrc(),this.initialise))}ngOnDestroy(){null!==r()&&r().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(this._element.id=this.id,g(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}initialise(){const e=Object.assign(Object.assign({},this.init),{target:this._element,inline:this.inline,readonly:this.disabled,plugins:(t=this.init&&this.init.plugins,n=this.plugins,p(t).concat(p(n))),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:e=>{this._editor=e,e.on("init",t=>{this.initEditor(e)}),((e,t)=>{(e=>{const t=d(e.ignoreEvents,[]);return d(e.allowedEvents,l).filter(e=>l.includes(e)&&!t.includes(e))})(e).forEach(n=>{const i=e[n];t.on(n.substring(2),n=>e.ngZone.run(()=>i.emit({event:n,editor:t})))})})(this,e),this.init&&"function"==typeof this.init.setup&&this.init.setup(e)}});var t,n;g(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{r().init(e)})}getScriptSrc(){return m(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(e){e.on("blur",()=>this.ngZone.run(()=>this.onTouchedCallback())),e.on(this.modelEvents,()=>{this.ngZone.run(()=>this.onChangeCallback(e.getContent({format:this.outputFormat})))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{e.setContent(this.initialValue),e.getContent()!==this.initialValue&&this.onChangeCallback(e.getContent({format:this.outputFormat})),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(e)})}}return e.\u0275fac=function(t){return new(t||e)(i.Pb(i.l),i.Pb(i.B),i.Pb(i.D),i.Pb(x,8))},e.\u0275cmp=i.Jb({type:e,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",id:"id",modelEvents:"modelEvents",disabled:"disabled",initialValue:"initialValue",init:"init",inline:"inline",outputFormat:"outputFormat",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents"},features:[i.Cb([_]),i.Ab],decls:1,vars:0,template:function(e,t){1&e&&i.Pc(0,s,0,0,"ng-template")},styles:["[_nghost-%COMP%] { display: block; }"]}),e})(),C=(()=>{class e{}return e.\u0275mod=i.Nb({type:e}),e.\u0275inj=i.Mb({factory:function(t){return new(t||e)},imports:[[o.c,c.m]]}),e})()},kmNb:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("fXoL"),o=n("yTNM"),c=n("tyNb"),s=n("gbi4");let r=(()=>{class e{constructor(e,t,n){this.apiService=e,this.router=t,this.commonService=n}canActivate(e,t){return window,!!this.apiService.isLogin()||(this.commonService.redirectLoginAnonymous(t.url),!1)}canActivateChild(e,t){return this.canActivate(e,t)}canLoad(e){const t="/"+e.path;return!!this.apiService.isLogin()||(this.commonService.redirectLoginByReturnUrl(t),!1)}}return e.\u0275fac=function(t){return new(t||e)(i.Zb(o.a),i.Zb(c.i),i.Zb(s.a))},e.\u0275prov=i.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);