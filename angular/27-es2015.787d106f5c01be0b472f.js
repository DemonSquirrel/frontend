(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"A1Q/":function(t,e,n){"use strict";n.r(e),n.d(e,"TeacherGroupModule",function(){return Yt});var i=n("ofXK"),o=n("3Pt+"),c=n("0IaG"),a=n("tyNb"),s=n("fB2i"),r=n("IkSl"),l=n("rIor"),d=n("Zhhu"),h=n("vvyD"),b=n("mYPf"),g=n("Avyq"),p=n("kmNb"),m=n("XhcP"),u=n("quSY"),f=n("itXk"),v=n("fXoL"),x=n("gbi4"),_=n("pMRa"),P=n("hZBc"),k=n("nzN9"),D=n("NFeN"),C=n("bTqV"),O=n("STbY"),M=n("IU+r"),V=n("Qu3c"),U=n("gaSO");function w(t,e){if(1&t&&(v.Vb(0,"p",10),v.Rc(1," B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a gi\xe1o vi\xean "),v.Vb(2,"b"),v.Rc(3),v.Ub(),v.Rc(4," kh\u1ecfi nh\xf3m? "),v.Ub()),2&t){const t=v.gc(2);v.Db(3),v.Sc(t.data.obj.fullName)}}function y(t,e){if(1&t&&(v.Vb(0,"p",10),v.Rc(1," B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a "),v.Vb(2,"b"),v.Rc(3),v.Ub(),v.Ub()),2&t){const t=v.gc(2);v.Db(3),v.Sc(t.data.obj.name)}}function I(t,e){if(1&t&&(v.Vb(0,"p",10),v.Rc(1," B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a "),v.Vb(2,"b"),v.Rc(3),v.Ub(),v.Ub()),2&t){const t=v.gc(2);v.Db(3),v.Sc(t.data.obj.fullName)}}function S(t,e){if(1&t&&(v.Vb(0,"p",10),v.Rc(1," B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a t\u1ea5t c\u1ea3 gi\xe1o vi\xean trong nh\xf3m "),v.Vb(2,"b"),v.Rc(3),v.Ub(),v.Ub()),2&t){const t=v.gc(2);v.Db(3),v.Sc(t.data.groupObj.name)}}function T(t,e){1&t&&(v.Vb(0,"span"),v.Qb(1,"span",11),v.Rc(2,"\xa0"),v.Ub())}function j(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",1),v.Vb(1,"div",2),v.Vb(2,"div",3),v.Pc(3,w,5,1,"p",4),v.Pc(4,y,4,1,"p",4),v.Pc(5,I,4,1,"p",4),v.Pc(6,S,4,1,"p",4),v.Ub(),v.Vb(7,"div",5),v.Vb(8,"div",6),v.Vb(9,"button",7),v.cc("click",function(){return v.Dc(t),v.gc().btnCloseDialog()}),v.Rc(10),v.hc(11,"mytranslate"),v.Ub(),v.Vb(12,"button",8),v.cc("click",function(){return v.Dc(t),v.gc().confirmDelete()}),v.Pc(13,T,3,0,"span",9),v.Rc(14),v.hc(15,"mytranslate"),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Ub()}if(2&t){const t=v.gc();v.Db(3),v.nc("ngIf","delete_member"==t.data.type),v.Db(1),v.nc("ngIf","delete_group"==t.data.type),v.Db(1),v.nc("ngIf","delete_teacher"==t.data.type),v.Db(1),v.nc("ngIf","delete_all_teacher_group"==t.data.type),v.Db(4),v.Tc(" ",v.ic(11,8,"lang_cms_common_close_btn")," "),v.Db(2),v.nc("disabled",t.isLoading),v.Db(1),v.nc("ngIf",!0===t.isLoading),v.Db(1),v.Tc(" ",v.ic(15,10,"lang_cms_common_confirm_btn")," ")}}let R=(()=>{class t{constructor(t,e){this.commonService=t,this.apiCommonService=e,this.closeDialog=new v.o,this.subscriptions=new u.a,this.form=new o.k({}),this.isLoading=!1}confirmDelete(){switch(this.isLoading=!0,this.data.type){case"delete_member":this.apiCommonService.deleteTeacherWithGroup({groupId:this.data.groupId,teacherTeamId:this.data.obj.id}).subscribe(t=>{1==t.success?(this.commonService.snackSuccess("X\xf3a gi\xe1o vi\xean kh\u1ecfi nh\xf3m th\xe0nh c\xf4ng",""),this.closeDialog.emit(this.data)):this.commonService.snackError("X\xf3a gi\xe1o vi\xean kh\u1ecfi nh\xf3m kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoading=!1});break;case"delete_group":this.apiCommonService.deleteGroupTeacher(this.data.obj.id).subscribe(t=>{1==t.success?(this.commonService.snackSuccess("X\xf3a nh\xf3m th\xe0nh c\xf4ng",""),this.closeDialog.emit(this.data)):this.commonService.snackError("X\xf3a nh\xf3m kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoading=!1});break;case"delete_teacher":this.apiCommonService.deleteTeacherObj(this.data.obj.id).subscribe(t=>{1==t.success?(this.commonService.snackSuccess("X\xf3a gi\xe1o vi\xean th\xe0nh c\xf4ng",""),this.closeDialog.emit(this.data)):this.commonService.snackError("X\xf3a gi\xe1o vi\xean kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoading=!1});break;case"delete_all_teacher_group":this.apiCommonService.deleteMultipleTeacherWithGroup({groupId:this.data.groupObj.id,teamTeacherIds:this.data.teacherIds}).subscribe(t=>{1==t.success?(this.commonService.snackSuccess("X\xf3a gi\xe1o vi\xean th\xe0nh c\xf4ng",""),this.closeDialog.emit(this.data)):this.commonService.snackError("X\xf3a gi\xe1o vi\xean kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoading=!1})}}btnCloseDialog(){this.closeDialog.emit()}ngOnInit(){}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(v.Pb(x.a),v.Pb(_.a))},t.\u0275cmp=v.Jb({type:t,selectors:[["app-delete-dialog"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info","p-4"],[1,"text-center"],["class","h5 para_respon font-weight-normal",4,"ngIf"],[1,"d-flex","float-right","mt-3"],[1,"azt-block-button"],["mat-stroked-button","",1,"btn-cannel",3,"click"],["mat-flat-button","","color","warn",1,"btn-save",2,"margin-left","15px",3,"disabled","click"],[4,"ngIf"],[1,"h5","para_respon","font-weight-normal"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&v.Pc(0,j,16,12,"div",0),2&t&&v.nc("ngIf",e.data.isShow)},directives:[i.m,C.b],pipes:[U.q],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:9998;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background:rgba(0,0,0,.5607843137254902)}.school-info[_ngcontent-%COMP%]{z-index:9999;top:50%;left:50%;min-width:30%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.btn-cannel[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;transition:all .5s}.btn-save[_ngcontent-%COMP%]:hover{background:#bd2c22}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}}"]}),t})();function z(t,e){1&t&&(v.Vb(0,"p",20),v.Rc(1,"Th\xeam gi\xe1o vi\xean"),v.Ub())}function G(t,e){1&t&&(v.Vb(0,"p",20),v.Rc(1,"S\u1eeda gi\xe1o vi\xean"),v.Ub())}function L(t,e){1&t&&(v.Vb(0,"span"),v.Rc(1,"Ch\u01b0a c\xf3 file \u0111\u01b0\u1ee3c ch\u1ecdn"),v.Ub())}function A(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",33),v.Vb(1,"div",34),v.cc("click",function(t){return t.stopPropagation()}),v.Vb(2,"div",35),v.Qb(3,"img",36),v.Ub(),v.Vb(4,"div",37),v.Rc(5),v.Ub(),v.Vb(6,"div",38),v.Vb(7,"button",39),v.cc("click",function(e){return v.Dc(t),v.gc(3).removeFile(e)}),v.Rc(8,"X\xf3a"),v.Ub(),v.Ub(),v.Ub(),v.Ub()}if(2&t){const t=v.gc(3);v.Db(5),v.Sc(t.file?t.file.name:"")}}function N(t,e){if(1&t&&(v.Vb(0,"span",40),v.Rc(1),v.Ub()),2&t){const t=v.gc(3);v.Db(1),v.Sc(t.form_obj?t.form_obj:"K\xe9o th\u1ea3 file Excel ho\u1eb7c Click \u0111\u1ec3 ch\u1ecdn file")}}function E(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",21),v.Vb(1,"div",22),v.cc("click",function(){return v.Dc(t),v.zc(8).click()}),v.Vb(2,"div",23),v.Vb(3,"div",24),v.Vb(4,"a",25),v.Vb(5,"mat-icon"),v.Rc(6,"cloud_upload"),v.Ub(),v.Ub(),v.Vb(7,"input",26,27),v.cc("change",function(e){return v.Dc(t),v.gc(2).onFileSelected(e)}),v.Ub(),v.Pc(9,L,2,0,"span",28),v.Pc(10,A,9,1,"ng-template",null,29,v.Qc),v.Pc(12,N,2,1,"span",30),v.Ub(),v.Ub(),v.Ub(),v.Vb(13,"div",31),v.Vb(14,"a",32),v.Vb(15,"span"),v.Rc(16,"T\u1ea3i file bi\u1ec3u m\u1eabu "),v.Ub(),v.Vb(17,"mat-icon"),v.Rc(18,"save_alt"),v.Ub(),v.Ub(),v.Ub(),v.Ub()}if(2&t){const t=v.zc(11),e=v.gc(2);v.Db(9),v.nc("ngIf",!e.file)("ngIfElse",t),v.Db(3),v.nc("ngIf",!e.file)}}function F(t,e){1&t&&(v.Vb(0,"div"),v.Rc(1," B\u1ea1n c\u1ea7n nh\u1eadp t\xean gi\xe1o vi\xean! "),v.Ub())}function W(t,e){if(1&t&&(v.Vb(0,"div",48),v.Pc(1,F,2,0,"div",19),v.Ub()),2&t){const t=v.gc(3);v.Db(1),v.nc("ngIf",t.getErrorType("fullName","required"))}}function B(t,e){1&t&&(v.Vb(0,"div"),v.Rc(1," B\u1ea1n ph\u1ea3i nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i. "),v.Ub())}function Q(t,e){1&t&&(v.Vb(0,"div"),v.Rc(1," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ph\u1ea3i l\xe0 10 s\u1ed1. "),v.Ub())}function $(t,e){if(1&t&&(v.Vb(0,"div",48),v.Pc(1,B,2,0,"div",19),v.Pc(2,Q,2,0,"div",19),v.Ub()),2&t){const t=v.gc(3);v.Db(1),v.nc("ngIf",t.getErrorType("phone","required")),v.Db(1),v.nc("ngIf",t.getErrorType("phone","minlength")||t.getErrorType("phone","maxlength"))}}function X(t,e){if(1&t&&(v.Vb(0,"div",21),v.Vb(1,"div",41),v.Vb(2,"label",42),v.Rc(3,"H\u1ecd v\xe0 t\xean"),v.Ub(),v.Vb(4,"div",43),v.Qb(5,"input",44),v.Ub(),v.Pc(6,W,2,1,"div",45),v.Ub(),v.Ub(),v.Vb(7,"div",21),v.Vb(8,"div",41),v.Vb(9,"label",46),v.Rc(10,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),v.Ub(),v.Vb(11,"div",43),v.Qb(12,"input",47),v.Ub(),v.Pc(13,$,3,2,"div",45),v.Ub(),v.Ub()),2&t){const t=v.gc(2);v.Db(6),v.nc("ngIf",t.form.controls.fullName.invalid&&t.form.controls.fullName.dirty),v.Db(7),v.nc("ngIf",t.form.controls.phone.invalid&&t.form.controls.phone.dirty)}}function q(t,e){1&t&&(v.Vb(0,"span"),v.Qb(1,"span",49),v.Rc(2,"\xa0"),v.Ub())}function J(t,e){1&t&&(v.Vb(0,"span"),v.Rc(1,"L\u01b0u"),v.Ub())}function H(t,e){1&t&&(v.Vb(0,"span"),v.Rc(1,"C\u1eadp nh\u1eadt"),v.Ub())}function K(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",1),v.Vb(1,"div",2),v.Vb(2,"form",3),v.Vb(3,"div",4),v.Pc(4,z,2,0,"p",5),v.Pc(5,G,2,0,"p",5),v.Vb(6,"button",6),v.cc("click",function(){return v.Dc(t),v.gc().btnCloseDialog(!1)}),v.Qb(7,"i",7),v.Ub(),v.Ub(),v.Pc(8,E,19,3,"div",8),v.Pc(9,X,14,2,"ng-template",null,9,v.Qc),v.Vb(11,"div",10),v.Vb(12,"div",11),v.Vb(13,"a",12),v.cc("click",function(){return v.Dc(t),v.gc().showImportExcel()}),v.Vb(14,"span",13),v.Rc(15),v.Ub(),v.Ub(),v.Ub(),v.Vb(16,"div",14),v.Vb(17,"div",15),v.Vb(18,"div",16),v.Vb(19,"button",17),v.cc("click",function(){return v.Dc(t),v.gc().btnCloseDialog(!1)}),v.Rc(20," H\u1ee7y "),v.Ub(),v.Vb(21,"button",18),v.cc("click",function(){return v.Dc(t),v.gc().confirmAction()}),v.Pc(22,q,3,0,"span",19),v.Pc(23,J,2,0,"span",19),v.Pc(24,H,2,0,"span",19),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Ub()}if(2&t){const t=v.zc(10),e=v.gc();v.Db(2),v.nc("formGroup",e.form),v.Db(2),v.nc("ngIf","add_teacher"==e.data.type),v.Db(1),v.nc("ngIf","edit_teacher"==e.data.type),v.Db(3),v.nc("ngIf",e.importExcel)("ngIfElse",t),v.Db(7),v.Sc(e.importExcel?"Quay l\u1ea1i":"Nh\u1eadp t\u1eeb File Excel"),v.Db(6),v.nc("disabled",e.status_obj.loading||e.form.invalid&&!e.importExcel||1==e.importExcel&&null==e.file),v.Db(1),v.nc("ngIf",e.status_obj.loading),v.Db(1),v.nc("ngIf","add_teacher"==e.data.type),v.Db(1),v.nc("ngIf","edit_teacher"==e.data.type)}}let Y=(()=>{class t{constructor(t,e,n){this.fb=t,this.commonService=e,this.apiCommonService=n,this.closeDialog=new v.o,this.subscriptions=new u.a,this.form=new o.k({}),this.isLoading=!0,this.typeString="",this.importExcel=!1,this.type=0,this.birthDay="",this.hideTime=!0,this.status_obj={loading:!1,error:!1,success:!1,error_obj:{message:""}},this.file=null}getError(t){return!(!this.form.controls[t]||!this.form.controls[t].errors)&&this.form.controls[t].errors}getErrorType(t,e){return!!(this.form.controls[t]&&this.form.controls[t].errors&&this.form.controls[t].errors[e])&&this.form.controls[t].errors[e]}onFileSelected(t){let e=t.target.files;this.file=e?e[0]:this.file,this.file&&["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(this.file.type)||(this.file=null,this.commonService.snackError("Vui l\xf2ng ch\u1ecdn \u0111\xfang t\u1ec7p tin Excel",""))}removeFile(t){t.stopPropagation(),this.file=null}confirmAction(){var t=this.commonService.getFormObj(this.form);if(this.status_obj={loading:!0,error:!1,success:!1,error_obj:{message:""}},this.importExcel){var e=new FormData;this.file&&e.append("File",this.file,this.file.name),this.subscriptions.add(this.apiCommonService.addTeacherWithExcel(e).subscribe(t=>{if(1==t.success){this.btnCloseDialog(!0);let e=t.data.saveSuccess?t.data.saveSuccess:0,n=t.data.totalTeacher?t.data.totalTeacher:0,i=t.data.notValidPhone?t.data.notValidPhone:0;this.status_obj={loading:!1,error:!1,success:!1,error_obj:{message:""}},this.commonService.snackSuccess("Th\xeam th\xe0nh c\xf4ng "+e+"/"+n+" gi\xe1o vi\xean v\xe0o danh b\u1ea1! Trong \u0111\xf3 c\xf3 "+i+" S\u0110T sai \u0111\u1ecbnh d\u1ea1ng.","")}else this.btnCloseDialog(!1),"lang_core_some_phone_duplicate_or_not_exist"==t.message?this.commonService.snackError("M\xf4\u0323t s\xf4\u0301 \u0111i\xea\u0323n thoa\u0323i chi\u0309 \u01b0\u0301ng v\u01a1\u0301i m\u1ed9t ta\u0300i khoa\u0309n, Vui lo\u0300ng ki\xea\u0309m tra la\u0323i d\u01b0\u0303 li\xea\u0323u trong file!",""):this.commonService.myTranslate([t.message,"lang_cms_common_ok"]).subscribe(e=>{this.commonService.snackError(e[t.message],e.lang_cms_common_ok)}),this.status_obj={loading:!1,error:!1,success:!1,error_obj:{message:""}}}))}else switch(this.data.type){case"add_teacher":this.form.valid&&this.subscriptions.add(this.apiCommonService.addTeacherObj({numberphone:t.phone,fullname:t.fullName}).subscribe(t=>{1==t.success?(this.btnCloseDialog(!0),this.commonService.snackSuccess("Th\xeam gi\xe1o vi\xean th\xe0nh c\xf4ng","")):(this.btnCloseDialog(!1),this.commonService.snackError("lang_core_teacher_exist"==t.message?"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i \u0111\xe3 t\u1ed3n t\u1ea1i":"Th\xeam gi\xe1o vi\xean kh\xf4ng th\xe0nh c\xf4ng","")),this.status_obj={loading:!1,error:!1,success:!1,error_obj:{message:""}}}));break;case"edit_teacher":this.form.valid&&this.subscriptions.add(this.apiCommonService.updateTeacherObj({id:this.data.obj.id,numberphone:t.phone,fullname:t.fullName}).subscribe(t=>{1==t.success?(this.btnCloseDialog(!0),this.commonService.snackSuccess("S\u1eeda th\xf4ng tin gi\xe1o vi\xean th\xe0nh c\xf4ng","")):(this.btnCloseDialog(!1),this.commonService.snackError("lang_core_teacher_exist"==t.message?"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i \u0111\xe3 t\u1ed3n t\u1ea1i":"S\u1eeda th\xf4ng tin gi\xe1o vi\xean kh\xf4ng th\xe0nh c\xf4ng","")),this.status_obj={loading:!1,error:!1,success:!1,error_obj:{message:""}}}))}}btnCloseDialog(t){t?this.closeDialog.emit(t):this.closeDialog.emit()}showImportExcel(){this.importExcel=!this.importExcel}ngOnInit(){this.form=this.fb.group({phone:["",[o.z.required,o.z.pattern("^[0-9]*$"),o.z.minLength(10),o.z.maxLength(10)]],fullName:new o.h("",[o.z.required]),File:new o.h("")}),"edit_teacher"==this.data.type&&(this.form.controls.phone.setValue(this.data.obj.phone),this.form.controls.fullName.setValue(this.data.obj.fullName))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(v.Pb(o.g),v.Pb(x.a),v.Pb(_.a))},t.\u0275cmp=v.Jb({type:t,selectors:[["app-add-teacher"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info"],[1,"form-horizontal",3,"formGroup"],[1,"heading"],["class","heading-title",4,"ngIf"],[1,"btn-delete",3,"click"],[1,"fa","fa-times"],["class","form-group",4,"ngIf","ngIfElse"],["NormalForm",""],[1,"row","ml-0","mr-0","pl-0","pr-0","justify-content-between"],[1,"col-12","col-sm-6","align-self-center","my-2"],[1,"clickable","text-info","float-left",3,"click"],[2,"vertical-align","middle"],[1,"col-12","col-sm-6","align-self-center"],[1,"d-flex","float-right"],[1,"azt-block-button"],["mat-stroked-button","",1,"btn-cannel",3,"click"],["mat-flat-button","",1,"btn-save",3,"disabled","click"],[4,"ngIf"],[1,"heading-title"],[1,"form-group"],[1,"col-sm-12","text-center","v-dragndrop","dropzone","dz-started","cur-po",3,"click"],[1,"px-4","py-3","rounded"],[1,"file"],["id","select-upload-file",1,"align-self-center","select","dz-clickable"],["type","file","formControlName","File","accept",".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",1,"form-control","file-input",3,"change"],["fileSelect",""],[4,"ngIf","ngIfElse"],["exitsFile",""],["class","d-block mt-20 text-dark-green mt-3",4,"ngIf"],[1,"text-center","file","mt-2"],["target","_self","href","https://5002373-s3user.cloudstorage.com.vn/viwewiin/storage_public/azota_assets/medias/excel_add_teacher_exp_v4.xlsx","download","excel_add_students_exp_v4.xlsx",1,"dz-clickable"],[1,"d-flex","align-items-center","justify-content-center","m-3"],[1,"fileinfo","p-3",3,"click"],[1,"title"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/excel.png","alt","excel icon",1,"img-fluid"],[1,"file-name"],[1,"action"],[1,"btn-remove",3,"click"],[1,"d-block","mt-20","text-dark-green","mt-3"],[1,"col-sm-12"],["for","full-name",1,"text-feild"],[1,"input-group","mb-3"],["type","text","placeholder","H\u1ecd v\xe0 t\xean","id","full-name","formControlName","fullName",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","number-phone",1,"text-feild"],["type","text","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","id","number-phone","formControlName","phone",1,"form-control"],[1,"alert","alert-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&v.Pc(0,K,25,10,"div",0),2&t&&v.nc("ngIf",e.data.isShow)},directives:[i.m,o.B,o.s,o.l,C.b,D.a,o.d,o.r,o.j],styles:["[_ngcontent-%COMP%]:focus{outline:none}button[_ngcontent-%COMP%]{border:none;background:transparent}.school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:rgba(60,60,60,.5)}.school-info[_ngcontent-%COMP%]{padding:15px;border-radius:5px;z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);width:600px;position:fixed;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 9px rgba(91,91,91,.35)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:#f0f8ff}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}.heading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:20px}.heading-title[_ngcontent-%COMP%]{margin:0;font-size:15px;font-weight:500}.btn-delete[_ngcontent-%COMP%]{font-weight:700;color:#838383;position:absolute;right:10px;top:15px}.text-feild[_ngcontent-%COMP%]{font-size:13px}.form-control[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#a7a7a7}.btn-cannel[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;transition:all .5s}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width:768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width:576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width:380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width:290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),t})();function Z(t,e){1&t&&(v.Vb(0,"p",22),v.Rc(1,"Th\xeam nh\xf3m gi\xe1o vi\xean"),v.Ub())}function tt(t,e){1&t&&(v.Vb(0,"p",22),v.Rc(1,"S\u1eeda nh\xf3m gi\xe1o vi\xean"),v.Ub())}function et(t,e){1&t&&(v.Vb(0,"div"),v.Rc(1," B\u1ea1n c\u1ea7n nh\u1eadp t\xean nh\xf3m! "),v.Ub())}function nt(t,e){if(1&t&&(v.Vb(0,"div",23),v.Pc(1,et,2,0,"div",21),v.Ub()),2&t){const t=v.gc(2);v.Db(1),v.nc("ngIf",t.getErrorType("groupName","required"))}}function it(t,e){1&t&&(v.Vb(0,"span"),v.Qb(1,"span",24),v.Rc(2,"\xa0"),v.Ub())}function ot(t,e){1&t&&(v.Vb(0,"span"),v.Rc(1,"L\u01b0u"),v.Ub())}function ct(t,e){1&t&&(v.Vb(0,"span"),v.Rc(1,"C\u1eadp nh\u1eadt"),v.Ub())}function at(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",1),v.Vb(1,"div",2),v.Vb(2,"form",3),v.Vb(3,"div",4),v.Pc(4,Z,2,0,"p",5),v.Pc(5,tt,2,0,"p",5),v.Vb(6,"button",6),v.cc("click",function(){return v.Dc(t),v.gc().btnCloseDialog(!1)}),v.Qb(7,"i",7),v.Ub(),v.Ub(),v.Vb(8,"div",8),v.Vb(9,"div",9),v.Vb(10,"div",10),v.Vb(11,"label",11),v.Rc(12,"T\xean nh\xf3m"),v.Ub(),v.Vb(13,"div",12),v.Qb(14,"input",13),v.Ub(),v.Pc(15,nt,2,1,"div",14),v.Ub(),v.Ub(),v.Ub(),v.Vb(16,"div",15),v.Vb(17,"div",16),v.Vb(18,"div",17),v.Vb(19,"div",18),v.Vb(20,"button",19),v.cc("click",function(){return v.Dc(t),v.gc().btnCloseDialog(!1)}),v.Rc(21," H\u1ee7y "),v.Ub(),v.Vb(22,"button",20),v.cc("click",function(){return v.Dc(t),v.gc().confirmAction()}),v.Pc(23,it,3,0,"span",21),v.Pc(24,ot,2,0,"span",21),v.Pc(25,ct,2,0,"span",21),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Ub()}if(2&t){const t=v.gc();v.Db(2),v.nc("formGroup",t.form),v.Db(2),v.nc("ngIf",""==t.data.obj),v.Db(1),v.nc("ngIf",""!=t.data.obj),v.Db(10),v.nc("ngIf",t.form.controls.groupName.invalid&&t.form.controls.groupName.dirty),v.Db(7),v.nc("disabled",t.status_obj.loading||t.form.invalid),v.Db(1),v.nc("ngIf",t.status_obj.loading),v.Db(1),v.nc("ngIf",""==t.data.obj),v.Db(1),v.nc("ngIf",""!=t.data.obj)}}let st=(()=>{class t{constructor(t,e,n){this.fb=t,this.commonService=e,this.apiCommonService=n,this.closeDialog=new v.o,this.subscriptions=new u.a,this.form=new o.k({}),this.isLoading=!0,this.typeString="",this.type=0,this.status_obj={loading:!1,error:!1,success:!1,error_obj:{message:""}}}getError(t){return!(!this.form.controls[t]||!this.form.controls[t].errors)&&this.form.controls[t].errors}getErrorType(t,e){return!!(this.form.controls[t]&&this.form.controls[t].errors&&this.form.controls[t].errors[e])&&this.form.controls[t].errors[e]}confirmAction(){if(""===this.data.obj){var t=this.commonService.getFormObj(this.form);this.status_obj={loading:!0,error:!1,success:!1,error_obj:{message:""}},this.form.valid&&this.subscriptions.add(this.apiCommonService.addGroupTeacherObj({groupName:t.groupName}).subscribe(t=>{1==t.success?(this.btnCloseDialog(!0),this.status_obj={loading:!1,error:!1,success:!1,error_obj:{message:""}},this.commonService.snackSuccess("Th\xeam nh\xf3m th\xe0nh c\xf4ng","")):(this.btnCloseDialog(!1),this.commonService.snackError("Th\xeam nh\xf3m kh\xf4ng th\xe0nh c\xf4ng",""),this.status_obj={loading:!1,error:!1,success:!1,error_obj:{message:""}})}))}else t=this.commonService.getFormObj(this.form),this.status_obj={loading:!0,error:!1,success:!1,error_obj:{message:""}},this.form.valid&&this.subscriptions.add(this.apiCommonService.updateGroupTeacher({id:this.data.obj.id,groupName:t.groupName}).subscribe(t=>{1==t.success?(this.btnCloseDialog(!0),this.status_obj={loading:!1,error:!1,success:!1,error_obj:{message:""}},this.commonService.snackSuccess("S\u1eeda nh\xf3m th\xe0nh c\xf4ng","")):(this.btnCloseDialog(!1),this.commonService.snackError("S\u1eeda nh\xf3m kh\xf4ng th\xe0nh c\xf4ng",""),this.status_obj={loading:!1,error:!1,success:!1,error_obj:{message:""}})}))}btnCloseDialog(t){t?this.closeDialog.emit(t):this.closeDialog.emit()}ngOnInit(){this.form=this.fb.group({groupName:new o.h("",[o.z.required])}),""!=this.data.obj&&this.form.controls.groupName.setValue(this.data.obj.name)}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(v.Pb(o.g),v.Pb(x.a),v.Pb(_.a))},t.\u0275cmp=v.Jb({type:t,selectors:[["app-add-group"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info"],[1,"form-horizontal",3,"formGroup"],[1,"heading"],["class","heading-title",4,"ngIf"],[1,"btn-delete",3,"click"],[1,"fa","fa-times"],[1,"form-content"],[1,"form-group"],[1,"col-sm-12"],["for","full-name",1,"text-feild"],[1,"input-group","mb-3"],["type","text","placeholder","T\xean nh\xf3m","id","full-name","formControlName","groupName",1,"form-control"],["class","alert alert-danger",4,"ngIf"],[1,"row","ml-0","mr-0","pl-0","pr-0","justify-content-between"],[1,"col-12","text-right"],[1,"d-flex","float-right"],[1,"azt-block-button"],["mat-stroked-button","",1,"btn-cannel",3,"click"],["mat-flat-button","",1,"btn-save",3,"disabled","click"],[4,"ngIf"],[1,"heading-title"],[1,"alert","alert-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&v.Pc(0,at,26,8,"div",0),2&t&&v.nc("ngIf",e.data.isShow)},directives:[i.m,o.B,o.s,o.l,o.d,o.r,o.j,C.b],styles:["[_ngcontent-%COMP%]:focus{outline:none}button[_ngcontent-%COMP%]{border:none;background:transparent}.school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:rgba(60,60,60,.5)}.school-info[_ngcontent-%COMP%]{padding:15px;border-radius:5px;z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);width:600px;position:fixed;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 9px rgba(91,91,91,.35)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:#f0f8ff}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}.heading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:20px}.heading-title[_ngcontent-%COMP%]{margin:0;font-size:15px;font-weight:500}.btn-delete[_ngcontent-%COMP%]{font-weight:700;color:#838383;position:absolute;right:10px;top:15px}.text-feild[_ngcontent-%COMP%]{font-size:13px}.form-control[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#a7a7a7}.btn-cannel[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;transition:all .5s}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width:768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width:576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width:380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width:290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),t})();const rt=["drawer"];function lt(t,e){1&t&&v.Qb(0,"azt-loading-effect")}const dt=function(t){return{"class-active":t}};function ht(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",26),v.Vb(1,"button",27),v.cc("click",function(){v.Dc(t);const n=e.$implicit;return v.gc(4).clickGroup(n)}),v.Vb(2,"mat-icon",28),v.Rc(3,"people"),v.Ub(),v.Vb(4,"span",29),v.Rc(5),v.Ub(),v.Ub(),v.Vb(6,"button",30),v.Vb(7,"mat-icon"),v.Rc(8,"more_vert"),v.Ub(),v.Ub(),v.Vb(9,"mat-menu",null,31),v.Vb(11,"button",32),v.cc("click",function(){v.Dc(t);const n=e.$implicit;return v.gc(4).deleteGroup(n)}),v.Vb(12,"mat-icon"),v.Rc(13,"delete"),v.Ub(),v.Vb(14,"span"),v.Rc(15,"X\xf3a"),v.Ub(),v.Ub(),v.Vb(16,"button",32),v.cc("click",function(){v.Dc(t);const n=e.$implicit;return v.gc(4).editGroup(n)}),v.Vb(17,"mat-icon"),v.Rc(18,"edit"),v.Ub(),v.Vb(19,"span"),v.Rc(20,"S\u1eeda"),v.Ub(),v.Ub(),v.Ub(),v.Ub()}if(2&t){const t=e.$implicit,n=v.zc(10),i=v.gc(4);v.nc("ngClass",v.sc(4,dt,t.id==i.groupId)),v.Db(1),v.nc("id","group_id_"+t.id),v.Db(4),v.Sc(t.name),v.Db(1),v.nc("matMenuTriggerFor",n)}}function bt(t,e){if(1&t&&(v.Vb(0,"div",24),v.Pc(1,ht,21,6,"div",25),v.hc(2,"appFilter"),v.Ub()),2&t){const t=v.gc(3);v.Db(1),v.nc("ngForOf",v.jc(2,1,t.teacherGroupObj.groups,t.searchKey))}}function gt(t,e){if(1&t&&v.Qb(0,"azt-create-avatar",39),2&t){const t=v.gc().$implicit;v.pc("matTooltip","id: ",t.teacherId,""),v.nc("nameCreateAvatar",t.fullName)("size",30)}}function pt(t,e){if(1&t&&v.Qb(0,"azt-create-avatar",40),2&t){const t=v.gc().$implicit;v.nc("nameCreateAvatar",t.fullName)("size",30)}}function mt(t,e){1&t&&(v.Vb(0,"p",41),v.Rc(1,"Ch\u01b0a \u0111\u0103ng k\xfd"),v.Ub())}function ut(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",26),v.Vb(1,"button",27),v.cc("click",function(){v.Dc(t);const n=e.$implicit;return v.gc(4).clickUser(n)}),v.Pc(2,gt,1,3,"azt-create-avatar",33),v.Pc(3,pt,1,2,"azt-create-avatar",34),v.Vb(4,"div",35),v.Vb(5,"p",36),v.Rc(6),v.Ub(),v.Vb(7,"p",37),v.Rc(8),v.Ub(),v.Pc(9,mt,2,0,"p",38),v.Ub(),v.Ub(),v.Vb(10,"button",30),v.Vb(11,"mat-icon"),v.Rc(12,"more_vert"),v.Ub(),v.Ub(),v.Vb(13,"mat-menu",null,31),v.Vb(15,"button",32),v.cc("click",function(){v.Dc(t);const n=e.$implicit;return v.gc(4).deleteTeacher(n)}),v.Vb(16,"mat-icon"),v.Rc(17,"delete"),v.Ub(),v.Vb(18,"span"),v.Rc(19,"X\xf3a"),v.Ub(),v.Ub(),v.Vb(20,"button",32),v.cc("click",function(){v.Dc(t);const n=e.$implicit;return v.gc(4).editTeacher(n)}),v.Vb(21,"mat-icon"),v.Rc(22,"edit"),v.Ub(),v.Vb(23,"span"),v.Rc(24,"S\u1eeda"),v.Ub(),v.Ub(),v.Ub(),v.Ub()}if(2&t){const t=e.$implicit,n=v.zc(14),i=v.gc(4);v.nc("ngClass",v.sc(8,dt,t.id==i.teacherId)),v.Db(1),v.nc("id","teacher_id_"+t.id),v.Db(1),v.nc("ngIf",null!=t.teacherId),v.Db(1),v.nc("ngIf",null==t.teacherId),v.Db(3),v.Sc(t.fullName),v.Db(2),v.Sc(t.phone),v.Db(1),v.nc("ngIf",null==t.teacherId),v.Db(1),v.nc("matMenuTriggerFor",n)}}function ft(t,e){if(1&t&&(v.Vb(0,"div",24),v.Pc(1,ut,25,10,"div",25),v.hc(2,"appFilter"),v.Ub()),2&t){const t=v.gc(3);v.Db(1),v.nc("ngForOf",v.jc(2,1,t.teacherGroupObj.teachers,t.searchKey))}}function vt(t,e){if(1&t&&(v.Vb(0,"div",22),v.Pc(1,bt,3,4,"div",23),v.Pc(2,ft,3,4,"div",23),v.Ub()),2&t){const t=v.gc(2);v.Db(1),v.nc("ngIf",t.teacherGroupObj.groups),v.Db(1),v.nc("ngIf",t.teacherGroupObj.teachers)}}function xt(t,e){1&t&&(v.Vb(0,"div",42),v.Vb(1,"span",43),v.Rc(2,"Ch\u01b0a c\xf3 nh\xf3m ho\u1eb7c gi\xe1o vi\xean n\xe0o! Vui l\xf2ng t\u1ea1o th\xeam"),v.Ub(),v.Ub())}function _t(t,e){1&t&&(v.Vb(0,"div",44),v.Vb(1,"div",45),v.Vb(2,"span",46),v.Rc(3,"Loading..."),v.Ub(),v.Ub(),v.Ub())}function Pt(t,e){if(1&t){const t=v.Wb();v.Vb(0,"a",58),v.cc("click",function(){return v.Dc(t),v.gc(3).toggleDrawer()}),v.Vb(1,"mat-icon",59),v.Rc(2,"menu_open"),v.Ub(),v.Ub()}}function kt(t,e){if(1&t){const t=v.Wb();v.Vb(0,"a",60),v.cc("click",function(){return v.Dc(t),v.gc(3).toggleDrawer()}),v.Vb(1,"mat-icon",61),v.Rc(2,"menu_open"),v.Ub(),v.Ub()}}function Dt(t,e){if(1&t&&v.Qb(0,"azt-create-avatar",39),2&t){const t=v.gc().$implicit;v.pc("matTooltip","id: ",t.teacherId,""),v.nc("nameCreateAvatar",t.fullName)("size",30)}}function Ct(t,e){if(1&t&&v.Qb(0,"azt-create-avatar",40),2&t){const t=v.gc().$implicit;v.nc("nameCreateAvatar",t.fullName)("size",30)}}function Ot(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",89),v.Pc(1,Dt,1,3,"azt-create-avatar",33),v.Pc(2,Ct,1,2,"azt-create-avatar",34),v.Vb(3,"div",35),v.Vb(4,"p",36),v.Rc(5),v.Ub(),v.Ub(),v.Vb(6,"button",90),v.cc("click",function(){v.Dc(t);const n=e.$implicit,i=e.index;return v.gc(4).deleteDialog(n,i)}),v.Qb(7,"i",91),v.Ub(),v.Ub()}if(2&t){const t=e.$implicit;v.Db(1),v.nc("ngIf",null!=t.teacherId),v.Db(1),v.nc("ngIf",null==t.teacherId),v.Db(3),v.Sc(t.fullName)}}function Mt(t,e){if(1&t&&v.Qb(0,"azt-create-avatar",39),2&t){const t=v.gc().$implicit;v.pc("matTooltip","id:",t.teacherId,""),v.nc("nameCreateAvatar",t.fullName)("size",30)}}function Vt(t,e){if(1&t&&v.Qb(0,"azt-create-avatar",40),2&t){const t=v.gc().$implicit;v.nc("nameCreateAvatar",t.fullName)("size",30)}}function Ut(t,e){1&t&&v.Qb(0,"div",96)}const wt=function(t){return{"color-disabled":t}};function yt(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div"),v.Vb(1,"div",93),v.Vb(2,"button",94),v.cc("click",function(){v.Dc(t);const n=e.$implicit;return v.gc(5).addMemberInGroup(n)}),v.Pc(3,Mt,1,3,"azt-create-avatar",33),v.Pc(4,Vt,1,2,"azt-create-avatar",34),v.Vb(5,"div",35),v.Vb(6,"p",36),v.Rc(7),v.Ub(),v.Ub(),v.Ub(),v.Pc(8,Ut,1,0,"div",95),v.Ub(),v.Ub()}if(2&t){const t=e.$implicit,n=v.gc(5);v.Db(1),v.nc("disabled",0==n.isLoadingMoreMembers),v.Db(1),v.nc("ngClass",v.sc(6,wt,t.inGroup)),v.Db(1),v.nc("ngIf",null!=t.teacherId),v.Db(1),v.nc("ngIf",null==t.teacherId),v.Db(3),v.Sc(t.fullName),v.Db(1),v.nc("ngIf",n.isLoadingMoreMembers==t.id)}}function It(t,e){if(1&t&&(v.Vb(0,"div"),v.Pc(1,yt,9,8,"div",92),v.hc(2,"appFilter"),v.Ub()),2&t){const t=v.gc(4);v.Db(1),v.nc("ngForOf",v.jc(2,1,t.dataTeacherSearch,t.searchValue))}}function St(t,e){1&t&&(v.Vb(0,"div",97),v.Vb(1,"span"),v.Rc(2,"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u"),v.Ub(),v.Ub())}function Tt(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",62),v.Vb(1,"div",63),v.Vb(2,"div",64),v.Vb(3,"h3",65),v.Rc(4," Th\xe0nh vi\xean trong nh\xf3m: "),v.Vb(5,"span",66),v.Rc(6),v.Ub(),v.Ub(),v.Ub(),v.Vb(7,"div",67),v.Vb(8,"button",68),v.Vb(9,"i",69),v.Rc(10,"person_add"),v.Ub(),v.Vb(11,"span",70),v.Rc(12,"Th\xeam nhi\u1ec1u"),v.Ub(),v.Ub(),v.Vb(13,"button",71),v.cc("click",function(){return v.Dc(t),v.gc(3).deleteAllTeacherGroup()}),v.Vb(14,"i",69),v.Rc(15,"delete"),v.Ub(),v.Vb(16,"span",70),v.Rc(17,"X\xf3a t\u1ea5t c\u1ea3"),v.Ub(),v.Ub(),v.Vb(18,"mat-menu",null,72),v.Vb(20,"div",73),v.cc("click",function(t){return t.stopPropagation()}),v.Vb(21,"div",74),v.Vb(22,"p",75),v.Rc(23,"Danh s\xe1ch S\u0110T gi\xe1o vi\xean"),v.Ub(),v.Vb(24,"form",76),v.Qb(25,"textarea",77),v.Ub(),v.Ub(),v.Vb(26,"div",78),v.Vb(27,"small",79),v.Rc(28,"* Nh\u1eadp m\u1ed7i S\u0110T tr\xean 1 d\xf2ng ho\u1eb7c \u0111\u01b0\u1ee3c t\xe1ch nhau b\u1edfi d\u1ea5u c\xe1ch."),v.Ub(),v.Ub(),v.Vb(29,"div",80),v.Vb(30,"button",81),v.cc("click",function(){return v.Dc(t),v.gc(3).addAllTeacherToGroup()}),v.Vb(31,"i",69),v.Rc(32,"add"),v.Ub(),v.Vb(33,"span",70),v.Rc(34,"Th\xeam"),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Vb(35,"div",82),v.Pc(36,Ot,8,3,"div",83),v.Vb(37,"div",84),v.Vb(38,"button",85),v.cc("click",function(){return v.Dc(t),v.gc(3).addMember()}),v.Vb(39,"i",69),v.Rc(40,"person_add"),v.Ub(),v.Vb(41,"span",86),v.Rc(42,"Th\xeam th\xe0nh vi\xean"),v.Ub(),v.Ub(),v.Vb(43,"mat-menu",null,31),v.Vb(45,"div",73),v.cc("click",function(t){return t.stopPropagation()}),v.Vb(46,"div",9),v.Vb(47,"input",10),v.cc("ngModelChange",function(e){return v.Dc(t),v.gc(3).searchValue=e}),v.Ub(),v.Vb(48,"mat-icon",11),v.Rc(49,"search"),v.Ub(),v.Ub(),v.Vb(50,"div",87),v.Vb(51,"div",24),v.Pc(52,It,3,4,"div",1),v.Pc(53,St,3,0,"ng-template",null,88,v.Qc),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Ub()}if(2&t){const t=v.zc(19),e=v.zc(44),n=v.zc(54),i=v.gc(3);v.Db(6),v.Tc(" ",i.groupObj.name," "),v.Db(2),v.nc("matMenuTriggerFor",t),v.Db(16),v.nc("formGroup",i.form),v.Db(12),v.nc("ngForOf",i.teachersInGroup),v.Db(2),v.nc("matMenuTriggerFor",e),v.Db(9),v.nc("ngModel",i.searchValue),v.Db(5),v.nc("ngIf",i.dataTeacherSearch)("ngIfElse",n)}}function jt(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",114),v.Vb(1,"input",115),v.cc("change",function(n){v.Dc(t);const i=e.index,o=v.gc(2),c=o.$implicit,a=o.index;return v.gc(5).onCheckChange(n,c,a,i)}),v.Ub(),v.Vb(2,"label",116),v.Rc(3),v.Ub(),v.Ub()}if(2&t){const t=e.$implicit,n=e.index,i=v.gc(2).index;v.Db(1),v.nc("id","role_"+i+"_"+n)("checked",t.checked),v.Db(1),v.nc("for","role_"+i+"_"+n),v.Db(1),v.Tc(" ",t.description," ")}}function Rt(t,e){if(1&t&&(v.Vb(0,"div",109),v.Vb(1,"div",110),v.Vb(2,"h3",111),v.Rc(3),v.Ub(),v.Vb(4,"div",112),v.Pc(5,jt,4,4,"div",113),v.Ub(),v.Ub(),v.Ub()),2&t){const t=v.gc().$implicit;v.Db(2),v.oc("matTooltip",t.name),v.Db(1),v.Tc(" ",t.name," "),v.Db(2),v.nc("ngForOf",t.permissionArray)}}function zt(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",114),v.Vb(1,"input",115),v.cc("change",function(n){v.Dc(t);const i=e.index,o=v.gc(2),c=o.$implicit,a=o.index;return v.gc(5).onCheckChange(n,c,a,i)}),v.Ub(),v.Vb(2,"label",116),v.Rc(3),v.Ub(),v.Ub()}if(2&t){const t=e.$implicit,n=e.index,i=v.gc(2).index;v.Db(1),v.nc("id","role_"+i+"_"+n)("checked",t.checked),v.Db(1),v.nc("for","role_"+i+"_"+n),v.Db(1),v.Tc(" ",t.description," ")}}function Gt(t,e){if(1&t&&(v.Vb(0,"div",109),v.Vb(1,"div",110),v.Vb(2,"h3",111),v.Rc(3),v.Ub(),v.Vb(4,"div",112),v.Pc(5,zt,4,4,"div",113),v.Ub(),v.Ub(),v.Ub()),2&t){const t=v.gc().$implicit;v.Db(2),v.oc("matTooltip",t.name),v.Db(1),v.Tc(" ",t.name," "),v.Db(2),v.nc("ngForOf",t.permissionArray)}}function Lt(t,e){if(1&t&&(v.Tb(0),v.Pc(1,Rt,6,3,"div",108),v.Pc(2,Gt,6,3,"div",108),v.Sb()),2&t){const t=e.$implicit,n=v.gc(5);v.Db(1),v.nc("ngIf",n.hasPermissionClass&&t.teamPermisions),v.Db(1),v.nc("ngIf",!n.hasPermissionClass)}}function At(t,e){if(1&t&&(v.Vb(0,"div",106),v.Vb(1,"div",107),v.Pc(2,Lt,3,2,"ng-container",92),v.Ub(),v.Ub()),2&t){const t=v.gc(4);v.Db(2),v.nc("ngForOf",t.classListData)}}function Nt(t,e){1&t&&(v.Vb(0,"div",117),v.Vb(1,"span",43),v.Rc(2,"Ch\u01b0a c\xf3 d\u1eef li\u1ec7u"),v.Ub(),v.Ub())}function Et(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",98),v.Vb(1,"div",63),v.Vb(2,"div",64),v.Vb(3,"h3",65),v.Rc(4," Ph\xe2n quy\u1ec1n trong l\u1edbp "),v.Ub(),v.Vb(5,"a",99),v.Vb(6,"span"),v.Rc(7,"T\xecm hi\u1ec3u th\xeam"),v.Ub(),v.Qb(8,"i",100),v.Ub(),v.Ub(),v.Vb(9,"div",101),v.Vb(10,"input",102),v.cc("ngModelChange",function(e){return v.Dc(t),v.gc(3).hasPermissionClass=e}),v.Ub(),v.Vb(11,"label",103),v.Rc(12," Ch\u1ec9 hi\u1ec7n nh\u1eefng l\u1edbp \u0111\xe3 g\xe1n quy\u1ec1n "),v.Ub(),v.Ub(),v.Ub(),v.Pc(13,At,3,1,"div",104),v.Pc(14,Nt,3,0,"ng-template",null,105,v.Qc),v.Ub()}if(2&t){const t=v.zc(15),e=v.gc(3);v.Db(10),v.nc("ngModel",e.hasPermissionClass),v.Db(3),v.nc("ngIf",e.classListData.length>0)("ngIfElse",t)}}function Ft(t,e){1&t&&(v.Vb(0,"span"),v.Qb(1,"span",118),v.Rc(2,"\xa0"),v.Ub())}function Wt(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",47),v.Vb(1,"div",48),v.Pc(2,Pt,3,0,"a",49),v.Pc(3,kt,3,0,"a",50),v.Ub(),v.Vb(4,"div",51),v.Pc(5,Tt,55,8,"div",52),v.Pc(6,Et,16,3,"div",53),v.Vb(7,"div",54),v.Vb(8,"button",55),v.cc("click",function(){return v.Dc(t),v.gc(2).clickCannel()}),v.Rc(9,"H\u1ee7y"),v.Ub(),v.Vb(10,"button",56),v.cc("click",function(){return v.Dc(t),v.gc(2).saveData()}),v.Pc(11,Ft,3,0,"span",57),v.Rc(12," L\u01b0u "),v.Ub(),v.Ub(),v.Ub(),v.Ub()}if(2&t){const t=v.gc(2);v.Db(2),v.nc("ngIf",!t.isOpenSideNav||t.isMobile),v.Db(1),v.nc("ngIf",t.isOpenSideNav&&!t.isMobile),v.Db(2),v.nc("ngIf",t.checkGroup),v.Db(1),v.nc("ngIf",t.checkRoleUser),v.Db(4),v.nc("disabled",t.isLoadingBtn),v.Db(1),v.nc("ngIf",t.isLoadingBtn)}}function Bt(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-delete-dialog",119),v.cc("closeDialog",function(e){return v.Dc(t),v.gc(2).closeDeleteMemberInGroup(e)}),v.Ub()}if(2&t){const t=v.gc(2);v.nc("data",t.dataDeleteDialog)}}function Qt(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-add-teacher",119),v.cc("closeDialog",function(e){return v.Dc(t),v.gc(2).closeAddTeacher(e)}),v.Ub()}if(2&t){const t=v.gc(2);v.nc("data",t.dataAddTeacherDialog)}}function $t(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-add-group",119),v.cc("closeDialog",function(e){return v.Dc(t),v.gc(2).closeAddGroup(e)}),v.Ub()}if(2&t){const t=v.gc(2);v.nc("data",t.dataAddGroupDialog)}}const Xt=function(t,e){return{"w-80":t,"w-33":e}};function qt(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",3),v.cc("resize",function(e){return v.Dc(t),v.gc().onResize(e)},!1,v.Cc),v.Vb(1,"mat-drawer-container",4),v.Vb(2,"mat-drawer",5,6),v.Vb(4,"div",7),v.Vb(5,"div",8),v.Vb(6,"div",9),v.Vb(7,"input",10),v.cc("ngModelChange",function(e){return v.Dc(t),v.gc().searchKey=e}),v.Ub(),v.Vb(8,"mat-icon",11),v.Rc(9,"search"),v.Ub(),v.Ub(),v.Pc(10,vt,3,2,"div",12),v.Pc(11,xt,3,0,"ng-template",null,13,v.Qc),v.Vb(13,"div",14),v.Vb(14,"button",15),v.cc("click",function(){return v.Dc(t),v.gc().addTeacher("")}),v.Rc(15,"+ Th\xeam gi\xe1o vi\xean"),v.Ub(),v.Vb(16,"button",16),v.cc("click",function(){return v.Dc(t),v.gc().addGroup()}),v.Rc(17,"+ Th\xeam nh\xf3m gi\xe1o vi\xean"),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Vb(18,"mat-drawer-content",17),v.Vb(19,"div",18),v.Pc(20,_t,4,0,"div",19),v.Pc(21,Wt,13,6,"ng-template",null,20,v.Qc),v.Ub(),v.Ub(),v.Ub(),v.Pc(23,Bt,1,1,"app-delete-dialog",21),v.Pc(24,Qt,1,1,"app-add-teacher",21),v.Pc(25,$t,1,1,"app-add-group",21),v.Ub()}if(2&t){const t=v.zc(12),e=v.zc(22),n=v.gc();v.Db(1),v.nc("hasBackdrop",n.hasBackdrop),v.Db(1),v.oc("opened",n.isMobile?"false":"true"),v.nc("mode",n.mode)("ngClass",v.tc(12,Xt,n.isMobile,!n.isMobile)),v.Db(5),v.nc("ngModel",n.searchKey),v.Db(3),v.nc("ngIf",n.teacherGroupObj.groups.length>0||n.teacherGroupObj.teachers.length>0)("ngIfElse",t),v.Db(10),v.nc("ngIf",n.isLoadingData)("ngIfElse",e),v.Db(3),v.nc("ngIf",n.dataDeleteDialog.isShow),v.Db(1),v.nc("ngIf",n.dataAddTeacherDialog.isShow),v.Db(1),v.nc("ngIf",n.dataAddGroupDialog.isShow)}}let Jt=(()=>{class t{constructor(t,e,n,i,c,a){this.activeRoute=t,this.commonService=e,this.apiCommonService=n,this.router=i,this.fb=c,this.vps=a,this.subscriptions=new u.a,this.form=new o.k({}),this.isLoadingPage=!0,this.isLoadingData=!1,this.checkActiveBtn=!1,this.isLoadingBtn=!1,this.isLoadingAddMember=!1,this.type=2,this.idParam=null,this.drawer=m.a,this.hasBackdrop=!1,this.mode="side",this.isMobile=!1,this.isShowActions=!0,this.isOpenSideNav=!0,this.isHomeworkFlow=!1,this.dataAddTeacherDialog={obj:"",isShow:!1},this.dataAddGroupDialog={obj:"",isShow:!1},this.addMemberDialog=!1,this.checkGroup=!1,this.checkRoleUser=!1,this.dataDeleteDialog={obj:"",groupId:"",isShow:!1,index:-1},this.searchValue="",this.searchKey="",this.teacherGroupObj={groups:[""],teachers:[]},this.groupId=null,this.teacherId=null,this.teachersInGroup=[],this.classListData=[],this.permissionData=[],this.hasPermissionClass=!1,this.classListPermission=[],this.filterDataClass=[],this.dataTeacherSearch=[]}onScroll(t){const e=window.pageYOffset;if(this.isMobile){let t=document.getElementById("toggle-nav");e>0?t.classList.add("fixed-nav"):t.classList.remove("fixed-nav")}}clickCannel(){this.checkGroup&&this.checkRoleUser?this.getTeacherInGroup(this.groupId):this.getPermissionMyTeacher(this.teacherId)}addTeacher(t){this.dataAddTeacherDialog={obj:t,isShow:!0,type:"add_teacher"}}editTeacher(t){this.dataAddTeacherDialog={obj:t,isShow:!0,type:"edit_teacher"}}deleteTeacher(t){this.dataDeleteDialog={obj:t,groupId:this.groupId,isShow:!0,index:0,type:"delete_teacher"}}editGroup(t){this.dataAddGroupDialog={obj:t,isShow:!0}}deleteGroup(t){this.dataDeleteDialog={obj:t,groupId:this.groupId,isShow:!0,index:0,type:"delete_group"}}addGroup(){this.dataAddGroupDialog={obj:"",isShow:!0}}addMember(){this.addMemberDialog=!this.addMemberDialog}closeAddTeacher(t){t?(this.dataAddTeacherDialog={obj:"",isShow:!1},this.getData()):this.dataAddTeacherDialog={obj:"",isShow:!1}}closeAddGroup(t){t?(this.dataAddGroupDialog={obj:"",isShow:!1},this.getData()):this.dataAddGroupDialog={obj:"",isShow:!1}}clickGroup(t){this.checkGroup=!0,this.checkRoleUser=!0,this.checkActiveBtn=!1,this.groupId=t.id,this.teacherId=null,this.getTeacherInGroup(this.groupId),this.isMobile&&this.toggleDrawer(),this.commonService.myNavigation("/admin/teacher-group/0/"+this.groupId)}clickUser(t){this.checkGroup=!1,this.checkRoleUser=!0,this.checkActiveBtn=!1,this.teacherId=t.id,this.groupId=null,this.getPermissionMyTeacher(t.id),this.isMobile&&this.toggleDrawer(),this.commonService.myNavigation("/admin/teacher-group/1/"+this.teacherId)}closeDeleteMemberInGroup(t){if(t)switch(t.type){case"delete_member":this.getTeacherInGroup(this.groupId),this.teachersInGroup.splice(this.dataDeleteDialog.index,1),this.dataDeleteDialog={obj:"",groupId:"",isShow:!1,index:-1};break;case"delete_group":case"delete_teacher":this.getData(),this.dataDeleteDialog={obj:"",groupId:"",isShow:!1,index:-1},this.commonService.myNavigation("/admin/teacher-group/2/0");break;case"delete_all_teacher_group":this.getTeacherInGroup(this.groupId),this.dataDeleteDialog={obj:"",groupId:"",isShow:!1,index:-1}}else this.dataDeleteDialog={obj:"",groupId:"",isShow:!1,index:-1}}deleteDialog(t,e){this.dataDeleteDialog={obj:t,groupId:this.groupId,isShow:!0,index:e,type:"delete_member"}}deleteAllTeacherGroup(){var t=[];this.teachersInGroup.forEach(e=>{this.commonService.filterArray(t,e.id)||t.push(e.id)}),this.dataDeleteDialog={groupObj:this.groupObj,teacherIds:t,type:"delete_all_teacher_group",isShow:!0}}toggleShowActions(){this.isShowActions=!this.isShowActions}toggleDrawer(){this.drawer.toggle(),this.isOpenSideNav=!this.isOpenSideNav}onResize(t){t.target.innerWidth<768?(this.isMobile=!0,this.mode="over",this.hasBackdrop=!0,this.isShowActions=!0,this.isOpenSideNav=!0):(this.isMobile=!1,this.mode="side",this.hasBackdrop=!1,this.isShowActions=!0,this.isOpenSideNav=!0)}checkWidth(){window.innerWidth<768?(this.isMobile=!0,this.mode="over",this.isShowActions=!0,this.hasBackdrop=!0,this.isOpenSideNav=!0):(this.isMobile=!1,this.mode="side",this.isShowActions=!0,this.hasBackdrop=!1)}getData(){this.isLoadingPage=!0,this.apiCommonService.getTeacherGroupObjs().subscribe(t=>{1==t.success?(this.teacherGroupObj=t.data,this.listGroups=t.data.groups,this.listTeachers=t.data.teachers,this.listTeachers=this.commonService.sortFirstNameStudents(this.listTeachers),2!=this.type&&null!=this.type||(this.teacherGroupObj.groups.length>0?(this.checkGroup=!0,this.checkRoleUser=!0,this.getTeacherInGroup(this.teacherGroupObj.groups[0].id)):(this.checkGroup=!1,this.checkRoleUser=!1),0==this.teacherGroupObj.groups.length&&this.teacherGroupObj.teachers.length>0&&(this.checkGroup=!1,this.checkRoleUser=!0,this.getPermissionMyTeacher(this.teacherGroupObj.teachers[0].id)))):this.commonService.snackError("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoadingPage=!1})}getTeacherInGroup(t){this.isLoadingData=!0,this.apiCommonService.getPermissionsWithGroup(t).subscribe(e=>{if(1==e.success){this.teachersInGroup=e.data.teacherObjs,this.classListData=e.data.classObjs,this.groupId=e.data.groupObj.id,this.teacherId=null,this.groupObj=e.data.groupObj;for(let t=0;t<this.classListData.length;t++)this.classListData[t].permissionArray=JSON.parse(JSON.stringify(this.permissionData));for(let t=0;t<this.classListData.length;t++)if(this.classListData[t].permissionArray)for(let e=0;e<this.classListData[t].permissionArray.length;e++)if(this.classListData[t].teamPermisions&&this.classListData[t].teamPermisions[e])switch(this.classListData[t].teamPermisions[e].id){case 1:this.classListData[t].permissionArray[0].checked=!0;break;case 2:this.classListData[t].permissionArray[1].checked=!0;break;case 3:this.classListData[t].permissionArray[2].checked=!0}this.checkTeacherInGroup()}else 0==t?this.isLoadingData=!1:this.commonService.snackError("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng","");this.isLoadingData=!1})}checkTeacherInGroup(){this.dataTeacherSearch=JSON.parse(JSON.stringify(this.teacherGroupObj.teachers));for(let t=0;t<this.teachersInGroup.length;t++)for(let e=0;e<this.dataTeacherSearch.length;e++)this.teachersInGroup[t].id===this.dataTeacherSearch[e].id&&(this.dataTeacherSearch[e].inGroup=!0)}getPermissionMyTeacher(t){this.isLoadingData=!0,this.apiCommonService.getPermissionsWithTeacher(t).subscribe(e=>{if(1==e.success){this.teacherId=t,this.classListData=e.data.classObjs;for(let t=0;t<this.classListData.length;t++)this.classListData[t].permissionArray=JSON.parse(JSON.stringify(this.permissionData));for(let t=0;t<this.classListData.length;t++)if(this.classListData[t].permissionArray)for(let e=0;e<this.classListData[t].permissionArray.length;e++)if(this.classListData[t].teamPermisions&&this.classListData[t].teamPermisions[e])switch(this.classListData[t].teamPermisions[e].id){case 1:this.classListData[t].permissionArray[0].checked=!0;break;case 2:this.classListData[t].permissionArray[1].checked=!0;break;case 3:this.classListData[t].permissionArray[2].checked=!0}}else this.commonService.snackError("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng","");this.isLoadingData=!1})}getPermissionObjs(){this.isLoadingPage=!0,this.apiCommonService.getValuePermissions(1).subscribe(t=>{1==t.success?this.permissionData=t.data.allPermissionObjs:this.commonService.snackError("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng","")})}addMemberInGroup(t){this.isLoadingMoreMembers=t.id,this.apiCommonService.addTeacherObjWithTeam({groupId:this.groupId,teacherTeamId:t.id}).subscribe(e=>{1==e.success?(this.teachersInGroup.push(t),this.isLoadingMoreMembers=!1,this.checkTeacherInGroup(),this.commonService.snackSuccess("Th\xeam gi\xe1o vi\xean v\xe0o nh\xf3m th\xe0nh c\xf4ng","")):this.commonService.snackError("lang_core_exist_team_teacher"==e.message?"Gi\xe1o vi\xean \u0111\xe3 c\xf3 trong nh\xf3m":"Th\xeam gi\xe1o vi\xean v\xe0o nh\xf3m kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoadingMoreMembers=!1,this.searchValue=""})}autoResizeTextArea(){var t=document.getElementById("add_all_teacher_phone");setTimeout(function(){t.style.cssText="height:auto;",t.style.cssText="height:"+t.scrollHeight+"px"},0)}addAllTeacherToGroup(){var t=this.commonService.getFormObj(this.form),e=t.listPhone?t.listPhone.toString():"",n=[];e.includes("\n")?e.split("\n").forEach(t=>{this.commonService.filterArray(n,t)||""!=t.trim()&&n.push(t.trim())}):e.split(" ").forEach(t=>{this.commonService.filterArray(n,t)||""!=t.trim()&&n.push(t.trim())}),this.apiCommonService.addTeachersWithGroup({groupId:this.groupId,TeacherPhone:n}).subscribe(t=>{if(1==t.success){this.getTeacherInGroup(this.groupId);let e=t.data.countSave?t.data.countSave:0,n=t.data.totalTeacher?t.data.totalTeacher:0;setTimeout(()=>{this.commonService.snackSuccess("Th\xeam th\xe0nh c\xf4ng "+e+"/"+n+" gi\xe1o vi\xean v\xe0o nh\xf3m!","")},1e3)}else this.commonService.snackError("lang_core_invalid_team_teacher_phone"==t.message?"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i c\u1ee7a gi\xe1o vi\xean ch\u01b0a c\xf3 trong danh b\u1ea1, sai \u0111\u1ecbnh d\u1ea1ng ho\u1eb7c \u0111\xe3 c\xf3 trong nh\xf3m. Vui l\xf2ng ki\u1ec3m tra l\u1ea1i!":"Th\xeam gi\xe1o vi\xean v\xe0o nh\xf3m kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoadingData=!1;this.checkActiveBtn=!1})}onCheckChange(t,e,n,i){this.classListData[n].permissionArray[i].checked=!!t.target.checked,this.checkActiveBtn=!0}saveData(){let t={groupId:this.groupId,classWithPermissions:[]},e={teacherId:this.teacherId,classWithPermissions:[]},n={classId:null,permissionIds:[]};for(let i=0;i<this.classListData.length;i++){this.classListData[i].permissionIds=[],n.classId=this.classListData[i].id;for(let t=0;t<this.classListData[i].permissionArray.length;t++)this.classListData[i].permissionArray[t].checked&&(this.classListData[i].permissionIds.push(this.classListData[i].permissionArray[t].id),n.permissionIds=this.classListData[i].permissionIds);this.checkGroup?t.classWithPermissions[i]=n:e.classWithPermissions[i]=n,n={classId:null,permissionIds:[]}}this.isLoadingData=!0,this.checkGroup?this.apiCommonService.updatePermissionInGroup(t).subscribe(t=>{1==t.success?(this.getTeacherInGroup(this.groupId),setTimeout(()=>{this.commonService.snackSuccess("C\u1eadp nh\u1eadt quy\u1ec1n th\xe0nh c\xf4ng","")},1e3)):(this.commonService.snackError("C\u1eadp nh\u1eadt quy\u1ec1n kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoadingData=!1),this.checkActiveBtn=!1}):this.apiCommonService.updatePermissionMyTeacher(e).subscribe(t=>{1==t.success?(this.getPermissionMyTeacher(this.teacherId),setTimeout(()=>{this.commonService.snackSuccess("C\u1eadp nh\u1eadt quy\u1ec1n th\xe0nh c\xf4ng","")},1e3)):(this.commonService.snackError("C\u1eadp nh\u1eadt quy\u1ec1n kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoadingData=!1),this.checkActiveBtn=!1})}ngOnInit(){if(this.form=this.fb.group({listPhone:[""]}),Object(f.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{}),this.type=this.commonService.getMyParam(this.activeRoute,"type"),this.idParam=this.commonService.getMyParam(this.activeRoute,"id"),this.getData(),this.getPermissionObjs(),this.checkWidth(),-1!=this.type&&null!=this.idParam)switch(this.type){case"0":this.checkGroup=!0,this.checkRoleUser=!0,this.groupId=this.idParam,this.vps.scrollToAnchor("group_id_"+this.groupId),this.getTeacherInGroup(this.idParam);break;case"1":this.checkGroup=!1,this.checkRoleUser=!0,this.teacherId=this.idParam,this.vps.scrollToAnchor("teacher_id_"+this.teacherId),this.getPermissionMyTeacher(this.idParam)}this.commonService.translateMetaData({title:"lang_cms_teacher_group_title",description:"lang_cms_teacher_group_description",image:"lang_cms_test_image"})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(v.Pb(a.a),v.Pb(x.a),v.Pb(_.a),v.Pb(a.a),v.Pb(o.g),v.Pb(i.w))},t.\u0275cmp=v.Jb({type:t,selectors:[["app-group-teacher"]],viewQuery:function(t,e){if(1&t&&v.Yc(rt,!0),2&t){let t;v.yc(t=v.dc())&&(e.drawer=t.first)}},hostBindings:function(t,e){1&t&&v.cc("scroll",function(t){return e.onScroll(t)},!1,v.Cc)},decls:4,vars:4,consts:[[3,"headerTitle","back_link"],[4,"ngIf","ngIfElse"],["doneLoading",""],["id","teacher-group",1,"container","mt-3",3,"resize"],[1,"group_container",2,"border-radius","5px",3,"hasBackdrop"],[1,"bg-custom",3,"mode","opened","ngClass"],["drawer",""],[1,"container-fluid","pl-0","p-mbr-0"],[1,"slider-nav"],[1,"search"],["type","text","placeholder","T\xecm t\xean ho\u1eb7c S\u0110T",1,"search-input",3,"ngModel","ngModelChange"],[1,"search-icon"],["class","group",4,"ngIf","ngIfElse"],["blockElse",""],[1,"slider-bottom"],[1,"btn-add","mr-3",3,"click"],[1,"btn-add",3,"click"],[1,"mat-drawer-custom"],[1,"container-fluid","p-0"],["class","slider-content","style","display: flex; justify-content: center; align-items: center;",4,"ngIf","ngIfElse"],["doneLoadingData",""],[3,"data","closeDialog",4,"ngIf"],[1,"group"],["class","group-content",4,"ngIf"],[1,"group-content"],["class","group-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"group-item",3,"ngClass"],[1,"group-btn",3,"id","click"],[1,"group-icon"],[1,"group-name",2,"text-align","left"],["mat-icon-button","",1,"group-btn-menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],[3,"matTooltip","nameCreateAvatar","size",4,"ngIf"],[3,"nameCreateAvatar","size",4,"ngIf"],[1,"group-info"],[1,"group-name"],[1,"group-text"],["style","margin-top: 1px;","class","group-text",4,"ngIf"],[3,"matTooltip","nameCreateAvatar","size"],[3,"nameCreateAvatar","size"],[1,"group-text",2,"margin-top","1px"],[1,"group",2,"display","flex","justify-content","center","align-items","center"],[1,"note-text"],[1,"slider-content",2,"display","flex","justify-content","center","align-items","center"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"],[1,"slider-content"],["id","toggle-nav",1,"toggle-nav"],["class","clickable","matTooltip","M\u1edf menu",3,"click",4,"ngIf"],["class","clickable","matTooltip","\u0110\xf3ng menu",3,"click",4,"ngIf"],[1,"slider-body-main"],["class","slider-content-block mt-2 mb-0",4,"ngIf"],["class","slider-content-block mt-2",4,"ngIf"],["id","slider-content-footer ",1,"slider-content-footer"],[1,"btn-cannel",3,"click"],[1,"btn-save",3,"disabled","click"],[4,"ngIf"],["matTooltip","M\u1edf menu",1,"clickable",3,"click"],[2,"vertical-align","middle","color","#646464","transform","rotateY(180deg)"],["matTooltip","\u0110\xf3ng menu",1,"clickable",3,"click"],[2,"vertical-align","middle","color","#646464"],[1,"slider-content-block","mt-2","mb-0"],[1,"slider-bar"],[1,"slider-bar-left"],[1,"slider-bar-title"],[2,"font-weight","bold"],[1,"slider-bar-right","d-flex","align-self-center"],[1,"btn-add-member",3,"matMenuTriggerFor"],[1,"material-icons"],[2,"vertical-align","middle","margin-top","3px"],[1,"btn-del-all-member",3,"click"],["menuAddMultiple","matMenu"],[1,"search-member",3,"click"],[1,"text-center"],[1,"mb-1",2,"font-size","14px","font-weight","450"],[1,"form-horizontal",3,"formGroup"],["type","text","id","add_all_teacher_phone","rows","10","formControlName","listPhone",1,"form-control"],[1,"text-justify"],[1,"pt-1","text-justify",2,"color","#ff0024","line-height","0"],[1,"d-flex","justify-content-end"],[1,"btn-add-all-member",3,"click"],[1,"slider-bar-body"],["class","group-body-item",4,"ngFor","ngForOf"],[1,"add-member"],[1,"btn-add-member",3,"matMenuTriggerFor","click"],[2,"vertical-align","middle","margin-top","2px"],[1,"search-result"],["dataNull",""],[1,"group-body-item"],[1,"btn-delete",3,"click"],["matTooltip","X\xf3a",1,"fa","fa-times"],[4,"ngFor","ngForOf"],[1,"group-item",3,"disabled"],[1,"group-btn",3,"ngClass","click"],["class","spinner-border spinner-border-sm","style","color: silver;","role","status",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm",2,"color","silver"],[2,"display","flex","justify-content","center","align-items","center"],[1,"slider-content-block","mt-2"],["href","","target","_blank",1,"link-research","d-none"],[1,"fa","fa-external-link-alt"],[1,"slider-bar-right"],["type","checkbox","id","checkbox_role_hiden",1,"checkbox-input",3,"ngModel","ngModelChange"],["for","checkbox_role_hiden",1,"text-checkbox"],["class","slider-body",4,"ngIf","ngIfElse"],["templateElse",""],[1,"slider-body"],[1,"row"],["class","col-md-6 col-lg-4 col-xs-12 px-2 mb-3",4,"ngIf"],[1,"col-md-6","col-lg-4","col-xs-12","px-2","mb-3"],[1,"role-teacher"],[1,"class-title",3,"matTooltip"],[1,"role-content"],["class","role-item",4,"ngFor","ngForOf"],[1,"role-item"],["type","checkbox",1,"checkbox-input",3,"id","checked","change"],[1,"text-checkbox",3,"for"],[1,"slider-body",2,"display","flex","justify-content","center","align-items","center"],["role","status",1,"spinner-border","spinner-border-sm"],[3,"data","closeDialog"]],template:function(t,e){if(1&t&&(v.Qb(0,"header-backend",0),v.Pc(1,lt,1,0,"azt-loading-effect",1),v.Pc(2,qt,26,15,"ng-template",null,2,v.Qc)),2&t){const t=v.zc(3);v.nc("headerTitle","L\xe0m vi\u1ec7c nh\xf3m")("back_link","/admin/testbank/dashboard"),v.Db(1),v.nc("ngIf",e.isLoadingPage)("ngIfElse",t)}},directives:[P.a,i.m,k.a,m.b,m.a,i.k,o.d,o.r,o.u,D.a,m.c,i.l,C.b,O.d,O.a,O.b,M.a,V.a,o.B,o.s,o.l,o.j,o.a,R,Y,st],pipes:[U.j],styles:["[_ngcontent-%COMP%]:focus{outline:none}button[_ngcontent-%COMP%]{border:none;background:transparent}input[type=checkbox][_ngcontent-%COMP%]{zoom:.9;cursor:pointer}label[_ngcontent-%COMP%]{cursor:pointer}[_ngcontent-%COMP%]::-webkit-scrollbar{width:16px}[_ngcontent-%COMP%]::-webkit-scrollbar, [_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#babac0;border-radius:16px;border:4px solid #fff}[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}.slider[_ngcontent-%COMP%]{height:calc(100vh - 80px)}.slider-nav[_ngcontent-%COMP%]{background:#f9f9f9;padding:15px}.slider-content[_ngcontent-%COMP%], .slider-nav[_ngcontent-%COMP%]{border:1px solid #e9e9e9;border-radius:5px;height:calc(100vh - 80px)}.slider-content[_ngcontent-%COMP%]{background:#fff;padding:15px 0 15px 15px;position:relative}.slider-content-block[_ngcontent-%COMP%]{border:1px solid #e9e9e9;border-radius:3px}.slider-bar[_ngcontent-%COMP%]{background:#fafafa;display:flex;align-items:center;justify-content:space-between;padding:5px 15px;flex-wrap:wrap;border-bottom:1px solid #e9e9e9}.slider-bar-title[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#333}.btn-delete[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;color:#838383;padding-top:5px}.group-body-item[_ngcontent-%COMP%]{align-items:center;margin-right:15px}.add-member[_ngcontent-%COMP%], .group-body-item[_ngcontent-%COMP%]{display:flex;margin-bottom:15px}.add-member[_ngcontent-%COMP%]{position:relative}.search-result[_ngcontent-%COMP%]{height:166px;overflow-y:auto}.bg-custom[_ngcontent-%COMP%]{background:#ecf0f5}.w-33[_ngcontent-%COMP%]{width:33%}.w-80[_ngcontent-%COMP%]{width:80%}.mat-drawer-custom[_ngcontent-%COMP%]{background:#ecf0f5;border:none}.search-member[_ngcontent-%COMP%]{background:#fff;border-radius:5px;padding:10px;z-index:99}.search-member[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.btn-add-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;align-items:center;border-radius:3px;border:1px solid #e9e9e9;padding:2px 10px}.btn-add-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-del-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #f44336;background-color:#f44336;border-radius:3px;padding:2px 10px}.btn-del-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #169bd5;background-color:#169bd5;border-radius:3px;padding:2px 10px}.btn-add-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-member[_ngcontent-%COMP%]:hover{background:#eee}.btn-del-all-member[_ngcontent-%COMP%]:hover{background:#d3392e}.btn-add-all-member[_ngcontent-%COMP%]:hover{background:#066d99}.slider-bar-body[_ngcontent-%COMP%]{display:flex;padding:15px 15px 0;flex-wrap:wrap;overflow-y:auto}.slider-bar-left[_ngcontent-%COMP%]{display:flex;align-items:center}.link-research[_ngcontent-%COMP%]{margin-left:15px;font-size:12px}.link-research[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px}.link-research[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#a7a7a7}.form-check-input[_ngcontent-%COMP%]{margin-top:3px}.text-checkbox[_ngcontent-%COMP%]{font-size:13px;margin-bottom:0;font-family:Arial,Helvetica,sans-serif;display:inline}.role-teacher[_ngcontent-%COMP%]{border:1px solid #e9e9e9;padding:12px;border-radius:3px}.role-item[_ngcontent-%COMP%]{margin-bottom:5px}.checkbox-input[_ngcontent-%COMP%]{margin-right:3px}.slider-content-footer[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px}.btn-cannel[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;padding:5px 25px;transition:all .5s}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff;padding:6px 25px}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}.btn-cannel[_ngcontent-%COMP%]:hover{background:#eee}.btn-save[_ngcontent-%COMP%]:disabled{background:#e0e0e0!important}.class-title[_ngcontent-%COMP%]{width:100%;font-size:13px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.slider-body[_ngcontent-%COMP%]{min-height:20vh;padding:15px 20px 0;overflow-y:auto;overflow-x:hidden}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 200px);overflow:scroll}.h300[_ngcontent-%COMP%]{height:calc(100vh - 260px)}.search[_ngcontent-%COMP%]{position:relative;background:#fff;border:1px solid #e9e9e9;padding:4px;border-radius:3px}.search-input[_ngcontent-%COMP%]{width:88%;font-weight:400;font-style:normal;margin-right:25px;border:none}.search-input[_ngcontent-%COMP%]:focus-visible{border:none!important}.search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{font-size:20px;color:#b8b8b8;position:absolute;top:5px;right:0;cursor:pointer}.note-text[_ngcontent-%COMP%]{font-size:16px;font-weight:600;text-align:center}.group[_ngcontent-%COMP%]{margin:10px 0;padding:15px;background:#fff;border-radius:3px;border:1px solid #e9e9e9;overflow-y:auto;height:calc(100vh - 195px)}.group-block[_ngcontent-%COMP%]{margin-bottom:20px}.group-content[_ngcontent-%COMP%]{margin-top:15px}.group-item[_ngcontent-%COMP%]{margin-bottom:15px;padding:3px;position:relative}.group-btn[_ngcontent-%COMP%]{background:transparent;border:none;text-transform:inherit;display:flex;align-items:center;width:100%;transition:all .5s;border-radius:5px}.group-btn[_ngcontent-%COMP%]:hover:not([disabled]){background:#eee}.group-info[_ngcontent-%COMP%]{text-align:left;line-height:1}.group-icon[_ngcontent-%COMP%]{font-size:30px;color:#169bd5;width:30px;height:30px}.group-name[_ngcontent-%COMP%]{font-size:13px;margin:0 0 0 15px;max-width:120px}.group-text[_ngcontent-%COMP%]{font-size:10px;color:#a2a2a2;margin-bottom:0;margin-left:15px;margin-top:5px}.class-active[_ngcontent-%COMP%]{width:100%;background:#eee;border-radius:5px}.group-btn-menu[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;z-index:99;transform:translateY(-50%)}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{font-size:13px;color:#00a7d0;background:transparent;border:none;text-transform:inherit;transition:all .3s}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:hover{color:#0a5264}.color-disabled[_ngcontent-%COMP%]{color:#8b8b8b}.group-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.group-item[_ngcontent-%COMP%]:hover{background:#eee;border-radius:5px}@media screen and (max-width:768px){.p-mbr-0[_ngcontent-%COMP%]{padding-right:0}.slider-content[_ngcontent-%COMP%], .slider-nav[_ngcontent-%COMP%]{height:86vh}.slider-body[_ngcontent-%COMP%]{min-height:20vh}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 220px);overflow:scroll}.group[_ngcontent-%COMP%]{height:calc(100vh - 270px)}.group-name[_ngcontent-%COMP%]{max-width:190px}}@media screen and (max-width:480px){.slider-body-main[_ngcontent-%COMP%]{height:auto!important}.slider-body[_ngcontent-%COMP%]{height:auto}.fixed-nav[_ngcontent-%COMP%]{position:fixed;top:0;left:15px;padding:5px;background:#ecf0f5;width:100%;z-index:99}.slider-content[_ngcontent-%COMP%]{min-height:calc(100vh - 112px);height:auto}.slider-nav[_ngcontent-%COMP%]{height:100vh}.slider-content-block[_ngcontent-%COMP%]{margin-bottom:50px}.slider-content[_ngcontent-%COMP%]{margin-bottom:15px}.slider-bar-body[_ngcontent-%COMP%]{height:auto}.class-title[_ngcontent-%COMP%]{white-space:normal;overflow:auto}.group[_ngcontent-%COMP%]{height:calc(100vh - 150px)}.group-name[_ngcontent-%COMP%]{max-width:145px}}@media screen and (max-width:321px){.group[_ngcontent-%COMP%]{height:80%}.group-name[_ngcontent-%COMP%]{max-width:100px}}"]}),t})();const Ht=[{path:"",component:Jt,canActivate:[p.a],children:[{path:"",canActivateChild:[p.a],children:[{path:"",component:Jt}]}]}];let Kt=(()=>{class t{}return t.\u0275mod=v.Nb({type:t}),t.\u0275inj=v.Mb({factory:function(e){return new(e||t)},imports:[[a.l.forChild(Ht)],a.l,g.c]}),t})(),Yt=(()=>{class t{}return t.\u0275mod=v.Nb({type:t}),t.\u0275inj=v.Mb({factory:function(e){return new(e||t)},imports:[[a.l,i.c,h.a,s.b,o.m,o.x,c.f,b.a,r.b,l.b,Kt,d.a]]}),t})()},kmNb:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("fXoL"),o=n("pMRa"),c=n("tyNb"),a=n("gbi4");let s=(()=>{class t{constructor(t,e,n){this.apiCommonService=t,this.router=e,this.commonService=n}canActivate(t,e){return window,!!this.apiCommonService.isLogin()||(this.commonService.redirectLoginAnonymous(e.url),!1)}canActivateChild(t,e){return this.canActivate(t,e)}canLoad(t){const e="/"+t.path;return!!this.apiCommonService.isLogin()||(this.commonService.redirectLoginByReturnUrl(e),!1)}}return t.\u0275fac=function(e){return new(e||t)(i.Zb(o.a),i.Zb(c.i),i.Zb(a.a))},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);