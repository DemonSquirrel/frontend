(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"IU+r":function(e,t,o){"use strict";o.d(t,"a",function(){return h});var n=o("fXoL"),r=o("gbi4"),i=o("ofXK"),s=o("gaSO");const a=function(e,t){return{width:e,height:t}};function c(e,t){if(1&e&&(n.Tb(0),n.Qb(1,"img",2),n.hc(2,"mycdn"),n.Sb()),2&e){const e=n.gc();n.Db(1),n.nc("src",n.ic(2,2,e.linkAvatar),n.Hc)("ngStyle",n.tc(4,a,e.size+"px",e.size+"px"))}}const m=function(e,t,o){return{width:e,height:t,"font-size":o}};function u(e,t){if(1&e&&(n.Vb(0,"div",3),n.Rc(1),n.Ub()),2&e){const e=n.gc();n.nc("ngStyle",n.uc(2,m,e.size+"px",e.size+"px",e.size/2+"px")),n.Db(1),n.Tc(" ",e.returnNameAvatar,"\n")}}let h=(()=>{class e{constructor(e){this.commonService=e,this.nameCreateAvatar="",this.size=0,this.linkAvatar="",this.returnNameAvatar=""}ngOnInit(){try{this.nameCreateAvatar=this.commonService.removeInvalidChars(this.nameCreateAvatar).trim()}catch(o){this.nameCreateAvatar=this.nameCreateAvatar}var e=this.commonService.convertVietnameseToEnglish(this.nameCreateAvatar),t=String(e).toUpperCase().split(" ");this.returnNameAvatar=1==t.length?t[0]?t[0].charAt(0):"?":t[0].charAt(0)+t[t.length-1].charAt(0)}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(r.a))},e.\u0275cmp=n.Jb({type:e,selectors:[["azt-create-avatar"]],inputs:{nameCreateAvatar:"nameCreateAvatar",size:"size",linkAvatar:"linkAvatar"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseTemplate",""],[2,"border-radius","50%",3,"src","ngStyle"],["id","create-avatar",2,"display","inline-flex","justify-content","center","align-items","center","background-color","#dddddd","border-radius","50%","font-weight","500","margin","auto","border","1px solid #acacac",3,"ngStyle"]],template:function(e,t){if(1&e&&(n.Pc(0,c,3,7,"ng-container",0),n.Pc(1,u,2,6,"ng-template",null,1,n.Qc)),2&e){const e=n.zc(2);n.nc("ngIf",""!=t.linkAvatar&&null!=t.linkAvatar)("ngIfElse",e)}},directives:[i.m,i.n],pipes:[s.o],encapsulation:2}),e})()},Z2k6:function(e,t,o){"use strict";o.d(t,"a",function(){return c});var n=o("AytR"),r=o("fXoL"),i=o("pMRa"),s=o("gbi4"),a=o("0pw4");let c=(()=>{class e{constructor(e,t,o){this.apiCommonService=e,this.commonService=t,this.localStorageObjetct=o}login(e,t){var o=n.a.base_api+"Auth/Login";const r={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(o,r,{phone:e,password:t})}loginWithZalo(e){return this.apiCommonService.commonHttp(n.a.base_api+"Auth/Info",{Authorization:"Bearer "+e},!1)}loginAnonymous(){var e=n.a.base_api+"Auth/LoginAnonymousFromWeb";const t={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(e,t,!1)}checkPhoneExist(e){var t=n.a.base_api+"Auth/CheckPhoneExists?phone="+e;const o={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(t,o,!1)}CheckUpdatePhoneExists(e){var t=n.a.base_api+"Auth/CheckUpdatePhoneExists?phone="+e;const o={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(t,o,!1)}UpdatePhoneOrPasswordByFirebase(e){var t=n.a.base_api+"Auth/UpdatePhoneOrPasswordByFirebase";const o={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(t,o,e)}register(e,t,o,r,i){var s=n.a.base_api+"Auth/Register";const a={Authorization:"Bearer "+this.apiCommonService.getToken()},c={fullname:e,phone:t,password:o,email:""!=r&&""!=r.toString().trim()?r:null,tokenCaptcha:i};return this.apiCommonService.commonHttp(s,a,c)}registerStudent(e,t,o,r){var i=n.a.base_api+"Auth/registerForStudent";const s={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(i,s,{phone:e,fullname:t,password:o,tokenCaptcha:r})}logout(){this.commonService.removeStorage("user_obj"),this.localStorageObjetct.clearAllCache(),this.commonService.changeLoginMessage(!0)}changeName(e){var t=n.a.base_api+"Auth/ChangeName";const o={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(t,o,e)}changePassword(e,t,o){var r=n.a.base_api+"auth/changepassword";const i={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(r,i,{name:e,Password:t,newPassword:o})}changePasswordWithFirebase(e,t,o){var r=n.a.base_api+"Auth/ChangePasswordByFirebase";const i={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(r,i,{firebaseToken:e,newPassword:t,appName:o})}getInfo(){var e=n.a.base_api+"Auth/Info";const t={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(e,t,!1)}changeInfo(e){var t=n.a.base_api+"Auth/UpdateInfo";const o={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(t,o,e)}updatePhone(e){var t=n.a.base_api+"Auth/UpdatePhoneByFirebase";const o={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(t,o,e)}saveLastActivity(){var e=n.a.base_api+"Auth/SaveLastActivity";const t={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(e,t,!1)}becomeTeacher(){var e=n.a.base_api+"Auth/ConvertToTeacher";const t={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(e,t,!1)}confirmForgotPassword(e,t){var o=n.a.base_api+"Auth/ConfirmForgotPassword";o+="?token="+encodeURIComponent(e),o+="&password="+encodeURIComponent(t);const r={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(o,r,!1)}searchUser(e,t,o,r,i,s,a,c,m,u,h){var p=n.a.base_api+"Support/SearchUser";p+="?full_name="+encodeURIComponent(e),p+="&phone="+encodeURIComponent(t),p+="&email="+encodeURIComponent(o),p+="&userId="+(""!=r?r:0),p+="&classroomId="+(""!=i?i:0),p+="&homeworkHashId="+encodeURIComponent(s),p+="&examHashId="+encodeURIComponent(a),p+="&homeworkId="+encodeURIComponent(""!=c?c:0),p+="&examId="+encodeURIComponent(""!=m?m:0),p+="&homeworkAnswerId="+encodeURIComponent(""!=u?u:0),p+="&testAnswerId="+encodeURIComponent(""!=h?h:0);const l={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(p,l,!1)}getTokenByUser(e){var t=n.a.base_api+"Support/GetTokenByUser?id="+e;const o={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(t,o,!1)}getForgotPasswordCode(e){var t=n.a.base_api+"Support/GetForgotPasswordCode?id="+e;const o={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(t,o,!1)}disablePhoneAccount(e){var t=n.a.base_api+"Support/DisableAccount?id="+e;const o={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(t,o,!1)}getConfigObjs(){var e=n.a.base_api+"Support/GetConfigObjs";const t={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(e,t,!1)}updateConfigObj(e,t){var o=n.a.base_api+"Support/UpdateConfigObj";const r={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(o,r,{id:e,value:t})}saveContentObjs(e){var t=n.a.base_api+"FileContent/SaveObj";const o={Authorization:"Bearer "+this.apiCommonService.getToken()},r={Files:JSON.stringify(e)};return this.apiCommonService.commonHttp(t,o,r)}getCheckQrCode(){let e=n.a.base_api+"Auth/CheckQrCode";const t={Authorization:"Bearer "+this.getToken()};return this.apiCommonService.commonHttp(e,t,!1)}getCreateQrCode(){let e=n.a.base_api+"Auth/CreateQrCode";const t={Authorization:"Bearer "+this.getToken()};return this.apiCommonService.commonHttp(e,t,!1)}getCreateQrLoginCode(){let e=n.a.base_api+"Auth/CreateQrLoginCode";const t={Authorization:"Bearer "+this.getToken()};return this.apiCommonService.commonHttp(e,t,!1)}loginByQrCode(e){let t=n.a.base_api+"Auth/LoginByQrCode";const o={Authorization:"Bearer "+this.getToken()};return this.apiCommonService.commonHttp(t,o,{qrCode:e})}createRequestLoginHashCode(){let e=n.a.base_api+"Auth/CreateRequestLoginHashCode";const t={Authorization:"Bearer "+this.getToken()};return this.apiCommonService.commonHttp(e,t,{})}getInfoLoginHashCode(e){let t=n.a.base_api+"Auth/GetInfoLoginHashCode";const o={Authorization:"Bearer "+this.getToken()};return this.apiCommonService.commonHttp(t,o,{HashCode:e})}pushInfoLoginHashCode(e){let t=n.a.base_api+"Auth/PushInfoLoginHashCode";const o={Authorization:"Bearer "+this.getToken()};return this.apiCommonService.commonHttp(t,o,{HashCode:e})}changePasswordByQrcode(e){let t=n.a.base_api+"Auth/ChangePasswordByQrcode";const o={Authorization:"Bearer "+this.getToken()};return this.apiCommonService.commonHttp(t,o,e)}requestLoginByQrCode(e){let t=n.a.base_api+"Auth/RequestLoginByQrCode";const o={Authorization:"Bearer "+this.getToken()};return this.apiCommonService.commonHttp(t,o,e)}checkQrCodeLogin(){let e=n.a.base_api+"Auth/CheckQrCodeLogin";const t={Authorization:"Bearer "+this.getToken()};return this.apiCommonService.commonHttp(e,t,!1)}confirmQrCodeLogin(e){let t=n.a.base_api+"Auth/ConfirmQrCodeLogin";const o={Authorization:"Bearer "+this.getToken()};return this.apiCommonService.commonHttp(t,o,e)}suportChangePassword(e){let t=n.a.base_api+"Sms/ChangePass";const o={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(t,o,e)}suportCheckStatusPassword(e){let t=n.a.base_api+"Sms/CheckStatus?phone="+e;const o={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(t,o,!1)}suportgetPhoneChangePass(){let e=n.a.base_api+"Sms/GetPhone";const t={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(e,t,!1)}getSystemConfig(e){let t=n.a.base_api+"Info/getConfigObjs?keys="+e;const o={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(t,o,!1)}getSchoolInfo(){var e=n.a.base_api+"Auth/GetSchoolInfo";const t={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(e,t,!1)}pushSchoolInfo(e){var t=n.a.base_api+"Auth/PushSchoolInfo";const o={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(t,o,{SchoolId:e})}removeTeacherRole(){let e=n.a.base_api+"Auth/RemoveTeacherRole";const t={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(e,t,!1)}GetSurveyObj(){var e=n.a.base_api+"Auth/GetSurvey";const t={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(e,t,!1)}saveSurveyObj(e,t,o,r){var i=n.a.base_api+`Auth/SaveSurvey?fromFriend=${e}&fromSchool=${t}&fromSocial=${o}&fromSearch=${r}`;const s={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(i,s,!1)}saveSurveyObjV2(e,t,o){var r=n.a.base_api+`Auth/SaveSurvey2?classGrade=${e}&stillUse=${t}&recommendation=${encodeURIComponent(o)}`;const i={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(r,i,!1)}saveSurveyObjV3(e){var t=n.a.base_api+"Auth/SaveSurvey3";const o={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(t,o,e)}GetSurveyObj2(){var e=n.a.base_api+"Auth/GetSurvey2";const t={Authorization:"Bearer "+this.apiCommonService.getToken()};return this.apiCommonService.commonHttp(e,t,!1)}saveUserObj(e){this.commonService.saveStorage("user_obj",JSON.stringify(e)),this.commonService.changeLoginMessage(!0)}getUserObj(){try{let e=this.commonService.getStorage("user_obj");return e=e?JSON.parse(e):e,e&&e.id?e:{id:0,fullName:"",email:"",expired:0,rememberToken:"",uploadToken:"",roles:null}}catch(e){return{id:0,fullName:"",email:"",expired:0,rememberToken:"",uploadToken:"",roles:null}}}isLogin(){let e=this.getUserObj();return!(!e||!e.id)}isTeacherRole(){let e=this.getUserObj();return!!(e&&e.id&&e.roles)&&!!JSON.parse(e.roles).TEACHER}isParentRole(){let e=this.getUserObj();if(e&&e.id&&e.roles){var t=JSON.parse(e.roles);return!(!t.STUDENT&&!t.PARENT)}return!1}isStudentRole(){let e=this.getUserObj();if(e&&e.id&&e.roles){var t=JSON.parse(e.roles);return!(!t.STUDENT&&!t.PARENT)}return!1}isAnonymousRole(){let e=this.getUserObj();return!!(e&&e.id&&e.roles)&&!!JSON.parse(e.roles).ANONYMOUS}getToken(){var e=this.commonService.getStorage("user_obj");return e?JSON.parse(e).rememberToken:""}hasRole(){let e=this.getUserObj();return!!(e&&e.id&&e.roles)}redirectLoginByRole(e){if(-1!==e.toString().indexOf("ZWEB_"))this.commonService.redirectByUrl(e.toString().replace("ZWEB_",""));else if(this.isTeacherRole()){var t=e||this.commonService.getLocalRouter("/admin/testbank/dashboard");this.commonService.redirectByUrl(t)}else-1==(t=e||this.commonService.getLocalRouter("/student/dashboard/0")).toString().indexOf("/admin")&&-1==t.toString().indexOf("/auth")||(t=this.commonService.getLocalRouter("/student/dashboard/0")),this.commonService.redirectByUrl(t)}redirectLoginByRoleForRegister(e){if(-1!==e.toString().indexOf("ZWEB_"))this.commonService.redirectByUrl(e.toString().replace("ZWEB_",""));else if(this.isTeacherRole()){var t=e||this.commonService.getLocalRouter("/admin/student/manage-class/0");this.commonService.redirectByUrl(t)}else-1==(t=e||this.commonService.getLocalRouter("/student/dashboard/0")).toString().indexOf("/admin")&&-1==t.toString().indexOf("/auth")||(t=this.commonService.getLocalRouter("/student/dashboard/0")),this.commonService.redirectByUrl(t)}}return e.\u0275fac=function(t){return new(t||e)(r.Zb(i.a),r.Zb(s.a),r.Zb(a.a))},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},fB2i:function(e,t,o){"use strict";o.d(t,"a",function(){return w}),o.d(t,"b",function(){return y});var n=o("fXoL"),r=o("ofXK"),i=o("3Pt+");function s(e,t){}const a=()=>{const e="undefined"!=typeof window?window:void 0;return e&&e.tinymce?e.tinymce:null};let c=(()=>{class e{constructor(){this.onBeforePaste=new n.o,this.onBlur=new n.o,this.onClick=new n.o,this.onContextMenu=new n.o,this.onCopy=new n.o,this.onCut=new n.o,this.onDblclick=new n.o,this.onDrag=new n.o,this.onDragDrop=new n.o,this.onDragEnd=new n.o,this.onDragGesture=new n.o,this.onDragOver=new n.o,this.onDrop=new n.o,this.onFocus=new n.o,this.onFocusIn=new n.o,this.onFocusOut=new n.o,this.onKeyDown=new n.o,this.onKeyPress=new n.o,this.onKeyUp=new n.o,this.onMouseDown=new n.o,this.onMouseEnter=new n.o,this.onMouseLeave=new n.o,this.onMouseMove=new n.o,this.onMouseOut=new n.o,this.onMouseOver=new n.o,this.onMouseUp=new n.o,this.onPaste=new n.o,this.onSelectionChange=new n.o,this.onActivate=new n.o,this.onAddUndo=new n.o,this.onBeforeAddUndo=new n.o,this.onBeforeExecCommand=new n.o,this.onBeforeGetContent=new n.o,this.onBeforeRenderUI=new n.o,this.onBeforeSetContent=new n.o,this.onChange=new n.o,this.onClearUndos=new n.o,this.onDeactivate=new n.o,this.onDirty=new n.o,this.onExecCommand=new n.o,this.onGetContent=new n.o,this.onHide=new n.o,this.onInit=new n.o,this.onInitNgModel=new n.o,this.onLoadContent=new n.o,this.onNodeChange=new n.o,this.onPostProcess=new n.o,this.onPostRender=new n.o,this.onPreInit=new n.o,this.onPreProcess=new n.o,this.onProgressState=new n.o,this.onRedo=new n.o,this.onRemove=new n.o,this.onReset=new n.o,this.onSaveContent=new n.o,this.onSetAttrib=new n.o,this.onObjectResizeStart=new n.o,this.onObjectResized=new n.o,this.onObjectSelected=new n.o,this.onSetContent=new n.o,this.onShow=new n.o,this.onSubmit=new n.o,this.onUndo=new n.o,this.onVisualAid=new n.o}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Kb({type:e,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),e})();const m=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],u=(e,t)=>"string"==typeof e?e.split(",").map(e=>e.trim()):Array.isArray(e)?e:t;let h=0;const p=e=>{const t=(new Date).getTime(),o=Math.floor(1e9*Math.random());return h++,e+"_"+o+h+String(t)},l=e=>void 0!==e&&"textarea"===e.tagName.toLowerCase(),d=e=>void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" "),v=()=>{},g=e=>null==e,S=()=>({listeners:[],scriptId:p("tiny-script"),scriptLoaded:!1}),C=(()=>{let e=S();return{load:(t,o,n)=>{e.scriptLoaded?n():(e.listeners.push(n),t.getElementById(e.scriptId)||((t,o,n,r)=>{const i=o.createElement("script");i.referrerPolicy="origin",i.type="application/javascript",i.id=t,i.src=n;const s=()=>{i.removeEventListener("load",s),e.listeners.forEach(e=>e()),e.scriptLoaded=!0};i.addEventListener("load",s),o.head&&o.head.appendChild(i)})(e.scriptId,t,o))},reinitialize:()=>{e=S()}}})(),f=new n.s("TINYMCE_SCRIPT_SRC"),b={provide:i.p,useExisting:Object(n.X)(()=>w),multi:!0};let w=(()=>{class e extends c{constructor(e,t,o,n){super(),this.platformId=o,this.tinymceScriptSrc=n,this.cloudChannel="5",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=v,this.onChangeCallback=v,this._elementRef=e,this.ngZone=t,this.initialise=this.initialise.bind(this)}set disabled(e){this._disabled=e,this._editor&&this._editor.initialized&&this._editor.setMode(e?"readonly":"design")}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(e){this._editor&&this._editor.initialized?this._editor.setContent(g(e)?"":e):this.initialValue=null===e?void 0:e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this._editor?this._editor.setMode(e?"readonly":"design"):e&&(this.init=Object.assign(Object.assign({},this.init),{readonly:!0}))}ngAfterViewInit(){Object(r.y)(this.platformId)&&(this.id=this.id||p("tiny-angular"),this.inline=void 0!==this.inline?"boolean"!=typeof this.inline||this.inline:this.init&&this.init.inline,this.createElement(),null!==a()?this.initialise():this._element&&this._element.ownerDocument&&C.load(this._element.ownerDocument,this.getScriptSrc(),this.initialise))}ngOnDestroy(){null!==a()&&a().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(this._element.id=this.id,l(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}initialise(){const e=Object.assign(Object.assign({},this.init),{target:this._element,inline:this.inline,readonly:this.disabled,plugins:(t=this.init&&this.init.plugins,o=this.plugins,d(t).concat(d(o))),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:e=>{this._editor=e,e.on("init",t=>{this.initEditor(e)}),((e,t)=>{(e=>{const t=u(e.ignoreEvents,[]);return u(e.allowedEvents,m).filter(e=>m.includes(e)&&!t.includes(e))})(e).forEach(o=>{const n=e[o];t.on(o.substring(2),o=>e.ngZone.run(()=>n.emit({event:o,editor:t})))})})(this,e),this.init&&"function"==typeof this.init.setup&&this.init.setup(e)}});var t,o;l(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{a().init(e)})}getScriptSrc(){return g(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(e){e.on("blur",()=>this.ngZone.run(()=>this.onTouchedCallback())),e.on(this.modelEvents,()=>{this.ngZone.run(()=>this.onChangeCallback(e.getContent({format:this.outputFormat})))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{e.setContent(this.initialValue),e.getContent()!==this.initialValue&&this.onChangeCallback(e.getContent({format:this.outputFormat})),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(e)})}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(n.l),n.Pb(n.B),n.Pb(n.D),n.Pb(f,8))},e.\u0275cmp=n.Jb({type:e,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",id:"id",modelEvents:"modelEvents",disabled:"disabled",initialValue:"initialValue",init:"init",inline:"inline",outputFormat:"outputFormat",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents"},features:[n.Cb([b]),n.Ab],decls:1,vars:0,template:function(e,t){1&e&&n.Pc(0,s,0,0,"ng-template")},styles:["[_nghost-%COMP%] { display: block; }"]}),e})(),y=(()=>{class e{}return e.\u0275mod=n.Nb({type:e}),e.\u0275inj=n.Mb({factory:function(t){return new(t||e)},imports:[[r.c,i.m]]}),e})()},gaSO:function(e,t,o){"use strict";o.d(t,"p",function(){return a}),o.d(t,"s",function(){return c}),o.d(t,"o",function(){return m}),o.d(t,"q",function(){return u}),o.d(t,"k",function(){return h}),o.d(t,"l",function(){return p}),o.d(t,"j",function(){return l}),o.d(t,"r",function(){return d}),o.d(t,"b",function(){return v}),o.d(t,"a",function(){return g}),o.d(t,"t",function(){return S}),o.d(t,"g",function(){return C}),o.d(t,"i",function(){return f}),o.d(t,"f",function(){return b}),o.d(t,"h",function(){return w}),o.d(t,"n",function(){return y}),o.d(t,"m",function(){return A}),o.d(t,"e",function(){return P}),o.d(t,"d",function(){return k}),o.d(t,"c",function(){return B}),o.d(t,"u",function(){return O});var n=o("fXoL"),r=o("gbi4"),i=o("jhN1"),s=o("sYmb");let a=(()=>{class e{constructor(e){this.commonService=e}transform(e){return this.commonService.getLocalRouter(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(r.a))},e.\u0275pipe=n.Ob({name:"mylocalize",type:e,pure:!0}),e})(),c=(()=>{class e{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(i.b))},e.\u0275pipe=n.Ob({name:"safe",type:e,pure:!0}),e})(),m=(()=>{class e{constructor(e){this.commonService=e}transform(e){return this.commonService.getMyCdn(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(r.a))},e.\u0275pipe=n.Ob({name:"mycdn",type:e,pure:!0}),e})(),u=(()=>{class e{constructor(e,t){this.translate=e,this.commonService=t}transform(e){for(var t=e.toString().split("[SPLIT_LANG]"),o=0;o<t.length;o++)t[o]=this.translate.instant(t[o]);return this.translate.instant(t.join(""))}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(s.c),n.Pb(r.a))},e.\u0275pipe=n.Ob({name:"mytranslate",type:e,pure:!0}),e})(),h=(()=>{class e{transform(e){return e.replace(/\n/g,"<br>")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Ob({name:"formatLineBreak",type:e,pure:!0}),e})(),p=(()=>{class e{transform(e){return e.replace(/<div>/g,"<br>").replace(/<\/div>/g,"").replace(/_div/g,"<br>").replace(/div_/g,"")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Ob({name:"formatNoteBreak",type:e,pure:!0}),e})(),l=(()=>{class e{constructor(e){this.commonService=e}transform(e,t){if(!e)return null;if(!t)return e;t=t.toLowerCase(),t=this.commonService.convertVietnameseToEnglish(t);for(var o=[],n=0;n<e.length;n++){var r=JSON.stringify(e[n]);r=r.toLowerCase(),(r=this.commonService.convertVietnameseToEnglish(r)).includes(t)&&o.push(e[n])}return o}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(r.a))},e.\u0275pipe=n.Ob({name:"appFilter",type:e,pure:!0}),e})(),d=(()=>{class e{transform(e,t,o){return e&&t&&o?e.replace(new RegExp(this.escapeStr(t),"g"),o):e}escapeStr(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Ob({name:"replace",type:e,pure:!0}),e})(),v=(()=>{class e{constructor(e){this.commonService=e}transform(e){return this.commonService.anonymousPhone(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(r.a))},e.\u0275pipe=n.Ob({name:"anonymousPhone",type:e,pure:!0}),e})(),g=(()=>{class e{constructor(e){this.commonService=e}transform(e){return this.commonService.anonymouFullName(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(r.a))},e.\u0275pipe=n.Ob({name:"anonymousFullName",type:e,pure:!0}),e})(),S=(()=>{class e{constructor(e){this.commonService=e}transform(e,t){return this.commonService.hasViewPermission(t,e)}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(r.a))},e.\u0275pipe=n.Ob({name:"viewPermission",type:e,pure:!0}),e})(),C=(()=>{class e{constructor(e){this.commonService=e}transform(e,t){return this.commonService.hasCreatePermission(t,e)}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(r.a))},e.\u0275pipe=n.Ob({name:"createPermission",type:e,pure:!0}),e})(),f=(()=>{class e{constructor(e){this.commonService=e}transform(e,t){return this.commonService.hasEditPermission(t,e)}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(r.a))},e.\u0275pipe=n.Ob({name:"editPermission",type:e,pure:!0}),e})(),b=(()=>{class e{constructor(e){this.commonService=e}transform(e,t){return this.commonService.hasCopyPermission(t,e)}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(r.a))},e.\u0275pipe=n.Ob({name:"copyPermission",type:e,pure:!0}),e})(),w=(()=>{class e{constructor(e){this.commonService=e}transform(e,t){return this.commonService.hasDeletePermission(t,e)}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(r.a))},e.\u0275pipe=n.Ob({name:"deletePermission",type:e,pure:!0}),e})(),y=(()=>{class e{constructor(e){this.commonService=e}transform(e,t){return this.commonService.hasMarkPointPermission(t,e)}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(r.a))},e.\u0275pipe=n.Ob({name:"markPointPermission",type:e,pure:!0}),e})(),A=(()=>{class e{constructor(e){this.commonService=e}transform(e,t){return this.commonService.hasFullPermission(t,e)}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(r.a))},e.\u0275pipe=n.Ob({name:"fullPermission",type:e,pure:!0}),e})(),P=(()=>{class e{constructor(e){this.commonService=e}transform(e,t){return this.commonService.hasConfigClassroomPermission(t,e)}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(r.a))},e.\u0275pipe=n.Ob({name:"configPermission",type:e,pure:!0}),e})(),k=(()=>{class e{constructor(e){this.commonService=e}transform(e,t){return this.commonService.hasConfigAndViewClassroomPermission(t,e)}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(r.a))},e.\u0275pipe=n.Ob({name:"configAndViewPermission",type:e,pure:!0}),e})(),B=(()=>{class e{constructor(e){this.commonService=e}transform(e,t){return this.commonService.hasConfigAndMarkClassroomPermission(t,e)}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(r.a))},e.\u0275pipe=n.Ob({name:"configAndMarkPermission",type:e,pure:!0}),e})(),O=(()=>{class e{constructor(e){this.commonService=e}transform(e){return this.commonService.showMarkHomeworkService(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(r.a))},e.\u0275pipe=n.Ob({name:"showMarkHomework",type:e,pure:!0}),e})()}}]);