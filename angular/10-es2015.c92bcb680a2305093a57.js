(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{X2wh:function(t,i,n){"use strict";n.d(i,"a",function(){return Yt});var e=n("fXoL"),c=n("tyNb"),o=n("gbi4"),s=n("Avyq"),a=n("yTNM"),l=n("ofXK"),b=n("UXJo"),r=n("NFeN"),f=n("wZkO"),m=n("IU+r"),d=n("Qu3c"),p=n("uZ1F"),g=n("gaSO");function u(t,i){1&t&&(e.Ub(0,"p",6),e.Qc(1,"Ch\u01b0a c\xf3 h\u1ecdc sinh n\xe0o tham gia thi"),e.Tb())}function h(t,i){if(1&t){const t=e.Vb();e.Ub(0,"a",7),e.bc("click",function(){return e.Cc(t),e.fc(2).showCopySuccess()}),e.Ub(1,"mat-icon",8),e.Qc(2,"share"),e.Tb(),e.Ub(3,"span",8),e.Qc(4,"\xa0Copy link \u0111\u1ec1 thi"),e.Tb(),e.Tb()}if(2&t){const t=e.fc(2);e.mc("cdkCopyToClipboard",t.copyLinkToClipboard())}}function v(t,i){1&t&&(e.Ub(0,"p",6),e.Qc(1,"Ch\u01b0a c\xf3 h\u1ecdc sinh n\xe0o n\u1ed9p b\xe0i t\u1eadp"),e.Tb())}function C(t,i){if(1&t){const t=e.Vb();e.Ub(0,"a",7),e.bc("click",function(){return e.Cc(t),e.fc(2).showCopySuccess()}),e.Ub(1,"mat-icon",8),e.Qc(2,"share"),e.Tb(),e.Ub(3,"span",8),e.Qc(4,"\xa0Copy link b\xe0i t\u1eadp"),e.Tb(),e.Tb()}if(2&t){const t=e.fc(2);e.mc("cdkCopyToClipboard",t.copyLinkHomeWorkToClipboard())}}function T(t,i){if(1&t&&(e.Ub(0,"div"),e.Ub(1,"div",3),e.Oc(2,u,2,0,"p",4),e.Oc(3,h,5,1,"a",5),e.Oc(4,v,2,0,"p",4),e.Oc(5,C,5,1,"a",5),e.Tb(),e.Tb()),2&t){const t=e.fc();e.Cb(2),e.mc("ngIf",!t.isHomeworkFlow),e.Cb(1),e.mc("ngIf",!t.isHomeworkFlow),e.Cb(1),e.mc("ngIf",t.isHomeworkFlow),e.Cb(1),e.mc("ngIf",t.isHomeworkFlow)}}function k(t,i){if(1&t&&(e.Ub(0,"span",21),e.Pb(1,"azt-create-avatar",22),e.Tb()),2&t){const t=e.fc().$implicit;e.Cb(1),e.nc("matTooltip",t.classObj.teacherAvatar.fullName),e.mc("nameCreateAvatar",t.classObj.teacherAvatar.fullName)("size",25)("linkAvatar",t.classObj.teacherAvatar.avatar)}}function O(t,i){if(1&t){const t=e.Vb();e.Ub(0,"div",37),e.bc("click",function(){e.Cc(t);const i=e.fc().$implicit;return e.fc(5).openResultHistoryReview(i)}),e.Ub(1,"mat-icon",38),e.Qc(2,"history"),e.Tb(),e.Tb()}}function w(t,i){1&t&&(e.Ub(0,"span",39),e.Qc(1," (\u0110ang Thi)"),e.Tb())}function U(t,i){1&t&&(e.Ub(0,"p",46),e.Qc(1," Ch\u01b0a ch\u1ea5m "),e.Tb())}function x(t,i){1&t&&(e.Ub(0,"p",47),e.Qc(1," \u0110ang thi "),e.Tb())}function _(t,i){1&t&&e.Pb(0,"span",50)}function y(t,i){if(1&t&&(e.Ub(0,"p",48),e.Qc(1," Ch\u01b0a thi "),e.Oc(2,_,1,0,"span",49),e.Tb()),2&t){const t=e.fc(7);e.Cb(2),e.mc("ngIf",t.hasEssayQuestion)}}function I(t,i){if(1&t&&(e.Ub(0,"p",51),e.Qc(1," \u0110i\u1ec3m: "),e.Ub(2,"b"),e.Qc(3),e.Tb(),e.Tb()),2&t){const t=e.fc(2).$implicit;e.Cb(3),e.Rc(t.mark)}}function P(t,i){if(1&t&&(e.Ub(0,"p",52),e.Qc(1),e.Tb()),2&t){const t=e.fc(2).$implicit,i=e.fc(5);e.Cb(1),e.Sc(" ",i.calculationTime(t.createdAt)," tr\u01b0\u1edbc ")}}function M(t,i){if(1&t&&(e.Ub(0,"div",40),e.Oc(1,U,2,0,"p",41),e.Oc(2,x,2,0,"p",42),e.Oc(3,y,3,1,"p",43),e.Oc(4,I,4,1,"p",44),e.Oc(5,P,2,1,"p",45),e.Tb()),2&t){const t=e.fc().$implicit;e.Cb(1),e.mc("ngIf",t.isNotMarked),e.Cb(1),e.mc("ngIf",t.isOnTest),e.Cb(1),e.mc("ngIf",t.isNotTested),e.Cb(1),e.mc("ngIf",t.isMarked),e.Cb(1),e.mc("ngIf",t.isMarked||t.isNotMarked)}}function S(t,i){1&t&&(e.Ub(0,"p",52),e.Qc(1," Th\u1eddi gian l\xe0m b\xe0i: "),e.Tb())}function Q(t,i){if(1&t&&(e.Ub(0,"p",52),e.Qc(1),e.Tb()),2&t){const t=e.fc(2).$implicit,i=e.fc(5);e.Cb(1),e.Sc(" ",i.calculationTestedTime(t.startedTest,t.createdAt)," ")}}function N(t,i){if(1&t&&(e.Ub(0,"p",52),e.Qc(1),e.Tb()),2&t){const t=e.fc(2).$implicit,i=e.fc(5);e.Cb(1),e.Sc(" ",i.calculationTestedTime(t.startedTest)," ")}}function L(t,i){if(1&t&&(e.Ub(0,"div",53),e.Oc(1,S,2,0,"p",45),e.Oc(2,Q,2,1,"p",45),e.Oc(3,N,2,1,"p",45),e.Tb()),2&t){const t=e.fc().$implicit;e.Cb(1),e.mc("ngIf",!t.isNotTested),e.Cb(1),e.mc("ngIf",t.isMarked||t.isNotMarked),e.Cb(1),e.mc("ngIf",t.isOnTest)}}function F(t,i){1&t&&(e.Ub(0,"p",52),e.Qc(1," S\u1ed1 t\u1ec7p tin \u0111\xe3 n\u1ed9p: "),e.Tb())}function $(t,i){if(1&t&&(e.Ub(0,"p",52),e.Qc(1),e.Tb()),2&t){const t=e.fc(2).$implicit;e.Cb(1),e.Sc(" ",t.files&&t.files.length>0?t.files.length:0," ")}}function z(t,i){if(1&t&&(e.Ub(0,"div",53),e.Oc(1,F,2,0,"p",45),e.Oc(2,$,2,1,"p",45),e.Tb()),2&t){const t=e.fc().$implicit;e.Cb(1),e.mc("ngIf",t.isMarked||t.isNotMarked),e.Cb(1),e.mc("ngIf",t.isMarked||t.isNotMarked)}}const R=function(t){return{"col-lg-4":t}},H=function(t){return{disableClick:t}},A=function(t){return[t]},j=function(t){return{backto:t}};function E(t,i){if(1&t&&(e.Ub(0,"div",23),e.Ub(1,"div",24),e.Ub(2,"div",25),e.Ub(3,"span",26),e.Pb(4,"azt-create-avatar",27),e.Oc(5,O,3,0,"div",28),e.Tb(),e.Ub(6,"div",29),e.Ub(7,"a",30),e.gc(8,"mylocalize"),e.Ub(9,"div",31),e.Ub(10,"span",32),e.Ub(11,"span",33),e.Qc(12),e.Oc(13,w,2,0,"span",34),e.Tb(),e.Tb(),e.Tb(),e.Oc(14,M,6,5,"div",35),e.Oc(15,L,4,3,"div",36),e.Oc(16,z,3,2,"div",36),e.Tb(),e.Tb(),e.Tb(),e.Tb(),e.Tb()),2&t){const t=i.$implicit,n=e.fc(5);e.mc("ngClass",e.rc(15,R,n.isOpenSideNav)),e.Cb(1),e.mc("ngClass",e.rc(17,H,t.isNotSubmit||t.mustReSubmit)),e.Cb(3),e.mc("linkAvatar",t.avatar)("nameCreateAvatar",t.fullName)("size",30),e.Cb(1),e.mc("ngIf",n.checkShowIconHistory(t)),e.Cb(2),e.mc("routerLink",e.rc(19,A,e.hc(8,13,"/admin/testbank/test-review/"+n.obj.id+"/"+t.userId+"/"+t.studentId+"/0")))("queryParams",e.rc(21,j,n.backToLink)),e.Cb(5),e.Sc("",t.fullName," "),e.Cb(1),e.mc("ngIf",1==t.status&&(t.isMarked||t.isNotMarked)),e.Cb(1),e.mc("ngIf",!n.isHomeworkFlow),e.Cb(1),e.mc("ngIf",!n.isHomeworkFlow),e.Cb(1),e.mc("ngIf",!n.isHomeworkFlow&&n.hasEssayQuestion)}}function V(t,i){if(1&t){const t=e.Vb();e.Ub(0,"div",15),e.Ub(1,"div",16),e.Ub(2,"p",17),e.bc("click",function(){e.Cc(t);const n=i.$implicit;return e.fc(4).goToStudentList(n.classObj.id)}),e.Ub(3,"span"),e.Qc(4),e.Tb(),e.Oc(5,k,2,4,"span",18),e.Tb(),e.Tb(),e.Ub(6,"div",19),e.Oc(7,E,17,23,"div",20),e.Tb(),e.Tb()}if(2&t){const t=i.$implicit;e.Cb(4),e.Rc(t.classObj.name+"("+t.countSubmitted+"/"+t.classObj.countStudents+")"),e.Cb(1),e.mc("ngIf",t.classObj.teacherAvatar),e.Cb(2),e.mc("ngForOf",t.results)}}function D(t,i){if(1&t&&(e.Ub(0,"mat-tab",13),e.Oc(1,V,8,3,"div",14),e.Tb()),2&t){const t=e.fc(3);e.nc("label","Theo l\u1edbp ("+t.totalSubmitByClass+")"),e.Cb(1),e.mc("ngForOf",t.studentListsInClass)}}function B(t,i){if(1&t){const t=e.Vb();e.Ub(0,"div",37),e.bc("click",function(){e.Cc(t);const i=e.fc(2).$implicit;return e.fc(4).openResultHistoryReview(i)}),e.Ub(1,"mat-icon",38),e.Qc(2,"history"),e.Tb(),e.Tb()}}function q(t,i){1&t&&(e.Ub(0,"span",39),e.Qc(1," (\u0110ang Thi)"),e.Tb())}function Y(t,i){1&t&&(e.Ub(0,"p",46),e.Qc(1," Ch\u01b0a ch\u1ea5m "),e.Tb())}function G(t,i){1&t&&(e.Ub(0,"p",63),e.Qc(1," \u0110ang thi "),e.Tb())}function X(t,i){1&t&&e.Pb(0,"span",50)}function K(t,i){if(1&t&&(e.Ub(0,"p",48),e.Qc(1," Ch\u01b0a thi "),e.Oc(2,X,1,0,"span",49),e.Tb()),2&t){const t=e.fc(7);e.Cb(2),e.mc("ngIf",t.hasEssayQuestion)}}function J(t,i){if(1&t&&(e.Ub(0,"p",51),e.Qc(1," \u0110i\u1ec3m: "),e.Ub(2,"b"),e.Qc(3),e.Tb(),e.Tb()),2&t){const t=e.fc(3).$implicit;e.Cb(3),e.Rc(t.mark)}}function W(t,i){if(1&t&&(e.Ub(0,"p",52),e.Qc(1),e.Tb()),2&t){const t=e.fc(3).$implicit,i=e.fc(4);e.Cb(1),e.Sc(" ",i.calculationTime(t.createdAt)," tr\u01b0\u1edbc ")}}function Z(t,i){if(1&t&&(e.Ub(0,"div",53),e.Oc(1,Y,2,0,"p",41),e.Oc(2,G,2,0,"p",62),e.Oc(3,K,3,1,"p",43),e.Oc(4,J,4,1,"p",44),e.Oc(5,W,2,1,"p",45),e.Tb()),2&t){const t=e.fc(2).$implicit;e.Cb(1),e.mc("ngIf",t.isNotMarked),e.Cb(1),e.mc("ngIf",t.isOnTest),e.Cb(1),e.mc("ngIf",t.isNotTested),e.Cb(1),e.mc("ngIf",t.isMarked),e.Cb(1),e.mc("ngIf",t.isMarked||t.isNotMarked)}}function tt(t,i){1&t&&(e.Ub(0,"p",52),e.Qc(1," Th\u1eddi gian l\xe0m b\xe0i: "),e.Tb())}function it(t,i){if(1&t&&(e.Ub(0,"p",52),e.Qc(1),e.Tb()),2&t){const t=e.fc(3).$implicit,i=e.fc(4);e.Cb(1),e.Sc(" ",i.calculationTestedTime(t.startedTest,t.createdAt)," ")}}function nt(t,i){if(1&t&&(e.Ub(0,"p",52),e.Qc(1),e.Tb()),2&t){const t=e.fc(3).$implicit,i=e.fc(4);e.Cb(1),e.Sc(" ",i.calculationTestedTime(t.startedTest)," ")}}function et(t,i){if(1&t&&(e.Ub(0,"div",53),e.Oc(1,tt,2,0,"p",45),e.Oc(2,it,2,1,"p",45),e.Oc(3,nt,2,1,"p",45),e.Tb()),2&t){const t=e.fc(2).$implicit;e.Cb(1),e.mc("ngIf",!t.isNotTested),e.Cb(1),e.mc("ngIf",t.isMarked||t.isNotMarked),e.Cb(1),e.mc("ngIf",t.isOnTest)}}function ct(t,i){1&t&&(e.Ub(0,"p",52),e.Qc(1," S\u1ed1 t\u1ec7p tin \u0111\xe3 n\u1ed9p: "),e.Tb())}function ot(t,i){if(1&t&&(e.Ub(0,"p",52),e.Qc(1),e.Tb()),2&t){const t=e.fc(3).$implicit;e.Cb(1),e.Sc(" ",t.files&&t.files.length>0?t.files.length:0," ")}}function st(t,i){if(1&t&&(e.Ub(0,"div",53),e.Oc(1,ct,2,0,"p",45),e.Oc(2,ot,2,1,"p",45),e.Tb()),2&t){const t=e.fc(2).$implicit;e.Cb(1),e.mc("ngIf",t.isMarked||t.isNotMarked),e.Cb(1),e.mc("ngIf",t.isMarked||t.isNotMarked)}}function at(t,i){if(1&t){const t=e.Vb();e.Ub(0,"div"),e.Ub(1,"div",60),e.Ub(2,"div",25),e.Ub(3,"span",26),e.Pb(4,"azt-create-avatar",27),e.Oc(5,B,3,0,"div",28),e.Tb(),e.Ub(6,"div",61),e.bc("click",function(){e.Cc(t);const i=e.fc().$implicit;return e.fc(4).goToResultReview(i)}),e.Ub(7,"div",31),e.Ub(8,"span",32),e.Ub(9,"span",33),e.Qc(10),e.Oc(11,q,2,0,"span",34),e.Tb(),e.Tb(),e.Tb(),e.Oc(12,Z,6,5,"div",36),e.Oc(13,et,4,3,"div",36),e.Oc(14,st,3,2,"div",36),e.Tb(),e.Tb(),e.Tb(),e.Tb()}if(2&t){const t=e.fc().$implicit,i=e.fc(4);e.Cb(1),e.mc("ngClass",e.rc(10,H,t.isNotSubmit||t.mustReSubmit)),e.Cb(3),e.mc("linkAvatar",t.avatar)("nameCreateAvatar",t.fullName)("size",30),e.Cb(1),e.mc("ngIf",i.checkShowIconHistory(t)),e.Cb(5),e.Sc("",t.fullName," "),e.Cb(1),e.mc("ngIf",1==t.status&&(t.isMarked||t.isNotMarked)),e.Cb(1),e.mc("ngIf",!i.isHomeworkFlow),e.Cb(1),e.mc("ngIf",!i.isHomeworkFlow),e.Cb(1),e.mc("ngIf",!i.isHomeworkFlow&&i.hasEssayQuestion)}}function lt(t,i){if(1&t){const t=e.Vb();e.Ub(0,"div",37),e.bc("click",function(){e.Cc(t);const i=e.fc(2).$implicit;return e.fc(4).openResultHistoryReview(i)}),e.Ub(1,"mat-icon",38),e.Qc(2,"history"),e.Tb(),e.Tb()}}function bt(t,i){1&t&&(e.Ub(0,"span",39),e.Qc(1," (\u0110ang Thi)"),e.Tb())}function rt(t,i){1&t&&(e.Ub(0,"p",46),e.Qc(1," Ch\u01b0a ch\u1ea5m "),e.Tb())}function ft(t,i){1&t&&(e.Ub(0,"p",63),e.Qc(1," \u0110ang thi "),e.Tb())}function mt(t,i){1&t&&e.Pb(0,"span",50)}function dt(t,i){if(1&t&&(e.Ub(0,"p",48),e.Qc(1," Ch\u01b0a thi "),e.Oc(2,mt,1,0,"span",49),e.Tb()),2&t){const t=e.fc(7);e.Cb(2),e.mc("ngIf",t.hasEssayQuestion)}}function pt(t,i){if(1&t&&(e.Ub(0,"p",51),e.Qc(1," \u0110i\u1ec3m: "),e.Ub(2,"b"),e.Qc(3),e.Tb(),e.Tb()),2&t){const t=e.fc(3).$implicit;e.Cb(3),e.Rc(t.mark)}}function gt(t,i){if(1&t&&(e.Ub(0,"p",52),e.Qc(1),e.Tb()),2&t){const t=e.fc(3).$implicit,i=e.fc(4);e.Cb(1),e.Sc(" ",i.calculationTime(t.createdAt)," tr\u01b0\u1edbc ")}}function ut(t,i){if(1&t&&(e.Ub(0,"div",53),e.Oc(1,rt,2,0,"p",41),e.Oc(2,ft,2,0,"p",62),e.Oc(3,dt,3,1,"p",43),e.Oc(4,pt,4,1,"p",44),e.Oc(5,gt,2,1,"p",45),e.Tb()),2&t){const t=e.fc(2).$implicit;e.Cb(1),e.mc("ngIf",t.isNotMarked),e.Cb(1),e.mc("ngIf",t.isOnTest),e.Cb(1),e.mc("ngIf",t.isNotTested),e.Cb(1),e.mc("ngIf",t.isMarked),e.Cb(1),e.mc("ngIf",t.isMarked||t.isNotMarked)}}function ht(t,i){1&t&&(e.Ub(0,"p",52),e.Qc(1," Th\u1eddi gian l\xe0m b\xe0i: "),e.Tb())}function vt(t,i){if(1&t&&(e.Ub(0,"p",52),e.Qc(1),e.Tb()),2&t){const t=e.fc(3).$implicit,i=e.fc(4);e.Cb(1),e.Sc(" ",i.calculationTestedTime(t.startedTest,t.createdAt)," ")}}function Ct(t,i){if(1&t&&(e.Ub(0,"p",52),e.Qc(1),e.Tb()),2&t){const t=e.fc(3).$implicit,i=e.fc(4);e.Cb(1),e.Sc(" ",i.calculationTestedTime(t.startedTest)," ")}}function Tt(t,i){if(1&t&&(e.Ub(0,"div",53),e.Oc(1,ht,2,0,"p",45),e.Oc(2,vt,2,1,"p",45),e.Oc(3,Ct,2,1,"p",45),e.Tb()),2&t){const t=e.fc(2).$implicit;e.Cb(1),e.mc("ngIf",!t.isNotTested),e.Cb(1),e.mc("ngIf",t.isMarked||t.isNotMarked),e.Cb(1),e.mc("ngIf",t.isOnTest)}}function kt(t,i){1&t&&(e.Ub(0,"p",52),e.Qc(1," S\u1ed1 t\u1ec7p tin \u0111\xe3 n\u1ed9p: "),e.Tb())}function Ot(t,i){if(1&t&&(e.Ub(0,"p",52),e.Qc(1),e.Tb()),2&t){const t=e.fc(3).$implicit;e.Cb(1),e.Sc(" ",t.files&&t.files.length>0?t.files.length:0," ")}}function wt(t,i){if(1&t&&(e.Ub(0,"div",53),e.Oc(1,kt,2,0,"p",45),e.Oc(2,Ot,2,1,"p",45),e.Tb()),2&t){const t=e.fc(2).$implicit;e.Cb(1),e.mc("ngIf",t.isMarked||t.isNotMarked),e.Cb(1),e.mc("ngIf",t.isMarked||t.isNotMarked)}}function Ut(t,i){if(1&t){const t=e.Vb();e.Ub(0,"div",60),e.Ub(1,"div",25),e.Ub(2,"span",26),e.Pb(3,"azt-create-avatar",27),e.Oc(4,lt,3,0,"div",28),e.Tb(),e.Ub(5,"div",61),e.bc("click",function(){e.Cc(t);const i=e.fc().$implicit;return e.fc(4).goToResultReview(i)}),e.Ub(6,"a",64),e.gc(7,"mylocalize"),e.Ub(8,"div",31),e.Ub(9,"span",32),e.Ub(10,"span",33),e.Qc(11),e.Oc(12,bt,2,0,"span",34),e.Tb(),e.Tb(),e.Tb(),e.Oc(13,ut,6,5,"div",36),e.Oc(14,Tt,4,3,"div",36),e.Oc(15,wt,3,2,"div",36),e.Tb(),e.Tb(),e.Tb(),e.Tb()}if(2&t){const t=e.fc().$implicit,i=e.fc(4);e.mc("ngClass",e.rc(14,H,t.isNotSubmit||t.mustReSubmit)),e.Cb(3),e.mc("linkAvatar",t.avatar)("nameCreateAvatar",t.fullName)("size",30),e.Cb(1),e.mc("ngIf",i.checkShowIconHistory(t)),e.Cb(2),e.mc("routerLink",e.rc(16,A,e.hc(7,12,"/admin/testbank/test-review/"+i.obj.id+"/"+t.userId+"/"+t.studentId+"/0")))("queryParams",e.rc(18,j,i.backToLink)),e.Cb(5),e.Sc("",t.fullName," "),e.Cb(1),e.mc("ngIf",1==t.status&&(t.isMarked||t.isNotMarked)),e.Cb(1),e.mc("ngIf",!i.isHomeworkFlow),e.Cb(1),e.mc("ngIf",!i.isHomeworkFlow),e.Cb(1),e.mc("ngIf",!i.isHomeworkFlow&&i.hasEssayQuestion)}}function xt(t,i){if(1&t&&(e.Ub(0,"div",58),e.Oc(1,at,15,12,"div",10),e.Oc(2,Ut,16,20,"ng-template",null,59,e.Pc),e.Tb()),2&t){const t=i.$implicit,n=e.yc(3),c=e.fc(4);e.mc("ngClass",e.rc(3,R,c.isOpenSideNav)),e.Cb(1),e.mc("ngIf",t.isNotSubmit||t.mustReSubmit)("ngIfElse",n)}}function _t(t,i){if(1&t){const t=e.Vb();e.Ub(0,"div",65),e.Ub(1,"azt-paging",66),e.bc("SendPage",function(i){return e.Cc(t),e.fc(4).clickPage(i)}),e.Tb(),e.Tb()}if(2&t){const t=e.fc(4);e.Cb(1),e.mc("lengthPage",t.totalPage)("paging",t.curPage)}}function yt(t,i){if(1&t&&(e.Ub(0,"mat-tab",13),e.Ub(1,"div",54),e.Oc(2,xt,4,5,"div",55),e.Ub(3,"div",56),e.Oc(4,_t,2,2,"div",57),e.Tb(),e.Tb(),e.Tb()),2&t){const t=e.fc(3);e.nc("label","T\u1ef1 do ("+t.studentLists.length+")"),e.Cb(2),e.mc("ngForOf",t.studentListPage),e.Cb(2),e.mc("ngIf",t.totalPage>1)}}function It(t,i){if(1&t&&(e.Ub(0,"mat-tab-group"),e.Oc(1,D,2,2,"mat-tab",12),e.Oc(2,yt,5,3,"mat-tab",12),e.Tb()),2&t){const t=e.fc(2);e.Cb(1),e.mc("ngIf",t.examHasClass),e.Cb(1),e.mc("ngIf",t.studentLists&&t.studentLists.length>0)}}function Pt(t,i){1&t&&(e.Ub(0,"p",46),e.Qc(1," Ch\u01b0a ch\u1ea5m "),e.Tb())}function Mt(t,i){1&t&&(e.Ub(0,"p",47),e.Qc(1," Ch\u01b0a n\u1ed9p "),e.Tb())}function St(t,i){1&t&&(e.Ub(0,"p",47),e.Qc(1," \u0110\xe3 y\xeau c\u1ea7u n\u1ed9p l\u1ea1i "),e.Tb())}function Qt(t,i){if(1&t&&(e.Ub(0,"p",51),e.Qc(1," \u0110i\u1ec3m: "),e.Ub(2,"b"),e.Qc(3),e.Tb(),e.Tb()),2&t){const t=e.fc(2).$implicit;e.Cb(3),e.Rc(t.point)}}function Nt(t,i){if(1&t&&(e.Ub(0,"p",52),e.Qc(1),e.Tb()),2&t){const t=e.fc(2).$implicit,i=e.fc(3);e.Cb(1),e.Sc(" ",i.calculationTime(t.createdAt)," tr\u01b0\u1edbc ")}}function Lt(t,i){if(1&t&&(e.Ub(0,"div",53),e.Ub(1,"p",52),e.Qc(2," S\u1ed1 t\u1ec7p tin \u0111\xe3 n\u1ed9p: "),e.Tb(),e.Ub(3,"p",52),e.Qc(4),e.Tb(),e.Tb()),2&t){const t=e.fc(2).$implicit,i=e.fc(3);e.Cb(4),e.Sc(" ",t.answer.files&&i.formatArray(t.answer.files).length>0?i.formatArray(t.answer.files).length:0," ")}}function Ft(t,i){if(1&t&&(e.Ub(0,"div"),e.Ub(1,"a",64),e.gc(2,"mylocalize"),e.Ub(3,"div",60),e.Ub(4,"div",25),e.Ub(5,"span",26),e.Pb(6,"azt-create-avatar",27),e.Tb(),e.Ub(7,"div",29),e.Ub(8,"div",31),e.Ub(9,"span",32),e.Ub(10,"span",33),e.Qc(11),e.Tb(),e.Tb(),e.Tb(),e.Ub(12,"div",53),e.Oc(13,Pt,2,0,"p",41),e.Oc(14,Mt,2,0,"p",42),e.Oc(15,St,2,0,"p",42),e.Oc(16,Qt,4,1,"p",44),e.Oc(17,Nt,2,1,"p",45),e.Tb(),e.Oc(18,Lt,5,1,"div",36),e.Tb(),e.Tb(),e.Tb(),e.Tb(),e.Tb()),2&t){const t=e.fc().$implicit,i=e.fc(3);e.Cb(1),e.mc("routerLink",e.rc(15,A,e.hc(2,13,"/admin/homework/mark-exercise/"+t.answer.id)))("queryParams",e.rc(17,j,i.backToLink)),e.Cb(2),e.mc("ngClass",e.rc(19,H,t.isNotSubmit||t.mustReSubmit)),e.Cb(3),e.mc("linkAvatar",t.avatar)("nameCreateAvatar",t.fullName)("size",30),e.Cb(5),e.Rc(t.fullName),e.Cb(2),e.mc("ngIf",t.isSubmitted),e.Cb(1),e.mc("ngIf",t.isNotSubmit),e.Cb(1),e.mc("ngIf",t.mustReSubmit),e.Cb(1),e.mc("ngIf",t.isMarked),e.Cb(1),e.mc("ngIf",null!=t.createdAt),e.Cb(1),e.mc("ngIf",t.isMarked||t.isSubmitted)}}function $t(t,i){1&t&&(e.Ub(0,"p",46),e.Qc(1," Ch\u01b0a ch\u1ea5m "),e.Tb())}function zt(t,i){1&t&&(e.Ub(0,"p",47),e.Qc(1," Ch\u01b0a n\u1ed9p "),e.Tb())}function Rt(t,i){1&t&&(e.Ub(0,"p",47),e.Qc(1," \u0110\xe3 y\xeau c\u1ea7u n\u1ed9p l\u1ea1i "),e.Tb())}function Ht(t,i){if(1&t&&(e.Ub(0,"p",51),e.Qc(1," \u0110i\u1ec3m: "),e.Ub(2,"b"),e.Qc(3),e.Tb(),e.Tb()),2&t){const t=e.fc(2).$implicit;e.Cb(3),e.Rc(t.point)}}function At(t,i){if(1&t&&(e.Ub(0,"p",52),e.Qc(1),e.Tb()),2&t){const t=e.fc(2).$implicit,i=e.fc(3);e.Cb(1),e.Sc(" ",i.calculationTime(t.createdAt)," tr\u01b0\u1edbc ")}}function jt(t,i){if(1&t&&(e.Ub(0,"div",53),e.Ub(1,"p",52),e.Qc(2," S\u1ed1 t\u1ec7p tin \u0111\xe3 n\u1ed9p: "),e.Tb(),e.Ub(3,"p",52),e.Qc(4),e.Tb(),e.Tb()),2&t){const t=e.fc(2).$implicit,i=e.fc(3);e.Cb(4),e.Sc(" ",t.answer.files&&i.formatArray(t.answer.files).length>0?i.formatArray(t.answer.files).length:0," ")}}function Et(t,i){if(1&t){const t=e.Vb();e.Ub(0,"div",60),e.Ub(1,"div",25),e.Ub(2,"span",26),e.Pb(3,"azt-create-avatar",27),e.Tb(),e.Ub(4,"div",61),e.bc("click",function(){e.Cc(t);const i=e.fc().$implicit;return e.fc(3).goToResultReview(i)}),e.Ub(5,"div",31),e.Ub(6,"span",32),e.Ub(7,"span",33),e.Qc(8),e.Tb(),e.Tb(),e.Tb(),e.Ub(9,"div",53),e.Oc(10,$t,2,0,"p",41),e.Oc(11,zt,2,0,"p",42),e.Oc(12,Rt,2,0,"p",42),e.Oc(13,Ht,4,1,"p",44),e.Oc(14,At,2,1,"p",45),e.Tb(),e.Oc(15,jt,5,1,"div",36),e.Tb(),e.Tb(),e.Tb()}if(2&t){const t=e.fc().$implicit;e.mc("ngClass",e.rc(11,H,t.isNotSubmit||t.mustReSubmit)),e.Cb(3),e.mc("linkAvatar",t.avatar)("nameCreateAvatar",t.fullName)("size",30),e.Cb(5),e.Rc(t.fullName),e.Cb(2),e.mc("ngIf",t.isSubmitted),e.Cb(1),e.mc("ngIf",t.isNotSubmit),e.Cb(1),e.mc("ngIf",t.mustReSubmit),e.Cb(1),e.mc("ngIf",t.isMarked),e.Cb(1),e.mc("ngIf",null!=t.createdAt),e.Cb(1),e.mc("ngIf",t.isMarked||t.isSubmitted)}}function Vt(t,i){if(1&t&&(e.Ub(0,"div",58),e.Oc(1,Ft,19,21,"div",10),e.Oc(2,Et,16,13,"ng-template",null,68,e.Pc),e.Tb()),2&t){const t=i.$implicit,n=e.yc(3),c=e.fc(3);e.mc("ngClass",e.rc(3,R,c.isOpenSideNav)),e.Cb(1),e.mc("ngIf",t.answer)("ngIfElse",n)}}function Dt(t,i){if(1&t&&(e.Ub(0,"div",67),e.Oc(1,Vt,4,5,"div",55),e.Tb()),2&t){const t=e.fc(2);e.Cb(1),e.mc("ngForOf",t.studentLists)}}function Bt(t,i){if(1&t&&(e.Ub(0,"div",9),e.Oc(1,It,3,2,"mat-tab-group",10),e.Oc(2,Dt,2,1,"ng-template",null,11,e.Pc),e.Tb()),2&t){const t=e.yc(3),i=e.fc();e.Cb(1),e.mc("ngIf",!i.isHomeworkFlow)("ngIfElse",t)}}const qt=function(t){return{"mt-3":t}};let Yt=(()=>{class t{constructor(t,i,n,c,o){this.activeRoute=t,this.router=i,this.commonService=n,this.localize=c,this.apiService=o,this.studentLists=[],this.studentListsInClass=[],this.obj={},this.backToLink="",this.totalSubmitted=0,this.totalSubmitByClass=0,this.examHasClass=!1,this.hasEssayQuestion=!1,this.isNotTestedYet=!1,this.isHomeworkFlow=!1,this.searchKey="",this.isOpenSideNav=!0,this.goToResult=new e.o,this.openResultHistory=new e.o,this.studentListPage=[],this.isLoadingPage=!1,this.checkPaging=!1,this.curPage=1,this.totalPage=0}goToResultReview(t){t.isNotSubmit||t.mustReSubmit||this.goToResult.emit(t)}clickPage(t){this.createPageStudent(t)}openResultHistoryReview(t){this.openResultHistory.emit(t)}checkValidClickLink(t){return"[]"!=t.answers&&null!=t.answers}checkShowIconHistory(t){let i=!1;return 1!=t.status&&(t.isMarked||t.isNotMarked)&&(i=!0),0==this.obj.examType||1==this.obj.examType?!(!i||"[]"!=t.answers&&null!=t.answers):!(!i||""!=t.files&&null!=t.files&&"[]"!=t.answers&&null!=t.answers)}createPageStudent(t){this.studentListPage=[];let i=this.studentLists.length;if(this.totalPage=Math.ceil(i/100),i>100)for(let n=100*(t-1);n<100*t;n++)this.studentLists.length-1>=n&&this.studentListPage.push(this.studentLists[n]);else this.checkPaging=!1,this.studentListPage=this.studentLists;this.isLoadingPage=!1}copyLinkToClipboard(){return`${location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}/de-thi/${this.obj.hashId}`}copyLinkHomeWorkToClipboard(){return`${location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}/bai-tap/${this.obj.hashId}`}showCopySuccess(){this.commonService.snackSuccess("Sao ch\xe9p th\xe0nh c\xf4ng","")}calculationTime(t,i){return this.commonService.calculationTime(t,i)}calculationTestedTime(t,i){return this.commonService.calculationTestedTime(t,i)}formatArray(t){return JSON.parse(t)}goToStudentList(t){this.commonService.myNavigation("/admin/student/class-details/"+t)}isSearch(t){return 0==t.length}ngOnInit(){this.createPageStudent(this.curPage)}ngOnChanges(){this.createPageStudent(this.curPage)}ngOnDestroy(){}}return t.\u0275fac=function(i){return new(i||t)(e.Ob(c.a),e.Ob(c.i),e.Ob(o.a),e.Ob(s.e),e.Ob(a.a))},t.\u0275cmp=e.Ib({type:t,selectors:[["app-student-result-view"]],inputs:{studentLists:"studentLists",studentListsInClass:"studentListsInClass",obj:"obj",backToLink:"backToLink",totalSubmitted:"totalSubmitted",totalSubmitByClass:"totalSubmitByClass",examHasClass:"examHasClass",hasEssayQuestion:"hasEssayQuestion",isNotTestedYet:"isNotTestedYet",isHomeworkFlow:"isHomeworkFlow",searchKey:"searchKey",isOpenSideNav:"isOpenSideNav"},outputs:{goToResult:"goToResult",openResultHistory:"openResultHistory"},features:[e.Ab],decls:3,vars:5,consts:[[1,"box-content","py-2","scrollable-content",3,"ngClass"],[4,"ngIf"],["class","pt-0 pb-2 px-3 ",4,"ngIf"],[1,"text-center","mt-3"],["class","h5",4,"ngIf"],["class","clickable","style","user-select: none;",3,"cdkCopyToClipboard","click",4,"ngIf"],[1,"h5"],[1,"clickable",2,"user-select","none",3,"cdkCopyToClipboard","click"],[2,"vertical-align","middle","color","#333333"],[1,"pt-0","pb-2","px-3"],[4,"ngIf","ngIfElse"],["HomeworkFlow",""],[3,"label",4,"ngIf"],[3,"label"],["class","mt-3",4,"ngFor","ngForOf"],[1,"mt-3"],[1,"row","ml-0","mr-0","pl-3"],[1,"h5","clickable","link-stu",3,"click"],["class","ml-2",4,"ngIf"],[1,"row","ml-0","mr-0","pl-0","pr-0"],["class","col-12 col-sm-12 col-md-4 col-lg-3 mb-2 d-flex","style","align-items: stretch;",3,"ngClass",4,"ngFor","ngForOf"],[1,"ml-2"],[2,"cursor","pointer",3,"matTooltip","nameCreateAvatar","size","linkAvatar"],[1,"col-12","col-sm-12","col-md-4","col-lg-3","mb-2","d-flex",2,"align-items","stretch",3,"ngClass"],[1,"box-item",2,"align-self","stretch","width","100%",3,"ngClass"],[1,"student-item"],[1,"stdimg","align-self-center"],[3,"linkAvatar","nameCreateAvatar","size"],["class","text-center",3,"click",4,"ngIf"],[1,"stdinfo"],[2,"width","100%",3,"routerLink","queryParams"],[1,"stdinfo-fullname"],[2,"vertical-align","middle"],[2,"vertical-align","middle","color","#333333","font-weight","400","font-size","15px","word-break","break-word"],["style","vertical-align: middle; color: #9F0000; font-size: 12px;","matTooltip","H\u1ecdc sinh \u0111ang thi l\u1ea1i",4,"ngIf"],["class","d-flex justify-content-between","style","padding-top: 3px;",4,"ngIf"],["class","d-flex justify-content-between",4,"ngIf"],[1,"text-center",3,"click"],["matTooltip","L\u1ecbch s\u1eed thi",2,"vertical-align","middle","margin-top","2px","color","#cccccc"],["matTooltip","H\u1ecdc sinh \u0111ang thi l\u1ea1i",2,"vertical-align","middle","color","#9F0000","font-size","12px"],[1,"d-flex","justify-content-between",2,"padding-top","3px"],["style","color: #F39C12; font-size: 13px; margin-bottom: 2px;",4,"ngIf"],["style","color: #9F0000; font-size: 13px; margin-bottom: 2px;",4,"ngIf"],["style","color: #9C9C9C; font-size: 13px; margin-bottom: 2px;",4,"ngIf"],["style","font-size: 13px; margin-bottom: 2px;",4,"ngIf"],["style","font-size: 13px; margin-bottom: 2px; color: #9C9C9C",4,"ngIf"],[2,"color","#F39C12","font-size","13px","margin-bottom","2px"],[2,"color","#9F0000","font-size","13px","margin-bottom","2px"],[2,"color","#9C9C9C","font-size","13px","margin-bottom","2px"],["style","padding: 7px;margin-bottom: 2px;",4,"ngIf"],[2,"padding","7px","margin-bottom","2px"],[2,"font-size","13px","margin-bottom","2px"],[2,"font-size","13px","margin-bottom","2px","color","#9C9C9C"],[1,"d-flex","justify-content-between"],[1,"row","ml-0","mr-0","pl-0","pr-0","mt-2",2,"overflow-y","hidden"],["class","col-12 col-sm-12 col-md-4 col-lg-3 mb-2",3,"ngClass",4,"ngFor","ngForOf"],[1,"col-12","mt-2"],["class","col-md-11 text-left mt-2",4,"ngIf"],[1,"col-12","col-sm-12","col-md-4","col-lg-3","mb-2",3,"ngClass"],["dataDone",""],[1,"box-item",3,"ngClass"],[1,"stdinfo",3,"click"],["style","color: #9F0000; font-size: 13px; margin-bottom: 0px;",4,"ngIf"],[2,"color","#9F0000","font-size","13px","margin-bottom","0px"],[3,"routerLink","queryParams"],[1,"col-md-11","text-left","mt-2"],[3,"lengthPage","paging","SendPage"],[1,"row","ml-0","mr-0","pl-0","pr-0","mt-2"],["answerIdNull",""]],template:function(t,i){1&t&&(e.Ub(0,"div",0),e.Oc(1,T,6,4,"div",1),e.Oc(2,Bt,4,2,"div",2),e.Tb()),2&t&&(e.mc("ngClass",e.rc(3,qt,!i.isHomeworkFlow)),e.Cb(1),e.mc("ngIf",i.isNotTestedYet),e.Cb(1),e.mc("ngIf",!i.isNotTestedYet))},directives:[l.k,l.m,b.a,r.a,f.b,f.a,l.l,m.a,d.a,c.k,p.a],pipes:[g.o],styles:[".box-content[_ngcontent-%COMP%]{background:inherit;background-color:#f9f9f9;box-sizing:border-box;border:1px solid #e9e9e9;border-radius:5px;box-shadow:none}a[_ngcontent-%COMP%]{color:#000}.disableClick[_ngcontent-%COMP%]{cursor:default!important}.scrollable-content[_ngcontent-%COMP%]{height:calc(100vh - 166px);overflow-y:scroll}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;margin:5px}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px #cecece;border-radius:10px}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cfcece;border-radius:10px}.box-item[_ngcontent-%COMP%]{background-color:#fff;padding:10px;border:1px solid #ccc;border-radius:4px;margin-bottom:10px;cursor:pointer;position:relative}.badge-testing[_ngcontent-%COMP%]{position:absolute;top:0;right:6px;border-radius:4px;padding:0 3px}.student-item[_ngcontent-%COMP%]{display:flex;position:relative}.link-stu[_ngcontent-%COMP%], .student-item[_ngcontent-%COMP%]   .deleteBtn[_ngcontent-%COMP%], .student-item[_ngcontent-%COMP%]   .enterClsWrap[_ngcontent-%COMP%]{display:flex}.link-stu[_ngcontent-%COMP%]{align-items:center}.link-stu[_ngcontent-%COMP%]:hover{color:#007bff}.stdimg[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-right:10px}.stdinfo[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:auto}.menu-icon[_ngcontent-%COMP%]{vertical-align:middle;color:#828282}.create-avatar[_ngcontent-%COMP%]{vertical-align:middle;display:inline-block;margin-top:2px;border-radius:50%;width:30px;text-transform:uppercase;height:30px;background:#ddd;text-align:center;padding-top:5px}@media screen and (max-width:750px){.scrollable-content[_ngcontent-%COMP%]{min-height:calc(100vh - 170px);height:auto;overflow-y:inherit}.tested_list_container[_ngcontent-%COMP%]{height:auto}}"]}),t})()},wAhq:function(t,i,n){"use strict";n.d(i,"a",function(){return _});var e=n("fXoL"),c=n("quSY"),o=n("BTbT"),s=n("gbi4"),a=n("jhN1"),l=n("ofXK"),b=n("NFeN"),r=n("IkSl");function f(t,i){1&t&&(e.Ub(0,"div",2),e.Ub(1,"div",3),e.Ub(2,"span",4),e.Qc(3,"Loading..."),e.Tb(),e.Tb(),e.Tb())}function m(t,i){if(1&t&&(e.Ub(0,"div",20),e.Qc(1),e.Tb()),2&t){const t=e.fc(2);e.Cb(1),e.Rc(t.fileOption.name)}}function d(t,i){1&t&&(e.Ub(0,"div",20),e.Qc(1,"D\u1eef li\u1ec7u \u1ea3nh c\u1eaft \u0111\u1ec1"),e.Tb())}function p(t,i){if(1&t&&(e.Ub(0,"div",21),e.Qc(1),e.Tb()),2&t){const t=e.fc(2);e.Cb(1),e.Tc("Dung l\u01b0\u1ee3ng: ",t.file_mb," MB | Lo\u1ea1i : ",t.fileOption.mimes,"")}}function g(t,i){1&t&&(e.Ub(0,"div",21),e.Qc(1,"Dung l\u01b0\u1ee3ng: 0.3 MB | Lo\u1ea1i : Images"),e.Tb())}function u(t,i){if(1&t&&(e.Ub(0,"a",22),e.Ub(1,"mat-icon",16),e.Qc(2,"save_alt"),e.Tb(),e.Tb()),2&t){const t=e.fc(2);e.Db("href",t.root_link,e.Gc)("download",t.fileOption.name)}}function h(t,i){if(1&t&&(e.Ub(0,"div"),e.Ub(1,"div",28),e.Ub(2,"audio",29),e.Pb(3,"source",30),e.Qc(4," Your browser does not support the audio element. "),e.Tb(),e.Tb(),e.Tb()),2&t){const t=e.fc(3);e.Cb(3),e.mc("src",t.cdn_link,e.Gc),e.Db("type",t.fileOption.mimes)}}function v(t,i){if(1&t&&(e.Ub(0,"div"),e.Ub(1,"div",31),e.Ub(2,"video",32),e.Pb(3,"source",30),e.Ub(4,"p",33),e.Qc(5," B\u1ea1n \u0111ang s\u1eed d\u1ee5ng tr\xecnh duy\u1ec7t kh\xf4ng h\u1ed7 tr\u1ee3 xem video tr\u1ef1c tuy\u1ebfn. "),e.Tb(),e.Tb(),e.Tb(),e.Tb()),2&t){const t=e.fc(3);e.Cb(2),e.nc("poster",t.video_thumb_url,e.Gc),e.Cb(1),e.mc("src",t.cdn_link,e.Gc),e.Db("type",t.fileOption.mimes)}}function C(t,i){if(1&t&&(e.Ub(0,"div"),e.Pb(1,"iframe",34),e.Tb()),2&t){const t=e.fc(3);e.Cb(1),e.mc("src",t.cdn_link,e.Ec)}}function T(t,i){if(1&t&&(e.Ub(0,"div"),e.Ub(1,"div",31),e.Pb(2,"img",35),e.Tb(),e.Tb()),2&t){const t=e.fc(3);e.Cb(2),e.Db("src",t.cdn_link,e.Gc)}}function k(t,i){if(1&t&&(e.Ub(0,"div"),e.Ub(1,"div",36),e.Pb(2,"iframe",37),e.Tb(),e.Tb()),2&t){const t=e.fc(3);e.Cb(2),e.mc("src",t.cdn_link,e.Ec)}}function O(t,i){if(1&t&&(e.Ub(0,"div"),e.Ub(1,"div",38),e.Pb(2,"pdf-viewer",39),e.Tb(),e.Tb()),2&t){const t=e.fc(3);e.Cb(2),e.mc("src",t.cdn_link)("show-all",!0)}}function w(t,i){if(1&t&&(e.Sb(0),e.Ub(1,"div",23),e.Ub(2,"div",24),e.Oc(3,h,5,2,"div",25),e.Oc(4,v,6,3,"div",25),e.Oc(5,C,2,1,"div",25),e.Oc(6,T,3,1,"div",25),e.Oc(7,k,3,1,"div",25),e.Oc(8,O,3,2,"div",25),e.Pb(9,"div",26),e.Tb(),e.Pb(10,"div",27),e.Tb(),e.Rb()),2&t){const t=e.fc(2);e.Cb(3),e.mc("ngIf","audio"===t.typeFile),e.Cb(1),e.mc("ngIf","video"===t.typeFile),e.Cb(1),e.mc("ngIf","vimeo"===t.typeFile),e.Cb(1),e.mc("ngIf","image"===t.typeFile),e.Cb(1),e.mc("ngIf","officeapps"===t.typeFile),e.Cb(1),e.mc("ngIf","pdf"===t.typeFile)}}function U(t,i){if(1&t&&(e.Ub(0,"div",23),e.Ub(1,"div",24),e.Ub(2,"div",40),e.Pb(3,"img",41),e.Tb(),e.Tb(),e.Tb()),2&t){const t=e.fc(2);e.Cb(3),e.Db("src",t.linkUrl,e.Gc)}}function x(t,i){if(1&t){const t=e.Vb();e.Ub(0,"div",5),e.Ub(1,"div",6),e.Ub(2,"div",7),e.Ub(3,"div",8),e.Pb(4,"div",9),e.Tb(),e.Oc(5,m,2,1,"div",10),e.Oc(6,d,2,0,"div",10),e.Oc(7,p,2,2,"div",11),e.Oc(8,g,2,0,"div",11),e.Tb(),e.Ub(9,"div",12),e.Ub(10,"span",13),e.Oc(11,u,3,2,"a",14),e.Tb(),e.Ub(12,"span",15),e.bc("click",function(){return e.Cc(t),e.fc().btnClosePreview()}),e.Ub(13,"mat-icon",16),e.Qc(14,"close"),e.Tb(),e.Tb(),e.Tb(),e.Tb(),e.Ub(15,"div",17),e.Oc(16,w,11,6,"ng-container",18),e.Oc(17,U,4,1,"ng-template",null,19,e.Pc),e.Tb(),e.Tb()}if(2&t){const t=e.yc(18),i=e.fc();e.Cb(5),e.mc("ngIf",null!=i.fileOption),e.Cb(1),e.mc("ngIf",null==i.fileOption),e.Cb(1),e.mc("ngIf",null!=i.fileOption),e.Cb(1),e.mc("ngIf",null==i.fileOption),e.Cb(3),e.mc("ngIf",null!=i.fileOption),e.Cb(5),e.mc("ngIf",0==i.typePreview)("ngIfElse",t)}}let _=(()=>{class t{constructor(t,i,n){this.commonService=t,this.dom=i,this.sanitizer=n,this.typePreview=0,this.linkUrl="",this.closePreview=new e.o,this.subscriptions=new c.a,this.typeFile="",this.cdn_link="",this.root_link="",this.file_mb=0,this.video_thumb_url="",this.isVimeoLink=!1,this.isLoading=!1}ngOnInit(){this.isLoading=!0,document.body.classList.add("overflow-hidden"),setTimeout(()=>{this.initData()},0),this.video_thumb_url="https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/video-thumb.png"}initData(){if(0==this.typePreview){if(this.cdn_link=this.commonService.getMyCdn(this.fileOption.url),this.root_link=this.cdn_link,this.file_mb=this.getFileMB(this.fileOption.size),this.typeFile=Object(o.c)(this.fileOption.mimes),this.isVimeoLink=this.cdn_link.includes("https://player.vimeo.com/")||this.cdn_link.includes("https://mega.nz"),this.isVimeoLink&&(this.typeFile="vimeo"),""!=this.cdn_link)switch(this.typeFile){case"pdf":this.cdn_link=this.cdn_link;break;case"officeapps":this.cdn_link=this.dom.bypassSecurityTrustResourceUrl(this.commonService.getLinkEmbedDocument(this.cdn_link));break;case"video":default:this.cdn_link=this.dom.bypassSecurityTrustResourceUrl(this.cdn_link)}}else this.linkUrl=this.commonService.getMyCdn(this.linkUrl);this.isLoading=!1}removeClassCss(){document.body.classList.remove("overflow-hidden")}objToString(t){let i="";for(const[n,e]of Object.entries(t))i+=`${n}::${e}\n`;return i}btnClosePreview(){this.removeClassCss(),this.closePreview.emit()}getFileMB(t){return t>0?(t/=1048576).toFixed(2):0}reloadFrame(t){let i=document.getElementById(t);i&&i.parentNode.replaceChild(i.cloneNode(),i)}ngOnDestroy(){this.subscriptions.unsubscribe(),this.removeClassCss()}}return t.\u0275fac=function(i){return new(i||t)(e.Ob(s.a),e.Ob(a.b),e.Ob(a.b))},t.\u0275cmp=e.Ib({type:t,selectors:[["azt-preview-media"]],inputs:{fileOption:"fileOption",typePreview:"typePreview",linkUrl:"linkUrl"},outputs:{closePreview:"closePreview"},decls:2,vars:2,consts:[["class","loading-block",4,"ngIf"],["class","file-preview",4,"ngIf"],[1,"loading-block"],["role","status",1,"spinner-border","text-secondary",2,"width","5rem","height","5rem"],[1,"sr-only"],[1,"file-preview"],[1,"file-preview__header","flx","flx-sp-btw"],[1,"file-preview__header-left"],["title","",1,"avatar","avatar--xs"],[1,"avatar-img",2,"background-image",'url("https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/documents.png")',"background-size","cover"],["class","file-preview__header__title",4,"ngIf"],["class","file-preview__header__send-time",4,"ngIf"],[1,"file-preview__header-right"],[1,"file-preview__controls-container"],["class","clickable download","target","_blank",4,"ngIf"],[1,"file-preview__buttons-container",3,"click"],[2,"color","rgb(53, 53, 53)","cursor","pointer"],[1,"file-preview__main","flx",2,"overflow-x","auto","flex","1 1 auto"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"file-preview__header__title"],[1,"file-preview__header__send-time"],["target","_blank",1,"clickable","download"],[1,"file-preview__main-iframe","mx-auto"],[1,"file-preview__notify"],[4,"ngIf"],[1,"tool-hide"],[1,"file-preview__main-comments"],[1,"container-fluid","mt-3"],["controls",""],[3,"src"],[1,"pl-2","pr-2","mt-3"],["id","my-video","playsinline","playsinline","controls","","preload","auto","data-setup","{}",1,"video-js",2,"max-height","calc(100vh - 80px)","width","100%","padding-bottom","1rem",3,"poster"],[1,"vjs-no-js"],["frameborder","0","allowfullscreen","",2,"width","100vw","height","95vh","max-height","calc(100vh - 60px)","padding-bottom","1rem",3,"src"],["alt","Responsive image",1,"img-fluid","image-preview",2,"max-height","calc(100vh - 80px)","padding-bottom","1rem"],[1,"pl-2","pr-2","mp-0"],["frameborder","0",2,"width","100vw","height","95vh","max-height","calc(100vh - 60px)","padding-bottom","1rem",3,"src"],[1,"container-fluid","mp-0"],[2,"width","100vw","height","95vh","max-height","calc(100vh - 60px)","padding-bottom","1rem","display","block",3,"src","show-all"],[1,"pl-2","pr-2","mt-3","block-img"],["alt","Responsive image",1,"img-fluid","image-preview"]],template:function(t,i){1&t&&(e.Oc(0,f,4,0,"div",0),e.Oc(1,x,19,7,"div",1)),2&t&&(e.mc("ngIf",i.isLoading),e.Cb(1),e.mc("ngIf",(null!=i.fileOption||""!=i.linkUrl)&&!i.isLoading))},directives:[l.m,b.a,r.a],styles:[".file-preview[_ngcontent-%COMP%]{background:#ecf0f5;position:absolute;width:100%;height:100vh;z-index:9999;display:flex;flex-direction:column;left:0;top:0}.block-img[_ngcontent-%COMP%]{background:#a3a3a3;width:100vw;height:90vh;overflow-y:auto}.loading-block[_ngcontent-%COMP%]{z-index:1000;justify-content:center;align-items:center;left:0;top:0;height:100%;min-height:100vh;background-color:#ecf0f5}.file-preview__main[_ngcontent-%COMP%], .loading-block[_ngcontent-%COMP%]{width:100%;display:flex;position:fixed}.file-preview__main[_ngcontent-%COMP%]{margin-top:65px;min-height:100%;min-width:277px;background:#ecf0f5}.file-preview__header[_ngcontent-%COMP%]{padding-top:10px;height:65px;background:#fff;box-shadow:0 2px 4px 0 rgba(0,0,0,.2);position:fixed;align-items:center;z-index:1;top:0;width:100%}.flx-sp-btw[_ngcontent-%COMP%]{justify-content:space-between}.flx[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap}.file-preview__header-left[_ngcontent-%COMP%]{margin-left:20px;margin-right:10px;margin-bottom:12px;flex:1 1 50px;min-width:0}.file-preview__header-left[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{float:left;margin-right:10px}.avatar--xs[_ngcontent-%COMP%]{width:40px;height:40px;font-size:17px}.avatar[_ngcontent-%COMP%]{position:relative;color:#fff;contain:layout size style}.avatar--xs[_ngcontent-%COMP%] > .avatar-img[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#e5efff}.avatar-img[_ngcontent-%COMP%]{border-radius:100%}.file-preview__header__title[_ngcontent-%COMP%]{font-size:15px;color:#222;font-weight:500}.file-preview__header__send-time[_ngcontent-%COMP%], .file-preview__header__title[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.file-preview__header__send-time[_ngcontent-%COMP%]{padding-top:2px;font-size:13px;color:#a0a0a0}.file-preview__header-right[_ngcontent-%COMP%]{color:#fff;margin-right:15px;white-space:nowrap;display:flex}.file-preview__controls-container[_ngcontent-%COMP%]{margin-right:40px}.file-preview__buttons-container[_ngcontent-%COMP%]{display:inline-flex;align-items:center;position:relative}.mp-0[_ngcontent-%COMP%]{margin:0!important;padding:0!important}"]}),t})()}}]);