(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{jtFE:function(t,n,e){"use strict";e.r(n),e.d(n,"PowerpointFrontModule",function(){return it});var i=e("tyNb"),s=e("ofXK"),o=e("vvyD"),c=e("3Pt+"),r=e("fB2i"),a=e("0IaG"),b=e("mYPf"),l=e("Zhhu"),u=e("Avyq"),d=e("fXoL"),h=e("yTNM"),g=e("gbi4");let m=(()=>{class t{constructor(t,n,e){this.router=t,this.apiService=n,this.commonService=e}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)(d.Ob(i.i),d.Ob(h.a),d.Ob(g.a))},t.\u0275cmp=d.Ib({type:t,selectors:[["app-test-dashboard"]],decls:2,vars:0,consts:[["id","testbank-frontend-layout"]],template:function(t,n){1&t&&(d.Ub(0,"div",0),d.Pb(1,"router-outlet"),d.Tb())},directives:[i.m],styles:[".header-container[_ngcontent-%COMP%]{border-bottom-left-radius:3px;border-bottom-right-radius:3px;box-shadow:0 1px 7px rgba(169,151,151,.24)}"]}),t})();var f=e("quSY"),p=e("itXk"),O=e("nzN9"),x=e("bTqV");function w(t,n){if(1&t&&(d.Ub(0,"div",8),d.Ub(1,"span",9),d.Qc(2),d.Ub(3,"span",10),d.Qc(4),d.Tb(),d.Tb(),d.Tb()),2&t){const t=d.fc();d.Cb(2),d.Sc("",t.curIndex+1,"/"),d.Cb(2),d.Rc(t.totalQuestion)}}let C=(()=>{class t{constructor(){this.disableBackBtn=!1,this.disableNextBtn=!1,this.curIndex=1,this.totalQuestion=1,this.goToPrevEmit=new d.o,this.goToNextEmit=new d.o}nextScreenPP(){this.goToNextEmit.emit(!0)}prevScreenPP(){this.goToPrevEmit.emit(!0)}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=d.Ib({type:t,selectors:[["azt-next-back-btn"]],inputs:{disableBackBtn:"disableBackBtn",disableNextBtn:"disableNextBtn",curIndex:"curIndex",totalQuestion:"totalQuestion"},outputs:{goToPrevEmit:"goToPrevEmit",goToNextEmit:"goToNextEmit"},decls:9,vars:4,consts:[[1,"component",3,"hidden"],["class","total-question",4,"ngIf"],[1,"control"],[1,"control-prev"],["mat-flat-button","",1,"control-btn",3,"disabled","click"],[1,"fa","fa-arrow-left"],[1,"control-next"],[1,"fa","fa-arrow-right"],[1,"total-question"],[1,"total"],[1,"result"]],template:function(t,n){1&t&&(d.Ub(0,"div",0),d.Oc(1,w,5,2,"div",1),d.Ub(2,"div",2),d.Ub(3,"div",3),d.Ub(4,"button",4),d.bc("click",function(){return n.prevScreenPP()}),d.Pb(5,"i",5),d.Tb(),d.Tb(),d.Ub(6,"div",6),d.Ub(7,"button",4),d.bc("click",function(){return n.nextScreenPP()}),d.Pb(8,"i",7),d.Tb(),d.Tb(),d.Tb(),d.Tb()),2&t&&(d.mc("hidden",n.totalQuestion<=1),d.Cb(1),d.mc("ngIf",n.totalQuestion>0),d.Cb(3),d.mc("disabled",n.disableBackBtn),d.Cb(3),d.mc("disabled",n.disableNextBtn))},directives:[s.m,x.b],styles:[".component[_ngcontent-%COMP%], .total-question[_ngcontent-%COMP%]{text-align:center}.total-question[_ngcontent-%COMP%]{margin-bottom:10px}.control-prev[_ngcontent-%COMP%]{margin-right:30px}.control-next[_ngcontent-%COMP%], .control-prev[_ngcontent-%COMP%]{display:inline-block}.control-btn[_ngcontent-%COMP%]{color:#fff;background-color:#169bd5;padding:5px 15px;transition:all .5s}.control-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px;font-weight:700;width:30px;height:30px}.control-btn[_ngcontent-%COMP%]:hover{background-color:#198abb}@media screen and (max-width:768px){.control-prev[_ngcontent-%COMP%]{margin-right:15px}}"]}),t})();var v=e("JXIY"),P=e("Td3n"),_=e("jPUe");function j(t,n){1&t&&d.Pb(0,"azt-loading-effect")}function k(t,n){if(1&t){const t=d.Vb();d.Ub(0,"div"),d.Ub(1,"azt-template-one",14),d.bc("chooseAnswer",function(n){return d.Cc(t),d.fc(2).setAnswerObjs(n)})("changeAnswerWithResult",function(){return d.Cc(t),d.fc(2).changeAnswerWithResult()}),d.Tb(),d.Tb()}if(2&t){const t=d.fc(2);d.Cb(1),d.mc("indexQuestion",t.curQuestionObj.index)("questionObj",t.curQuestionObj)("isAnswer",!t.isResult)("studentAnswer",t.curQuestionObj.defaultStudentAnswer?t.curQuestionObj.defaultStudentAnswer.answer:"")}}function S(t,n){if(1&t){const t=d.Vb();d.Ub(0,"div"),d.Ub(1,"azt-template-two",14),d.bc("chooseAnswer",function(n){return d.Cc(t),d.fc(2).setAnswerObjs(n)})("changeAnswerWithResult",function(){return d.Cc(t),d.fc(2).changeAnswerWithResult()}),d.Tb(),d.Tb()}if(2&t){const t=d.fc(2);d.Cb(1),d.mc("indexQuestion",t.curQuestionObj.index)("questionObj",t.curQuestionObj)("isAnswer",!t.isResult)("studentAnswer",t.curQuestionObj.defaultStudentAnswer?t.curQuestionObj.defaultStudentAnswer.answer:"")}}function T(t,n){if(1&t){const t=d.Vb();d.Ub(0,"div"),d.Ub(1,"azt-template-three",14),d.bc("chooseAnswer",function(n){return d.Cc(t),d.fc(2).setAnswerObjs(n)})("changeAnswerWithResult",function(){return d.Cc(t),d.fc(2).changeAnswerWithResult()}),d.Tb(),d.Tb()}if(2&t){const t=d.fc(2);d.Cb(1),d.mc("indexQuestion",t.curQuestionObj.index)("questionObj",t.curQuestionObj)("isAnswer",!t.isResult)("studentAnswer",t.curQuestionObj.defaultStudentAnswer?t.curQuestionObj.defaultStudentAnswer.answer:"")}}function M(t,n){if(1&t){const t=d.Vb();d.Ub(0,"button",15),d.bc("click",function(){return d.Cc(t),d.fc(2).openDialog()}),d.Qc(1," N\u1ed9p b\xe0i "),d.Tb()}}function Q(t,n){if(1&t){const t=d.Vb();d.Ub(0,"button",15),d.bc("click",function(){return d.Cc(t),d.fc(2).redirectResult()}),d.Qc(1," Xem k\u1ebft qu\u1ea3 "),d.Tb()}}function U(t,n){if(1&t){const t=d.Vb();d.Ub(0,"div",3),d.Oc(1,k,2,4,"div",4),d.Oc(2,S,2,4,"div",4),d.Oc(3,T,2,4,"div",4),d.Tb(),d.Ub(4,"div",5),d.Ub(5,"div",6),d.Ub(6,"div",7),d.Ub(7,"div",8),d.Ub(8,"span",9),d.Qc(9),d.Tb(),d.Tb(),d.Tb(),d.Ub(10,"div",10),d.Ub(11,"azt-next-back-btn",11),d.bc("goToPrevEmit",function(n){return d.Cc(t),d.fc().prevScreenPP(n)})("goToNextEmit",function(n){return d.Cc(t),d.fc().nextScreenPP(n)}),d.Tb(),d.Tb(),d.Ub(12,"div",12),d.Oc(13,M,2,0,"button",13),d.Oc(14,Q,2,0,"button",13),d.Tb(),d.Tb(),d.Tb()}if(2&t){const t=d.fc();d.mc("ngSwitch",t.templateId),d.Cb(1),d.mc("ngSwitchCase",1),d.Cb(1),d.mc("ngSwitchCase",2),d.Cb(1),d.mc("ngSwitchCase",3),d.Cb(6),d.Rc(t.testName),d.Cb(2),d.mc("curIndex",t.curIndex)("totalQuestion",t.totalQuestion)("disableBackBtn",t.disableBackBtn)("disableNextBtn",t.disableNextBtn),d.Cb(2),d.mc("ngIf",!t.isResult),d.Cb(1),d.mc("ngIf",t.isResult)}}const I=".app[_ngcontent-%COMP%]{overflow-x:hidden;padding-bottom:40px}.maxW1200[_ngcontent-%COMP%]{max-width:1200px}.block[_ngcontent-%COMP%]{margin-top:30px}.block-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.text-align[_ngcontent-%COMP%]{text-align:left}.control[_ngcontent-%COMP%]{display:flex;justify-content:center}.control-next[_ngcontent-%COMP%], .control-prev[_ngcontent-%COMP%]{margin:0 15px}.control-btn[_ngcontent-%COMP%]{color:#fff;background-color:#169bd5;padding:5px 15px}.control-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px;font-weight:700;width:30px;height:30px}.block-submit[_ngcontent-%COMP%]{text-align:right;display:flex;align-items:flex-end;justify-content:flex-end}.block-control[_ngcontent-%COMP%]{display:flex;justify-content:center}.btn-submit[_ngcontent-%COMP%]{background-color:#f39c12;padding:5px 25px;color:#fff;transition:all .5s}.btn-submit[_ngcontent-%COMP%]:hover{background-color:#e09214}.padding-bottom[_ngcontent-%COMP%]{padding-bottom:0}@media screen and (max-width:768px){.block-submit[_ngcontent-%COMP%]{text-align:center;display:flex;align-items:center;justify-content:center}.padding-bottom[_ngcontent-%COMP%]{padding-bottom:16px}.btn-submit[_ngcontent-%COMP%]{width:50%}.text-align[_ngcontent-%COMP%]{text-align:center}}";let y=(()=>{class t{constructor(t,n,e,i,s,o){this.dialog=t,this.router=n,this.vps=e,this.apiService=i,this.commonService=s,this.cdr=o,this.subscriptions=new f.a,this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.backLink="",this.testName="Nguy\u1ec5n V\u0103n A",this.answers=[],this.questionObjs=[],this.resultObj={},this.curQuestionObj={},this.curIndex=0,this.totalQuestion=0,this.disableBackBtn=!1,this.disableNextBtn=!1,this.isResult=!1,this.templateId=1,this.defaultStudentAnswers=[]}prevScreenPP(t){if(t){var n=this.curIndex>0?this.curIndex-1:0;this.curQuestionObj=this.questionObjs[n],this.curIndex=n,0==n?(this.disableBackBtn=!0,this.disableNextBtn=!1):(this.disableBackBtn=!1,this.disableNextBtn=!1)}}nextScreenPP(t){if(t){var n=this.curIndex==this.questionObjs.length-1?this.questionObjs.length:this.curIndex+1;this.curQuestionObj=this.questionObjs[n],this.curIndex=n,n==this.questionObjs.length-1?(this.disableNextBtn=!0,this.disableBackBtn=!1):(this.disableNextBtn=!1,this.disableBackBtn=!1)}}setAnswerObjs(t){var n=this.answers.filter(n=>n.questionId==t.id);if(null!=t.index&&this.curQuestionObj.id==t.id){var e={questionId:t.id,answerContent:[{index:t.index,content:t.event.key}]};if(n&&n.length>0)for(var i=0;i<this.answers.length;i++)this.answers[i].questionId==e.questionId&&(this.answers[i].answerContent=e.answerContent);else this.answers.push(e);this.changeStatusAnswer(e,t.index,t)}}changeStatusAnswer(t,n,e){this.questionObjs.forEach(e=>{if(e.id==t.questionId&&e.answerConfig&&e.answerConfig.length>0){for(var i=0;i<e.answerConfig.length;i++)e.answerConfig[i].checked=!1;e.answerConfig[n].checked=!0,this.curQuestionObj=e}})}changeAnswerWithResult(){this.commonService.snackError("Kh\xf4ng th\u1ec3 thay \u0111\u1ed5i \u0111\xe1p \xe1n sau khi n\u1ed9p b\xe0i.",null)}redirectResult(){this.commonService.myNavigation("/powerpoint/result/"+this.resultObj.id+"/"+this.resultObj.hashCode)}SaveAnswersObjs(){this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.apiService.SaveAnswersObjs(this.dataSubmit).subscribe(t=>{1==t.success?(this.commonService.myNavigation("/powerpoint/result/"+t.data.id+"/"+t.data.hashCode),this.status_obj={loading:!1,error:!1,error_obj:{message:""}}):"lang_core_cannot_resend_answer"==t.message?(this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.commonService.snackError("B\u1ea1n kh\xf4ng th\u1ec3 g\u1eedi l\u1ea1i b\xe0i l\xe0m","\u0110\xf3ng")):(this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.commonService.snackError("L\u1ed7i: N\u1ed9p b\xe0i kh\xf4ng th\xe0nh c\xf4ng","\u0110\xf3ng"))})}submitTestPP(){this.dataSubmit={id:this.JoinLinkId,hashCode:this.hashCode,answers:this.answers},this.SaveAnswersObjs()}openDialog(){this.dialog.open(B,{width:"450px",data:{}}).afterClosed().subscribe(t=>{"next"==t&&this.submitTestPP()})}setupStudentAnswers(){for(let n=0;n<this.questionObjs.length;n++)this.defaultStudentAnswers.push({question_id:this.questionObjs[n].id,answer:""}),this.questionObjs[n].defaultStudentAnswer=this.defaultStudentAnswers[this.defaultStudentAnswers.length-1];if(!0===this.isResult)for(let n=0;n<this.defaultStudentAnswers.length;n++){var t=JSON.parse(this.resultObj.answers);for(let e=0;e<t.length;e++)this.defaultStudentAnswers[n].question_id==t[e].QuestionId&&(this.defaultStudentAnswers[n].answer=t[e].AnswerContent[0].Content)}}getData(){this.subscriptions.add(this.apiService.GetPPTQuestionObjs(this.JoinLinkId,this.hashCode).subscribe(t=>{1==t.success?(this.questionObjs=this.commonService.changeDataQuestions(t.data.questionObjs),this.resultObj=t.data.resultObj,this.testName=this.resultObj.fullName,this.curQuestionObj=this.questionObjs[0],this.disableBackBtn=!0,this.totalQuestion=this.questionObjs.length,this.isResult=null!==this.resultObj.answers,this.templateId=t.data.templateId,this.questionObjs.length<=1&&(this.disableBackBtn=!0,this.disableNextBtn=!0),this.commonService.replaceCanvasBackground(this.questionObjs),this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.setupStudentAnswers()):(this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.commonService.myTranslate([t.message,"lang_cms_common_ok"]).subscribe(n=>{this.commonService.snackError(n[t.message],n.lang_cms_common_ok)}))}))}ngOnInit(){Object(p.b)([this.router.params,this.router.queryParams]).subscribe(([])=>{this.JoinLinkId=this.commonService.getMyParam(this.router,"id"),this.hashCode=this.commonService.getMyParam(this.router,"hash_code"),this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.getData()})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(d.Ob(a.b),d.Ob(i.a),d.Ob(s.w),d.Ob(h.a),d.Ob(g.a),d.Ob(d.h))},t.\u0275cmp=d.Ib({type:t,selectors:[["app-join-class"]],decls:4,vars:2,consts:[[1,"app","maxW1200","mt-2","mt-md-3"],[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"container","mt-md-3"],[1,"row","pl-0","pr-0","ml-0","mr-0"],[1,"col-md-4","px-0","mt-2","padding-bottom"],[1,"block","text-align"],[1,"block-title"],[1,"col-md-4","px-0","mt-2","block-control","text-center","padding-bottom"],[3,"curIndex","totalQuestion","disableBackBtn","disableNextBtn","goToPrevEmit","goToNextEmit"],[1,"col-md-4","px-0","block-submit","mt-2","text-center"],["class","btn-submit","mat-flat-button","",3,"click",4,"ngIf"],[3,"indexQuestion","questionObj","isAnswer","studentAnswer","chooseAnswer","changeAnswerWithResult"],["mat-flat-button","",1,"btn-submit",3,"click"]],template:function(t,n){if(1&t&&(d.Ub(0,"div",0),d.Oc(1,j,1,0,"azt-loading-effect",1),d.Oc(2,U,15,11,"ng-template",null,2,d.Pc),d.Tb()),2&t){const t=d.yc(3);d.Cb(1),d.mc("ngIf",n.status_obj.loading)("ngIfElse",t)}},directives:[s.m,O.a,s.o,s.p,C,v.a,P.a,_.a,x.b],styles:[I]}),t})(),B=(()=>{class t{constructor(t,n){this.dialogRef=t,this.data=n}ngOnInit(){}onNoClick(t){this.dialogRef.close(t)}}return t.\u0275fac=function(n){return new(n||t)(d.Ob(a.g),d.Ob(a.a))},t.\u0275cmp=d.Ib({type:t,selectors:[["dialog-overview-example-dialog"]],decls:7,vars:0,consts:[[2,"font-size","20px","font-weight","500","margin-bottom","20px"],[2,"float","right"],["type","button",1,"btn","btn-danger","mr-3",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,n){1&t&&(d.Ub(0,"div",0),d.Qc(1," B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n n\u1ed9p b\xe0i.\n"),d.Tb(),d.Ub(2,"div",1),d.Ub(3,"button",2),d.bc("click",function(){return n.onNoClick("cencer")}),d.Qc(4,"H\u1ee7y"),d.Tb(),d.Ub(5,"button",3),d.bc("click",function(){return n.onNoClick("next")}),d.Qc(6,"Ti\u1ebfp t\u1ee5c"),d.Tb(),d.Tb())},styles:[I]}),t})();function A(t,n){1&t&&d.Pb(0,"azt-loading-effect")}function q(t,n){if(1&t){const t=d.Vb();d.Ub(0,"div",2),d.Ub(1,"h2"),d.Qc(2,"N\u1ed9p b\xe0i th\xe0nh c\xf4ng"),d.Tb(),d.Ub(3,"h1"),d.Qc(4),d.Tb(),d.Ub(5,"button",3),d.bc("click",function(){return d.Cc(t),d.fc().redirectBackToDetail()}),d.Qc(6," Xem l\u1ea1i b\xe0i l\xe0m "),d.Tb(),d.Ub(7,"button",4),d.bc("click",function(){return d.Cc(t),d.fc().redirectBackToNext()}),d.Qc(8," Ti\u1ebfp t\u1ee5c "),d.Tb(),d.Tb()}if(2&t){const t=d.fc();d.Cb(4),d.Tc("",t.resultObj.totalCorrect,"/",t.resultObj.totalQuestion,"")}}let N=(()=>{class t{constructor(t,n,e,i,s,o){this.router=t,this.vps=n,this.commonService=e,this.cdr=i,this.apiService=s,this.formBuilder=o,this.loading=!1,this.backLink=""}GetResultObj(){this.loading=!0,this.apiService.GetResultObj(this.JoinLinkId,this.hashCode).subscribe(t=>{1==t.success?(this.resultObj=t.data,this.loading=!1):(this.loading=!1,this.commonService.snackError("L\u1ed7i: Kh\xf4ng t\xecm th\u1ea5y k\u1ebft qu\u1ea3","\u0110\xf3ng"))})}redirectBackToDetail(){this.commonService.myNavigation("/powerpoint/detail/"+this.JoinLinkId+"/"+this.hashCode)}redirectBackToNext(){this.commonService.saveStorage("powerpoint_next","true"),this.commonService.myNavigation("/join")}ngOnInit(){this.JoinLinkId=this.commonService.getMyParam(this.router,"id"),this.hashCode=this.commonService.getMyParam(this.router,"hash_code"),this.GetResultObj(),this.commonService.translateMetaData({title:"lang_cms_powerpoint_result_title",description:"lang_cms_powerpoint_result_description",image:"lang_cms_test_image"})}}return t.\u0275fac=function(n){return new(n||t)(d.Ob(i.a),d.Ob(s.w),d.Ob(g.a),d.Ob(d.h),d.Ob(h.a),d.Ob(c.g))},t.\u0275cmp=d.Ib({type:t,selectors:[["app-powerpoint-result"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","content",4,"ngIf"],[1,"content"],["mat-flat-button","",1,"btn-submit",3,"click"],["mat-flat-button","",1,"btn-next",3,"click"]],template:function(t,n){1&t&&(d.Oc(0,A,1,0,"azt-loading-effect",0),d.Oc(1,q,9,2,"div",1)),2&t&&(d.mc("ngIf",!0===n.loading),d.Cb(1),d.mc("ngIf",!1===n.loading))},directives:[s.m,O.a,x.b],styles:[".content[_ngcontent-%COMP%]{text-align:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#f39c12}.content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Arial Bold,Arial;font-weight:700;font-style:normal}.content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{background-color:#f39c12;padding:5px 25px;color:#fff;transition:all .5s}.content[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:hover{background-color:#e09214}.content[_ngcontent-%COMP%]   .btn-next[_ngcontent-%COMP%]{background-color:#00a7d0;padding:5px 25px;color:#fff;transition:all .5s;margin-left:5px}.content[_ngcontent-%COMP%]   .btn-next[_ngcontent-%COMP%]:hover{background-color:#0087a8}"]}),t})();var E=e("UXJo"),R=e("1jcm");function L(t,n){1&t&&(d.Ub(0,"div",2),d.Ub(1,"span"),d.Pb(2,"span",3),d.Qc(3,"\xa0"),d.Tb(),d.Qc(4," \u0110ang t\u1ea3i d\u1eef li\u1ec7u c\xe2u h\u1ecfi\n"),d.Tb())}function z(t,n){if(1&t){const t=d.Vb();d.Ub(0,"a",25),d.bc("click",function(){return d.Cc(t),d.fc(2).showStatistic()}),d.Qc(1),d.Tb()}if(2&t){const t=d.fc(2);d.Cb(1),d.Tc("Xem k\u1ebft qu\u1ea3 ( ",t.numberStatistical.answered," / ",t.numberStatistical.total," )")}}function J(t,n){if(1&t){const t=d.Vb();d.Ub(0,"a",25),d.bc("click",function(){return d.Cc(t),d.fc(2).showStatistic()}),d.Qc(1,"Quay l\u1ea1i"),d.Tb()}}function D(t,n){if(1&t){const t=d.Vb();d.Ub(0,"div"),d.Ub(1,"azt-template-one",26),d.bc("chooseAnswer",function(n){return d.Cc(t),d.fc(2).setAnswerObjs(n)}),d.Tb(),d.Tb()}if(2&t){const t=d.fc(2);d.Cb(1),d.mc("indexQuestion",t.curQuestionObj.index)("questionObj",t.curQuestionObj)("isAnswer",!0)("studentAnswer","")}}function V(t,n){if(1&t){const t=d.Vb();d.Ub(0,"div"),d.Ub(1,"azt-template-two",26),d.bc("chooseAnswer",function(n){return d.Cc(t),d.fc(2).setAnswerObjs(n)}),d.Tb(),d.Tb()}if(2&t){const t=d.fc(2);d.Cb(1),d.mc("indexQuestion",t.curQuestionObj.index)("questionObj",t.curQuestionObj)("isAnswer",!0)("studentAnswer","")}}function W(t,n){if(1&t){const t=d.Vb();d.Ub(0,"div"),d.Ub(1,"azt-template-three",26),d.bc("chooseAnswer",function(n){return d.Cc(t),d.fc(2).setAnswerObjs(n)}),d.Tb(),d.Tb()}if(2&t){const t=d.fc(2);d.Cb(1),d.mc("indexQuestion",t.curQuestionObj.index)("questionObj",t.curQuestionObj)("isAnswer",!0)("studentAnswer","")}}function G(t,n){if(1&t&&(d.Ub(0,"span",38),d.Qc(1),d.Ub(2,"span"),d.Qc(3),d.Tb(),d.Tb()),2&t){const t=d.fc().$implicit;d.Cb(1),d.Sc(" ",t.countTested," "),d.Cb(2),d.Sc("(",t.countPercent+"%",")")}}function F(t,n){1&t&&(d.Ub(0,"div",39),d.Pb(1,"i",40),d.Tb())}const X=function(t,n,e,i){return{"column-one":t,"column-two":n,"column-three":e,"column-four":i}},H=function(t){return{height:t}};function K(t,n){if(1&t&&(d.Ub(0,"div",34),d.Ub(1,"div",35),d.Oc(2,G,4,2,"span",36),d.Oc(3,F,2,0,"div",37),d.Tb(),d.Tb()),2&t){const t=n.$implicit,e=n.index,i=d.fc(3);d.Cb(1),d.mc("ngClass",d.uc(4,X,0==e,1==e,2==e,3==e))("ngStyle",d.rc(9,H,t.countPercent+"%")),d.Cb(1),d.mc("ngIf",t.countTested>0),d.Cb(1),d.mc("ngIf",t.keyLabel==i.curQuestionObj.answerResult[0])}}function Y(t,n){if(1&t&&(d.Ub(0,"div",27),d.Ub(1,"div",23),d.Ub(2,"div",28),d.Ub(3,"div",29),d.Oc(4,K,4,11,"div",30),d.Tb(),d.Ub(5,"div",31),d.Ub(6,"div",32),d.Ub(7,"span",33),d.Qc(8,"A"),d.Tb(),d.Tb(),d.Ub(9,"div",32),d.Ub(10,"span",33),d.Qc(11,"B"),d.Tb(),d.Tb(),d.Ub(12,"div",32),d.Ub(13,"span",33),d.Qc(14,"C"),d.Tb(),d.Tb(),d.Ub(15,"div",32),d.Ub(16,"span",33),d.Qc(17,"D"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb()),2&t){const t=d.fc(2);d.mc("hidden",t.isShowQuestion),d.Cb(4),d.mc("ngForOf",t.curQuestionObj.statistic)}}function $(t,n){if(1&t&&(d.Ub(0,"div",43),d.Ub(1,"div",29),d.Ub(2,"div",34),d.Ub(3,"div",35),d.Ub(4,"span",38),d.Qc(5),d.Ub(6,"span"),d.Qc(7),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(8,"div",31),d.Ub(9,"div",32),d.Ub(10,"span",33),d.Qc(11),d.Tb(),d.Tb(),d.Tb(),d.Tb()),2&t){const t=n.$implicit,e=n.index,i=d.fc(3);d.Cb(3),d.mc("ngClass",d.uc(5,X,0==i.calcIndex(e),1==i.calcIndex(e),2==i.calcIndex(e),3==i.calcIndex(e)))("ngStyle",d.rc(10,H,t.countPercent+"%")),d.Cb(2),d.Sc(" ",t.countTrue," "),d.Cb(2),d.Sc("(",t.countPercent+"%",")"),d.Cb(4),d.Sc("C\xe2u h\u1ecfi ",e+1<=9?"0"+(e+1):e+1,"")}}function Z(t,n){if(1&t&&(d.Ub(0,"div",27),d.Ub(1,"div",23),d.Ub(2,"div",41),d.Oc(3,$,12,12,"div",42),d.Tb(),d.Tb(),d.Tb()),2&t){const t=d.fc(2);d.mc("hidden",t.isShowQuestion),d.Cb(3),d.mc("ngForOf",t.finalStatisticObjs)}}function tt(t,n){if(1&t){const t=d.Vb();d.Ub(0,"div",4),d.Ub(1,"div",5),d.Ub(2,"div",6),d.Ub(3,"div",7),d.Ub(4,"span",8),d.bc("click",function(){return d.Cc(t),d.fc().showCopySuccess()}),d.Qc(5,"M\xe3 v\xe0o l\u1edbp: "),d.Ub(6,"span"),d.Qc(7),d.Tb(),d.Tb(),d.Tb(),d.Ub(8,"div",9),d.Ub(9,"span",10),d.Qc(10,"H\u1ecdc sinh truy c\u1eadp: "),d.Ub(11,"a",11),d.Qc(12),d.Tb(),d.Tb(),d.Tb(),d.Ub(13,"div",12),d.Oc(14,z,2,2,"a",13),d.Oc(15,J,2,0,"a",13),d.Tb(),d.Tb(),d.Tb(),d.Ub(16,"div",14),d.Ub(17,"div",15),d.Oc(18,D,2,4,"div",16),d.Oc(19,V,2,4,"div",16),d.Oc(20,W,2,4,"div",16),d.Tb(),d.Tb(),d.Oc(21,Y,18,2,"div",17),d.Oc(22,Z,4,2,"div",17),d.Ub(23,"div",5),d.Ub(24,"div",18),d.Ub(25,"div",19),d.Ub(26,"mat-slide-toggle",20),d.bc("change",function(n){return d.Cc(t),d.fc().toggleShowAnswer(n)}),d.Tb(),d.Ub(27,"span",21),d.Qc(28,"Hi\u1ec3n th\u1ecb \u0111\xe1p \xe1n"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(29,"div",22),d.Ub(30,"div",23),d.Ub(31,"azt-next-back-btn",24),d.bc("goToPrevEmit",function(n){return d.Cc(t),d.fc().prevScreenPP(n)})("goToNextEmit",function(n){return d.Cc(t),d.fc().nextScreenPP(n)}),d.Tb(),d.Tb(),d.Tb(),d.Tb()}if(2&t){const t=d.fc();d.Cb(4),d.mc("cdkCopyToClipboard",t.copyCodeToClipboard(t.linkJoinObj.hashCode)),d.Cb(3),d.Rc(t.linkJoinObj.hashCode),d.Cb(4),d.nc("href",t.domainLink,d.Gc),d.Cb(1),d.Rc(t.domainLink),d.Cb(2),d.mc("ngIf",t.isShowQuestion),d.Cb(1),d.mc("ngIf",!t.isShowQuestion),d.Cb(1),d.mc("hidden",!t.isShowQuestion),d.Cb(1),d.mc("ngSwitch",t.templateId),d.Cb(1),d.mc("ngSwitchCase",1),d.Cb(1),d.mc("ngSwitchCase",2),d.Cb(1),d.mc("ngSwitchCase",3),d.Cb(1),d.mc("ngIf",!t.statisticForExam),d.Cb(1),d.mc("ngIf",t.statisticForExam),d.Cb(4),d.mc("checked",t.curQuestionObj.isShowAnswer),d.Cb(5),d.mc("curIndex",t.curIndex)("totalQuestion",t.totalQuestion)("disableBackBtn",t.disableBackBtn)("disableNextBtn",t.disableNextBtn)}}const nt=[{path:"",component:m,children:[{path:"",children:[{path:"detail/:id/:hash_code",component:y},{path:"result/:id/:hash_code",component:N},{path:"embed/:id/:hash_code",component:(()=>{class t{constructor(t,n,e,i,s){this.router=t,this.apiService=n,this.vps=e,this.commonService=i,this.cdr=s,this.subscriptions=new f.a,this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.backLink="",this.questionObjs=[],this.finalStatisticObjs=[],this.statisticForExam=!1,this.linkJoinObj={},this.resultObj={},this.curQuestionObj={},this.curIndex=0,this.totalQuestion=0,this.disableBackBtn=!1,this.disableNextBtn=!1,this.isLoading=!1,this.loopGetStatical=!1,this.numberStatistical={total:0,answered:0},this.isShowQuestion=!0,this.isShowAnswer=!1,this.domainLink="",this.templateId=1}prevScreenPP(t){if(t){var n=this.curIndex>0?this.curIndex-1:0;this.curQuestionObj=this.questionObjs[n],this.curIndex=n,0==n?(this.disableBackBtn=!0,this.disableNextBtn=!1):(this.disableBackBtn=!1,this.disableNextBtn=!1)}this.isShowQuestion=!0}nextScreenPP(t){if(t){var n=this.curIndex==this.questionObjs.length-1?this.questionObjs.length:this.curIndex+1;this.curQuestionObj=this.questionObjs[n],this.curIndex=n,n==this.questionObjs.length-1?(this.disableNextBtn=!0,this.disableBackBtn=!1):(this.disableNextBtn=!1,this.disableBackBtn=!1)}this.isShowQuestion=!0}calcIndex(t){return(t+4)%4}showStatistic(){this.isShowQuestion=!this.isShowQuestion}foundTrueAnswer(t){var n=[];return t.forEach(t=>{t=Object.assign(Object.assign({},t),{isShowAnswer:!1});for(var e=this.commonService.parseJson(t.answerResult),i=0;i<t.answerConfig.length;i++)if(t.answerConfig[i].key==e[0]){t.answerConfig[i].isAnswer=!0;break}n.push(t)}),n}setAnswerObjs(t){}toggleShowAnswer(t){this.curQuestionObj.isShowAnswer=t.checked}getData(){this.isLoading=!0,this.subscriptions.add(this.apiService.GetPPTQuestionResultObjs(this.linkId,this.hashCode).subscribe(t=>{1==t.success?(this.questionObjs=this.foundTrueAnswer(this.commonService.changeDataQuestions(t.data.questionObjs)),this.linkJoinObj=t.data.linkJoinObj,this.resultObj=t.data.resultObj,this.curQuestionObj=this.questionObjs[0],this.disableBackBtn=!0,this.totalQuestion=this.questionObjs.length,this.templateId=t.data.linkObj.templateId,this.questionObjs.length<=1&&(this.disableBackBtn=!0,this.disableNextBtn=!0),t.data.finalStatistic&&t.data.finalStatistic.length>0?(this.finalStatisticObjs=t.data.finalStatistic,this.statisticForExam=!0):(this.finalStatisticObjs=new Array,this.statisticForExam=!1),this.commonService.replaceCanvasBackground(this.questionObjs),this.status_obj={loading:!1,error:!1,error_obj:{message:""}}):(this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.commonService.myTranslate([t.message,"lang_cms_common_ok"]).subscribe(n=>{this.commonService.snackError(n[t.message],n.lang_cms_common_ok)})),this.isLoading=!1}))}setupLoopGetStatisticalNumber(){this.loopGetStatical=setInterval(()=>{this.apiService.GetStatisticalLinkEmbedObj(this.linkId,this.hashCode).subscribe(t=>{1==t.success&&(this.numberStatistical=t.data)})},2e3)}ngOnInit(){Object(p.b)([this.router.params,this.router.queryParams]).subscribe(([])=>{this.domainLink=location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")+"/join",this.linkId=this.commonService.getMyParam(this.router,"id"),this.hashCode=this.commonService.getMyParam(this.router,"hash_code"),this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.getData(),this.setupLoopGetStatisticalNumber()})}copyCodeToClipboard(t){return t}showCopySuccess(){this.commonService.snackSuccess("Sao ch\xe9p m\xe3 v\xe0o l\u1edbp th\xe0nh c\xf4ng","")}ngOnDestroy(){this.subscriptions.unsubscribe(),!1!==this.loopGetStatical&&clearInterval(this.loopGetStatical)}}return t.\u0275fac=function(n){return new(n||t)(d.Ob(i.a),d.Ob(h.a),d.Ob(s.w),d.Ob(g.a),d.Ob(d.h))},t.\u0275cmp=d.Ib({type:t,selectors:[["app-powerpoint-chart"]],decls:2,vars:2,consts:[["class","app maxW1200 mt-5 text-center",4,"ngIf"],["class","app maxW1200 mt-5",4,"ngIf"],[1,"app","maxW1200","mt-5","text-center"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"app","maxW1200","mt-5"],[1,"container"],[1,"row"],[1,"col-md-3","heading-row"],[1,"code-text",3,"cdkCopyToClipboard","click"],[1,"col-md-6","text-center","heading-row"],[1,"title-link"],["target","_blank",1,"link",3,"href"],[1,"col-md-3","text-right","heading-row"],["class","view-link clickable",3,"click",4,"ngIf"],[3,"hidden"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","row",3,"hidden",4,"ngIf"],[1,"row","mt-2","justify-content-end"],[1,"col-md-3","text-right"],["color","primary",2,"vertical-align","middle",3,"checked","change"],[2,"vertical-align","middle","margin-left","5px"],[1,"row","mt-3"],[1,"col-md-12"],[3,"curIndex","totalQuestion","disableBackBtn","disableNextBtn","goToPrevEmit","goToNextEmit"],[1,"view-link","clickable",3,"click"],[3,"indexQuestion","questionObj","isAnswer","studentAnswer","chooseAnswer"],[1,"row",3,"hidden"],[1,"chart"],[1,"chart-column"],["class","column-total",4,"ngFor","ngForOf"],[1,"chart-fields"],[1,"field"],[1,"text-center"],[1,"column-total"],[1,"column-result",3,"ngClass","ngStyle"],["class","point-result",4,"ngIf"],["class","answer-true",4,"ngIf"],[1,"point-result"],[1,"answer-true"],[1,"fa","fa-check"],[1,"chart","d-flex",2,"overflow-x","scroll","white-space","nowrap"],["class","col-column",4,"ngFor","ngForOf"],[1,"col-column"]],template:function(t,n){1&t&&(d.Oc(0,L,5,0,"div",0),d.Oc(1,tt,32,18,"div",1)),2&t&&(d.mc("ngIf",n.isLoading),d.Cb(1),d.mc("ngIf",!n.isLoading))},directives:[s.m,E.a,s.o,s.p,R.a,C,v.a,P.a,_.a,s.l,s.k,s.n],styles:[".app[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden;padding-bottom:40px}.maxW1200[_ngcontent-%COMP%]{max-width:1200px}.control[_ngcontent-%COMP%]{display:flex;justify-content:center}.control-next[_ngcontent-%COMP%], .control-prev[_ngcontent-%COMP%]{margin:0 15px}.control-btn[_ngcontent-%COMP%]{color:#fff;background-color:#169bd5;padding:5px 15px}.control-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px;font-weight:700;width:30px;height:30px}.heading-row[_ngcontent-%COMP%]{margin-bottom:20px}.code-text[_ngcontent-%COMP%]{font-size:18px;font-weight:500;cursor:pointer}.code-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:23px;color:#00a7d0}.title-link[_ngcontent-%COMP%]{font-size:18px}.title-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;color:#42474b}.col-column[_ngcontent-%COMP%]{display:block;width:33%}.col-column[_ngcontent-%COMP%]   .column-total[_ngcontent-%COMP%]{height:95%;width:calc(100% - 5%)!important;display:flex;align-items:flex-end}.chart[_ngcontent-%COMP%]{width:85%;height:500px;background-color:#fff;margin:0 auto}.chart-column[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;height:88%;padding:0 30px}.chart-column[_ngcontent-%COMP%]   .column-total[_ngcontent-%COMP%]{height:95%;width:calc(100%/4 - 8%);display:flex;align-items:flex-end}.chart-column[_ngcontent-%COMP%]   .column-result[_ngcontent-%COMP%]{color:#fff;font-size:18px;font-weight:500;width:100%;min-height:5px;text-align:center;display:flex;flex-direction:column;justify-content:space-between}.chart-column[_ngcontent-%COMP%]   .column-one[_ngcontent-%COMP%]{background-color:#66c870}.chart-column[_ngcontent-%COMP%]   .column-two[_ngcontent-%COMP%]{background-color:#fb708f}.chart-column[_ngcontent-%COMP%]   .column-three[_ngcontent-%COMP%]{background-color:#2aa4e6}.chart-column[_ngcontent-%COMP%]   .column-four[_ngcontent-%COMP%]{background-color:#f5bc20}.chart-column[_ngcontent-%COMP%]   .point-result[_ngcontent-%COMP%]{margin-top:10px}.chart-column[_ngcontent-%COMP%]   .answer-true[_ngcontent-%COMP%]{margin-bottom:10px}.chart-column[_ngcontent-%COMP%]   .answer-true[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:50px}.chart-fields[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:12%;padding:0 30px;border-top:1px solid #ddd}.chart-fields[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:calc(100%/4 - 8%);text-align:center;font-size:18px;font-weight:500}.view-link[_ngcontent-%COMP%]{font-size:18px}@media screen and (max-width:768px){.heading-row[_ngcontent-%COMP%]{text-align:left!important}.chart-column[_ngcontent-%COMP%], .chart-fields[_ngcontent-%COMP%]{padding:0 20px}}@media screen and (max-width:480px){.chart-fields[_ngcontent-%COMP%]{padding:0 10px}.app[_ngcontent-%COMP%]{overflow-y:inherit}.chart-column[_ngcontent-%COMP%]{padding:0 10px}}"]}),t})()}]}]}];let et=(()=>{class t{}return t.\u0275mod=d.Mb({type:t}),t.\u0275inj=d.Lb({factory:function(n){return new(n||t)},imports:[[i.l.forChild(nt)],i.l,u.c]}),t})(),it=(()=>{class t{}return t.\u0275mod=d.Mb({type:t}),t.\u0275inj=d.Lb({factory:function(n){return new(n||t)},imports:[[i.l,s.c,o.a,r.b,et,c.m,c.x,a.f,b.a,l.a]]}),t})()}}]);