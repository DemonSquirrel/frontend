!function(){function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e){return function(e){if(Array.isArray(e))return d(e)}(e)||h(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,i)}function r(e){return function(){var t=this,r=arguments;return new Promise(function(i,o){var a=e.apply(t,r);function c(e){n(a,i,o,c,s,"next",e)}function s(e){n(a,i,o,c,s,"throw",e)}c(void 0)})}}function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){throw e}),f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){c=!0,o=e}),f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function o(e,t){return b(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||l(e,t)||u()}function a(e){var t="function"==typeof Map?new Map:void 0;return(a=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return c(e,arguments,w(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),y(r,e)})(e)}function c(e,t,n){return(c=C()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&y(i,n.prototype),i}).apply(null,arguments)}function s(e){return b(e)||h(e)||l(e)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function b(e){if(Array.isArray(e))return e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function g(e,t,n){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=C();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"3eqI":function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l});var r=n("fXoL"),i=n("wd/R"),o=n.n(i),a=n("n1FK"),c=o.a||i,s=new r.s("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function(){return{useUtc:!1}}});function u(e,t){for(var n=Array(e),r=0;r<e;r++)n[r]=t(r);return n}var l=function(){var e=function(e){v(n,e);var t=_(n);function n(e){var r;f(this,n),(r=t.call(this))._options=e,r._localeData={firstDayOfWeek:0,longMonths:"",shortMonths:"",dates:"",longDaysOfWeek:"",shortDaysOfWeek:"",narrowDaysOfWeek:""};var i="vi";return-1===window.location.href.indexOf("en")&&(i="vi"),c.locale(),r.setLocale(i||c.locale()),r}return m(n,[{key:"setLocale",value:function(e){var t=this;g(w(n.prototype),"setLocale",this).call(this,e);var r=c.localeData(e);this._localeData={firstDayOfWeek:r.firstDayOfWeek(),longMonths:r.months(),shortMonths:r.monthsShort(),dates:u(31,function(e){return t.createDate(2017,0,e+1).format("D")}),longDaysOfWeek:r.weekdays(),shortDaysOfWeek:r.weekdaysShort(),narrowDaysOfWeek:r.weekdaysMin()}}},{key:"getYear",value:function(e){return this.clone(e).year()}},{key:"getMonth",value:function(e){return this.clone(e).month()}},{key:"getDate",value:function(e){return this.clone(e).date()}},{key:"getDayOfWeek",value:function(e){return this.clone(e).day()}},{key:"getMonthNames",value:function(e){return"long"===e?this._localeData.longMonths:this._localeData.shortMonths}},{key:"getDateNames",value:function(){return this._localeData.dates}},{key:"getDayOfWeekNames",value:function(e){return"long"===e?this._localeData.longDaysOfWeek:"short"===e?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}},{key:"getYearName",value:function(e){return this.clone(e).format("YYYY")}},{key:"getFirstDayOfWeek",value:function(){return this._localeData.firstDayOfWeek}},{key:"getNumDaysInMonth",value:function(e){return this.clone(e).daysInMonth()}},{key:"clone",value:function(e){return e.clone().locale(this.locale)}},{key:"createDate",value:function(e,t,n){if(t<0||t>11)throw Error('Invalid month index "'.concat(t,'". Month index has to be between 0 and 11.'));if(n<1)throw Error('Invalid date "'.concat(n,'". Date has to be greater than 0.'));var r=this._createMoment({year:e,month:t,date:n}).locale(this.locale);if(!r.isValid())throw Error('Invalid date "'.concat(n,'" for month with index "').concat(t,'".'));return r}},{key:"today",value:function(){return this._createMoment().locale(this.locale)}},{key:"parse",value:function(e,t){return e&&"string"==typeof e?this._createMoment(e,t,this.locale):e?this._createMoment(e).locale(this.locale):null}},{key:"format",value:function(e,t){if(e=this.clone(e),!this.isValid(e))throw Error("MomentDateAdapter: Cannot format invalid date.");return e.format(t)}},{key:"addCalendarYears",value:function(e,t){return this.clone(e).add({years:t})}},{key:"addCalendarMonths",value:function(e,t){return this.clone(e).add({months:t})}},{key:"addCalendarDays",value:function(e,t){return this.clone(e).add({days:t})}},{key:"toIso8601",value:function(e){return this.clone(e).format()}},{key:"deserialize",value:function(e){var t;if(e instanceof Date)t=this._createMoment(e).locale(this.locale);else if(this.isDateInstance(e))return this.clone(e);if("string"==typeof e){if(!e)return null;t=this._createMoment(e,c.ISO_8601).locale(this.locale)}return t&&this.isValid(t)?this._createMoment(t).locale(this.locale):g(w(n.prototype),"deserialize",this).call(this,e)}},{key:"isDateInstance",value:function(e){return c.isMoment(e)}},{key:"isValid",value:function(e){return this.clone(e).isValid()}},{key:"invalid",value:function(){return c.invalid()}},{key:"getHour",value:function(e){return e.hours()}},{key:"getMinute",value:function(e){return e.minutes()}},{key:"getSecond",value:function(e){return e.seconds()}},{key:"setHour",value:function(e,t){e.hours(t)}},{key:"setMinute",value:function(e,t){e.minutes(t)}},{key:"setSecond",value:function(e,t){e.seconds(t)}},{key:"_createMoment",value:function(e,t,n){var r=this._options||{},i=r.strict;return r.useUtc?c.utc(e,t,n,i):c(e,t,n,i)}}]),n}(a.b);return e.\u0275fac=function(t){return new(t||e)(r.Yb(s,8))},e.\u0275prov=r.Kb({token:e,factory:e.\u0275fac}),e}()},JZA2:function(n,c,u){"use strict";var l,d;u.r(c),u.d(c,"AuthModule",function(){return Dc});var h,b=u("tyNb"),p=u("ofXK"),y=u("fB2i"),k=u("3Pt+"),C=u("vvyD"),U=u("mYPf"),x=u("quSY"),O=u("itXk"),I=u("fXoL"),P=u("gbi4"),S=u("yTNM"),M=u("hZBc"),R=((h=function(){function e(t,n,r,i,o){f(this,e),this.activeRoute=t,this.router=n,this.fb=r,this.commonService=i,this.apiService=o,this.subscriptions=new x.a,this.form=new k.k({}),this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.returnUrl=""}return m(e,[{key:"checkCorrectVersion",value:function(){this.apiService.isCorrectVersion()&&this.commonService.redirectByUrl(this.returnUrl)}},{key:"ngOnInit",value:function(){var e=this;Object(O.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(function(t){s(t),e.returnUrl=e.commonService.getMyQueryParam("return_url"),e.checkCorrectVersion()})}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||h)(I.Ob(b.a),I.Ob(b.i),I.Ob(k.g),I.Ob(P.a),I.Ob(S.a))},h.\u0275cmp=I.Ib({type:h,selectors:[["app-update-version"]],decls:18,vars:1,consts:[[3,"headerTitle"],[1,"container","py-5","bg-white","mt-3","rounded"],[1,"row"],[1,"col-12"],[1,"font-weight-bold"]],template:function(e,t){1&e&&(I.Pb(0,"header-backend",0),I.Ub(1,"div",1),I.Ub(2,"div",2),I.Ub(3,"div",3),I.Ub(4,"h3",4),I.Qc(5,"N\u1ebfu b\u1ea1n s\u1eed d\u1ee5ng m\xe1y t\xednh th\xec h\xe3y l\xe0m theo h\u01b0\u1edbng d\u1eabn sau:"),I.Tb(),I.Ub(6,"p"),I.Qc(7,'- Nh\u1ea5n t\u1ed5 h\u1ee3p ph\xedm "Ctrl + F5" ho\u1eb7c "Ctrl + Shift + R" (\u0111\u1ed1i v\u1edbi m\xe1y s\u1eed d\u1ee5ng h\u1ec7 \u0111i\u1ec1u h\xe0nh Windows) ho\u1eb7c "Command + Shift + R" (\u0111\u1ed1i v\u1edbi m\xe1y s\u1eed d\u1ee5ng h\u1ec7 \u0111i\u1ec1u h\xe0nh Mac OS) \u0111\u1ec3 t\u1ea3i l\u1ea1i trang \u0111\u1ed3ng th\u1eddi x\xf3a cache tr\xecnh duy\u1ec7t. Sau \u0111\xf3 \u0111\u0103ng nh\u1eadp l\u1ea1i.'),I.Tb(),I.Tb(),I.Tb(),I.Ub(8,"div",2),I.Ub(9,"div",3),I.Ub(10,"h3",4),I.Qc(11,"N\u1ebfu b\u1ea3n s\u1eed d\u1ee5ng \u0111i\u1ec7n tho\u1ea1i th\xec h\xe3y l\xe0m theo h\u01b0\u1edbng d\u1eabn sau:"),I.Tb(),I.Ub(12,"p"),I.Qc(13,"- Truy c\u1eadp v\xe0o thanh menu v\xe0 nh\u1ea5n n\xfat History."),I.Tb(),I.Ub(14,"p"),I.Qc(15,"- Click ch\u1ecdn Clear Browsing Data. V\xe0 ch\u1ecdn th\u1eddi gian. \u0110\u1ec3 x\xf3a m\u1ecdi th\u1ee9, ch\u1ecdn All Time."),I.Tb(),I.Ub(16,"p"),I.Qc(17,"- Ch\u1ecdn y\u1ebfu t\u1ed1 b\u1ea1n mu\u1ed1n x\xf3a \u2013 history, cookies, cache."),I.Tb(),I.Tb(),I.Tb(),I.Tb()),2&e&&I.mc("headerTitle","Th\xf4ng b\xe1o c\u1eadp nh\u1eadt phi\xean b\u1ea3n m\u1edbi")},directives:[M.a],styles:[""]}),h),j=u("n1FK"),E=u("FKr1"),L=u("kmnG"),N=u("3eqI"),A=u("NFeN"),D=u("QibW"),Q=u("qFsG"),F=u("bTqV"),z=u("gaSO");function q(e,t){1&e&&(I.Ub(0,"div"),I.Ub(1,"div",12),I.Ub(2,"div",13),I.Ub(3,"span",14),I.Qc(4),I.gc(5,"mytranslate"),I.Tb(),I.Tb(),I.Tb(),I.Tb()),2&e&&(I.Cb(4),I.Sc("",I.hc(5,1,"lang_cms_common_loading"),"..."))}function V(e,t){1&e&&(I.Ub(0,"div"),I.Qc(1," Email ph\u1ea3i nh\u1eadp \u0111\xfang \u0111\u1ecbnh d\u1ea1ng! "),I.Tb())}function B(e,t){if(1&e&&(I.Ub(0,"div",41),I.Oc(1,V,2,0,"div",11),I.Tb()),2&e){var n=I.fc(2);I.Cb(1),I.mc("ngIf",n.getErrorType("email","email"))}}function H(e,t){1&e&&(I.Ub(0,"div"),I.Qc(1," M\u1eadt kh\u1ea9u ph\u1ea3i d\xe0i t\u1ed1i thi\u1ec3u l\xe0 6! "),I.Tb())}function W(e,t){if(1&e&&(I.Ub(0,"div",41),I.Oc(1,H,2,0,"div",11),I.Tb()),2&e){var n=I.fc(2);I.Cb(1),I.mc("ngIf",n.getErrorType("password","required")||n.getErrorType("password","minlength"))}}function G(e,t){1&e&&(I.Ub(0,"div"),I.Qc(1," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ch\u1ec9 g\u1ed3m c\xe1c ch\u1eef s\u1ed1 v\xe0 d\xe0i 10 k\xfd t\u1ef1! "),I.Tb())}function K(e,t){if(1&e&&(I.Ub(0,"div",41),I.Oc(1,G,2,0,"div",11),I.Tb()),2&e){var n=I.fc(2);I.Cb(1),I.mc("ngIf",n.getErrorType("phone","pattern")||n.getErrorType("phone","minlength")||n.getErrorType("phone","maxlength"))}}function $(e,t){1&e&&(I.Ub(0,"span"),I.Qc(1,"OK"),I.Tb())}function Y(e,t){if(1&e&&(I.Ub(0,"div",15),I.Ub(1,"label",42),I.Qc(2),I.gc(3,"mytranslate"),I.Tb(),I.Tb()),2&e){var n=I.fc(2);I.Cb(2),I.Sc("*** ",I.hc(3,1,n.status_obj.error_obj.message),"")}}function J(e,t){1&e&&(I.Ub(0,"span"),I.Pb(1,"span",43),I.Qc(2,"\xa0"),I.Tb())}function X(e,t){if(1&e){var n=I.Vb();I.Ub(0,"div"),I.Ub(1,"div",15),I.Ub(2,"div",16),I.Ub(3,"div",17),I.Pb(4,"input",18),I.Ub(5,"div",19),I.Ub(6,"span",20),I.Ub(7,"mat-icon"),I.Qc(8,"account_box"),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Ub(9,"div",15),I.Ub(10,"div",16),I.Ub(11,"div",17),I.Pb(12,"input",21),I.Ub(13,"div",19),I.Ub(14,"span",20),I.Ub(15,"mat-icon"),I.Qc(16,"email"),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Oc(17,B,2,1,"div",22),I.Tb(),I.Tb(),I.Ub(18,"div",15),I.Ub(19,"div",16),I.Ub(20,"div",17),I.Pb(21,"input",23),I.Ub(22,"div",19),I.Ub(23,"span",20),I.Ub(24,"mat-icon"),I.Qc(25,"lock"),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Oc(26,W,2,1,"div",22),I.Tb(),I.Tb(),I.Ub(27,"div",15),I.Ub(28,"div",16),I.Ub(29,"div",24),I.Pb(30,"input",25),I.Ub(31,"div",19),I.Ub(32,"span",20),I.Ub(33,"mat-icon"),I.Qc(34,"phone_enabled"),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Ub(35,"a",26),I.bc("click",function(){return I.Cc(n),I.fc().goToConfirm()}),I.Qc(36,"Click v\xe0o \u0111\xe2y n\u1ebfu b\u1ea1n mu\u1ed1n \u0111\u1ed5i s\u1ed1 \u0111i\u1ec7n tho\u1ea1i!"),I.Tb(),I.Oc(37,K,2,1,"div",22),I.Tb(),I.Tb(),I.Ub(38,"div",15),I.Ub(39,"div",16),I.Ub(40,"div",27),I.Ub(41,"mat-radio-group",28),I.Ub(42,"mat-radio-button",29),I.Qc(43,"Nam"),I.Tb(),I.Ub(44,"mat-radio-button",30),I.Qc(45,"N\u1eef"),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Ub(46,"div",15),I.Ub(47,"div",16),I.Ub(48,"mat-form-field",31),I.Ub(49,"input",32),I.bc("click",function(){return I.Cc(n),I.yc(54).open()}),I.Tb(),I.Ub(50,"button",33),I.bc("click",function(e){return I.Cc(n),I.yc(54).open(),e.stopPropagation()}),I.Ub(51,"mat-icon"),I.Qc(52,"today"),I.Tb(),I.Tb(),I.Ub(53,"ngx-mat-datetime-picker",34,35),I.Oc(55,$,2,0,"ng-template"),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Oc(56,Y,4,3,"div",36),I.Ub(57,"div",15),I.Ub(58,"div",37),I.Ub(59,"button",38),I.bc("click",function(){I.Cc(n);var e=I.fc();return e.form.invalid||e.status_obj.loading||e.changeInfo()}),I.Oc(60,J,3,0,"span",11),I.Qc(61,"C\u1eadp nh\u1eadt "),I.Tb(),I.Tb(),I.Tb(),I.Ub(62,"div",39),I.Ub(63,"a",40),I.bc("click",function(){return I.Cc(n),I.fc().goBack()}),I.Qc(64,"Quay l\u1ea1i trang ch\u1ee7"),I.Tb(),I.Tb(),I.Tb()}if(2&e){var r=I.yc(54),i=I.fc();I.Cb(17),I.mc("ngIf",i.form.controls.email.invalid&&i.form.controls.email.dirty),I.Cb(9),I.mc("ngIf",i.form.controls.password.invalid&&(i.form.controls.password.dirty||i.form.controls.password.touched)),I.Cb(4),I.Db("disabled",i.disablePhone),I.Cb(7),I.mc("ngIf",i.form.controls.phone.invalid&&(i.form.controls.phone.dirty||i.form.controls.phone.touched)),I.Cb(12),I.mc("ngxMatDatetimePicker",r),I.Cb(4),I.mc("hideTime",i.hideTime),I.Cb(3),I.mc("ngIf",i.status_obj.error_obj.message),I.Cb(3),I.mc("disabled",i.form.invalid||i.status_obj.loading),I.Cb(1),I.mc("ngIf",!0===i.status_obj.loading)}}var Z,ee={parse:{dateInput:"l, LTS"},display:{dateInput:"DD-MM-YYYY",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},te=((Z=function(){function e(t,n,r,i,o){f(this,e),this.formBuilder=t,this.activeRoute=n,this.router=r,this.commonService=i,this.apiService=o,this.subscriptions=new x.a,this.form=new k.k({}),this.startDate=new Date(1990,1,1),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.gender=0,this.prevData=0,this.disablePhone=!0,this.returnUrl="",this.hideTime=!0}return m(e,[{key:"getError",value:function(e){return!(!this.form.controls[e]||!this.form.controls[e].errors)&&this.form.controls[e].errors}},{key:"getErrorType",value:function(e,t){return!!(this.form.controls[e]&&this.form.controls[e].errors&&this.form.controls[e].errors[t])&&this.form.controls[e].errors[t]}},{key:"goToConfirm",value:function(){this.returnUrl="/auth/change-info";var e="?return_url="+encodeURIComponent(this.returnUrl)+"&confirm_type=change_phone";this.commonService.myNavigationWithQueryString("/auth/checking_service",e)}},{key:"allowChangePhone",value:function(){var e=this.apiService.getUserObj(),t=e.zaloId?e.zaloId:"";return""!=t&&t==(e.phone?e.phone:"")}},{key:"changeInfo",value:function(){var e=this;if(this.form.valid){var t=this.commonService.getFormObj(this.form),n=t.birthday?new Date(Date.parse(t.birthday)):this.startDate,r={fullName:t.fullName,email:t.email,phone:t.phone,gender:t.gender,birthday:Object(p.x)(n,"yyyy-MM-ddTHH:mm:ss","en_vn"),password:t.password};this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiService.changeInfo(r).subscribe(function(t){1==t.success?(e.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},e.commonService.snackSuccess("C\u1eadp nh\u1eadt th\xf4ng tin th\xe0nh c\xf4ng!","OK"),e.getInfo()):(e.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t},e.commonService.snackError("C\u1eadp nh\u1eadt th\xf4ng tin kh\xf4ng th\xe0nh c\xf4ng!","OK"))}))}}},{key:"goBack",value:function(){this.apiService.redirectLoginByRole(!1)}},{key:"getInfo",value:function(){this.status_obj={form_loading:!0,loading:!1,error:!1,error_obj:{message:""}};var e=this.apiService.getUserObj(),t=e.birthday?new Date(e.birthday):new Date(1990,1,1);this.startDate=t,this.gender=e.gender,this.form.patchValue({fullName:this.commonService.isAnonymousName(e)?"":e.fullName,email:e.email?e.email:"",phone:e.phone?e.phone:"",gender:1!=this.gender?"0":"1"}),this.form.controls.birthday.setValue(t),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}}}},{key:"ngOnInit",value:function(){var e=this;this.form=this.formBuilder.group({fullName:new k.h(""),email:new k.h("",k.z.email),phone:new k.h("",[k.z.pattern("^[0-9]*$")]),gender:new k.h(""),birthday:new k.h(""),password:new k.h("",[k.z.minLength(6)])}),this.apiService.isAnonymousRole()?this.commonService.redirectSimpleRegister():(this.getInfo(),this.form.valueChanges.subscribe(function(t){var n=JSON.stringify(t);n!=e.prevData&&(e.prevData=n,e.form.patchValue(t))}),this.commonService.translateMetaData({title:"lang_cms_auth_change_info_title",description:"lang_cms_auth_change_info_description",image:"lang_cms_test_image"}))}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Z)(I.Ob(k.g),I.Ob(b.a),I.Ob(b.i),I.Ob(P.a),I.Ob(S.a))},Z.\u0275cmp=I.Ib({type:Z,selectors:[["app-change-info"]],features:[I.Bb([{provide:j.b,useClass:N.a,deps:[E.f,N.b]},{provide:j.a,useValue:ee},{provide:L.b,useValue:{floatLabel:"never"}}])],decls:15,vars:3,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","text","placeholder","H\u1ecd v\xe0 t\xean","formControlName","fullName",1,"form-control"],[1,"input-group-append"],["id","basic-addon3",1,"input-group-text"],["type","text","placeholder","Email","formControlName","email",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["type","password","placeholder","M\u1eadt kh\u1ea9u m\u1edbi","formControlName","password","autocomplete","new-password",1,"form-control"],[1,"input-group","mb-1"],["type","text","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","formControlName","phone",1,"form-control"],[1,"clickable","text-info",2,"font-size","13px","padding-left","5px",3,"click"],[1,"input-group","justify-content-around",2,"border","1px solid  #e2e2e2","border-radius","3px","padding",".8rem 0 .3rem 0"],["formControlName","gender"],["value","1",1,"col-6","p-0"],["value","0",1,"col-6"],[1,"myTimePicker",2,"border","1px solid #ced4da","border-radius","3px","padding-top","2px"],["matInput","","placeholder","Ng\xe0y sinh","formControlName","birthday",1,"form-control",3,"ngxMatDatetimePicker","click"],["mat-icon-button","","matSuffix","",3,"click"],[3,"hideTime"],["birthDay",""],["class","form-group",4,"ngIf"],[1,"col-sm-12","text-center"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"text-center","mt-3"],[1,"clickable",3,"click"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&(I.Ub(0,"div",0),I.Ub(1,"form",1),I.Ub(2,"div",2),I.Pb(3,"div",3),I.Ub(4,"div",4),I.Ub(5,"h2",5),I.Pb(6,"img",6),I.Tb(),I.Ub(7,"div",7),I.Ub(8,"div",8),I.Ub(9,"span",9),I.Qc(10,"\u0110\u1ed5i m\u1eadt kh\u1ea9u m\u1edbi"),I.Tb(),I.Tb(),I.Ub(11,"div",10),I.Oc(12,q,6,3,"div",11),I.Oc(13,X,65,9,"div",11),I.Tb(),I.Tb(),I.Tb(),I.Pb(14,"div",3),I.Tb(),I.Tb(),I.Tb()),2&e&&(I.Cb(1),I.mc("formGroup",t.form),I.Cb(11),I.mc("ngIf",1==t.status_obj.form_loading),I.Cb(1),I.mc("ngIf",1!=t.status_obj.form_loading))},directives:[k.B,k.s,k.l,p.m,k.d,k.r,k.j,A.a,D.b,D.a,L.d,Q.b,j.c,F.b,L.h,j.d],pipes:[z.o],encapsulation:2}),Z),ne=u("Avyq"),re=u("AytR"),ie=u("0pw4");function oe(e,t){1&e&&(I.Ub(0,"div"),I.Ub(1,"div",12),I.Ub(2,"div",13),I.Ub(3,"span",14),I.Qc(4),I.gc(5,"mytranslate"),I.Tb(),I.Tb(),I.Tb(),I.Tb()),2&e&&(I.Cb(4),I.Sc("",I.hc(5,1,"lang_cms_common_loading"),"..."))}function ae(e,t){if(1&e&&(I.Ub(0,"div",19),I.Ub(1,"label",33),I.Qc(2),I.gc(3,"mytranslate"),I.Tb(),I.Tb()),2&e){var n=I.fc(2);I.Cb(2),I.Sc("*** ",I.hc(3,1,n.status_obj.error_obj.message),"")}}function ce(e,t){1&e&&(I.Ub(0,"span"),I.Pb(1,"span",34),I.Qc(2,"\xa0"),I.Tb())}var se=function(e){return[e]},ue=function(e){return{return_url:e}};function le(e,t){if(1&e){var n=I.Vb();I.Ub(0,"div"),I.Ub(1,"div",15),I.Ub(2,"a",16),I.bc("click",function(){return I.Cc(n),I.fc().loginZalo()}),I.Pb(3,"img",17),I.Ub(4,"span"),I.Qc(5,"\u0110\u0103ng nh\u1eadp b\u1eb1ng Zalo"),I.Tb(),I.Tb(),I.Pb(6,"br"),I.Pb(7,"br"),I.Ub(8,"div",5),I.Ub(9,"span",18),I.Qc(10,"- HO\u1eb6C -"),I.Tb(),I.Tb(),I.Pb(11,"br"),I.Tb(),I.Ub(12,"div",19),I.Ub(13,"div",20),I.Ub(14,"div",21),I.Pb(15,"input",22),I.Ub(16,"div",23),I.Ub(17,"span",24),I.Ub(18,"mat-icon"),I.Qc(19,"phone_enabled"),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Ub(20,"div",19),I.Ub(21,"div",20),I.Ub(22,"div",21),I.Pb(23,"input",25),I.Ub(24,"div",23),I.Ub(25,"span",24),I.Ub(26,"mat-icon"),I.Qc(27,"lock"),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Oc(28,ae,4,3,"div",26),I.Ub(29,"div",19),I.Ub(30,"div",27),I.Ub(31,"div",15),I.Ub(32,"button",28),I.bc("click",function(){I.Cc(n);var e=I.fc();return e.form.invalid||e.status_obj.loading||e.login()}),I.Oc(33,ce,3,0,"span",11),I.Qc(34,"\u0110\u0103ng nh\u1eadp "),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Ub(35,"div",29),I.Ub(36,"a",30),I.gc(37,"localize"),I.Qc(38,"\u0110\u0103ng k\xfd th\xe0nh vi\xean m\u1edbi"),I.Tb(),I.Tb(),I.Ub(39,"div",31),I.Ub(40,"a",32),I.bc("click",function(){return I.Cc(n),I.fc().forgotPassword()}),I.Qc(41,"Qu\xean m\u1eadt kh\u1ea9u?"),I.Tb(),I.Tb(),I.Tb()}if(2&e){var r=I.fc();I.Cb(28),I.mc("ngIf",r.status_obj.error_obj.message),I.Cb(4),I.mc("disabled",r.form.invalid||r.status_obj.loading),I.Cb(1),I.mc("ngIf",!0===r.status_obj.loading),I.Cb(3),I.mc("routerLink",I.rc(7,se,I.hc(37,5,"/auth/register")))("queryParams",I.rc(9,ue,r.returnUrl))}}var de,he=((de=function(){function e(t,n,r,i,o,a){f(this,e),this.formBuilder=t,this.activeRoute=n,this.router=r,this.commonService=i,this.apiService=o,this.localStorageObjetct=a,this.subscriptions=new x.a,this.form=new k.k({}),this.zaloAccessTkn="",this.returnUrl="",this.zaloLoginUrl="",this.status_obj={form_loading:!0,loading:!1,error:!1,error_obj:{message:""}}}return m(e,[{key:"getError",value:function(e){return!(!this.form.controls[e]||!this.form.controls[e].errors)&&this.form.controls[e].errors}},{key:"login",value:function(){var e=this;if(this.form.valid){this.commonService.gaEvent("sign_in_login_in");var t=this.commonService.getFormObj(this.form);this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiService.login(t.phone,t.password).subscribe(function(t){1==t.success?(e.localStorageObjetct.clearAllCache(),e.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},e.apiService.redirectLoginByRole(e.commonService.getMyQueryParam("return_url"))):e.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t}}))}}},{key:"loginAnonymous",value:function(){var e=this;this.commonService.gaEvent("sign_in_login_anonymous"),this.status_obj={form_loading:!0,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiService.loginAnonymous().subscribe(function(t){1==t.success?(e.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},e.apiService.redirectLoginByRole(e.commonService.getMyQueryParam("return_url"))):e.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t}}))}},{key:"loginWithZaloAccessToken",value:function(e){var t=this;this.commonService.gaEvent("sign_in_login_by_zalo"),this.status_obj={form_loading:!0,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiService.loginWithZalo(e).subscribe(function(e){1==e.success?(t.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},t.apiService.redirectLoginByRole(t.commonService.getMyQueryParam("return_url"))):t.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:e}}))}},{key:"loginZalo",value:function(){this.commonService.gaEvent("sign_in_click_sign_in_by_zalo"),window.location.href=this.zaloLoginUrl}},{key:"forgotPassword",value:function(){this.commonService.gaEvent("sign_in_forgot_password"),this.commonService.myNavigation("/auth/confirm_forgot_password")}},{key:"ngOnInit",value:function(){this.form=this.formBuilder.group({phone:["",k.z.required],password:["",k.z.required]}),this.zaloAccessTkn=this.commonService.getMyQueryParam("access_token"),this.commonService.getMyQueryParam("not_register")?this.commonService.myNavigation("/auth/register"):this.zaloAccessTkn?(this.commonService.getMyQueryParam("register")&&this.commonService.gaEvent("sign_in_sign_up_by_zalo"),this.loginWithZaloAccessToken(this.zaloAccessTkn)):this.apiService.isLogin()&&!this.apiService.isAnonymousRole()?this.apiService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")):(this.returnUrl=this.commonService.getMyQueryParam("return_url")||"",-1===this.returnUrl.indexOf("/test/")&&-1===this.returnUrl.indexOf("/de-thi/")&&-1===this.returnUrl.indexOf("/bai-tap/")||"register"==this.commonService.getMyQueryParam("from")?(this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.zaloLoginUrl=re.a.main_api+"Auth/LoginZalo?callback_uri="+encodeURIComponent(this.commonService.getLocalRouter("/auth/login")+"?return_url="+this.returnUrl+"&is_login=1")):this.apiService.isLogin()?this.apiService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")):this.loginAnonymous()),this.commonService.translateMetaData({title:"lang_cms_auth_login_title",description:"lang_cms_auth_login_description",image:"lang_cms_test_image"})}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||de)(I.Ob(k.g),I.Ob(b.a),I.Ob(b.i),I.Ob(P.a),I.Ob(S.a),I.Ob(ie.a))},de.\u0275cmp=I.Ib({type:de,selectors:[["app-login"]],decls:15,vars:3,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"col-md-12"],[1,"btn","btn-outline-primary","mt-2",2,"width","100%",3,"click"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/zaloicon.png","alt","Zalo Icon",1,"img-responsive","zalo-icon"],[1,"h6","mute-text"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","tel","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","formControlName","phone",1,"form-control"],[1,"input-group-append"],["id","basic-addon2",1,"input-group-text"],["type","password","placeholder","M\u1eadt kh\u1ea9u","formControlName","password",1,"form-control"],["class","form-group",4,"ngIf"],[2,"display","flex"],["mat-raised-button","","color","primary",2,"width","100%",3,"disabled","click"],[1,"text-center","mt-3"],[3,"routerLink","queryParams"],[1,"text-center","mt-1"],[2,"color","rgb(216, 2, 2)",3,"click"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&(I.Ub(0,"div",0),I.Ub(1,"form",1),I.Ub(2,"div",2),I.Pb(3,"div",3),I.Ub(4,"div",4),I.Ub(5,"h2",5),I.Pb(6,"img",6),I.Tb(),I.Ub(7,"div",7),I.Ub(8,"div",8),I.Ub(9,"span",9),I.Qc(10,"\u0110\u0103ng nh\u1eadp"),I.Tb(),I.Tb(),I.Ub(11,"div",10),I.Oc(12,oe,6,3,"div",11),I.Oc(13,le,42,11,"div",11),I.Tb(),I.Tb(),I.Tb(),I.Pb(14,"div",3),I.Tb(),I.Tb(),I.Tb()),2&e&&(I.Cb(1),I.mc("formGroup",t.form),I.Cb(11),I.mc("ngIf",1==t.status_obj.form_loading),I.Cb(1),I.mc("ngIf",1!=t.status_obj.form_loading))},directives:[k.B,k.s,k.l,p.m,k.d,k.r,k.j,A.a,F.b,b.k],pipes:[z.o,ne.d],styles:[".checkboxInput[_ngcontent-%COMP%]{padding:5px 15px;font-size:1rem;font-weight:400;line-height:2}.zalo-icon[_ngcontent-%COMP%]{height:30px;margin-right:10px}"]}),de),be=u("1yaQ"),fe=u("jCJ1");function pe(e,t){1&e&&(I.Ub(0,"div"),I.Ub(1,"div",13),I.Ub(2,"div",14),I.Ub(3,"span",15),I.Qc(4),I.gc(5,"mytranslate"),I.Tb(),I.Tb(),I.Tb(),I.Tb()),2&e&&(I.Cb(4),I.Sc("",I.hc(5,1,"lang_cms_common_loading"),"..."))}function me(e,t){if(1&e){var n=I.Vb();I.Ub(0,"div",16),I.Ub(1,"div",17),I.bc("click",function(){return I.Cc(n),I.fc().changeRegisterType(1)}),I.Ub(2,"div",18),I.Pb(3,"i",19),I.Ub(4,"p"),I.Qc(5,"T\xf4i l\xe0 h\u1ecdc sinh"),I.Tb(),I.Tb(),I.Tb(),I.Ub(6,"div",17),I.bc("click",function(){return I.Cc(n),I.fc().changeRegisterType(2)}),I.Ub(7,"div",18),I.Pb(8,"img",20),I.Ub(9,"p"),I.Qc(10,"T\xf4i l\xe0 gi\xe1o vi\xean"),I.Tb(),I.Tb(),I.Tb(),I.Tb()}}function ge(e,t){1&e&&(I.Ub(0,"div"),I.Qc(1," Y\xeau c\u1ea7u nh\u1eadp h\u1ecd t\xean \u0111\u1ea7y \u0111\u1ee7! "),I.Tb())}function ve(e,t){if(1&e&&(I.Ub(0,"div",53),I.Oc(1,ge,2,0,"div",10),I.Tb()),2&e){var n=I.fc(3);I.Cb(1),I.mc("ngIf",n.getErrorType("fullName","required"))}}function ye(e,t){1&e&&(I.Ub(0,"div"),I.Qc(1," Y\xeau c\u1ea7u nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i! "),I.Tb())}function _e(e,t){1&e&&(I.Ub(0,"div"),I.Qc(1," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ch\u1ec9 g\u1ed3m c\xe1c ch\u1eef s\u1ed1 v\xe0 d\xe0i 10 k\xfd t\u1ef1! "),I.Tb())}function ke(e,t){if(1&e&&(I.Ub(0,"div",53),I.Oc(1,ye,2,0,"div",10),I.Oc(2,_e,2,0,"div",10),I.Tb()),2&e){var n=I.fc(3);I.Cb(1),I.mc("ngIf",n.getErrorType("phone","required")),I.Cb(1),I.mc("ngIf",n.getErrorType("phone","pattern")||n.getErrorType("phone","minlength")||n.getErrorType("phone","maxlength"))}}function Te(e,t){1&e&&(I.Ub(0,"div"),I.Qc(1," M\u1eadt kh\u1ea9u ph\u1ea3i d\xe0i t\u1ed1i thi\u1ec3u l\xe0 6! "),I.Tb())}function Ce(e,t){if(1&e&&(I.Ub(0,"div",53),I.Oc(1,Te,2,0,"div",10),I.Tb()),2&e){var n=I.fc(3);I.Cb(1),I.mc("ngIf",n.getErrorType("password","required")||n.getErrorType("password","minlength"))}}function we(e,t){1&e&&(I.Ub(0,"div"),I.Qc(1," Email b\u1ea1n nh\u1eadp sai \u0111\u1ecbnh d\u1ea1ng! "),I.Tb())}function Ue(e,t){if(1&e&&(I.Ub(0,"div",53),I.Oc(1,we,2,0,"div",10),I.Tb()),2&e){var n=I.fc(3);I.Cb(1),I.mc("ngIf",n.getErrorType("email","email"))}}function xe(e,t){if(1&e&&(I.Ub(0,"div",39),I.Ub(1,"label",54),I.Qc(2),I.gc(3,"mytranslate"),I.Tb(),I.Tb()),2&e){var n=I.fc(3);I.Cb(2),I.Sc("*** ",I.hc(3,1,n.status_obj.error_obj.message),"")}}function Oe(e,t){1&e&&(I.Ub(0,"span"),I.Pb(1,"span",55),I.Qc(2,"\xa0"),I.Tb())}function Ie(e,t){if(1&e){var n=I.Vb();I.Ub(0,"div",36),I.Ub(1,"form",37),I.Ub(2,"div",27),I.Ub(3,"div",38),I.Ub(4,"div",39),I.Ub(5,"div",40),I.Ub(6,"div",41),I.Pb(7,"input",42),I.Ub(8,"div",43),I.Ub(9,"span",44),I.Ub(10,"mat-icon"),I.Qc(11,"account_box"),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Oc(12,ve,2,1,"div",45),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Ub(13,"div",27),I.Ub(14,"div",38),I.Ub(15,"div",39),I.Ub(16,"div",40),I.Ub(17,"div",41),I.Pb(18,"input",46),I.Ub(19,"div",43),I.Ub(20,"span",47),I.Ub(21,"mat-icon"),I.Qc(22,"phone_enabled"),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Oc(23,ke,3,2,"div",45),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Ub(24,"div",27),I.Ub(25,"div",38),I.Ub(26,"div",39),I.Ub(27,"div",40),I.Ub(28,"div",41),I.Pb(29,"input",48),I.Ub(30,"div",43),I.Ub(31,"span",49),I.Ub(32,"mat-icon"),I.Qc(33,"lock"),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Oc(34,Ce,2,1,"div",45),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Ub(35,"div",27),I.Ub(36,"div",38),I.Ub(37,"div",39),I.Ub(38,"div",40),I.Ub(39,"div",41),I.Pb(40,"input",50),I.Ub(41,"div",43),I.Ub(42,"span",47),I.Ub(43,"mat-icon"),I.Qc(44,"email"),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Oc(45,Ue,2,1,"div",45),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Oc(46,xe,4,3,"div",51),I.Ub(47,"div",39),I.Ub(48,"div",27),I.Ub(49,"div",38),I.Ub(50,"button",52),I.bc("click",function(){I.Cc(n);var e=I.fc(2);return e.form.invalid||e.status_obj.loading||e.registerForTeacher()}),I.Oc(51,Oe,3,0,"span",10),I.Qc(52,"\u0110\u0103ng k\xfd "),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb()}if(2&e){var r=I.fc(2);I.Cb(1),I.mc("formGroup",r.form),I.Cb(11),I.mc("ngIf",r.form.controls.fullName.invalid&&(r.form.controls.fullName.dirty||r.form.controls.fullName.touched)),I.Cb(11),I.mc("ngIf",r.form.controls.phone.invalid&&(r.form.controls.phone.dirty||r.form.controls.phone.touched)),I.Cb(11),I.mc("ngIf",r.form.controls.password.invalid&&(r.form.controls.password.dirty||r.form.controls.password.touched)),I.Cb(11),I.mc("ngIf",r.form.controls.email.invalid&&(r.form.controls.email.dirty||r.form.controls.email.touched)),I.Cb(1),I.mc("ngIf",r.status_obj.error_obj.message),I.Cb(4),I.mc("disabled",r.form.invalid||r.status_obj.loading),I.Cb(1),I.mc("ngIf",!0===r.status_obj.loading)}}function Pe(e,t){1&e&&(I.Ub(0,"div",63),I.Qc(1," B\u1ea1n ph\u1ea3i nh\u1eadp h\u1ecd v\xe0 t\xean c\u1ee7a b\u1ea1n. "),I.Tb())}function Se(e,t){1&e&&(I.Ub(0,"div"),I.Qc(1," B\u1ea1n ph\u1ea3i nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i. "),I.Tb())}function Me(e,t){1&e&&(I.Ub(0,"div"),I.Qc(1," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ph\u1ea3i l\xe0 10 s\u1ed1. "),I.Tb())}function Re(e,t){if(1&e&&(I.Ub(0,"div",63),I.Oc(1,Se,2,0,"div",10),I.Oc(2,Me,2,0,"div",10),I.Tb()),2&e){var n=I.fc(3);I.Cb(1),I.mc("ngIf",n.getErrorForm("studentPhone","required")),I.Cb(1),I.mc("ngIf",n.getErrorForm("studentPhone","minlength")||n.getErrorForm("studentPhone","maxlength"))}}function je(e,t){1&e&&(I.Ub(0,"div"),I.Qc(1," B\u1ea1n ph\u1ea3i nh\u1eadp m\u1eadt kh\u1ea9u. "),I.Tb())}function Ee(e,t){1&e&&(I.Ub(0,"div"),I.Qc(1," M\u1eadt kh\u1ea9u bao g\u1ed3m 6 k\xfd t\u1ef1. "),I.Tb())}function Le(e,t){if(1&e&&(I.Ub(0,"div",63),I.Oc(1,je,2,0,"div",10),I.Oc(2,Ee,2,0,"div",10),I.Tb()),2&e){var n=I.fc(3);I.Cb(1),I.mc("ngIf",n.getErrorForm("passWord","required")),I.Cb(1),I.mc("ngIf",n.getErrorForm("passWord","minlength"))}}function Ne(e,t){if(1&e&&(I.Ub(0,"div",39),I.Ub(1,"label",54),I.Qc(2),I.gc(3,"mytranslate"),I.Tb(),I.Tb()),2&e){var n=I.fc(3);I.Cb(2),I.Sc("*** ",I.hc(3,1,n.status_obj.error_obj.message),"")}}function Ae(e,t){1&e&&(I.Ub(0,"span"),I.Pb(1,"span",55),I.Qc(2,"\xa0"),I.Tb())}function De(e,t){if(1&e){var n=I.Vb();I.Ub(0,"div",56),I.Ub(1,"form",57),I.Ub(2,"div",39),I.Pb(3,"input",58),I.Oc(4,Pe,2,0,"div",59),I.Tb(),I.Ub(5,"div",39),I.Pb(6,"input",60),I.Oc(7,Re,3,2,"div",59),I.Tb(),I.Ub(8,"div",39),I.Pb(9,"input",61),I.Oc(10,Le,3,2,"div",59),I.Tb(),I.Tb(),I.Oc(11,Ne,4,3,"div",51),I.Pb(12,"br"),I.Ub(13,"button",62),I.bc("click",function(){I.Cc(n);var e=I.fc(2);return e.formRegister.invalid||e.status_obj.loading||e.registerForStudent()}),I.Oc(14,Ae,3,0,"span",10),I.Qc(15," Ho\xe0n Th\xe0nh \u0110\u0103ng K\xfd "),I.Tb(),I.Tb()}if(2&e){var r=I.fc(2);I.Cb(1),I.mc("formGroup",r.formRegister),I.Cb(3),I.mc("ngIf",r.formRegister.controls.studentFullName.invalid&&(r.formRegister.controls.studentFullName.dirty||r.formRegister.controls.studentFullName.touched)),I.Cb(3),I.mc("ngIf",r.formRegister.controls.studentPhone.invalid&&(r.formRegister.controls.studentPhone.dirty||r.formRegister.controls.studentPhone.touched)),I.Cb(3),I.mc("ngIf",r.formRegister.controls.passWord.invalid&&(r.formRegister.controls.passWord.dirty||r.formRegister.controls.passWord.touched)),I.Cb(1),I.mc("ngIf",r.status_obj.error_obj.message),I.Cb(2),I.mc("disabled",r.formRegister.invalid||r.status_obj.loading),I.Cb(1),I.mc("ngIf",!0===r.status_obj.loading)}}var Qe=function(e){return[e]},Fe=function(e){return{return_url:e,from:"register"}};function ze(e,t){if(1&e){var n=I.Vb();I.Ub(0,"div",21),I.Ub(1,"div",22),I.Ub(2,"div",23),I.Ub(3,"a",24),I.bc("click",function(){return I.Cc(n),I.fc().changeRegisterType(1)}),I.Pb(4,"i",25),I.Qc(5,"\xa0 T\xf4i l\xe0 h\u1ecdc sinh"),I.Tb(),I.Tb(),I.Ub(6,"div",23),I.Ub(7,"a",24),I.bc("click",function(){return I.Cc(n),I.fc().changeRegisterType(2)}),I.Pb(8,"i",26),I.Qc(9,"\xa0 T\xf4i l\xe0 gi\xe1o vi\xean"),I.Tb(),I.Tb(),I.Tb(),I.Ub(10,"div",27),I.Ub(11,"div",28),I.Pb(12,"hr"),I.Tb(),I.Tb(),I.Oc(13,Ie,53,8,"div",29),I.Oc(14,De,16,7,"div",30),I.Ub(15,"div",31),I.Qc(16,' B\u1eb1ng c\xe1ch \u1ea5n v\xe0o n\xfat "\u0110\u0102NG K\xdd", t\xf4i \u0111\u1ed3ng \xfd v\u1edbi '),I.Ub(17,"a",32),I.Qc(18," \u0110i\u1ec1u Kho\u1ea3n S\u1eed D\u1ee5ng "),I.Tb(),I.Qc(19," v\xe0 "),I.Ub(20,"a",32),I.Qc(21," Ch\xednh S\xe1ch B\u1ea3o M\u1eadt c\u1ee7a AZOTA."),I.Tb(),I.Tb(),I.Ub(22,"div",33),I.Ub(23,"p",34),I.Qc(24,"B\u1ea1n \u0111\xe3 c\xf3 t\xe0i kho\u1ea3n?"),I.Tb(),I.Ub(25,"p"),I.Ub(26,"a",35),I.gc(27,"localize"),I.Qc(28,"\u0110\u0103ng nh\u1eadp"),I.Tb(),I.Tb(),I.Tb(),I.Tb()}if(2&e){var r=I.fc();I.mc("hidden",r.isShowOption),I.Cb(3),I.Gb("select-style-active",r.isStudent),I.Cb(4),I.Gb("select-style-active",r.isTeacher),I.Cb(6),I.mc("ngIf",1==r.isTeacher),I.Cb(1),I.mc("ngIf",1==r.isStudent),I.Cb(12),I.mc("routerLink",I.rc(11,Qe,I.hc(27,9,"/auth/login")))("queryParams",I.rc(13,Fe,r.returnUrl))}}var qe,Ve={parse:{dateInput:"LL"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"YYYY"}},Be=((qe=function(){function e(t,n,r,i,o,a,c){f(this,e),this.formBuilder=t,this.activeRoute=n,this.titleCasePipe=r,this.commonService=i,this.apiService=o,this.router=a,this.recaptchaV3Service=c,this.subscriptions=new x.a,this.form=new k.k({}),this.formClass=new k.k({}),this.formRegister=new k.k({}),this.returnUrl="",this.zaloLoginUrl="",this.status_obj={form_loading:!0,loading:!1,error:!1,error_obj:{message:""}},this.isHiddenFormRegister=!0,this.isTeacher=!1,this.isStudent=!1,this.hashId="",this.teacherName="",this.isShowAlert=!0,this.classObjs="",this.teacherObjs="",this.isOnClick=!1,this.yesterday=new Date,this.isShowOption=!0,this.isShowRegisterForStudent=!1,this.isShowRegisterForTeacher=!1}return m(e,[{key:"getError",value:function(e){return!(!this.form.controls[e]||!this.form.controls[e].errors)&&this.form.controls[e].errors}},{key:"getErrorType",value:function(e,t){return!!(this.form.controls[e]&&this.form.controls[e].errors&&this.form.controls[e].errors[t])&&this.form.controls[e].errors[t]}},{key:"getErrorForm",value:function(e,t){return!!(this.formRegister.controls[e]&&this.formRegister.controls[e].errors&&this.formRegister.controls[e].errors[t])&&this.formRegister.controls[e].errors[t]}},{key:"onlyNumber",value:function(e){var t=e.which?e.which:e.keyCode;return!(t>31&&(t<48||t>57))}},{key:"goToConfirm",value:function(){this.returnUrl=this.commonService.getMyQueryParam("return_url");var e="?return_url="+encodeURIComponent(this.returnUrl)+"&confirm_type=confirm_phone_register";this.commonService.myNavigationWithQueryString("/auth/checking_service",e)}},{key:"changeRegisterType",value:function(e){this.isShowOption=!1,1==e?(this.commonService.gaEvent("sign_up_switch_to_student"),this.isTeacher=!1,this.isStudent=!0):(this.commonService.gaEvent("sign_up_switch_to_teacher"),this.isTeacher=!0,this.isStudent=!1)}},{key:"registerForTeacher",value:function(){var e=this;this.form.valid&&this.executeImportantAction().then(function(t){var n=e.commonService.getFormObj(e.form);e.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},e.subscriptions.add(e.apiService.register(n.fullName,n.phone,n.password,n.email,t).subscribe(function(t){1==t.success?(e.commonService.gaEvent("sign_up_teacher"),e.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},e.apiService.redirectLoginByRoleForRegister(e.commonService.getMyQueryParam("return_url"))):e.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t}}))})}},{key:"registerForStudent",value:function(){var e=this;this.executeImportantAction().then(function(t){e.commonService.gaEvent("sign_up_student");var n=e.commonService.getFormObj(e.formRegister);e.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},e.subscriptions.add(e.apiService.registerStudent(n.studentPhone,n.studentFullName,n.passWord,t).subscribe(function(t){1==t.success?(e.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},e.apiService.redirectLoginByRole(e.commonService.getMyQueryParam("return_url"))):e.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t}}))})}},{key:"loginZalo",value:function(){this.commonService.gaEvent("sign_up_teacher_by_zalo"),window.location.href=this.zaloLoginUrl}},{key:"ngOnInit",value:function(){var e=this;if(this.apiService.isLogin()&&!this.apiService.isAnonymousRole())this.apiService.redirectLoginByRole(!1);else{var t=this.commonService.getMyParam(this.activeRoute,"type");if(null!=t){var n=parseInt(null==t?void 0:t.toString());this.changeRegisterType(0==n?0:1)}this.yesterday.setDate(this.yesterday.getDate()-1),this.form=this.formBuilder.group({fullName:["",k.z.required],phone:["",[k.z.required,k.z.pattern("^[0-9]*$"),k.z.minLength(10),k.z.maxLength(10)]],password:["",[k.z.required,k.z.minLength(6)]],email:["",k.z.email]}),this.formRegister=this.formBuilder.group({studentPhone:["",[k.z.required,k.z.pattern("^[0-9]*$"),k.z.minLength(10),k.z.maxLength(10)]],studentFullName:["",k.z.required],passWord:["",[k.z.required,k.z.minLength(6)]]}),this.formClass=this.formBuilder.group({hashId:["",k.z.required]}),this.form.get("fullName").valueChanges.subscribe(function(t){var n=e.titleCasePipe.transform(t);t!=n&&e.form.controls.fullName.setValue(n)}),this.returnUrl=this.commonService.getMyQueryParam("return_url")||this.commonService.getLocalRouter("/admin/testbank/dashboard"),this.zaloLoginUrl=re.a.main_api+"Auth/LoginZalo?callback_uri="+encodeURIComponent(this.commonService.getLocalRouter("/auth/login")+"?return_url="+this.returnUrl+"&is_register=1"),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.commonService.translateMetaData({title:"lang_cms_auth_register_title",description:"lang_cms_auth_register_description",image:"lang_cms_test_image"})}}},{key:"executeImportantAction",value:function(){var e=this;return new Promise(function(t){e.recaptchaV3Service.execute("importantAction").subscribe(function(e){t(e)})})}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||qe)(I.Ob(k.g),I.Ob(b.a),I.Ob(p.v),I.Ob(P.a),I.Ob(S.a),I.Ob(b.i),I.Ob(fe.b))},qe.\u0275cmp=I.Ib({type:qe,selectors:[["app-register"]],features:[I.Bb([p.v,{provide:E.c,useClass:be.b,deps:[E.f]},{provide:E.e,useValue:Ve}])],decls:15,vars:3,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"row","py-5"],[1,"col-sm-3"],[1,"col-sm-6"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"text-center","p-0"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],[1,"p-0","m-0"],[1,"card-body"],[4,"ngIf"],["class","row","style","justify-content: space-around;",4,"ngIf"],[3,"hidden",4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"row",2,"justify-content","space-around"],[1,"col-sm-4","border-card","mb-3",3,"click"],[1,"df-logo"],[1,"fas","fa-graduation-cap","pb-3",2,"font-size","36px"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/teacher.png","width","36px","height","45px",1,"mb-3"],[3,"hidden"],[1,"row","justify-content-center","pt-3"],[1,"col-sm-6","text-center","mb-3"],[1,"clickable","select-style",3,"click"],[1,"fas","fa-graduation-cap"],[1,"fas","fa-user-alt"],[1,"row"],[1,"col-12"],["id","teacher",4,"ngIf"],["id","chilren",4,"ngIf"],[1,"mt-2",2,"text-align","justify","font-size","13px"],["href","/privacy/index.html","target","_blank"],[1,"text-center","mt-3"],[1,"text-normal"],[3,"routerLink","queryParams"],["id","teacher"],[1,"form-horizontal",3,"formGroup"],[1,"col-sm-12"],[1,"form-group"],[1,"col-sm-12","p-0"],[1,"input-group","mb-3"],["type","text","placeholder","H\u1ecd t\xean","formControlName","fullName","autocomplete","new-password",1,"form-control"],[1,"input-group-append"],["id","basic-addon1",1,"input-group-text"],["class","alert alert-danger",4,"ngIf"],["type","phone","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","formControlName","phone","autocomplete","new-password",1,"form-control"],["id","basic-addon2",1,"input-group-text"],["type","password","placeholder","M\u1eadt kh\u1ea9u","formControlName","password","autocomplete","new-password",1,"form-control"],["id","basic-addon3",1,"input-group-text"],["type","phone","placeholder","Email (kh\xf4ng b\u1eaft bu\u1ed9c nh\u1eadp)","formControlName","email","autocomplete","new-password",1,"form-control"],["class","form-group",4,"ngIf"],["mat-raised-button","","color","primary",2,"width","100%",3,"disabled","click"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"],["id","chilren"],["autocomplete","off",1,"form-horinzal",3,"formGroup"],["type","text","placeholder","H\u1ecd v\xe0 t\xean","formControlName","studentFullName","autocomplete","new-password",1,"form-control"],["class","alert alert-danger mt-3",4,"ngIf"],["type","text","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","formControlName","studentPhone","autocomplete","new-password",1,"form-control"],["type","password","placeholder","M\u1eadt Kh\u1ea9u","formControlName","passWord","autocomplete","new-password",1,"form-control"],["mat-raised-button","",1,"button-color","text-uppercase",2,"width","100%",3,"disabled","click"],[1,"alert","alert-danger","mt-3"]],template:function(e,t){1&e&&(I.Ub(0,"div",0),I.Ub(1,"div",1),I.Pb(2,"div",2),I.Ub(3,"div",3),I.Ub(4,"div",4),I.Ub(5,"div",5),I.Ub(6,"h2",6),I.Pb(7,"img",7),I.Tb(),I.Ub(8,"h3",8),I.Qc(9,"N\u1ec1n t\u1ea3ng gi\xe1o d\u1ee5c s\u1ed1"),I.Tb(),I.Tb(),I.Ub(10,"div",9),I.Oc(11,pe,6,3,"div",10),I.Oc(12,me,11,0,"div",11),I.Oc(13,ze,29,15,"div",12),I.Tb(),I.Tb(),I.Tb(),I.Pb(14,"div",2),I.Tb(),I.Tb()),2&e&&(I.Cb(11),I.mc("ngIf",1==t.status_obj.form_loading),I.Cb(1),I.mc("ngIf",1==t.isShowOption),I.Cb(1),I.mc("ngIf",1!=t.status_obj.form_loading))},directives:[p.m,b.k,k.B,k.s,k.l,k.d,k.r,k.j,A.a,F.b],pipes:[z.o,ne.d],styles:['.zalo-icon[_ngcontent-%COMP%]{height:40px;margin-right:10px}.select-style[_ngcontent-%COMP%]{color:#868686!important}.select-style[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.select-style[_ngcontent-%COMP%]:hover{color:#0eafc0!important}.select-style-active[_ngcontent-%COMP%]{color:#0eafc0!important}.df-logo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.register--login[_ngcontent-%COMP%]{width:88px;height:88px}.two-button[_ngcontent-%COMP%]{width:80%;margin:auto}.register-button[_ngcontent-%COMP%], .two-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;height:100vh}.register-button[_ngcontent-%COMP%]{width:100%}.btn-max-width[_ngcontent-%COMP%]{width:100%;padding-top:1.25rem;padding-bottom:1.25rem;font-size:1.5rem}.responsive__text[_ngcontent-%COMP%]{width:90%;margin-left:auto;margin-right:auto}.btn-outline-primary[_ngcontent-%COMP%]{color:#0eafc0!important;border-color:#0eafc0!important}.btn-primary[_ngcontent-%COMP%]{color:#fff!important;border-color:#0eafc0!important;background-color:#0eafc0!important}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0b818e!important}.btn-outline-primary[_ngcontent-%COMP%]:hover{color:#0eafc0!important;border-color:#0eafc0!important;background-color:rgba(14,172,190,.15)}.btn-border-fix[_ngcontent-%COMP%]{border-radius:10px!important}.border-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid hsla(0,0%,86.3%,.8);border-radius:8px;cursor:pointer;padding:12px;align-items:center;text-align:center}.border-card[_ngcontent-%COMP%]:hover{box-shadow:10px 10px 20px rgba(0,0,0,.07),-10px -10px 20px hsla(0,0%,100%,.8)}.button-color[_ngcontent-%COMP%]{background-color:#0eafc0!important;color:#fff!important}.text-line[_ngcontent-%COMP%]{position:relative;text-align:center}.text-line[_ngcontent-%COMP%]:before{content:"";display:block;width:45%;height:.5px;position:absolute;right:0;background-color:#868686;top:50%}.text-line[_ngcontent-%COMP%]:after{content:"";display:block;width:45%;height:.5px;position:absolute;left:0;background-color:#868686;top:50%}.border-select-box[_ngcontent-%COMP%]{border:1px solid #ccd0d5;border-radius:4px;padding:8px 16px}  .mat-radio-label{margin-bottom:0!important}  .mat-radio-label-content{padding-left:16px!important}.mat-radio-button.mat-accent.mat-radio-checked[_ngcontent-%COMP%]   .mat-radio-persistent-ripple[_ngcontent-%COMP%], .mat-radio-button.mat-accent[_ngcontent-%COMP%]   .mat-radio-ripple[_ngcontent-%COMP%]   .mat-ripple-element[_ngcontent-%COMP%]:not(.mat-radio-persistent-ripple), .mat-radio-button.mat-accent[_ngcontent-%COMP%]:active   .mat-radio-persistent-ripple[_ngcontent-%COMP%],   .mat-radio-button.mat-accent .mat-radio-inner-circle{background-color:#0eafc0!important}  .mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle{border-color:#0eafc0!important}  .mat-input-element{font-size:18px!important;caret-color:#0eafc0!important}.mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-form-field-suffix[_ngcontent-%COMP%]   .mat-datepicker-toggle-default-icon[_ngcontent-%COMP%],   .mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon{width:1.5em!important}button[_ngcontent-%COMP%]:disabled{background-color:rgba(0,0,0,.12)!important}@media only screen and (max-width:424px){.btn-max-width[_ngcontent-%COMP%]{font-size:1rem}}@media only screen and (max-width:364px){.text-line[_ngcontent-%COMP%]:after, .text-line[_ngcontent-%COMP%]:before{width:40%}}']}),qe);function He(e,t){1&e&&(I.Ub(0,"span"),I.Pb(1,"span",27),I.Qc(2,"\xa0"),I.Tb())}function We(e,t){if(1&e){var n=I.Vb();I.Ub(0,"span"),I.Ub(1,"button",31),I.bc("click",function(){I.Cc(n);var e=I.fc().$implicit;return I.fc().redirectToHomeworkAndLogin(e.id)}),I.Qc(2,"Link xem \u0111i\u1ec3m b\xe0i t\u1eadp"),I.Tb(),I.Qc(3,"\xa0\xa0"),I.Tb()}}function Ge(e,t){if(1&e){var n=I.Vb();I.Ub(0,"span"),I.Ub(1,"button",31),I.bc("click",function(){I.Cc(n);var e=I.fc().$implicit;return I.fc().redirectToExamAndLogin(e.id)}),I.Qc(2,"Link xem \u0111i\u1ec3m \u0111\u1ec1 thi"),I.Tb(),I.Qc(3,"\xa0\xa0"),I.Tb()}}function Ke(e,t){if(1&e){var n=I.Vb();I.Ub(0,"tr"),I.Ub(1,"td"),I.Qc(2),I.Tb(),I.Ub(3,"td"),I.Qc(4),I.Tb(),I.Ub(5,"td"),I.Qc(6),I.Tb(),I.Ub(7,"td"),I.Qc(8),I.Tb(),I.Ub(9,"td",28),I.Oc(10,We,4,0,"span",20),I.Oc(11,Ge,4,0,"span",20),I.Ub(12,"button",29),I.bc("click",function(){I.Cc(n);var e=t.$implicit;return I.fc().loginToThisAccount(e.id)}),I.Qc(13,"\u0110\u0103ng nh\u1eadp"),I.Tb(),I.Qc(14,"\xa0 "),I.Ub(15,"button",29),I.bc("click",function(){I.Cc(n);var e=t.$implicit;return I.fc().getForgotPasswordLink(e.id)}),I.Qc(16,"L\u1ea5y link qu\xean m\u1eadt kh\u1ea9u"),I.Tb(),I.Qc(17,"\xa0 "),I.Ub(18,"button",30),I.bc("click",function(){I.Cc(n);var e=t.$implicit;return I.fc().blockPhoneAccount(e.id)}),I.Qc(19,"Kh\xf3a s\u1ed1 phone n\xe0y"),I.Tb(),I.Tb(),I.Tb()}if(2&e){var r=t.$implicit,i=I.fc();I.Cb(2),I.Rc(r.fullName),I.Cb(2),I.Rc(r.email),I.Cb(2),I.Rc(r.phone),I.Cb(2),I.Rc(r.zalo_id),I.Cb(2),I.mc("ngIf",0!=i.homeworkObj.id),I.Cb(1),I.mc("ngIf",0!=i.examObj.id)}}var $e,Ye,Je=((Ye=function(){function e(t,n,r){f(this,e),this.formBuilder=t,this.commonService=n,this.apiService=r,this.subscriptions=new x.a,this.form=new k.k({}),this.status_obj={loading:!1,error:!1},this.forgotpassword_link="",this.objs=[],this.homeworkObj={id:0},this.examObj={id:0},this.homeworkAnswerObj={id:0},this.checkRedirect=""}return m(e,[{key:"ngOnInit",value:function(){this.form=this.formBuilder.group({full_name:[""],phone:[""],email:[""],user_id:[""],homework_hashid:[""],exam_hashid:[""],homework_id:[""],exam_id:[""],homework_answer_id:[""],test_answer_id:[""]}),this.commonService.translateMetaData({title:"lang_cms_auth_support_title",description:"lang_cms_auth_support_description",image:"lang_cms_test_image"})}},{key:"search",value:function(){var e=this;this.status_obj={loading:!0,error:!1};var t=this.commonService.getFormObj(this.form);this.subscriptions.add(this.apiService.searchUser(t.full_name,t.phone,t.email,t.user_id,t.homework_hashid,t.exam_hashid,t.homework_id,t.exam_id,t.homework_answer_id,t.test_answer_id).subscribe(function(t){1==t.success?(e.objs=t.data.objs,e.homeworkObj=t.data.hasOwnProperty("homeworkObj")?t.data.homeworkObj:{id:0},e.examObj=t.data.hasOwnProperty("examObj")?t.data.examObj:{id:0},e.homeworkAnswerObj=t.data.hasOwnProperty("homeworkAnswerObj")?t.data.homeworkAnswerObj:{id:0},e.status_obj={loading:!1,error:!1}):(e.status_obj={loading:!1,error:!0},e.commonService.myTranslate([t.message]).subscribe(function(n){e.commonService.snackError(n[t.message],"")}))}))}},{key:"loginToThisAccount",value:function(e){var t=this;this.subscriptions.add(this.apiService.getTokenByUser(e).subscribe(function(e){if(1==e.success)switch(t.status_obj={loading:!1,error:!1},t.apiService.redirectLoginByRole(!1),t.checkRedirect){case"Homwork":t.commonService.myNavigation("/admin/homework/score-list/".concat(t.homeworkObj.classroomId,"/").concat(t.homeworkObj.id));break;case"Exam":t.commonService.myNavigation("/admin/testbank/tested-list/".concat(null!=t.examObj.categoryId?t.examObj.categoryId:0,"/").concat(t.examObj.id,"/0"))}else t.status_obj={loading:!1,error:!0},t.commonService.myTranslate([e.message]).subscribe(function(n){t.commonService.snackError(n[e.message],"")})}))}},{key:"getForgotPasswordLink",value:function(e){var t=this;this.subscriptions.add(this.apiService.getForgotPasswordCode(e).subscribe(function(e){1==e.success?(t.status_obj={loading:!1,error:!1},t.forgotpassword_link=t.commonService.getHostUrl()+t.commonService.getLocalRouter("/auth/confirm_forgot_password_old?token=")+e.data,t.commonService.snackSuccess("T\u1ea1o link th\xe0nh c\xf4ng","")):(t.status_obj={loading:!1,error:!0},t.commonService.myTranslate([e.message]).subscribe(function(n){t.commonService.snackError(n[e.message],"")}))}))}},{key:"blockPhoneAccount",value:function(e){var t=this;this.subscriptions.add(this.apiService.disablePhoneAccount(e).subscribe(function(e){1==e.success?(t.status_obj={loading:!1,error:!1},t.commonService.snackSuccess("Kh\xf3a s\u1ed1 phone th\xe0nh c\xf4ng","")):(t.status_obj={loading:!1,error:!0},t.commonService.myTranslate([e.message]).subscribe(function(n){t.commonService.snackError(n[e.message],"")}))}))}},{key:"redirectToHomeworkAndLogin",value:function(e){this.checkRedirect="Homwork",this.loginToThisAccount(e)}},{key:"redirectToExamAndLogin",value:function(e){this.checkRedirect="Exam",this.loginToThisAccount(e)}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Ye)(I.Ob(k.g),I.Ob(P.a),I.Ob(S.a))},Ye.\u0275cmp=I.Ib({type:Ye,selectors:[["app-support"]],decls:90,vars:7,consts:[[3,"headerTitle","back_link"],[1,"container-fluid","component-wrap","centerBoth","hasBg","mt-3"],[1,"card"],[1,"card-body"],[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"row"],[1,"col-sm-12"],[1,"form-group"],[1,"col-sm-12","control-label"],["type","text","formControlName","full_name",1,"form-control"],["type","text","formControlName","phone",1,"form-control"],["type","text","formControlName","email",1,"form-control"],["type","text","formControlName","user_id",1,"form-control"],["type","text","formControlName","homework_id",1,"form-control"],["type","text","formControlName","homework_hashid",1,"form-control"],["type","text","formControlName","homework_answer_id",1,"form-control"],["type","text","formControlName","exam_id",1,"form-control"],["type","text","formControlName","exam_hashid",1,"form-control"],["type","text","formControlName","test_answer_id",1,"form-control"],["mat-raised-button","","color","primary",2,"width","100%",3,"disabled","click"],[4,"ngIf"],["type","text",1,"form-control",3,"value"],[1,"table-responsive"],[1,"table"],["scope","col"],["scope","col",1,"text-right"],[4,"ngFor","ngForOf"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"text-right"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","",3,"click"]],template:function(e,t){1&e&&(I.Pb(0,"header-backend",0),I.Ub(1,"div",1),I.Ub(2,"div",2),I.Ub(3,"div",3),I.Ub(4,"h3"),I.Ub(5,"b"),I.Qc(6,"M\xe0n h\xecnh h\u1ed7 tr\u1ee3 vi\xean"),I.Tb(),I.Tb(),I.Pb(7,"hr"),I.Ub(8,"form",4),I.Ub(9,"div",5),I.Ub(10,"div",6),I.Ub(11,"div",7),I.Ub(12,"label",8),I.Qc(13,"User: T\xecm theo T\xean"),I.Tb(),I.Ub(14,"div",6),I.Pb(15,"input",9),I.Tb(),I.Tb(),I.Ub(16,"div",7),I.Ub(17,"label",8),I.Qc(18,"User: T\xecm theo Phone"),I.Tb(),I.Ub(19,"div",6),I.Pb(20,"input",10),I.Tb(),I.Tb(),I.Ub(21,"div",7),I.Ub(22,"label",8),I.Qc(23,"User: T\xecm theo Email"),I.Tb(),I.Ub(24,"div",6),I.Pb(25,"input",11),I.Tb(),I.Tb(),I.Ub(26,"div",7),I.Ub(27,"label",8),I.Qc(28,"User: T\xecm theo ID"),I.Tb(),I.Ub(29,"div",6),I.Pb(30,"input",12),I.Tb(),I.Tb(),I.Ub(31,"div",7),I.Ub(32,"label",8),I.Qc(33,"B\xe0i t\u1eadp: T\xecm theo Id"),I.Tb(),I.Ub(34,"div",6),I.Pb(35,"input",13),I.Tb(),I.Tb(),I.Ub(36,"div",7),I.Ub(37,"label",8),I.Qc(38,"B\xe0i t\u1eadp: T\xecm theo M\xe3 b\xe0i t\u1eadp"),I.Tb(),I.Ub(39,"div",6),I.Pb(40,"input",14),I.Tb(),I.Tb(),I.Ub(41,"div",7),I.Ub(42,"label",8),I.Qc(43,"B\xe0i t\u1eadp: T\xecm theo Id k\u1ebft qu\u1ea3"),I.Tb(),I.Ub(44,"div",6),I.Pb(45,"input",15),I.Tb(),I.Tb(),I.Ub(46,"div",7),I.Ub(47,"label",8),I.Qc(48,"\u0110\u1ec1 thi: T\xecm theo Id"),I.Tb(),I.Ub(49,"div",6),I.Pb(50,"input",16),I.Tb(),I.Tb(),I.Ub(51,"div",7),I.Ub(52,"label",8),I.Qc(53,"\u0110\u1ec1 thi: T\xecm theo M\xe3 \u0111\u1ec1"),I.Tb(),I.Ub(54,"div",6),I.Pb(55,"input",17),I.Tb(),I.Tb(),I.Ub(56,"div",7),I.Ub(57,"label",8),I.Qc(58,"\u0110\u1ec1 thi: T\xecm theo Id k\u1ebft qu\u1ea3"),I.Tb(),I.Ub(59,"div",6),I.Pb(60,"input",18),I.Tb(),I.Tb(),I.Ub(61,"div",7),I.Ub(62,"div",6),I.Ub(63,"button",19),I.bc("click",function(){return t.form.invalid||t.status_obj.loading||t.search()}),I.Oc(64,He,3,0,"span",20),I.Qc(65,"T\xecm ki\u1ebfm "),I.Tb(),I.Tb(),I.Tb(),I.Pb(66,"hr"),I.Ub(67,"div",7),I.Ub(68,"label",8),I.Qc(69,"Link qu\xean m\u1eadt kh\u1ea9u"),I.Tb(),I.Ub(70,"div",6),I.Pb(71,"input",21),I.Tb(),I.Tb(),I.Ub(72,"div",7),I.Ub(73,"div",6),I.Ub(74,"div",22),I.Ub(75,"table",23),I.Ub(76,"thead"),I.Ub(77,"tr"),I.Ub(78,"th",24),I.Qc(79,"T\xean"),I.Tb(),I.Ub(80,"th",24),I.Qc(81,"Email"),I.Tb(),I.Ub(82,"th",24),I.Qc(83,"Phone"),I.Tb(),I.Ub(84,"th",24),I.Qc(85,"Zalo ID"),I.Tb(),I.Ub(86,"th",25),I.Qc(87,"H\xe0nh \u0111\u1ed9ng"),I.Tb(),I.Tb(),I.Tb(),I.Ub(88,"tbody"),I.Oc(89,Ke,20,6,"tr",26),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb()),2&e&&(I.mc("headerTitle","H\u1ed7 tr\u1ee3 kh\xe1ch h\xe0ng")("back_link","/admin/testbank/dashboard"),I.Cb(8),I.mc("formGroup",t.form),I.Cb(55),I.mc("disabled",t.form.invalid||t.status_obj.loading),I.Cb(1),I.mc("ngIf",!0===t.status_obj.loading),I.Cb(7),I.nc("value",t.forgotpassword_link),I.Cb(18),I.mc("ngForOf",t.objs))},directives:[M.a,k.B,k.s,k.l,k.d,k.r,k.j,F.b,p.m,p.l],encapsulation:2}),Ye),Xe=(($e=function(){function e(t,n){f(this,e),this.commonService=t,this.apiService=n}return m(e,[{key:"ngOnInit",value:function(){this.apiService.logout();var e=this.commonService.getMyQueryParam("return_url")||null;e?this.commonService.redirectSimpleLoginWithReturnUrl(e):this.commonService.redirectSimpleLogin()}},{key:"ngOnDestroy",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||$e)(I.Ob(P.a),I.Ob(S.a))},$e.\u0275cmp=I.Ib({type:$e,selectors:[["app-register"]],decls:0,vars:0,template:function(e,t){},encapsulation:2}),$e);function Ze(e,t){1&e&&(I.Ub(0,"div"),I.Ub(1,"div",12),I.Ub(2,"div",13),I.Ub(3,"span",14),I.Qc(4),I.gc(5,"mytranslate"),I.Tb(),I.Tb(),I.Tb(),I.Tb()),2&e&&(I.Cb(4),I.Sc("",I.hc(5,1,"lang_cms_common_loading"),"..."))}function et(e,t){1&e&&(I.Ub(0,"div"),I.Qc(1," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),I.Tb())}function tt(e,t){if(1&e&&(I.Ub(0,"div",29),I.Oc(1,et,2,0,"div",11),I.Tb()),2&e){var n=I.fc(2);I.Cb(1),I.mc("ngIf",n.getErrorType("phone","required"))}}function nt(e,t){1&e&&(I.Ub(0,"div"),I.Qc(1," M\u1eadt kh\u1ea9u ph\u1ea3i d\xe0i t\u1ed1i thi\u1ec3u l\xe0 6! "),I.Tb())}function rt(e,t){if(1&e&&(I.Ub(0,"div",29),I.Oc(1,nt,2,0,"div",11),I.Tb()),2&e){var n=I.fc(2);I.Cb(1),I.mc("ngIf",n.getErrorType("password","required")||n.getErrorType("password","minlength"))}}function it(e,t){1&e&&(I.Ub(0,"div"),I.Qc(1," M\u1eadt kh\u1ea9u kh\xf4ng tr\xf9ng kh\u1edbp! "),I.Tb())}function ot(e,t){if(1&e&&(I.Ub(0,"div",29),I.Oc(1,it,2,0,"div",11),I.Tb()),2&e){var n=I.fc(2);I.Cb(1),I.mc("ngIf",n.getErrorType("repassword","confirm_pass"))}}function at(e,t){if(1&e&&(I.Ub(0,"div",15),I.Ub(1,"label",30),I.Qc(2),I.gc(3,"mytranslate"),I.Tb(),I.Tb()),2&e){var n=I.fc(2);I.Cb(2),I.Sc("*** ",I.hc(3,1,n.status_obj.error_obj.message),"")}}function ct(e,t){1&e&&(I.Ub(0,"span"),I.Pb(1,"span",31),I.Qc(2,"\xa0"),I.Tb())}var st=function(e){return[e]};function ut(e,t){if(1&e){var n=I.Vb();I.Ub(0,"div"),I.Ub(1,"div",15),I.Ub(2,"div",16),I.Ub(3,"div",17),I.Pb(4,"input",18),I.Ub(5,"div",19),I.Ub(6,"span",20),I.Ub(7,"mat-icon"),I.Qc(8,"phone"),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Oc(9,tt,2,1,"div",21),I.Tb(),I.Tb(),I.Ub(10,"div",15),I.Ub(11,"div",16),I.Ub(12,"div",17),I.Pb(13,"input",22),I.Ub(14,"div",19),I.Ub(15,"span",20),I.Ub(16,"mat-icon"),I.Qc(17,"lock"),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Oc(18,rt,2,1,"div",21),I.Tb(),I.Tb(),I.Ub(19,"div",15),I.Ub(20,"div",16),I.Ub(21,"div",17),I.Pb(22,"input",23),I.Ub(23,"div",19),I.Ub(24,"span",20),I.Ub(25,"mat-icon"),I.Qc(26,"lock"),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Oc(27,ot,2,1,"div",21),I.Tb(),I.Tb(),I.Oc(28,at,4,3,"div",24),I.Ub(29,"div",15),I.Ub(30,"div",16),I.Ub(31,"div",25),I.Ub(32,"button",26),I.bc("click",function(){I.Cc(n);var e=I.fc();return e.form.invalid||e.status_obj.loading||e.changePassword()}),I.Oc(33,ct,3,0,"span",11),I.Qc(34,"Ti\u1ebfp t\u1ee5c "),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Pb(35,"hr"),I.Ub(36,"div",27),I.Ub(37,"a",28),I.gc(38,"localize"),I.Qc(39,"\u0110\u0103ng nh\u1eadp t\xe0i kho\u1ea3n"),I.Tb(),I.Tb(),I.Tb()}if(2&e){var r=I.fc();I.Cb(9),I.mc("ngIf",r.form.controls.phone.invalid&&(r.form.controls.phone.dirty||r.form.controls.phone.touched)),I.Cb(9),I.mc("ngIf",r.form.controls.password.invalid&&r.form.controls.password.dirty),I.Cb(9),I.mc("ngIf",r.getErrorType("repassword","confirm_pass")&&r.form.controls.repassword.touched),I.Cb(1),I.mc("ngIf",r.status_obj.error_obj.message),I.Cb(4),I.mc("disabled",r.form.invalid||r.status_obj.loading||r.is_load_get_phone||r.getErrorType("repassword","confirm_pass")),I.Cb(1),I.mc("ngIf",!0===r.status_obj.loading),I.Cb(4),I.mc("routerLink",I.rc(9,st,I.hc(38,7,"/auth/login")))}}function lt(e,t){if(1&e&&(I.Ub(0,"div",35),I.Ub(1,"a"),I.Qc(2,"( Click v\xe0o \u0111\xe2y \u0111\u1ec3 g\u1eedi ngay )"),I.Tb(),I.Tb()),2&e){var n=I.fc(2);I.Cb(1),I.Db("href","sms:"+n.phone_send+"?body=MK "+n.response_change_pass.otp,I.Gc)}}function dt(e,t){if(1&e){var n=I.Vb();I.Ub(0,"button",38),I.bc("click",function(){return I.Cc(n),I.fc(2).changeStepByNext()}),I.Qc(1," Ti\u1ebfp t\u1ee5c "),I.Tb()}}function ht(e,t){if(1&e&&(I.Ub(0,"div",39),I.Ub(1,"div",40),I.Pb(2,"span",31),I.Tb(),I.Ub(3,"div",41),I.Qc(4),I.Tb(),I.Tb()),2&e){var n=I.fc(2);I.Cb(4),I.Rc(n.messg)}}function bt(e,t){if(1&e&&(I.Ub(0,"div"),I.Ub(1,"div",16),I.Ub(2,"div",32),I.Qc(3," Th\xf4ng tin m\u1eadt kh\u1ea9u m\u1edbi c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c ghi nh\u1eadn. \u0110\u1ec3 k\xedch ho\u1ea1t m\u1eadt kh\u1ea9u v\u1eeba t\u1ea1o vui l\xf2ng s\u1eed d\u1ee5ng s\u1ed1 \u0111i\u1ec7n tho\u1ea1i "),I.Ub(4,"strong"),I.Qc(5),I.Tb(),I.Qc(6," v\xe0 so\u1ea1n tin nh\u1eafn: "),I.Tb(),I.Ub(7,"div",33),I.Ub(8,"strong"),I.Qc(9),I.Tb(),I.Qc(10," g\u1eedi "),I.Ub(11,"strong"),I.Qc(12),I.Tb(),I.Tb(),I.Oc(13,lt,3,1,"div",34),I.Ub(14,"div",35),I.Qc(15,' "C\u01b0\u1edbc ph\xed tin nh\u1eafn \u0111\u01b0\u1ee3c t\xednh theo gi\xe1 c\u01b0\u1edbc ph\xed th\xf4ng th\u01b0\u1eddng c\u1ee7a nh\xe0 m\u1ea1ng" '),I.Tb(),I.Ub(16,"div",35),I.Qc(17," Sau khi g\u1eedi tin nh\u1eafn vui l\xf2ng b\u1ea5m n\xfat b\xean d\u01b0\u1edbi \u0111\u1ec3 ti\u1ebfp t\u1ee5c "),I.Tb(),I.Ub(18,"div",17),I.Oc(19,dt,2,0,"button",36),I.Oc(20,ht,5,1,"div",37),I.Tb(),I.Tb(),I.Tb()),2&e){var n=I.fc();I.Cb(5),I.Rc(n.data_change_pass.phone),I.Cb(4),I.Sc("MK ",n.response_change_pass.otp,""),I.Cb(3),I.Rc(n.phone_send),I.Cb(1),I.mc("ngIf",n.is_mobile),I.Cb(6),I.mc("ngIf",2==n.step_by_step),I.Cb(1),I.mc("ngIf",3==n.step_by_step)}}function ft(e,t){1&e&&(I.Ub(0,"div"),I.Ub(1,"div",16),I.Ub(2,"div",32),I.Qc(3," M\u1eadt kh\u1ea9u m\u1edbi c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c k\xedch ho\u1ea1t th\xe0nh c\xf4ng. "),I.Tb(),I.Ub(4,"div",27),I.Ub(5,"a",28),I.gc(6,"localize"),I.Qc(7,"\u0110\u0103ng nh\u1eadp t\xe0i kho\u1ea3n"),I.Tb(),I.Tb(),I.Tb(),I.Tb()),2&e&&(I.Cb(5),I.mc("routerLink",I.rc(3,st,I.hc(6,1,"/auth/login"))))}var pt,mt=((pt=function(){function e(t,n,r,i){f(this,e),this.formBuilder=t,this.activeRoute=n,this.commonService=r,this.apiService=i,this.subscriptions=new x.a,this.form=new k.k({}),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.response_change_pass=null,this.data_change_pass=null,this.step_by_step=1,this.loop_check=!1,this.messg="",this.is_load_get_phone=!1,this.phone_send="",this.is_mobile=/Android|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.is_mobile_ios=/webOS|iPhone|iPad|iPod/i.test(navigator.userAgent)}return m(e,[{key:"getError",value:function(e){return!(!this.form.controls[e]||!this.form.controls[e].errors)&&this.form.controls[e].errors}},{key:"getErrorType",value:function(e,t){return"repassword"===e&&"confirm_pass"===t?this.form.controls.repassword.value!=this.form.controls.password.value:!!(this.form.controls[e]&&this.form.controls[e].errors&&this.form.controls[e].errors[t])&&this.form.controls[e].errors[t]}},{key:"changePassword",value:function(){var e=this;if(this.form.valid){this.status_obj.loading=!0;var t=this.commonService.getFormObj(this.form);this.apiService.suportChangePassword({phone:t.phone,password:t.password}).subscribe(function(n){1==n.success?(e.status_obj.loading=!1,e.step_by_step=2,e.response_change_pass=n.data,e.data_change_pass=t):e.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:n}})}}},{key:"getPhone",value:function(){var e=this;this.is_load_get_phone=!0,this.apiService.suportgetPhoneChangePass().subscribe(function(t){1==t.success?(e.is_load_get_phone=!1,e.phone_send=t.data.phone):e.commonService.snackError("Ch\u1ee9c n\u0103ng qu\xean m\u1eadt kh\u1ea9u \u0111ang trong th\u1eddi gian b\u1ea3o tr\xec !",null)})}},{key:"changeStepByNext",value:function(){var e=this;this.status_obj.loading=!0,this.messg="\u0110ang x\u1eed l\xfd d\u1eef li\u1ec7u",this.step_by_step=3,this.loop_check=setInterval(function(){e.apiService.suportCheckStatusPassword(e.data_change_pass.phone).subscribe(function(t){1==t.success?(e.status_obj.loading=!1,1==t.data.status&&(e.step_by_step=4,clearInterval(e.loop_check))):(e.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t},e.messg="H\u1ec7 th\u1ed1ng t\u1ea1m th\u1eddi kh\xf4ng th\u1ec3 x\u1eed l\xfd, vui l\xf2ng th\u1eed l\u1ea1i sau.",clearInterval(e.loop_check))})},1e3)}},{key:"ngOnInit",value:function(){this.form=this.formBuilder.group({phone:["",[k.z.required]],password:["",[k.z.required,k.z.minLength(6)]],repassword:["",[k.z.required,k.z.minLength(6)]]}),this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),this.getPhone()}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe(),!1!==this.loop_check&&clearInterval(this.loop_check)}}]),e}()).\u0275fac=function(e){return new(e||pt)(I.Ob(k.g),I.Ob(b.a),I.Ob(P.a),I.Ob(S.a))},pt.\u0275cmp=I.Ib({type:pt,selectors:[["app-confirm-forgot-password"]],decls:17,vars:5,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://azotacdn.studybymusic.com/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","text","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","formControlName","phone","autocomplete","new-phone",1,"form-control"],[1,"input-group-append"],["id","basic-addon3",1,"input-group-text"],["class","alert alert-danger",4,"ngIf"],["type","password","placeholder","M\u1eadt kh\u1ea9u m\u1edbi","formControlName","password","autocomplete","new-password",1,"form-control"],["type","password","placeholder","Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u m\u1edbi","formControlName","repassword","autocomplete","new-repassword",1,"form-control"],["class","form-group",4,"ngIf"],[1,"text-right"],["mat-raised-button","","color","primary",1,"btn","btn-block",3,"disabled","click"],[1,"text-center","mt-3"],[1,"text-normal",3,"routerLink"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"sms-info"],[2,"text-align","right","font-size","15px","margin","10px 0","text-align","center"],["class","sms-info text-center mb-3",4,"ngIf"],[1,"sms-info","text-center","mb-3"],["class","btn btn-block","mat-raised-button","","color","primary",3,"click",4,"ngIf"],["class","loading",4,"ngIf"],["mat-raised-button","","color","primary",1,"btn","btn-block",3,"click"],[1,"loading"],[1,"icon"],[1,"text"]],template:function(e,t){1&e&&(I.Ub(0,"div",0),I.Ub(1,"form",1),I.Ub(2,"div",2),I.Pb(3,"div",3),I.Ub(4,"div",4),I.Ub(5,"h2",5),I.Pb(6,"img",6),I.Tb(),I.Ub(7,"div",7),I.Ub(8,"div",8),I.Ub(9,"span",9),I.Qc(10,"\u0110\u1ed5i m\u1eadt kh\u1ea9u m\u1edbi"),I.Tb(),I.Tb(),I.Ub(11,"div",10),I.Oc(12,Ze,6,3,"div",11),I.Oc(13,ut,40,11,"div",11),I.Oc(14,bt,21,6,"div",11),I.Oc(15,ft,8,5,"div",11),I.Tb(),I.Tb(),I.Tb(),I.Pb(16,"div",3),I.Tb(),I.Tb(),I.Tb()),2&e&&(I.Cb(1),I.mc("formGroup",t.form),I.Cb(11),I.mc("ngIf",1==t.status_obj.form_loading),I.Cb(1),I.mc("ngIf",1!=t.status_obj.form_loading&&1==t.step_by_step),I.Cb(1),I.mc("ngIf",1!=t.status_obj.form_loading&&(2==t.step_by_step||3==t.step_by_step)),I.Cb(1),I.mc("ngIf",1!=t.status_obj.form_loading&&4==t.step_by_step))},directives:[k.B,k.s,k.l,p.m,k.d,k.r,k.j,A.a,F.b,b.k],pipes:[z.o,ne.d],styles:["#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin .5s ease}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}"]}),pt);function gt(e,t){1&e&&(I.Ub(0,"div"),I.Ub(1,"div",12),I.Ub(2,"div",13),I.Ub(3,"span",14),I.Qc(4),I.gc(5,"mytranslate"),I.Tb(),I.Tb(),I.Tb(),I.Tb()),2&e&&(I.Cb(4),I.Sc("",I.hc(5,1,"lang_cms_common_loading"),"..."))}function vt(e,t){1&e&&(I.Ub(0,"div"),I.Qc(1," M\u1eadt kh\u1ea9u ph\u1ea3i d\xe0i t\u1ed1i thi\u1ec3u l\xe0 6! "),I.Tb())}function yt(e,t){if(1&e&&(I.Ub(0,"div",27),I.Oc(1,vt,2,0,"div",11),I.Tb()),2&e){var n=I.fc(2);I.Cb(1),I.mc("ngIf",n.getErrorType("password","required")||n.getErrorType("password","minlength"))}}function _t(e,t){if(1&e&&(I.Ub(0,"div",15),I.Ub(1,"label",28),I.Qc(2),I.gc(3,"mytranslate"),I.Tb(),I.Tb()),2&e){var n=I.fc(2);I.Cb(2),I.Sc("*** ",I.hc(3,1,n.status_obj.error_obj.message),"")}}function kt(e,t){1&e&&(I.Ub(0,"span"),I.Pb(1,"span",29),I.Qc(2,"\xa0"),I.Tb())}var Tt=function(e){return[e]};function Ct(e,t){if(1&e){var n=I.Vb();I.Ub(0,"div"),I.Ub(1,"div",15),I.Ub(2,"div",16),I.Ub(3,"div",17),I.Pb(4,"input",18),I.Ub(5,"div",19),I.Ub(6,"span",20),I.Ub(7,"mat-icon"),I.Qc(8,"lock"),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Oc(9,yt,2,1,"div",21),I.Tb(),I.Tb(),I.Oc(10,_t,4,3,"div",22),I.Ub(11,"div",15),I.Ub(12,"div",16),I.Ub(13,"div",23),I.Ub(14,"button",24),I.bc("click",function(){I.Cc(n);var e=I.fc();return e.form.invalid||e.status_obj.loading||e.changePassword()}),I.Oc(15,kt,3,0,"span",11),I.Qc(16,"\u0110\u1ed5i m\u1eadt kh\u1ea9u "),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Pb(17,"hr"),I.Ub(18,"div",25),I.Ub(19,"a",26),I.gc(20,"localize"),I.Qc(21,"\u0110\u0103ng nh\u1eadp t\xe0i kho\u1ea3n"),I.Tb(),I.Tb(),I.Tb()}if(2&e){var r=I.fc();I.Cb(9),I.mc("ngIf",r.form.controls.password.invalid&&(r.form.controls.password.dirty||r.form.controls.password.touched)),I.Cb(1),I.mc("ngIf",r.status_obj.error_obj.message),I.Cb(4),I.mc("disabled",r.form.invalid||r.status_obj.loading),I.Cb(1),I.mc("ngIf",!0===r.status_obj.loading),I.Cb(4),I.mc("routerLink",I.rc(7,Tt,I.hc(20,5,"/auth/login")))}}var wt,Ut=((wt=function(){function e(t,n,r,i){f(this,e),this.formBuilder=t,this.activeRoute=n,this.commonService=r,this.apiService=i,this.subscriptions=new x.a,this.form=new k.k({}),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}}}return m(e,[{key:"getError",value:function(e){return!(!this.form.controls[e]||!this.form.controls[e].errors)&&this.form.controls[e].errors}},{key:"getErrorType",value:function(e,t){return!!(this.form.controls[e]&&this.form.controls[e].errors&&this.form.controls[e].errors[t])&&this.form.controls[e].errors[t]}},{key:"changePassword",value:function(){var e=this;if(this.form.valid){var t=this.commonService.getFormObj(this.form),n=this.commonService.getMyQueryParam("token");this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiService.confirmForgotPassword(n,t.password).subscribe(function(t){1==t.success?(e.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},e.apiService.redirectLoginByRole(!1)):e.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t}}))}}},{key:"ngOnInit",value:function(){this.form=this.formBuilder.group({password:["",[k.z.required,k.z.minLength(6)]]}),this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"})}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||wt)(I.Ob(k.g),I.Ob(b.a),I.Ob(P.a),I.Ob(S.a))},wt.\u0275cmp=I.Ib({type:wt,selectors:[["app-confirm-forgot-password-admin"]],decls:15,vars:3,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","password","placeholder","M\u1eadt kh\u1ea9u m\u1edbi","formControlName","password","autocomplete","new-password",1,"form-control"],[1,"input-group-append"],["id","basic-addon3",1,"input-group-text"],["class","alert alert-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"text-right"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"text-center","mt-3"],[1,"text-normal",3,"routerLink"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&(I.Ub(0,"div",0),I.Ub(1,"form",1),I.Ub(2,"div",2),I.Pb(3,"div",3),I.Ub(4,"div",4),I.Ub(5,"h2",5),I.Pb(6,"img",6),I.Tb(),I.Ub(7,"div",7),I.Ub(8,"div",8),I.Ub(9,"span",9),I.Qc(10,"\u0110\u1ed5i m\u1eadt kh\u1ea9u m\u1edbi"),I.Tb(),I.Tb(),I.Ub(11,"div",10),I.Oc(12,gt,6,3,"div",11),I.Oc(13,Ct,22,9,"div",11),I.Tb(),I.Tb(),I.Tb(),I.Pb(14,"div",3),I.Tb(),I.Tb(),I.Tb()),2&e&&(I.Cb(1),I.mc("formGroup",t.form),I.Cb(11),I.mc("ngIf",1==t.status_obj.form_loading),I.Cb(1),I.mc("ngIf",1!=t.status_obj.form_loading))},directives:[k.B,k.s,k.l,p.m,k.d,k.r,k.j,A.a,F.b,b.k],pipes:[z.o,ne.d],encapsulation:2}),wt);function xt(e,t){1&e&&(I.Ub(0,"div"),I.Ub(1,"div",12),I.Ub(2,"div",13),I.Ub(3,"span",14),I.Qc(4),I.gc(5,"mytranslate"),I.Tb(),I.Tb(),I.Tb(),I.Tb()),2&e&&(I.Cb(4),I.Sc("",I.hc(5,1,"lang_cms_common_loading"),"..."))}function Ot(e,t){1&e&&(I.Ub(0,"div"),I.Qc(1," M\u1eadt kh\u1ea9u ph\u1ea3i d\xe0i t\u1ed1i thi\u1ec3u l\xe0 6! "),I.Tb())}function It(e,t){if(1&e&&(I.Ub(0,"div",28),I.Oc(1,Ot,2,0,"div",11),I.Tb()),2&e){var n=I.fc(2);I.Cb(1),I.mc("ngIf",n.getErrorType("password","required")||n.getErrorType("password","minlength"))}}function Pt(e,t){if(1&e&&(I.Ub(0,"div",15),I.Ub(1,"label",29),I.Qc(2),I.gc(3,"mytranslate"),I.Tb(),I.Tb()),2&e){var n=I.fc(2);I.Cb(2),I.Sc("*** ",I.hc(3,1,n.status_obj.error_obj.message),"")}}function St(e,t){1&e&&(I.Ub(0,"span"),I.Pb(1,"span",30),I.Qc(2,"\xa0"),I.Tb())}var Mt=function(e){return[e]};function Rt(e,t){if(1&e){var n=I.Vb();I.Ub(0,"div"),I.Ub(1,"div",15),I.Ub(2,"div",16),I.Ub(3,"div",17),I.Pb(4,"input",18),I.Ub(5,"div",19),I.Ub(6,"span",20),I.Ub(7,"mat-icon"),I.Qc(8,"lock"),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Ub(9,"div",17),I.Pb(10,"input",21),I.Ub(11,"div",19),I.Ub(12,"span",20),I.Ub(13,"mat-icon"),I.Qc(14,"lock"),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Oc(15,It,2,1,"div",22),I.Tb(),I.Tb(),I.Oc(16,Pt,4,3,"div",23),I.Ub(17,"div",15),I.Ub(18,"div",16),I.Ub(19,"div",24),I.Ub(20,"button",25),I.bc("click",function(){I.Cc(n);var e=I.fc();return e.form.invalid||e.status_obj.loading||e.changePassword()}),I.Oc(21,St,3,0,"span",11),I.Qc(22,"\u0110\u1ed5i m\u1eadt kh\u1ea9u "),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Pb(23,"hr"),I.Ub(24,"div",26),I.Ub(25,"a",27),I.gc(26,"localize"),I.Qc(27,"\u0110\u0103ng nh\u1eadp t\xe0i kho\u1ea3n"),I.Tb(),I.Tb(),I.Tb()}if(2&e){var r=I.fc();I.Cb(15),I.mc("ngIf",r.form.controls.password.invalid&&(r.form.controls.password.dirty||r.form.controls.password.touched)),I.Cb(1),I.mc("ngIf",r.status_obj.error_obj.message),I.Cb(4),I.mc("disabled",r.form.invalid||r.status_obj.loading),I.Cb(1),I.mc("ngIf",!0===r.status_obj.loading),I.Cb(4),I.mc("routerLink",I.rc(7,Mt,I.hc(26,5,"/auth/login")))}}var jt,Et=((jt=function(){function e(t,n,r,i){f(this,e),this.formBuilder=t,this.activeRoute=n,this.commonService=r,this.apiService=i,this.subscriptions=new x.a,this.form=new k.k({}),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}}}return m(e,[{key:"getError",value:function(e){return!(!this.form.controls[e]||!this.form.controls[e].errors)&&this.form.controls[e].errors}},{key:"getErrorType",value:function(e,t){return!!(this.form.controls[e]&&this.form.controls[e].errors&&this.form.controls[e].errors[t])&&this.form.controls[e].errors[t]}},{key:"changePassword",value:function(){var e=this;if(this.form.valid)if(this.form.value.password!=this.form.value.confirm_password)this.commonService.snackError("X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u kh\xf4ng kh\u1edbp","");else{var t=this.commonService.getFormObj(this.form),n=this.commonService.getMyQueryParam("token");this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}};var r=this.commonService.getMyQueryParam("app_name");this.subscriptions.add(this.apiService.changePasswordWithFirebase(n,t.password,r).subscribe(function(t){1==t.success?(e.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},e.apiService.redirectLoginByRole(!1)):e.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t}}))}}},{key:"ngOnInit",value:function(){this.form=this.formBuilder.group({password:["",[k.z.required,k.z.minLength(6)]],confirm_password:""}),this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"})}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||jt)(I.Ob(k.g),I.Ob(b.a),I.Ob(P.a),I.Ob(S.a))},jt.\u0275cmp=I.Ib({type:jt,selectors:[["app-confirm-forgot-password"]],decls:15,vars:3,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","password","placeholder","M\u1eadt kh\u1ea9u m\u1edbi","formControlName","password","autocomplete","off",1,"form-control"],[1,"input-group-append"],["id","basic-addon3",1,"input-group-text"],["type","password","placeholder","X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u","formControlName","confirm_password","autocomplete","off",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"text-right"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"text-center","mt-3"],[1,"text-normal",3,"routerLink"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&(I.Ub(0,"div",0),I.Ub(1,"form",1),I.Ub(2,"div",2),I.Pb(3,"div",3),I.Ub(4,"div",4),I.Ub(5,"h2",5),I.Pb(6,"img",6),I.Tb(),I.Ub(7,"div",7),I.Ub(8,"div",8),I.Ub(9,"span",9),I.Qc(10,"\u0110\u1ed5i m\u1eadt kh\u1ea9u m\u1edbi"),I.Tb(),I.Tb(),I.Ub(11,"div",10),I.Oc(12,xt,6,3,"div",11),I.Oc(13,Rt,28,9,"div",11),I.Tb(),I.Tb(),I.Tb(),I.Pb(14,"div",3),I.Tb(),I.Tb(),I.Tb()),2&e&&(I.Cb(1),I.mc("formGroup",t.form),I.Cb(11),I.mc("ngIf",1==t.status_obj.form_loading),I.Cb(1),I.mc("ngIf",1!=t.status_obj.form_loading))},directives:[k.B,k.s,k.l,p.m,k.d,k.r,k.j,A.a,F.b,b.k],pipes:[z.o,ne.d],encapsulation:2}),jt),Lt=u("tk/3"),Nt=u("Qu3c");function At(e,t){1&e&&(I.Ub(0,"div",19),I.Ub(1,"span"),I.Pb(2,"span",20),I.Tb(),I.Pb(3,"br"),I.Ub(4,"p",21),I.Qc(5,"B\xe0i l\xe0m \u0111ang \u0111\u01b0\u1ee3c t\u1ea3i l\xean. Vui l\xf2ng \u0111\u1ee3i trong gi\xe2y l\xe1t!"),I.Tb(),I.Tb())}var Dt=function(e){return{"width.%":e}};function Qt(e,t){if(1&e&&(I.Ub(0,"div",24),I.Ub(1,"p",25),I.Qc(2),I.Tb(),I.Ub(3,"div",26),I.Pb(4,"div",27),I.Tb(),I.Tb()),2&e){var n=t.$implicit;I.Cb(2),I.Rc(n.fileName),I.Cb(2),I.mc("ngStyle",I.rc(2,Dt,n.uploadProgress))}}function Ft(e,t){if(1&e&&(I.Ub(0,"div",22),I.Oc(1,Qt,5,4,"div",23),I.Tb()),2&e){var n=I.fc();I.Cb(1),I.mc("ngForOf",n.convertObjToArray(n.fileUploadQueue))}}function zt(e,t){if(1&e){var n=I.Vb();I.Ub(0,"span",35),I.bc("click",function(){I.Cc(n);var e=I.fc().$implicit;return I.fc(2).removeImg(e.url)}),I.Ub(1,"mat-icon"),I.Qc(2,"cancel"),I.Tb(),I.Tb()}}function qt(e,t){1&e&&(I.Ub(0,"span",36),I.Ub(1,"mat-icon",37),I.Qc(2,"check_box_outline"),I.Tb(),I.Tb())}function Vt(e,t){if(1&e&&(I.Ub(0,"div",29),I.Ub(1,"a",30),I.Ub(2,"mat-icon",31),I.Qc(3,"attach_file"),I.Tb(),I.Ub(4,"span",32),I.Qc(5),I.Tb(),I.Tb(),I.Oc(6,zt,3,0,"span",33),I.Oc(7,qt,3,0,"span",34),I.Tb()),2&e){var n=t.$implicit,r=I.fc(2);I.Cb(4),I.mc("matTooltip",n.name),I.Cb(1),I.Rc(n.name),I.Cb(1),I.mc("ngIf",1!=r.isSuccess),I.Cb(1),I.mc("ngIf",r.isSuccess)}}function Bt(e,t){if(1&e&&(I.Ub(0,"div",22),I.Oc(1,Vt,8,4,"div",28),I.Tb()),2&e){var n=I.fc();I.Cb(1),I.mc("ngForOf",n.uploadFiles)}}var Ht,Wt=((Ht=function(){function e(t,n,r){var i=this;f(this,e),this.formBuilder=t,this.commonService=n,this.apiService=r,this.subscriptions=new x.a,this.form=new k.k({}),this.isLoading=!1,this.logs=[],this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.isSuccess=!1,this.uploadCount=0,this.uploadFiles=[],this.fileUploadQueue={},this.uploadFile=function(e,t){var n=i.commonService.getFormObj(i.form);i.apiService.uploadAssetsToCdnProgress(n.folder_name,e).subscribe(function(n){if(0==n.success)i.status_obj={loading:!1,error:!1,error_obj:{message:""}},i.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau!","");else if(n.type&&n.type==Lt.c.UploadProgress){var r=Math.round(n.loaded/n.total*100);i.fileUploadQueue.hasOwnProperty(t)?(i.fileUploadQueue[t].uploadProgress=r,i.fileUploadQueue[t].fileName=e.name):i.fileUploadQueue[t]={uploadProgress:0,fileName:e.name}}else n.successUpload&&1==n.successUpload&&(delete i.fileUploadQueue[t],Array.isArray(i.uploadFiles)||(i.uploadFiles=[]),i.uploadFiles.push(Object.assign({},n.data)),i.status_obj={loading:!1,error:!1,error_obj:{message:""}})},function(e){i.logs.push("Err:"+e)})},this.answerFile=null}return m(e,[{key:"selectFile",value:function(e){var t=e.target.files;try{for(var n in t)"length"!=n&&"item"!=n&&(this.answerFile=t?t[n]:this.answerFile,this.answerFile&&(this.isSuccess=!1,this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.uploadFile(this.answerFile,this.uploadCount),this.uploadCount+=1));e.target.value=""}catch(r){alert("\u0110\xe3 x\u1ea3y ra l\u1ed7i:"+r)}}},{key:"convertObjToArray",value:function(e){var t=[];for(var n in e)t.push(e[n]);return t}},{key:"removeImg",value:function(e){var t=this.uploadFiles.filter(function(t){return t.url!==e});this.uploadFiles=t}},{key:"ngOnInit",value:function(){this.form=this.formBuilder.group({folder_name:[""]})}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Ht)(I.Ob(k.g),I.Ob(P.a),I.Ob(S.a))},Ht.\u0275cmp=I.Ib({type:Ht,selectors:[["app-upload-assets"]],decls:26,vars:4,consts:[[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"rowr"],[1,"form-group"],[1,"col-sm-12","control-label"],[1,"col-sm-12"],["type","text","formControlName","folder_name",1,"form-control"],["id","component-upload-image-mobile"],[1,"card-box"],[1,"description"],["class","text-center m-4",4,"ngIf"],["class","row ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container",4,"ngIf"],[1,"summitForm","pt-5","pb-5"],[1,"row","pl-3","pr-3"],[1,"col-12","text-center","v-dragndrop"],[1,"px-4","py-3","rounded",2,"cursor","pointer",3,"click"],[1,"file"],["id","select-upload-file",1,"align-self-center","select","dz-clickable"],["type","file","id","file_select","multiple","",1,"form-control","d-none",3,"change"],["fileSelect",""],[1,"text-center","m-4"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"h5"],[1,"row","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container"],["class","col-6 col-sm-6 col-md-4 col-xl-2 col-lg-2",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-4","col-xl-2","col-lg-2"],[1,"h5","truncate"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngStyle"],["class","col-12 box-file mt-2",4,"ngFor","ngForOf"],[1,"col-12","box-file","mt-2"],["target","_blank",1,"clickable",2,"display","flex","margin-top","3px","font-size","14px"],[2,"font-size","20px","vertical-align","sub"],[1,"truncate",2,"line-height","1.6","max-width","75%",3,"matTooltip"],["class","notify-badge",3,"click",4,"ngIf"],["class","notify-badge",4,"ngIf"],[1,"notify-badge",3,"click"],[1,"notify-badge"],[2,"color","rgb(26,188,0)"]],template:function(e,t){if(1&e){var n=I.Vb();I.Ub(0,"form",0),I.Ub(1,"div",1),I.Ub(2,"div",2),I.Ub(3,"label",3),I.Qc(4,"Folder"),I.Tb(),I.Ub(5,"div",4),I.Pb(6,"input",5),I.Tb(),I.Tb(),I.Tb(),I.Ub(7,"div",6),I.Ub(8,"div",7),I.Ub(9,"div",8),I.Oc(10,At,6,0,"div",9),I.Oc(11,Ft,2,1,"div",10),I.Oc(12,Bt,2,1,"div",10),I.Tb(),I.Ub(13,"div",11),I.Ub(14,"div",12),I.Ub(15,"div",13),I.Ub(16,"div",14),I.bc("click",function(){return I.Cc(n),I.yc(22).click()}),I.Ub(17,"div",15),I.Ub(18,"a",16),I.Ub(19,"mat-icon"),I.Qc(20,"attach_file"),I.Tb(),I.Ub(21,"input",17,18),I.bc("change",function(e){return t.selectFile(e)}),I.Tb(),I.Tb(),I.Pb(23,"br"),I.Ub(24,"span"),I.Qc(25,"Ch\u1ecdn file"),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb()}2&e&&(I.mc("formGroup",t.form),I.Cb(10),I.mc("ngIf",t.status_obj.loading),I.Cb(1),I.mc("ngIf",t.convertObjToArray(t.fileUploadQueue).length>0),I.Cb(1),I.mc("ngIf",t.uploadFiles.length>0))},directives:[k.B,k.s,k.l,k.d,k.r,k.j,p.m,A.a,p.l,p.n,Nt.a],styles:[".card-box[_ngcontent-%COMP%]{width:100%;border:1px solid #00a7d0}.top-row[_ngcontent-%COMP%]{background-color:#00a7d0;margin:0;padding:10px}.text-white[_ngcontent-%COMP%]{color:#fff}.text-white[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.description[_ngcontent-%COMP%], .files[_ngcontent-%COMP%]{background:inherit;background-color:#f2f2f2;box-sizing:border-box;border:1px solid #e5e5e5;border-left:0;border-right:0;border-radius:0;border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:0;box-shadow:none;padding:0 10px}.description[_ngcontent-%COMP%]{padding:10px 10px 0}.files[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:10px 20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.students[_ngcontent-%COMP%]{border-width:0;background:inherit;background-color:#fff;box-sizing:border-box;border-radius:3px;box-shadow:0 0 5px rgba(0,0,0,.062745098)}.list-student[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;background:inherit;background-color:#fafafa;box-sizing:border-box;padding:10px 15px;border:1px solid #e0e0e0;border-radius:3px;box-shadow:none;font-weight:400;font-style:bold;display:block}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:100px}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;line-height:1.5}.pl-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.pr-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pb-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pt-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-top:1rem!important}.btn-warm-orange[_ngcontent-%COMP%]{background:#ff7f45;border:1px solid #ff7f45}.btn[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:hover{color:#fff}.btn[_ngcontent-%COMP%]{cursor:pointer;transition:0s}.text-dark-green[_ngcontent-%COMP%]{color:#1caba0!important}.d-block[_ngcontent-%COMP%]{display:block!important}.small[_ngcontent-%COMP%], small[_ngcontent-%COMP%]{font-size:80%;font-weight:400}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.item[_ngcontent-%COMP%]{position:relative;display:inline-block}.notify-badge[_ngcontent-%COMP%]{color:#afafaf;font-size:20px;cursor:pointer}.description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.flex-title[_ngcontent-%COMP%]{display:flex;align-items:center}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00a7d0;cursor:pointer;margin-left:5px}.flex-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;line-height:1.4;font-weight:500}.img-container[_ngcontent-%COMP%]{overflow:hidden;position:relative;height:90px;width:90px;margin:0 0 10px 10px;border-radius:7px}.img-responsive[_ngcontent-%COMP%]{position:absolute;width:100%;height:auto;left:50%;top:50%;transform:translate(-50%,-50%)}.attach-container[_ngcontent-%COMP%]{padding:10px 0 0}.maxW1200[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}@font-face{font-family:handwriting_font;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/HP0015HB.ttf)}._col-left[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:35px}._col-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:5rem;color:#ff0024}._col-right[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;line-height:1.4;font-size:20px;font-family:handwriting_font!important}._col-left_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:10px}._col-left_result[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:3rem;color:#ff0024}._col-right_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right_result[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right_result[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;font-size:16px;line-height:1.4;font-family:handwriting_font!important}.files[_ngcontent-%COMP%]{cursor:pointer}.testbank[_ngcontent-%COMP%]{padding-top:40px;text-align:left}.testbank__title[_ngcontent-%COMP%]{font-size:large;font-weight:500}.testbank_fileitem[_ngcontent-%COMP%]{display:flex;color:#00a7d0;margin-top:15px}.testbank_fileitem_icon[_ngcontent-%COMP%]{margin-right:5px}.testbank_fileitem_name[_ngcontent-%COMP%]{margin-right:10px}.testbank_fileitem_info_resualt[_ngcontent-%COMP%]{color:#000;font-weight:500;font-size:small;margin-right:15px}.testbank_fileitem_info_time[_ngcontent-%COMP%]{color:#9d9d9d}.testbank_fileitem_info_btn_submit[_ngcontent-%COMP%]{text-transform:uppercase;cursor:pointer;font-weight:500}@media (max-width:768px){.dropzone[_ngcontent-%COMP%]{min-width:100px}._col-left[_ngcontent-%COMP%], ._col-left_result[_ngcontent-%COMP%]{margin-bottom:20px}.testbank_fileitem[_ngcontent-%COMP%]{flex-wrap:wrap}}@media (max-width:576px){.flex-title[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:5px;margin-left:0}}.box-file[_ngcontent-%COMP%]{padding:10px;display:flex;justify-content:space-between;align-items:center;border:1px solid #e0e0e0;border-radius:5px}"]}),Ht),Gt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,c=a?e[i+1]:0,s=i+2<e.length,u=s?e[i+2]:0,l=(15&c)<<2|u>>6,d=63&u;s||(d=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|c>>4],n[l],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{var c=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&c)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,c=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==s)throw Error();r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==s&&r.push(c<<6&192|s))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Kt=function(){function e(){var t=this;f(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return m(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}}}]),e}();function $t(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var Yt=function(e){v(n,e);var t=_(n);function n(e,r,i){var o;return f(this,n),(o=t.call(this,r)).code=e,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(T(o),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(T(o),Jt.prototype.create),o}return n}(a(Error)),Jt=function(){function e(t,n,r){f(this,e),this.service=t,this.serviceName=n,this.errors=r}return m(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Xt,function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error";return new Yt(n,"".concat(this.serviceName,": ").concat(i," (").concat(n,")."),t)}}]),e}(),Xt=/\{\$([^}]+)}/g;function Zt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){var a=o[i];if(!r.includes(a))return!1;var c=e[a],s=t[a];if(en(c)&&en(s)){if(!Zt(c,s))return!1}else if(c!==s)return!1}for(var u=0,l=r;u<l.length;u++){var d=l[u];if(!n.includes(d))return!1}return!0}function en(e){return null!==e&&"object"==typeof e}function tn(e){for(var t=[],n=function(){var e=o(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach(function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}var nn=function(){function e(t,n){var r=this;f(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(e){r.error(e)})}return m(e,[{key:"next",value:function(e){this.forEachObserver(function(t){t.next(e)})}},{key:"error",value:function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)}},{key:"complete",value:function(){this.forEachObserver(function(e){e.complete()}),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=rn),void 0===r.error&&(r.error=rn),void 0===r.complete&&(r.complete=rn);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),o}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))}}]),e}();function rn(){}function on(e){return e&&e._delegate?e._delegate:e}var an,cn=function(){function e(t,n,r){f(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return m(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),sn=function(){function e(t,n){f(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}var n;return m(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Kt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(l){}var t,n=i(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=o(t.value,2),a=r[0],c=r[1],s=this.normalizeInstanceIdentifier(a);try{var u=this.getOrInitializeService({instanceIdentifier:s});c.resolve(u)}catch(l){}}}catch(d){n.e(d)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[DEFAULT]";this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:(n=r(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(t(n.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()})),t(n.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))));case 3:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[DEFAULT]";return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[DEFAULT]";return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var a,c=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=i(this.instancesDeferred.entries());try{for(s.s();!(a=s.n()).done;){var u=o(a.value,2),l=u[0],d=u[1];r===this.normalizeInstanceIdentifier(l)&&d.resolve(c)}}catch(h){s.e(h)}finally{s.f()}return c}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,o=i(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;try{a(e,t)}catch(c){}}}catch(s){o.e(s)}finally{o.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,"[DEFAULT]"===t?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[DEFAULT]";return this.component?this.component.multipleInstances?e:"[DEFAULT]":e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}(),un=function(){function e(t){f(this,e),this.name=t,this.providers=new Map}return m(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new sn(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ln=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(an||(an={}));var dn={debug:an.DEBUG,verbose:an.VERBOSE,info:an.INFO,warn:an.WARN,error:an.ERROR,silent:an.SILENT},hn=an.INFO,bn=(e(l={},an.DEBUG,"log"),e(l,an.VERBOSE,"log"),e(l,an.INFO,"info"),e(l,an.WARN,"warn"),e(l,an.ERROR,"error"),l),fn=function(e,t){var n;if(!(t<e.logLevel)){var r=(new Date).toISOString(),i=bn[t];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var o=arguments.length,a=new Array(o>2?o-2:0),c=2;c<o;c++)a[c-2]=arguments[c];(n=console)[i].apply(n,["[".concat(r,"]  ").concat(e.name,":")].concat(a))}},pn=function(){function e(t){f(this,e),this.name=t,this._logLevel=hn,this._logHandler=fn,this._userLogHandler=null,ln.push(this)}return m(e,[{key:"setLogLevel",value:function(e){this._logLevel="string"==typeof e?dn[e]:e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,an.DEBUG].concat(t)),this._logHandler.apply(this,[this,an.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,an.VERBOSE].concat(t)),this._logHandler.apply(this,[this,an.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,an.INFO].concat(t)),this._logHandler.apply(this,[this,an.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,an.WARN].concat(t)),this._logHandler.apply(this,[this,an.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,an.ERROR].concat(t)),this._logHandler.apply(this,[this,an.ERROR].concat(t))}},{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in an))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}}]),e}(),mn=function(){function e(t){f(this,e),this.container=t}return m(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map(function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(function(e){return e}).join(" ")}}]),e}(),gn="@firebase/app",vn=new pn("@firebase/app"),yn=(e(d={},gn,"fire-core"),e(d,"@firebase/app-compat","fire-core-compat"),e(d,"@firebase/analytics","fire-analytics"),e(d,"@firebase/analytics-compat","fire-analytics-compat"),e(d,"@firebase/app-check","fire-app-check"),e(d,"@firebase/app-check-compat","fire-app-check-compat"),e(d,"@firebase/auth","fire-auth"),e(d,"@firebase/auth-compat","fire-auth-compat"),e(d,"@firebase/database","fire-rtdb"),e(d,"@firebase/database-compat","fire-rtdb-compat"),e(d,"@firebase/functions","fire-fn"),e(d,"@firebase/functions-compat","fire-fn-compat"),e(d,"@firebase/installations","fire-iid"),e(d,"@firebase/installations-compat","fire-iid-compat"),e(d,"@firebase/messaging","fire-fcm"),e(d,"@firebase/messaging-compat","fire-fcm-compat"),e(d,"@firebase/performance","fire-perf"),e(d,"@firebase/performance-compat","fire-perf-compat"),e(d,"@firebase/remote-config","fire-rc"),e(d,"@firebase/remote-config-compat","fire-rc-compat"),e(d,"@firebase/storage","fire-gcs"),e(d,"@firebase/storage-compat","fire-gcs-compat"),e(d,"@firebase/firestore","fire-fst"),e(d,"@firebase/firestore-compat","fire-fst-compat"),e(d,"fire-js","fire-js"),e(d,"firebase","fire-js-all"),d),_n=new Map,kn=new Map;function Tn(e,t){try{e.container.addComponent(t)}catch(n){vn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Cn(e){var t=e.name;if(kn.has(t))return vn.debug("There were multiple attempts to register component ".concat(t,".")),!1;kn.set(t,e);var n,r=i(_n.values());try{for(r.s();!(n=r.n()).done;){Tn(n.value,e)}}catch(o){r.e(o)}finally{r.f()}return!0}function wn(e,t){return e.container.getProvider(t)}var Un=new Jt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."}),xn=function(){function e(t,n,r){var i=this;f(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cn("app",function(){return i},"PUBLIC"))}return m(e,[{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Un.create("app-deleted",{appName:this._name})}},{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}}]),e}();function On(e,t,n){var r,i=null!==(r=yn[e])&&void 0!==r?r:e;n&&(i+="-"+n);var o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){var c=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&c.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&c.push("and"),a&&c.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void vn.warn(c.join(" "))}Cn(new cn(i+"-version",function(){return{library:i,version:t}},"VERSION"))}function In(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Cn(new cn("platform-logger",function(e){return new mn(e)},"PRIVATE")),On(gn,"0.7.8",""),On(gn,"0.7.8","esm2017"),On("fire-js","");var Pn=new Jt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Sn=new pn("@firebase/auth");function Mn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Sn.logLevel<=an.ERROR&&Sn.error.apply(Sn,["Auth (9.4.1): "+e].concat(n))}function Rn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw En.apply(void 0,[e].concat(n))}function jn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return En.apply(void 0,[e].concat(n))}function En(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if("string"!=typeof e){var o,a=r[0],c=t(r.slice(1));return c[0]&&(c[0].appName=e.name),(o=e._errorFactory).create.apply(o,[a].concat(t(c)))}return Pn.create.apply(Pn,[e].concat(r))}function Ln(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!e)throw En.apply(void 0,[t].concat(r))}function Nn(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Mn(t),new Error(t)}function An(e,t){e||Nn(t)}var Dn=new Map;function Qn(e){An(e instanceof Function,"Expected a class definition");var t=Dn.get(e);return t?(An(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Dn.set(e,t),t)}function Fn(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function zn(){return"http:"===qn()||"https:"===qn()}function qn(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Vn=function(){function e(t,n){f(this,e),this.shortDelay=t,this.longDelay=n,An(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())||"object"==typeof navigator&&"ReactNative"===navigator.product}return m(e,[{key:"get",value:function(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(zn()||"object"==typeof(e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==e.id||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay;var e}}]),e}();function Bn(e,t){An(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Hn=function(){function e(){f(this,e)}return m(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Nn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Nn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Nn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Wn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Gn=new Vn(3e4,6e4);function Kn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function $n(e,t,n,r){return Yn.apply(this,arguments)}function Yn(){return(Yn=r(regeneratorRuntime.mark(function e(t,n,r,i){var o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.length>4&&void 0!==a[4]?a[4]:{},e.abrupt("return",Jn(t,o,function(){var e={},o={};i&&("GET"===n?o=i:e={body:JSON.stringify(i)});var a=tn(Object.assign({key:t.config.apiKey},o)).slice(1),c=new(Hn.headers());return c.set("Content-Type","application/json"),c.set("X-Client-Version",t._getSdkClientVersion()),t.languageCode&&c.set("X-Firebase-Locale",t.languageCode),Hn.fetch()(tr(t,t.config.apiHost,r,a),Object.assign({method:n,headers:c,referrerPolicy:"no-referrer"},e))}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Jn(e,t,n){return Xn.apply(this,arguments)}function Xn(){return(Xn=r(regeneratorRuntime.mark(function t(n,r,i){var a,c,s,u,l,d,h,b,f,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n._canInitEmulator=!1,a=Object.assign(Object.assign({},Wn),r),t.prev=2,c=new nr(n),t.next=6,Promise.race([i(),c.promise]);case 6:return s=t.sent,c.clearNetworkTimeout(),t.next=10,s.json();case 10:if(!("needConfirmation"in(u=t.sent))){t.next=13;break}throw rr(n,"account-exists-with-different-credential",u);case 13:if(!s.ok||"errorMessage"in u){t.next=15;break}return t.abrupt("return",u);case 15:if(l=s.ok?u.errorMessage:u.error.message,d=l.split(" : "),h=o(d,2),b=h[0],f=h[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==b){t.next=18;break}throw rr(n,"credential-already-in-use",u);case 18:if("EMAIL_EXISTS"!==b){t.next=20;break}throw rr(n,"email-already-in-use",u);case 20:if(p=a[b]||b.toLowerCase().replace(/[_\s]+/g,"-"),!f){t.next=23;break}throw function(t,n,r){var i=Object.assign(Object.assign({},{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),e({},n,r));return new Jt("auth","Firebase",i).create(n,{appName:t.name})}(n,p,f);case 23:Rn(n,p),t.next=31;break;case 26:if(t.prev=26,t.t0=t.catch(2),!(t.t0 instanceof Yt)){t.next=30;break}throw t.t0;case 30:Rn(n,"network-request-failed");case 31:case"end":return t.stop()}},t,null,[[2,26]])}))).apply(this,arguments)}function Zn(e,t,n,r){return er.apply(this,arguments)}function er(){return(er=r(regeneratorRuntime.mark(function e(t,n,r,i){var o,a,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>4&&void 0!==c[4]?c[4]:{},e.next=3,$n(t,n,r,i,o);case 3:return a=e.sent,e.abrupt("return",("mfaPendingCredential"in a&&Rn(t,"multi-factor-auth-required",{_serverResponse:a}),a));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function tr(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Bn(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var nr=function(){function e(t){var n=this;f(this,e),this.auth=t,this.timer=null,this.promise=new Promise(function(e,t){n.timer=setTimeout(function(){return t(jn(n.auth,"timeout"))},Gn.get())})}return m(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function rr(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=jn(e,t,r);return i.customData._tokenResponse=n,i}function ir(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function or(e){return 1e3*Number(e)}function ar(e){var t=o(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Mn("JWT malformed, contained fewer than 3 sections"),null;try{var a=function(e){try{return Gt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}(r);return a?JSON.parse(a):(Mn("Failed to decode base64 JWT payload"),null)}catch(c){return Mn("Caught error parsing JWT payload as JSON",c),null}}function cr(e,t){return sr.apply(this,arguments)}function sr(){return(sr=r(regeneratorRuntime.mark(function e(t,n){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),e.t1=e.t0 instanceof Yt&&(i=e.t0,o=void 0,"auth/user-disabled"===(o=i.code)||"auth/user-token-expired"===o)&&t.auth.currentUser===t,!e.t1){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}var i,o},e,null,[[3,9]])}))).apply(this,arguments)}var ur=function(){function e(t){f(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}var t;return m(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}},t)})),n)}}},{key:"iteration",value:(t=r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",void("auth/network-request-failed"===e.t0.code&&this.schedule(!0)));case 8:this.schedule();case 9:case"end":return e.stop()}},e,this,[[0,5]])})),function(){return t.apply(this,arguments)})}]),e}(),lr=function(){function e(t,n){f(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return m(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ir(this.lastLoginAt),this.creationTime=ir(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function dr(e){return hr.apply(this,arguments)}function hr(){return(hr=r(regeneratorRuntime.mark(function e(n){var i,o,a,c,s,u,l,d,h,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.auth,e.next=3,n.getIdToken();case 3:return a=e.sent,e.next=6,cr(n,function(){var e=r(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$n(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()(o,{idToken:a}));case 6:Ln(null==(c=e.sent)?void 0:c.users.length,o,"internal-error"),s=c.users[0],n._notifyReloadListener(s),u=(null===(i=s.providerUserInfo)||void 0===i?void 0:i.length)?s.providerUserInfo.map(function(e){var t=e.providerId,n=In(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[],d=u,l=[].concat(t(n.providerData.filter(function(e){return!d.some(function(t){return t.providerId===e.providerId})})),t(d)),h=!!n.isAnonymous&&!(n.email&&s.passwordHash||(null==l?void 0:l.length)),b={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new lr(s.createdAt,s.lastLoginAt),isAnonymous:h},Object.assign(n,b);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}var br=function(){function e(){f(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}var t,n;return m(e,[{key:"updateFromServerResponse",value:function(e){Ln(e.idToken,"internal-error"),Ln(void 0!==e.idToken,"internal-error"),Ln(void 0!==e.refreshToken,"internal-error");var t,n,r="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):(t=e.idToken,Ln(n=ar(t),"internal-error"),Ln(void 0!==n.exp,"internal-error"),Ln(void 0!==n.iat,"internal-error"),Number(n.exp)-Number(n.iat));this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}},{key:"getToken",value:(n=r(regeneratorRuntime.mark(function e(t){var n,r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Ln(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired){e.next=13;break}if(!this.refreshToken){e.next=9;break}return e.next=6,this.refresh(t,this.refreshToken);case 6:e.t1=this.accessToken,e.next=10;break;case 9:e.t1=null;case 10:e.t0=e.t1,e.next=14;break;case 13:e.t0=this.accessToken;case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:(t=r(regeneratorRuntime.mark(function e(t,n){var i,o,a,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=r(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jn(t,{},function(){var e=tn({grant_type:"refresh_token",refresh_token:n}).slice(1),r=t.config,i=r.tokenApiHost,o=r.apiKey,a=tr(t,i,"/v1/token","key="+o);return Hn.fetch()(a,{method:"POST",headers:{"X-Client-Version":t._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:e})});case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 2:i=e.sent,o=i.accessToken,a=i.refreshToken,c=i.expiresIn,this.updateTokensAndExpiration(o,a,Number(c));case 7:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Nn("not implemented")}},{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,o=n.expirationTime,a=new e;return r&&(Ln("string"==typeof r,"internal-error",{appName:t}),a.refreshToken=r),i&&(Ln("string"==typeof i,"internal-error",{appName:t}),a.accessToken=i),o&&(Ln("number"==typeof o,"internal-error",{appName:t}),a.expirationTime=o),a}}]),e}();function fr(e,t){Ln("string"==typeof e||void 0===e,"internal-error",{appName:t})}var pr,mr=function(){function e(t){f(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,o=In(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new ur(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.metadata=new lr(o.createdAt||void 0,o.lastLoginAt||void 0)}var t,n,i,o;return m(e,[{key:"getIdToken",value:(o=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cr(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Ln(n=e.sent,this.auth,"internal-error"),e.t0=this.accessToken!==n,!e.t0){e.next=10;break}return this.accessToken=n,e.next=9,this.auth._persistUserIfCurrent(this);case 9:this.auth._notifyListenersIfCurrent(this);case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"getIdTokenResult",value:function(e){return(t=r(regeneratorRuntime.mark(function e(t){var n,r,i,o,a,c,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=on(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Ln((o=ar(i))&&o.exp&&o.auth_time&&o.iat,r.auth,"internal-error"),a="object"==typeof o.firebase?o.firebase:void 0,c=null==a?void 0:a.sign_in_provider,e.abrupt("return",{claims:o,token:i,authTime:ir(or(o.auth_time)),issuedAtTime:ir(or(o.iat)),expirationTime:ir(or(o.exp)),signInProvider:c||null,signInSecondFactor:(null==a?void 0:a.sign_in_second_factor)||null});case 9:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})(this,e);var t}},{key:"reload",value:function(){return(e=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=on(t),e.next=3,dr(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)})(this);var e}},{key:"_assign",value:function(e){this!==e&&(Ln(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(function(e){return Object.assign({},e)}),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Ln(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:(i=r(regeneratorRuntime.mark(function e(t){var n,r,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e.t0=n,!e.t0){e.next=7;break}return e.next=7,dr(this);case 7:return e.next=9,this.auth._persistUserIfCurrent(this);case 9:r&&this.auth._notifyListenersIfCurrent(this);case 10:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"delete",value:(n=r(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,cr(this,function(){var e=r(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$n(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(function(e){return Object.assign({},e)}),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,o,a,c,s,u,l,d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,b=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,f=null!==(a=n.photoURL)&&void 0!==a?a:void 0,p=null!==(c=n.tenantId)&&void 0!==c?c:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,g=null!==(u=n.createdAt)&&void 0!==u?u:void 0,v=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,y=n.uid,_=n.emailVerified,k=n.isAnonymous,T=n.providerData,C=n.stsTokenManager;Ln(y&&C,t,"internal-error");var w=br.fromJSON(this.name,C);Ln("string"==typeof y,t,"internal-error"),fr(d,t.name),fr(h,t.name),Ln("boolean"==typeof _,t,"internal-error"),Ln("boolean"==typeof k,t,"internal-error"),fr(b,t.name),fr(f,t.name),fr(p,t.name),fr(m,t.name),fr(g,t.name),fr(v,t.name);var U=new e({uid:y,auth:t,email:h,emailVerified:_,displayName:d,isAnonymous:k,photoURL:f,phoneNumber:b,tenantId:p,stsTokenManager:w,createdAt:g,lastLoginAt:v});return T&&Array.isArray(T)&&(U.providerData=T.map(function(e){return Object.assign({},e)})),m&&(U._redirectEventId=m),U}},{key:"_fromIdTokenResponse",value:(t=r(regeneratorRuntime.mark(function t(n,r){var i,o,a,c=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=c.length>2&&void 0!==c[2]&&c[2],(o=new br).updateFromServerResponse(r),a=new e({uid:r.localId,auth:n,stsTokenManager:o,isAnonymous:i}),t.next=6,dr(a);case 6:return t.abrupt("return",a);case 7:case"end":return t.stop()}},t)})),function(e,n){return t.apply(this,arguments)})}]),e}(),gr=((pr=function(){function e(){f(this,e),this.type="NONE",this.storage={}}var t,n,i,o;return m(e,[{key:"_isAvailable",value:(o=r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}},e)})),function(){return o.apply(this,arguments)})},{key:"_set",value:(i=r(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}},e,this)})),function(e,t){return i.apply(this,arguments)})},{key:"_get",value:(n=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"_remove",value:(t=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}()).type="NONE",pr);function vr(e,t,n){return"firebase:".concat(e,":").concat(t,":").concat(n)}var yr=function(){function e(t,n,r){f(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,o=i.config,a=i.name;this.fullUserKey=vr(this.userKey,o.apiKey,a),this.fullPersistenceKey=vr("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}var t,n,o;return m(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:(o=r(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?mr._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:(n=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:return this.persistence=t,e.abrupt("return",n?this.setCurrentUser(n):void 0);case 9:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:(t=r(regeneratorRuntime.mark(function t(n,o){var a,c,s,u,l,d,h,b,f,p,m,g=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=g.length>2&&void 0!==g[2]?g[2]:"authUser",o.length){t.next=3;break}return t.abrupt("return",new e(Qn(gr),n,a));case 3:return t.next=5,Promise.all(o.map(function(){var e=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 5:c=t.sent.filter(function(e){return e}),s=c[0]||Qn(gr),u=vr(a,n.config.apiKey,n.name),l=null,d=i(o),t.prev=10,d.s();case 12:if((h=d.n()).done){t.next=28;break}return b=h.value,t.prev=14,t.next=17,b._get(u);case 17:if(!(f=t.sent)){t.next=22;break}return p=mr._fromJSON(n,f),b!==s&&(l=p),s=b,t.abrupt("break",28);case 22:t.next=26;break;case 24:t.prev=24,t.t0=t.catch(14);case 26:t.next=12;break;case 28:t.next=33;break;case 30:t.prev=30,t.t1=t.catch(10),d.e(t.t1);case 33:return t.prev=33,d.f(),t.finish(33);case 36:if(m=c.filter(function(e){return e._shouldAllowMigration}),!s._shouldAllowMigration||!m.length){t.next=48;break}if(s=m[0],t.t3=l,!t.t3){t.next=43;break}return t.next=43,s._set(u,l.toJSON());case 43:return t.next=45,Promise.all(o.map(function(){var e=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t===s){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}},e,null,[[1,6]])}));return function(t){return e.apply(this,arguments)}}()));case 45:t.t2=new e(s,n,a),t.next=49;break;case 48:t.t2=new e(s,n,a);case 49:return t.abrupt("return",t.t2);case 50:case"end":return t.stop()}},t,null,[[10,30,33,36],[14,24]])})),function(e,n){return t.apply(this,arguments)})}]),e}();function _r(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(wr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(kr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(xr(t))return"Blackberry";if(Or(t))return"Webos";if(Tr(t))return"Safari";if((t.includes("chrome/")||Cr(t))&&!t.includes("edge/"))return"Chrome";if(Ur(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null==n?void 0:n.length)?n[1]:"Other"}function kr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/firefox\//i.test(e)}function Tr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Cr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/crios\//i.test(e)}function wr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/iemobile/i.test(e)}function Ur(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/android/i.test(e)}function xr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/blackberry/i.test(e)}function Or(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/webos/i.test(e)}function Ir(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/iphone|ipad|ipod/i.test(e)}function Pr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return Ir(e)||Ur(e)||Or(e)||xr(e)||/windows phone/i.test(e)||wr(e)}function Sr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=_r($t());break;case"Worker":t="".concat(_r($t()),"-").concat(e);break;default:t=e}return"".concat(t,"/JsCore/9.4.1/").concat(n.length?n.join(","):"FirebaseCore-web")}var Mr=function(){function e(t,n){f(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jr(this),this.idTokenSubscription=new jr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}var t,n,i,o,a,c,s,u,l,d,h,b,p;return m(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Qn(t)),this._initializationPromise=this.queue(r(regeneratorRuntime.mark(function r(){var i,o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=n._deleted,r.t0){r.next=15;break}return r.next=4,yr.create(n,e);case 4:if(n.persistenceManager=r.sent,r.t1=n._deleted,r.t1){r.next=15;break}if(r.t2=null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively,!r.t2){r.next=11;break}return r.next=11,n._popupRedirectResolver._initialize(n);case 11:return r.next=13,n.initializeCurrentUser(t);case 13:n.lastNotifiedUid=(null===(o=n.currentUser)||void 0===o?void 0:o.uid)||null,n._deleted||(n._isInitialized=!0);case 15:case"end":return r.stop()}},r)}))),this._initializationPromise}},{key:"_onStorageEvent",value:(p=r(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,!this.currentUser&&!t){e.next=19;break}if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=13;break}return this._currentUser._assign(t),e.next=10,this.currentUser.getIdToken();case 10:e.t1=void e.sent,e.next=16;break;case 13:return e.next=15,this._updateCurrentUser(t);case 15:e.t1=void e.sent;case 16:e.t0=e.t1,e.next=20;break;case 19:e.t0=void 0;case 20:return e.abrupt("return",e.t0);case 21:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"initializeCurrentUser",value:(b=r(regeneratorRuntime.mark(function e(t){var n,r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,o=null==r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:a=e.sent,i&&i!==o||!(null==a?void 0:a.user)||(r=a.user);case 12:if(!r){e.next=24;break}if(!r._redirectEventId){e.next=20;break}return Ln(this._popupRedirectResolver,this,"argument-error"),e.next=17,this.getOrInitRedirectPersistenceManager();case 17:e.t1=this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r),e.next=21;break;case 20:e.t1=this.reloadAndSetCurrentUserOrClear(r);case 21:e.t0=e.t1,e.next=25;break;case 24:e.t0=this.directlySetCurrentUser(null);case 25:return e.abrupt("return",e.t0);case 26:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"tryRedirectSignIn",value:(h=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,this,[[1,7]])})),function(e){return h.apply(this,arguments)})},{key:"reloadAndSetCurrentUserOrClear",value:(d=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dr(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),"auth/network-request-failed"===e.t0.code){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}},e,this,[[0,5]])})),function(e){return d.apply(this,arguments)})},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"==typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:(l=r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"updateCurrentUser",value:(u=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?on(t):null,e.abrupt("return",(n&&Ln(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))));case 2:case"end":return e.stop()}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"_updateCurrentUser",value:(s=r(regeneratorRuntime.mark(function e(t){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._deleted){e.next=2;break}return e.abrupt("return",(t&&Ln(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),this.queue(r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}},e)})))));case 2:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"signOut",value:(c=r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.redirectPersistenceManager||this._popupRedirectResolver,!e.t0){e.next=4;break}return e.next=4,this._setRedirectUser(null);case 4:return e.abrupt("return",this._updateCurrentUser(null));case 5:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"setPersistence",value:function(e){var t=this;return this.queue(r(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Qn(e));case 2:case"end":return n.stop()}},n)})))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Jt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:(a=r(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"getOrInitRedirectPersistenceManager",value:(o=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Ln(n=t&&Qn(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,yr.create(this,[Qn(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"_redirectUserForId",value:(i=r(regeneratorRuntime.mark(function e(t){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._isInitialized,!e.t0){e.next=4;break}return e.next=4,this.queue(r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})));case 4:return e.abrupt("return",(null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)===t?this._currentUser:(null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId)===t?this.redirectUser:null);case 5:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"_persistUserIfCurrent",value:(n=r(regeneratorRuntime.mark(function e(t){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}},e)}))));case 2:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var o="function"==typeof t?t:t.next.bind(t),a=this._isInitialized?Promise.resolve():this._initializationPromise;return Ln(a,this,"internal-error"),a.then(function(){return o(i.currentUser)}),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:(t=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sr(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getSdkClientVersion",value:function(){return this.clientVersion}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"assertedPersistence",get:function(){return Ln(this.persistenceManager,this,"internal-error"),this.persistenceManager}}]),e}();function Rr(e){return on(e)}var jr=function(){function e(t){var n,r=this;f(this,e),this.auth=t,this.observer=null,this.addObserver=(n=new nn(function(e){return r.observer=e},void 0)).subscribe.bind(n)}return m(e,[{key:"next",get:function(){return Ln(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}(),Er=function(){function e(t,n){f(this,e),this.providerId=t,this.signInMethod=n}return m(e,[{key:"toJSON",value:function(){return Nn("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Nn("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Nn("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Nn("not implemented")}}]),e}();function Lr(e,t){return Nr.apply(this,arguments)}function Nr(){return(Nr=r(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zn(t,"POST","/v1/accounts:signInWithIdp",Kn(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ar={USER_NOT_FOUND:"user-not-found"},Dr=function(e){v(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this,"phone","phone")).params=e,r}return m(n,[{key:"_getIdTokenResponse",value:function(e){return(t=r(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zn(t,"POST","/v1/accounts:signInWithPhoneNumber",Kn(t,n)));case 1:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)})(e,this._makeVerificationRequest());var t}},{key:"_linkToIdToken",value:function(e,t){return(n=r(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zn(t,"POST","/v1/accounts:signInWithPhoneNumber",Kn(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw rr(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)})(e,Object.assign({idToken:t},this._makeVerificationRequest()));var n}},{key:"_getReauthenticationResolver",value:function(e){return(t=r(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zn(t,"POST","/v1/accounts:signInWithPhoneNumber",Kn(t,Object.assign(Object.assign({},n),{operation:"REAUTH"})),Ar));case 1:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)})(e,this._makeVerificationRequest());var t}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"==typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,o=t.phoneNumber,a=t.temporaryProof;return i||r||o||a?new n({verificationId:r,verificationCode:i,phoneNumber:o,temporaryProof:a}):null}}]),n}(Er),Qr=function(){function e(t){f(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return m(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Fr=function(e){v(r,e);var n=_(r);function r(){var e;return f(this,r),(e=n.apply(this,arguments)).scopes=[],e}return m(r,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return t(this.scopes)}}]),r}(Qr),zr=function(){function e(t){f(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}var t,n;return m(e,null,[{key:"_fromIdTokenResponse",value:(n=r(regeneratorRuntime.mark(function t(n,r,i){var o,a,c,s=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=s.length>3&&void 0!==s[3]&&s[3],t.next=3,mr._fromIdTokenResponse(n,i,o);case 3:return a=t.sent,c=qr(i),t.abrupt("return",new e({user:a,providerId:c,_tokenResponse:i,operationType:r}));case 6:case"end":return t.stop()}},t)})),function(e,t,r){return n.apply(this,arguments)})},{key:"_forOperation",value:(t=r(regeneratorRuntime.mark(function t(n,r,i){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return o=qr(i),t.abrupt("return",new e({user:n,providerId:o,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}},t)})),function(e,n,r){return t.apply(this,arguments)})}]),e}();function qr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Vr=function(e){v(n,e);var t=_(n);function n(e,r,i,o){var a,c;return f(this,n),(a=t.call(this,r.code,r.message)).operationType=i,a.user=o,Object.setPrototypeOf(T(a),n.prototype),a.customData={appName:e.name,tenantId:null!==(c=e.tenantId)&&void 0!==c?c:void 0,_serverResponse:r.customData._serverResponse,operationType:i},a}return m(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Yt);function Br(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(function(n){if("auth/multi-factor-auth-required"===n.code)throw Vr._fromErrorAndOperation(e,n,t,r);throw n})}function Hr(e,t){return Wr.apply(this,arguments)}function Wr(){return(Wr=r(regeneratorRuntime.mark(function e(t,n){var r,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.next=3,Br(t,"signIn",n);case 3:return i=e.sent,e.next=6,zr._fromIdTokenResponse(t,"signIn",i);case 6:if(o=e.sent,e.t0=r,e.t0){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}new WeakMap;var Gr,Kr,$r=function(){function e(t,n){f(this,e),this.storageRetriever=t,this.type=n}return m(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}(),Yr=((Kr=function(e){v(o,e);var t,n,i=_(o);function o(){var e,t;return f(this,o),(e=i.call(this,function(){return window.localStorage},"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=(Tr(t=$t())||Ir(t))&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Pr(),e._shouldAllowMigration=!0,e}return m(o,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),o=this.localCache[r];i!==o&&e(r,o,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var o,a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},c=this.storage.getItem(r);((o=$t()).indexOf("MSIE ")>=0||o.indexOf("Trident/")>=0)&&10===document.documentMode&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys(function(e,n,r){t.notifyListeners(e,r)})}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++)(0,i[r])(t?JSON.parse(t):t)}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(function(){e.forAllChangedKeys(function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:(n=r(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(w(o.prototype),"_set",this).call(this,t,n);case 2:this.localCache[t]=JSON.stringify(n);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"_get",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(w(o.prototype),"_get",this).call(this,t);case 2:return n=e.sent,e.abrupt("return",(this.localCache[t]=JSON.stringify(n),n));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())},{key:"_remove",value:(t=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(w(o.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})}]),o}($r)).type="LOCAL",Kr),Jr=((Gr=function(e){v(n,e);var t=_(n);function n(){return f(this,n),t.call(this,function(){return window.sessionStorage},"SESSION")}return m(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}($r)).type="SESSION",Gr),Xr=function(){var e=function(){function e(t){f(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}var t;return m(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:(t=r(regeneratorRuntime.mark(function e(t){var n,i,o,a,c,s,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(n=t).data,o=i.eventId,a=i.eventType,c=i.data,null==(s=this.handlersMap[a])?void 0:s.size){e.next=3;break}return e.abrupt("return");case 3:return n.ports[0].postMessage({status:"ack",eventId:o,eventType:a}),u=Array.from(s).map(function(){var e=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,c));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.next=7,function(e){return Promise.all(e.map(function(){var e=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=!0,e.next=4,t;case 4:return e.t1=e.sent,e.abrupt("return",{fulfilled:e.t0,value:e.t1});case 8:return e.prev=8,e.t2=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t2});case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()))}(u);case 7:l=e.sent,n.ports[0].postMessage({status:"done",eventId:o,eventType:a,response:l});case 9:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find(function(e){return e.isListeningto(t)});if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();return e.receivers=[],e}();function Zr(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}var ei=function(){function e(t){f(this,e),this.target=t,this.handlers=new Set}var t;return m(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:(t=r(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,c=this,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!=typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise(function(e,s){var u=Zr("",20);i.port1.start();var l=setTimeout(function(){s(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===u)switch(n.data.status){case"ack":clearTimeout(l),o=setTimeout(function(){s(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),e(n.data.response);break;default:clearTimeout(l),clearTimeout(o),s(new Error("invalid_response"))}}},c.handlers.add(a),i.port1.addEventListener("message",a.onMessage),c.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(function(){a&&c.removeMessageHandler(a)}));case 5:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)})}]),e}();function ti(){return window}function ni(){return void 0!==ti().WorkerGlobalScope&&"function"==typeof ti().importScripts}var ri="firebaseLocalStorageDb",ii=function(){function e(t){f(this,e),this.request=t}return m(e,[{key:"toPromise",value:function(){var e=this;return new Promise(function(t,n){e.request.addEventListener("success",function(){t(e.request.result)}),e.request.addEventListener("error",function(){n(e.request.error)})})}}]),e}();function oi(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly").objectStore("firebaseLocalStorage")}function ai(){var e=indexedDB.open(ri,1);return new Promise(function(t,n){e.addEventListener("error",function(){n(e.error)}),e.addEventListener("upgradeneeded",function(){var t=e.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(r){n(r)}}),e.addEventListener("success",r(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r=e.result).objectStoreNames.contains("firebaseLocalStorage")){n.next=5;break}t(r),n.next=13;break;case 5:return r.close(),n.next=8,function(){var e=indexedDB.deleteDatabase(ri);return new ii(e).toPromise()}();case 8:return n.t0=t,n.next=11,ai();case 11:n.t1=n.sent,(0,n.t0)(n.t1);case 13:case"end":return n.stop()}},n)})))})}function ci(e,t,n){return si.apply(this,arguments)}function si(){return(si=r(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=oi(t,!0).put({fbase_key:n,value:r}),e.abrupt("return",new ii(i).toPromise());case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ui(e,t){var n=oi(e,!0).delete(t);return new ii(n).toPromise()}var li,di=((li=function(){function e(){f(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(function(){},function(){})}var t,n,o,a,c,s,u,l,d,h,b,p;return m(e,[{key:"_openDb",value:(p=r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=5;break}return e.next=4,ai();case 4:this.db=e.sent;case 5:return e.abrupt("return",this.db);case 6:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"_withRetries",value:(b=r(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=1,e.next=4,this._openDb();case 4:return r=e.sent,e.next=7,t(r);case 7:return e.abrupt("return",e.sent);case 10:if(e.prev=10,e.t0=e.catch(1),!(n++>3)){e.next=14;break}throw e.t0;case 14:this.db&&(this.db.close(),this.db=void 0);case 15:e.next=1;break;case 17:case"end":return e.stop()}},e,this,[[1,10]])})),function(e){return b.apply(this,arguments)})},{key:"initializeServiceWorkerMessaging",value:(h=r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ni()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}},e,this)})),function(){return h.apply(this,arguments)})},{key:"initializeReceiver",value:(d=r(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Xr._getInstance(ni()?self:null),this.receiver._subscribe("keyChanged",function(){var e=r(regeneratorRuntime.mark(function e(n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return e.t0=e.sent.includes(r.key),e.abrupt("return",{keyProcessed:e.t0});case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=r(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)})},{key:"initializeSender",value:(l=r(regeneratorRuntime.mark(function e(){var t,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return e.abrupt("return",e.sent.active);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",null);case 11:case"end":return e.stop()}},e,null,[[2,8]])}))();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new ei(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:(i=e.sent)&&(null===(t=i[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=i[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 10:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"notifyServiceWorker",value:(u=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.sender||!this.activeServiceWorker||((null===(n=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null)!==this.activeServiceWorker){e.next=8;break}return e.prev=1,e.next=4,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}},e,this,[[1,6]])})),function(e){return u.apply(this,arguments)})},{key:"_isAvailable",value:(s=r(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ai();case 5:return t=e.sent,e.next=8,ci(t,"__sak","1");case 8:return e.next=10,ui(t,"__sak");case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}},e,null,[[0,13]])})),function(){return s.apply(this,arguments)})},{key:"_withPendingWrite",value:(c=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}},e,this,[[1,,4,7]])})),function(e){return c.apply(this,arguments)})},{key:"_set",value:(a=r(regeneratorRuntime.mark(function e(t,n){var i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i._withRetries(function(e){return ci(e,t,n)});case 2:return i.localCache[t]=n,e.abrupt("return",i.notifyServiceWorker(t));case 4:case"end":return e.stop()}},e)}))));case 1:case"end":return e.stop()}},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"_get",value:(o=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries(function(e){return(n=r(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=oi(t,!1).get(n),e.next=3,new ii(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)})(e,t);var n});case 2:return n=e.sent,e.abrupt("return",(this.localCache[t]=n,n));case 4:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"_remove",value:(n=r(regeneratorRuntime.mark(function e(t){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries(function(e){return ui(e,t)});case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}},e)}))));case 1:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"_poll",value:(t=r(regeneratorRuntime.mark(function e(){var t,n,r,o,a,c,s,u,l,d,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries(function(e){var t=oi(e,!1).getAll();return new ii(t).toPromise()});case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,o=i(t);try{for(o.s();!(a=o.n()).done;)c=a.value,s=c.fbase_key,u=c.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(b){o.e(b)}finally{o.f()}for(l=0,d=Object.keys(this.localCache);l<d.length;l++)h=d[l],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++)(0,i[r])(t)}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}},t)})),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}()).type="LOCAL",li);function hi(e){return new Promise(function(t,n){var r,i,o=document.createElement("script");o.setAttribute("src",e),o.onload=t,o.onerror=function(e){var t=jn("internal-error");t.customData=e,n(t)},o.type="text/javascript",o.charset="UTF-8",(null!==(i=null===(r=document.getElementsByTagName("head"))||void 0===r?void 0:r[0])&&void 0!==i?i:document).appendChild(o)})}function bi(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var fi=function(){function e(t){f(this,e),this.auth=t,this.counter=1e12,this._widgets=new Map}var t;return m(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new pi(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||1e12;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t;return(null===(t=this._widgets.get(e||1e12))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:(t=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(null===(n=this._widgets.get(t||1e12))||void 0===n||n.execute(),""));case 1:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})}]),e}(),pi=function(){function e(t,n,r){var i=this;f(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var o="string"==typeof t?document.getElementById(t):t;Ln(o,"argument-error",{appName:n}),this.container=o,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return m(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<50;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout(function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()},6e4)},500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}(),mi=bi("rcb"),gi=new Vn(3e4,6e4),vi=function(){function e(){f(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!ti().grecaptcha}return m(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ln(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(ti().grecaptcha):new Promise(function(r,i){var o=ti().setTimeout(function(){i(jn(e,"network-request-failed"))},gi.get());ti()[mi]=function(){ti().clearTimeout(o),delete ti()[mi];var a=ti().grecaptcha;if(a){var c=a.render;a.render=function(e,n){var r=c(e,n);return t.counter++,r},t.hostLanguage=n,r(a)}else i(jn(e,"internal-error"))},hi("https://www.google.com/recaptcha/api.js??"+tn({onload:mi,render:"explicit",hl:n})).catch(function(){clearTimeout(o),i(jn(e,"internal-error"))})})}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!ti().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}(),yi=function(){function e(){f(this,e)}var t;return m(e,[{key:"load",value:(t=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new fi(t));case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})},{key:"clearedOneInstance",value:function(){}}]),e}(),_i={theme:"light",type:"image"},ki=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},_i),r=arguments.length>2?arguments[2]:void 0;f(this,e),this.parameters=n,this.type="recaptcha",this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Rr(r),this.isInvisible="invisible"===this.parameters.size,Ln("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"==typeof t?document.getElementById(t):t;Ln(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new yi:new vi,this.validateStartingState()}var t,n,i;return m(e,[{key:"verify",value:(i=r(regeneratorRuntime.mark(function e(){var t,n,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:return t=e.sent,n=this.getAssertedRecaptcha(),e.abrupt("return",n.getResponse(t)||new Promise(function(e){r.tokenChangeListeners.add(function t(n){n&&(r.tokenChangeListeners.delete(t),e(n))}),r.isInvisible&&n.execute(t)}));case 6:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(function(t){throw e.renderPromise=null,t})),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(function(t){e.container.removeChild(t)})}},{key:"validateStartingState",value:function(){Ln(!this.parameters.sitekey,this.auth,"argument-error"),Ln(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ln("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach(function(e){return e(n)}),"function"==typeof e)e(n);else if("string"==typeof e){var r=ti()[e];"function"==typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Ln(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:(n=r(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:if(this.widgetId){e.next=6;break}t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters);case 6:return e.abrupt("return",this.widgetId);case 7:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"init",value:(t=r(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Ln(zn()&&!ni(),this.auth,"internal-error"),e.next=3,function(){var e=null;return new Promise(function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()}).catch(function(t){throw e&&window.removeEventListener("load",e),t})}();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,function(){var e=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$n(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(this.auth);case 8:Ln(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 10:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"getAssertedRecaptcha",value:function(){return Ln(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}(),Ti=function(){function e(t,n){f(this,e),this.verificationId=t,this.onConfirmation=n}return m(e,[{key:"confirm",value:function(e){var t=Dr._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}(),Ci=function(e){v(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this,"custom","custom")).params=e,r}return m(n,[{key:"_getIdTokenResponse",value:function(e){return Lr(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Lr(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Lr(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Er);function wi(e){return Hr(e.auth,new Ci(e),e.bypassAuthState)}function Ui(e){var t,n=e.auth,i=e.user;return Ln(i,n,"internal-error"),(t=r(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,c,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=t.auth,e.prev=2,e.next=5,cr(t,Br(i,"reauthenticate",n,t),r);case 5:return Ln((o=e.sent).idToken,i,"internal-error"),Ln(a=ar(o.idToken),i,"internal-error"),c=a.sub,e.abrupt("return",(Ln(t.uid===c,i,"user-mismatch"),zr._forOperation(t,"reauthenticate",o)));case 13:throw e.prev=13,e.t0=e.catch(2),"auth/user-not-found"===(null==e.t0?void 0:e.t0.code)&&Rn(i,"user-mismatch"),e.t0;case 16:case"end":return e.stop()}},e,null,[[2,13]])})),function(e,n){return t.apply(this,arguments)})(i,new Ci(e),e.bypassAuthState)}function xi(e){return Oi.apply(this,arguments)}function Oi(){return(Oi=r(regeneratorRuntime.mark(function e(t){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,i=t.user,e.abrupt("return",(Ln(i,n,"internal-error"),function(){var e=r(regeneratorRuntime.mark(function e(t,n){var r,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]&&o[2],e.t0=cr,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",zr._forOperation(t,"link",i));case 14:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()(i,new Ci(t),t.bypassAuthState)));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}new Vn(2e3,1e4);var Ii=new Map,Pi=function(e){v(a,e);var t,n,i,o=_(a);function a(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return f(this,a),(n=o.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r)).eventId=null,n}return m(a,[{key:"execute",value:(i=r(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ii.get(this.auth._key())){e.next=20;break}return e.prev=2,e.next=5,function(){var e=r(regeneratorRuntime.mark(function e(t,n){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e){return vr("pendingRedirect",e.config.apiKey,e.name)}(n),i=function(e){return Qn(e._redirectPersistence)}(t),e.next=3,i._isAvailable();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",!1);case 5:return e.next=7,i._get(r);case 7:return e.t0=e.sent,o="true"===e.t0,e.next=11,i._remove(r);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()(this.resolver,this.auth);case 5:if(!e.sent){e.next=11;break}return e.next=8,g(w(a.prototype),"execute",this).call(this);case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=null;case 12:n=e.t0,t=function(){return Promise.resolve(n)},e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 19:Ii.set(this.auth._key(),t);case 20:return e.abrupt("return",(this.bypassAuthState||Ii.set(this.auth._key(),function(){return Promise.resolve(null)}),t()));case 21:case"end":return e.stop()}},e,this,[[2,16]])})),function(){return i.apply(this,arguments)})},{key:"onAuthEvent",value:(n=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=2;break}return e.abrupt("return",g(w(a.prototype),"onAuthEvent",this).call(this,t));case 2:if("unknown"===t.type){e.next=12;break}if(!t.eventId){e.next=10;break}return e.next=6,this.auth._redirectUserForId(t.eventId);case 6:if(!(n=e.sent)){e.next=9;break}return e.abrupt("return",(this.user=n,g(w(a.prototype),"onAuthEvent",this).call(this,t)));case 9:this.resolve(null);case 10:e.next=13;break;case 12:this.resolve(null);case 13:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"onExecution",value:(t=r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)})},{key:"cleanUp",value:function(){}}]),a}(function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];f(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}var t;return m(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=r(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}},t,null,[[1,10]])}));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:(t=r(regeneratorRuntime.mark(function e(t){var n,r,i,o,a,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,o=t.tenantId,a=t.error,c=t.type,!a){e.next=3;break}return e.abrupt("return",void this.reject(a));case 3:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=4,e.t0=this,e.next=8,this.getIdpTask(c)(s);case 8:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=15;break;case 12:e.prev=12,e.t2=e.catch(4),this.reject(e.t2);case 15:case"end":return e.stop()}},e,this,[[4,12]])})),function(e){return t.apply(this,arguments)})},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wi;case"linkViaPopup":case"linkViaRedirect":return xi;case"reauthViaPopup":case"reauthViaRedirect":return Ui;default:Rn(this.auth,"internal-error")}}},{key:"resolve",value:function(e){An(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){An(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}());function Si(e,t){return Mi.apply(this,arguments)}function Mi(){return(Mi=r(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,c,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Rr(t),o=function(e,t){return t?Qn(t):(Ln(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(i,n),a=new Pi(i,o,r),e.next=6,a.execute();case 6:if(c=e.sent,e.t0=c&&!r,!e.t0){e.next=14;break}return delete c.user._redirectEventId,e.next=12,i._persistUserIfCurrent(c.user);case 12:return e.next=14,i._setRedirectUser(null,n);case 14:return e.abrupt("return",c);case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ri=function(){function e(t){f(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return m(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach(function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ei(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Ei(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(jn(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ji(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(ji(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function ji(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(function(e){return e}).join("-")}function Ei(e){var t=e.type,n=e.error;return"unknown"===t&&"auth/no-auth-event"===(null==n?void 0:n.code)}var Li=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ni=/^https?/;function Ai(e){var t=Fn(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var o=new URL(e);return""===o.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&o.hostname===i}if(!Ni.test(r))return!1;if(Li.test(e))return i===e;var a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}var Di=new Vn(3e4,6e4);function Qi(){var e=ti().___jsl;if(null==e?void 0:e.H)for(var n=0,r=Object.keys(e.H);n<r.length;n++){var i=r[n];if(e.H[i].r=e.H[i].r||[],e.H[i].L=e.H[i].L||[],e.H[i].r=t(e.H[i].L),e.CP)for(var o=0;o<e.CP.length;o++)e.CP[o]=null}}var Fi=null;function zi(e){return Fi=Fi||function(e){return new Promise(function(t,n){var r,i,o;function a(){Qi(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Qi(),n(jn(e,"network-request-failed"))},timeout:Di.get()})}if(null===(i=null===(r=ti().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=ti().gapi)||void 0===o?void 0:o.load)){var c=bi("iframefcb");return ti()[c]=function(){gapi.load?a():n(jn(e,"network-request-failed"))},hi("https://apis.google.com/js/api.js?onload="+c)}a()}}).catch(function(e){throw Fi=null,e})}(e)}var qi=new Vn(5e3,15e3),Vi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hi(e){var t=e.config;Ln(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Bn(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:"9.4.1"},i=Bi.get(e.config.apiHost);i&&(r.eid=i);var o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(tn(r).slice(1))}var Wi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Gi=function(){function e(t){f(this,e),this.window=t,this.associatedEvent=null}return m(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Ki(e,t,n,r,i,a){Ln(e.config.authDomain,e,"auth-domain-config-required"),Ln(e.config.apiKey,e,"invalid-api-key");var c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:"9.4.1",eventId:i};if(t instanceof Qr){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var l=o(u[s],2),d=l[0],h=l[1];c[d]=h}}if(t instanceof Fr){var b=t.getScopes().filter(function(e){return""!==e});b.length>0&&(c.scopes=b.join(","))}e.tenantId&&(c.tid=e.tenantId);for(var f,p,m=c,g=0,v=Object.keys(m);g<v.length;g++){var y=v[g];void 0===m[y]&&delete m[y]}return"".concat((f=e,p=f.config,p.emulator?Bn(p,"emulator/auth/handler"):"https://".concat(p.authDomain,"/__/auth/handler")),"?").concat(tn(m).slice(1))}var $i=function(){function e(){f(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jr,this._completeRedirectFn=Si}var t,n,a;return m(e,[{key:"_openPopup",value:(a=r(regeneratorRuntime.mark(function e(t,n,r,i){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(An(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Wi),{width:r.toString(),height:i.toString(),top:a,left:c}),l=$t().toLowerCase();n&&(s=Cr(l)?"_blank":n),kr(l)&&(t=t||"http://localhost",u.scrollbars="yes");var d=Object.entries(u).reduce(function(e,t){var n=o(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")},"");if(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return Ir(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Gi(null);var h=window.open(t||"",s,d);Ln(h,e,"popup-blocked");try{h.focus()}catch(b){}return new Gi(h)}(t,Ki(t,n,r,Fn(),i),Zr())));case 1:case"end":return e.stop()}},e,this)})),function(e,t,n,r){return a.apply(this,arguments)})},{key:"_openRedirect",value:(n=r(regeneratorRuntime.mark(function e(t,n,r,i){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return o=Ki(t,n,r,Fn(),i),ti().location.href=o,e.abrupt("return",new Promise(function(){}));case 5:case"end":return e.stop()}},e,this)})),function(e,t,r,i){return n.apply(this,arguments)})},{key:"_initialize",value:function(e){var t=e._key();if(this.eventManagers[t]){var n=this.eventManagers[t],r=n.manager,i=n.promise;return r?Promise.resolve(r):(An(i,"If manager is not set, promise should be"),i)}var o=this.initAndGetManager(e);return this.eventManagers[t]={promise:o},o}},{key:"initAndGetManager",value:(t=r(regeneratorRuntime.mark(function e(t){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=r(regeneratorRuntime.mark(function e(t){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zi(t);case 2:return n=e.sent,i=ti().gapi,e.abrupt("return",(Ln(i,t,"internal-error"),n.open({where:document.body,url:Hi(t),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vi,dontclear:!0},function(e){return new Promise(function(){var n=r(regeneratorRuntime.mark(function n(r,i){var o,a,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c=function(){ti().clearTimeout(a),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:o=jn(t,"network-request-failed"),a=ti().setTimeout(function(){i(o)},qi.get()),e.ping(c).then(c,function(){i(o)});case 5:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())})));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(t);case 2:return n=e.sent,i=new Ri(t),e.abrupt("return",(n.register("authEvent",function(e){return Ln(null==e?void 0:e.authEvent,t,"invalid-auth-event"),{status:i.onEvent(e.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i));case 5:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send("webStorageSupport",{type:"webStorageSupport"},function(n){var r,i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t,n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=(t=r(regeneratorRuntime.mark(function e(t){var n,o,a,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,function(){var e=r(regeneratorRuntime.mark(function e(t){var n,r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",$n(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(t);case 4:n=e.sent,o=n.authorizedDomains,a=i(o),e.prev=7,a.s();case 9:if((c=a.n()).done){e.next=20;break}if(s=c.value,e.prev=11,!Ai(s)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),a.e(e.t1);case 25:return e.prev=25,a.f(),e.finish(25);case 28:Rn(t,"unauthorized-domain");case 29:case"end":return e.stop()}},e,null,[[7,22,25,28],[11,16]])})),function(e){return t.apply(this,arguments)})(e)),this.originValidationPromises[n]}},{key:"_shouldInitProactively",get:function(){return Pr()||Tr()||Ir()}}]),e}(),Yi=function(){function e(t){f(this,e),this.auth=t,this.internalListeners=new Map}var t;return m(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:(t=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(!this.auth.currentUser){e.next=10;break}return e.next=6,this.auth.currentUser.getIdToken(t);case 6:e.t1=e.sent,e.t0={accessToken:e.t1},e.next=11;break;case 10:e.t0=null;case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged(function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Ln(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Ji(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[DEFAULT]",t=_n.get(e);if(!t)throw Un.create("no-app",{appName:e});return t}(),t=wn(e,"auth");return t.isInitialized()?t.getImmediate():function(e,t){var n=wn(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Zt(n.getOptions(),null!=t?t:{}))return r;Rn(r,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:$i,persistence:[di,Yr,Jr]})}Cn(new cn("auth",function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,o=i.apiKey,a=i.authDomain;return function(e){Ln(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Ln(!(null==a?void 0:a.includes(":")),"argument-error",{appName:e.name});var t={apiKey:o,authDomain:a,clientPlatform:"Browser",apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sr("Browser")},r=new Mr(e,t);return function(e,t){var n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Qn);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(r,n),r}(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,t,n){e.getProvider("auth-internal").initialize()})),Cn(new cn("auth-internal",function(e){return t=Rr(e.getProvider("auth").getImmediate()),new Yi(t);var t},"PRIVATE").setInstantiationMode("EXPLICIT")),On("@firebase/auth","0.19.3",void 0),On("@firebase/auth","0.19.3","esm2017"),On("firebase","9.4.1","app");var Xi,Zi=((Xi=function(){function e(){f(this,e)}return m(e,[{key:"windowRef",get:function(){return window}}]),e}()).\u0275fac=function(e){return new(e||Xi)},Xi.\u0275prov=I.Kb({token:Xi,factory:Xi.\u0275fac}),Xi),eo=["verifyCode"];function to(e,t){1&e&&(I.Ub(0,"div"),I.Qc(1," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ph\u1ea3i d\xe0i t\u1ed1i thi\u1ec3u l\xe0 10 k\xfd t\u1ef1! "),I.Tb())}function no(e,t){if(1&e&&(I.Ub(0,"div",34),I.Oc(1,to,2,0,"div",31),I.Tb()),2&e){var n=I.fc();I.Cb(1),I.mc("ngIf",n.getErrorType("phone","required")||n.getErrorType("phone","minlength"))}}function ro(e,t){if(1&e&&(I.Ub(0,"div",13),I.Ub(1,"label",35),I.Qc(2),I.gc(3,"mytranslate"),I.Tb(),I.Tb()),2&e){var n=I.fc();I.Cb(2),I.Sc("*** ",I.hc(3,1,n.status_obj.error_obj.message),"")}}function io(e,t){if(1&e){var n=I.Vb();I.Ub(0,"div",36),I.Qc(1," Kh\xf4ng nh\u1eadn \u0111\u01b0\u1ee3c m\xe3 x\xe1c th\u1ef1c? "),I.Ub(2,"b",21),I.bc("click",function(){return I.Cc(n),I.fc().resendCode()}),I.Qc(3,"G\u1eedi l\u1ea1i!"),I.Tb(),I.Tb()}}function oo(e,t){1&e&&(I.Ub(0,"span"),I.Pb(1,"span",37),I.Qc(2,"\xa0"),I.Tb())}var ao,co=function(e){return{"margin-left":e}},so=((ao=function(){function e(t,n,r,i,o,a,c){f(this,e),this.formBuilder=t,this.router=n,this.localizeService=r,this.activeRoute=i,this.commonService=o,this.window=a,this.apiService=c,this.confirm_type="forgot_password",this.subscriptions=new x.a,this.form=new k.k({}),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.isVerifying=!1,this.smsSent=!1,this.timeOut=60,this.captchaWidgetId="",this.myCountDown="interval",this.appObj="",this.isLoading=!0}return m(e,[{key:"skipVerifyPhone",value:function(){var e=Math.round((new Date).getTime()/1e3);this.commonService.saveSimpleStorage("skip_verify_phone",e.toString()),this.apiService.redirectLoginByRole(!1);var t=this.getConfirmType();this.commonService.myNavigation("confirm_phone_register"==t?"/admin/student/manage-class/0":"/admin/testbank/dashboard")}},{key:"getError",value:function(e){return!(!this.form.controls[e]||!this.form.controls[e].errors)&&this.form.controls[e].errors}},{key:"getErrorType",value:function(e,t){return!!(this.form.controls[e]&&this.form.controls[e].errors&&this.form.controls[e].errors[t])&&this.form.controls[e].errors[t]}},{key:"getConfirmType",value:function(){return this.commonService.getMyQueryParam("confirm_type")}},{key:"handleConfirmUsage",value:function(){var e=this,t=this.form.value.phone,n=this.getConfirmType();if(""!=t)switch(n){case"forgot_password":this.commonService.gaEvent("confirm_event_forgot_password"),this.apiService.checkPhoneExist(t).subscribe(function(n){1==n.success?e.sendLoginCode("+84"+t.slice(1)):(e.commonService.snackError("S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ch\u01b0a t\u1ed3n t\u1ea1i tr\xean h\u1ec7 th\u1ed1ng",""),e.reRenderCaptcha())});break;case"change_phone":this.commonService.gaEvent("confirm_event_change_phone"),this.apiService.checkPhoneExist(t).subscribe(function(n){1!=n.success?e.sendLoginCode("+84"+t.slice(1)):(e.commonService.snackError("S\u1ed1 \u0111i\u1ec7n tho\u1ea1i \u0111\xe3 t\u1ed3n t\u1ea1i tr\xean h\u1ec7 th\u1ed1ng",""),e.reRenderCaptcha())});break;default:this.commonService.gaEvent("confirm_event_confirm_phone"),this.apiService.CheckUpdatePhoneExists(t).subscribe(function(n){1!=n.success?e.sendLoginCode("+84"+t.slice(1)):(e.commonService.snackError("S\u1ed1 \u0111i\u1ec7n tho\u1ea1i \u0111\xe3 t\u1ed3n t\u1ea1i tr\xean h\u1ec7 th\u1ed1ng",""),e.reRenderCaptcha())})}else this.commonService.snackError("Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i!",""),this.reRenderCaptcha()}},{key:"sendLoginCode",value:function(e){var t,n=this,i=this.windowRef.recaptchaVerifier;(t=r(regeneratorRuntime.mark(function e(t,n,i){var o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Rr(t),e.next=3,function(){var e=r(regeneratorRuntime.mark(function e(t,n,i){var o,a,c,s,u,l,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.verify();case 2:if(a=e.sent,e.prev=3,Ln("string"==typeof a,t,"argument-error"),Ln("recaptcha"===i.type,t,"argument-error"),!("session"in(c="string"==typeof n?{phoneNumber:n}:n))){e.next=17;break}if(s=c.session,!("phoneNumber"in c)){e.next=11;break}return Ln("enroll"===s.type,t,"internal-error"),e.next=10,function(e,t){return $n(e,"POST","/v2/accounts/mfaEnrollment:start",Kn(e,t))}(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:c.phoneNumber,recaptchaToken:a}});case 10:return e.abrupt("return",e.sent.phoneSessionInfo.sessionInfo);case 11:return Ln("signin"===s.type,t,"internal-error"),Ln(u=(null===(o=c.multiFactorHint)||void 0===o?void 0:o.uid)||c.multiFactorUid,t,"missing-multi-factor-info"),e.next=16,function(e,t){return $n(e,"POST","/v2/accounts/mfaSignIn:start",Kn(e,t))}(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:u,phoneSignInInfo:{recaptchaToken:a}});case 16:return e.abrupt("return",e.sent.phoneResponseInfo.sessionInfo);case 17:return e.next=19,function(){var e=r(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$n(t,"POST","/v1/accounts:sendVerificationCode",Kn(t,n)));case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()(t,{phoneNumber:c.phoneNumber,recaptchaToken:a});case 19:return l=e.sent,d=l.sessionInfo,e.abrupt("return",d);case 22:return e.prev=22,i._reset(),e.finish(22);case 25:case"end":return e.stop()}},e,null,[[3,,22,25]])}));return function(t,n,r){return e.apply(this,arguments)}}()(o,n,on(i));case 3:return a=e.sent,e.abrupt("return",new Ti(a,function(e){return(t=r(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hr(Rr(t),n));case 1:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)})(o,e);var t}));case 5:case"end":return e.stop()}},e)})),function(e,n,r){return t.apply(this,arguments)})(Ji(),e,i).then(function(e){n.windowRef.confirmationResult=e,n.smsSent=!0,n.timeOut=60,n.countDownTime()}).catch(function(e){console.log(e),"auth/quota-exceeded"==e.code?n.apiService.setFirebaseExceed(n.firebaseApp).subscribe(function(e){1==e.success?n.apiService.getFirebaseConfig().subscribe(function(e){if(1==e.success)if(e.data.app!==n.firebaseApp){var t=n.commonService.getMyQueryParam("interval_app");if(t&&t!=e.data.app){t=t||e.data.app;var r=n.commonService.getLocalRouter("/auth/confirm_account")+"?return_url="+n.returnUrl+"&confirm_type="+n.confirm_type+"&app_name="+e.data.app+"&interval_app="+t;window.location.href=r.toString()}else n.commonService.snackError("OUT OF QUOTA FIREBASE, CONTACT ADMIN","")}else n.commonService.snackError("OUT OF QUOTA FIREBASE, CONTACT ADMIN","");else n.commonService.snackError("Kh\xf4ng l\u1ea5y \u0111\u01b0\u1ee3c th\xf4ng tin FirebaseApp","")}):n.commonService.snackError("Kh\xf4ng \u0111\xe1nh d\u1ea5u \u0111\u01b0\u1ee3c firebase h\u1ebft quoata","")}):(n.commonService.gaEvent("confirm_event_error_send_code"),n.smsSent=!1,n.commonService.myTranslate([e.code]).subscribe(function(t){n.commonService.snackError("C\xf3 l\u1ed7i x\u1ea3y ra: "+t[e.code],"")}))})}},{key:"verify_code",value:function(e){var t=this;this.windowRef.confirmationResult?(this.isVerifying=!0,this.windowRef.confirmationResult.confirm(e).then(function(e){t.isVerifying=!1;var n=e.user,r=t.getConfirmType();switch(r){case"forgot_password":t.commonService.myNavigationWithQueryString("/auth/set_new_password","?app_name="+t.firebaseApp+"&token="+encodeURIComponent(n.za));break;default:t.apiService.UpdatePhoneOrPasswordByFirebase({firebaseToken:n.za,password:"",appName:t.firebaseApp}).subscribe(function(e){1==e.success?(t.commonService.snackSuccess("C\u1eadp nh\u1eadt s\u1ed1 \u0111i\u1ec7n tho\u1ea1i th\xe0nh c\xf4ng!",""),"confirm_phone_register"==r?t.commonService.myNavigation("/admin/student/manage-class/0"):t.apiService.redirectLoginByRole(!1)):t.commonService.myTranslate([e.message]).subscribe(function(n){t.commonService.snackError("C\xf3 l\u1ed7i x\u1ea3y ra: "+n[e.message],"")})})}}).catch(function(e){t.isVerifying=!1,console.log(e),t.commonService.gaEvent("confirm_event_error_verify_code"),t.commonService.myTranslate([e.code]).subscribe(function(n){t.commonService.snackError("C\xf3 l\u1ed7i x\u1ea3y ra: "+n[e.code],"")})})):(this.isVerifying=!1,this.commonService.snackError("M\xe3 x\xe1c th\u1ef1c kh\xf4ng \u0111\xfang, vui l\xf2ng ki\u1ec3m tra l\u1ea1i",""))}},{key:"resendCode",value:function(){var e;this.reRenderCaptcha(),null===(e=document.getElementById("recaptcha-container"))||void 0===e||e.click()}},{key:"countDownTime",value:function(){var e=this;this.myCountDown=setInterval(function(){e.timeOut>0&&e.timeOut--},1e3)}},{key:"initForm",value:function(){this.form=this.formBuilder.group({phone:["",[k.z.required,k.z.minLength(10)]]})}},{key:"handleClickLogout",value:function(){"forgot_password"==this.confirm_type||"change_phone"==this.confirm_type?this.apiService.redirectLoginByRole(!1):(this.apiService.logout(),this.commonService.redirectSimpleLogin())}},{key:"reRenderCaptcha",value:function(){this.windowRef.recaptchaVerifier.reset(this.windowRef.recaptchaWidgetId)}},{key:"handleEnterVerify",value:function(e,t){"Enter"==e.key&&(this.commonService.gaEvent("confirm_event_verify_code_by_press_enter"),this.verify_code(t))}},{key:"ngOnInit",value:function(){var e=this;this.initForm(),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"object"!=typeof t&&(t={name:t});var n=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw Un.create("bad-app-name",{appName:String(r)});var o=_n.get(r);if(o){if(Zt(e,o.options)&&Zt(n,o.config))return o;throw Un.create("duplicate-app",{appName:r})}var a,c=new un(r),s=i(kn.values());try{for(s.s();!(a=s.n()).done;){var u=a.value;c.addComponent(u)}}catch(d){s.e(d)}finally{s.f()}var l=new xn(e,n,c);_n.set(r,l)}(re.a["firebaseConfig_"+this.firebaseApp]),Ji().useDeviceLanguage();var t=this.getConfirmType();switch(this.confirm_type=this.getConfirmType(),"forgot_password"!=t&&this.apiService.getInfo().subscribe(function(n){1==n.success?1==n.data.isVerifyPhone?"change_phone"!=t&&e.apiService.redirectLoginByRole(!1):n.data.phone&&""==n.data.phone?console.log("enter phone plz"):e.form.setValue(n.data.phone&&n.data.phone.length>10?{phone:""}:{phone:n.data.phone}):e.commonService.myTranslate([n.message]).subscribe(function(t){e.commonService.snackError("C\xf3 l\u1ed7i x\u1ea3y ra: "+t[n.message],"")})}),t){case"forgot_password":this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"});break;case"change_phone":this.commonService.translateMetaData({title:"lang_cms_auth_confirm_change_phone_title",description:"lang_cms_auth_confirm_change_phone_description",image:"lang_cms_test_image"});break;default:this.commonService.translateMetaData({title:"lang_cms_auth_confirm_confirm_phone_title",description:"lang_cms_auth_confirm_confirm_phone_description",image:"lang_cms_test_image"})}}},{key:"ngAfterViewInit",value:function(){var e=this;this.windowRef=this.window.windowRef;var t=Ji();if(this.windowRef.recaptchaVerifier=new ki("recaptcha-container",{size:"invisible",callback:function(t){e.handleConfirmUsage()}},t),alert("done he"),this.windowRef.recaptchaVerifier.render().then(function(t){e.windowRef.recaptchaWidgetId=t}),this.verifyCode&&""!=this.verifyCode.nativeElement.value){var n=this.verifyCode.nativeElement.value;this.verifyCode.nativeElement.addEventListener("keyup",function(t){return e.handleEnterVerify(t,n)})}}},{key:"ngOnDestroy",value:function(){var e=this;if(this.subscriptions.unsubscribe(),clearInterval(this.myCountDown),this.verifyCode){var t=this.verifyCode.nativeElement.value;this.verifyCode.nativeElement.removeEventListener("keyup",function(n){return e.handleEnterVerify(n,t)})}}},{key:"firebaseApp",get:function(){return this.commonService.getMyQueryParam("app_name")}},{key:"returnUrl",get:function(){return this.commonService.getMyQueryParam("return_url")}}]),e}()).\u0275fac=function(e){return new(e||ao)(I.Ob(k.g),I.Ob(b.i),I.Ob(ne.e),I.Ob(b.a),I.Ob(P.a),I.Ob(Zi),I.Ob(S.a))},ao.\u0275cmp=I.Ib({type:ao,selectors:[["app-confirm-account"]],viewQuery:function(e,t){var n;1&e&&I.Xc(eo,!0),2&e&&I.xc(n=I.cc())&&(t.verifyCode=n.first)},features:[I.Bb([Zi])],decls:50,vars:13,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[2,"margin-top","4vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["id","authForm",1,"card"],[1,"card-body"],["id","verify_wrap"],["id","enter_phone_area",3,"ngStyle"],["id","enter_phone_wrap"],[1,"form-horizontal",3,"formGroup"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["id","phoneInput","type","text","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","formControlName","phone","autocomplete","off",1,"form-control"],["phoneInput",""],["class","alert alert-danger",4,"ngIf"],["id","recaptcha-container","color","primary","mat-raised-button",""],[1,"mt-3","text-center"],[1,"clickable",3,"click"],["class","form-group",4,"ngIf"],["id","verify_area",1,"form-group"],[1,"sms-info"],[2,"text-align","right","font-size","12px","margin-bottom","3px"],["class","mb-2 mt-2 resend-code",4,"ngIf"],["type","string","placeholder","M\xe3 x\xe1c th\u1ef1c","autocomplete","off",1,"form-control"],["verifyCode",""],[1,"input-group-append","ml-1"],["id","buttonVerify","mat-raised-button","","color","primary",3,"disabled","click"],[4,"ngIf"],[1,"text-center","mt-3"],[1,"text-normal","clickable",3,"click"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],[1,"mb-2","mt-2","resend-code"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,t){if(1&e){var n=I.Vb();I.Ub(0,"div",0),I.Ub(1,"div",1),I.Ub(2,"div",2),I.Pb(3,"div",3),I.Ub(4,"div",4),I.Ub(5,"h2",5),I.Pb(6,"img",6),I.Tb(),I.Ub(7,"div",7),I.Ub(8,"div",8),I.Ub(9,"h2"),I.Qc(10),I.Tb(),I.Ub(11,"div"),I.Ub(12,"div",9),I.Ub(13,"div",10),I.Ub(14,"div",11),I.Ub(15,"form",12),I.Ub(16,"div",13),I.Ub(17,"div",14),I.Ub(18,"div",15),I.Pb(19,"input",16,17),I.Tb(),I.Oc(21,no,2,1,"div",18),I.Ub(22,"button",19),I.Qc(23,"Ti\u1ebfp t\u1ee5c"),I.Tb(),I.Ub(24,"div",20),I.Ub(25,"a",21),I.bc("click",function(){return t.skipVerifyPhone()}),I.Qc(26,"B\u1ecf qua"),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Oc(27,ro,4,3,"div",22),I.Tb(),I.Tb(),I.Ub(28,"div",23),I.Ub(29,"div",14),I.Ub(30,"div",24),I.Qc(31," M\u1ed9t tin nh\u1eafn ch\u1ee9a m\xe3 x\xe1c th\u1ef1c v\u1eeba \u0111\u01b0\u1ee3c g\u1eedi t\u1edbi s\u1ed1 \u0111i\u1ec7n tho\u1ea1i "),I.Ub(32,"b"),I.Qc(33),I.Tb(),I.Qc(34,". Vui l\xf2ng nh\u1eadp m\xe3 n\xe0y v\xe0o \xf4 d\u01b0\u1edbi \u0111\xe2y r\u1ed3i \u1ea5n x\xe1c th\u1ef1c "),I.Tb(),I.Ub(35,"div",25),I.Qc(36),I.Tb(),I.Oc(37,io,4,0,"div",26),I.Ub(38,"div",15),I.Pb(39,"input",27,28),I.Ub(41,"div",29),I.Ub(42,"button",30),I.bc("click",function(){I.Cc(n);var e=I.yc(40);return t.verify_code(e.value)}),I.Oc(43,oo,3,0,"span",31),I.Qc(44,"X\xe1c th\u1ef1c "),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Pb(45,"hr"),I.Ub(46,"div",32),I.Ub(47,"a",33),I.bc("click",function(){return t.handleClickLogout()}),I.Qc(48),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Pb(49,"div",3),I.Tb(),I.Tb(),I.Tb()}if(2&e){var r=I.yc(40);I.Cb(10),I.Rc("change_phone"==t.confirm_type?"Nh\u1eadp v\xe0o s\u1ed1 \u0111i\u1ec7n tho\u1ea1i m\u1edbi":"X\xe1c th\u1ef1c s\u1ed1 \u0111i\u1ec7n tho\u1ea1i c\u1ee7a b\u1ea1n"),I.Cb(3),I.mc("ngStyle",I.rc(11,co,t.smsSent?"-100%":"0")),I.Cb(2),I.mc("formGroup",t.form),I.Cb(6),I.mc("ngIf",t.form.controls.phone.invalid&&(t.form.controls.phone.dirty||t.form.controls.phone.touched)),I.Cb(6),I.mc("ngIf",t.status_obj.error_obj.message),I.Cb(6),I.Rc(t.form.value.phone),I.Cb(3),I.Sc("",t.timeOut," s"),I.Cb(1),I.mc("ngIf",0==t.timeOut),I.Cb(5),I.mc("disabled",""==r.value||t.isVerifying),I.Cb(1),I.mc("ngIf",!0===t.status_obj.loading),I.Cb(5),I.Rc("forgot_password"==t.confirm_type?"\u0110\u0103ng nh\u1eadp t\xe0i kho\u1ea3n":"change_phone"==t.confirm_type?"Quay l\u1ea1i m\xe0n h\xecnh ch\xednh":"\u0110\u0103ng xu\u1ea5t")}},directives:[p.n,k.B,k.s,k.l,k.d,k.r,k.j,p.m,F.b],pipes:[z.o],styles:["#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin .5s ease}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}"]}),ao);function uo(e,t){1&e&&(I.Ub(0,"div"),I.Ub(1,"div",12),I.Ub(2,"div",13),I.Ub(3,"span",14),I.Qc(4),I.gc(5,"mytranslate"),I.Tb(),I.Tb(),I.Tb(),I.Tb()),2&e&&(I.Cb(4),I.Sc("",I.hc(5,1,"lang_cms_common_loading"),"..."))}function lo(e,t){1&e&&(I.Ub(0,"span"),I.Pb(1,"span",20),I.Qc(2,"\xa0"),I.Tb())}function ho(e,t){if(1&e){var n=I.Vb();I.Ub(0,"div"),I.Ub(1,"div",15),I.Ub(2,"div",16),I.Ub(3,"button",17),I.bc("click",function(){I.Cc(n);var e=I.fc();return e.status_obj.loading||e.becomeTeacher()}),I.Oc(4,lo,3,0,"span",11),I.Qc(5,"Click v\xe0o \u0111\xe2y \u0111\u1ec3 tr\u1edf th\xe0nh gi\xe1o vi\xean "),I.Tb(),I.Tb(),I.Tb(),I.Ub(6,"div",18),I.Ub(7,"a",19),I.bc("click",function(){return I.Cc(n),I.fc().goBack()}),I.Qc(8,"Quay l\u1ea1i trang ch\u1ee7"),I.Tb(),I.Tb(),I.Tb()}if(2&e){var r=I.fc();I.Cb(3),I.mc("disabled",r.status_obj.loading),I.Cb(1),I.mc("ngIf",!0===r.status_obj.loading)}}var bo,fo=((bo=function(){function e(t,n){f(this,e),this.apiService=t,this.commonService=n,this.subscriptions=new x.a,this.status_obj={form_loading:!0,loading:!1,error:!1,error_obj:{message:""}}}return m(e,[{key:"goBack",value:function(){this.apiService.redirectLoginByRole(!1)}},{key:"becomeTeacher",value:function(){var e=this;this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiService.becomeTeacher().subscribe(function(t){1==t.success?(e.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},e.apiService.redirectLoginByRole(!1)):(e.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t},e.commonService.myTranslate([t.message]).subscribe(function(n){e.commonService.snackError(n[t.message],"")}))}))}},{key:"ngOnInit",value:function(){this.apiService.isAnonymousRole()?this.commonService.redirectSimpleRegister():(this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.commonService.translateMetaData({title:"lang_cms_auth_become_teacher_title",description:"lang_cms_auth_become_teacher_description",image:"lang_cms_test_image"}))}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||bo)(I.Ob(S.a),I.Ob(P.a))},bo.\u0275cmp=I.Ib({type:bo,selectors:[["app-become-teacher"]],decls:15,vars:2,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[2,"margin-top","6vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-md-12","text-center"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"text-center","mt-3"],[1,"clickable",3,"click"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&(I.Ub(0,"div",0),I.Ub(1,"div",1),I.Ub(2,"div",2),I.Pb(3,"div",3),I.Ub(4,"div",4),I.Ub(5,"h2",5),I.Pb(6,"img",6),I.Tb(),I.Ub(7,"div",7),I.Ub(8,"div",8),I.Ub(9,"span",9),I.Qc(10,"T\xf4i mu\u1ed1n th\xe0nh gi\xe1o vi\xean"),I.Tb(),I.Tb(),I.Ub(11,"div",10),I.Oc(12,uo,6,3,"div",11),I.Oc(13,ho,9,2,"div",11),I.Tb(),I.Tb(),I.Tb(),I.Pb(14,"div",3),I.Tb(),I.Tb(),I.Tb()),2&e&&(I.Cb(12),I.mc("ngIf",1==t.status_obj.form_loading),I.Cb(1),I.mc("ngIf",1!=t.status_obj.form_loading))},directives:[p.m,F.b],pipes:[z.o],styles:[".checkboxInput[_ngcontent-%COMP%]{padding:5px 15px;font-size:1rem;font-weight:400;line-height:2}.zalo-icon[_ngcontent-%COMP%]{height:30px;margin-right:10px}"]}),bo);function po(e,t){if(1&e){var n=I.Vb();I.Ub(0,"div",15),I.Pb(1,"img",16),I.gc(2,"mycdn"),I.gc(3,"mycdn"),I.Ub(4,"span",17),I.bc("click",function(){I.Cc(n);var e=t.index;return I.fc(2).removeFile(e)}),I.Ub(5,"mat-icon"),I.Qc(6,"cancel"),I.Tb(),I.Tb(),I.Tb()}if(2&e){var r=t.$implicit;I.Cb(1),I.nc("src",I.hc(2,2,r.thumb.url),I.Gc),I.nc("alt",I.hc(3,4,r.thumb.url))}}function mo(e,t){if(1&e&&(I.Ub(0,"div",13),I.Oc(1,po,7,6,"div",14),I.Tb()),2&e){var n=I.fc();I.Cb(1),I.mc("ngForOf",n.answerFiles)}}function go(e,t){1&e&&(I.Ub(0,"span"),I.Pb(1,"span",18),I.Qc(2,"\xa0"),I.Tb())}var vo,yo=((vo=function(){function e(t,n,r){var i=this;f(this,e),this.fb=t,this.commonService=n,this.apiService=r,this.subscriptions=new x.a,this.form=new k.k({}),this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.answerFiles=[],this.selectFile=function(e){var t=e.target.files;try{for(var n in t)"length"!=n&&"item"!=n&&(i.answerFile=t?t[n]:i.answerFile,i.answerFile&&(i.status_obj={loading:!0,error:!1,error_obj:{message:""}},i.uploadPPT(i.answerFile)))}catch(r){alert("\u0110\xe3 x\u1ea3y ra l\u1ed7i:"+r)}},this.uploadPPT=function(e){i.apiService.uploadPptThumbnail(e).subscribe(function(t){1==t.success?i.apiService.uploadToCdnForPptFile(e).subscribe(function(e){1==e.success?(Array.isArray(i.answerFiles)||(i.answerFiles=[]),i.answerFiles.push({thumb:t.data,ppt:e.data}),i.status_obj={loading:!1,error:!1,error_obj:{message:""}}):(i.status_obj={loading:!1,error:!1,error_obj:{message:""}},i.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c file PowerPoint! Vui l\xf2ng th\u1eed l\u1ea1i sau!",""))}):(i.status_obj={loading:!1,error:!1,error_obj:{message:""}},i.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c file Thumbnail! Vui l\xf2ng th\u1eed l\u1ea1i sau!",""))})},this.answerFile=null}return m(e,[{key:"saveObj",value:function(){var e=this;this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.apiService.saveContentObjs(this.answerFiles).subscribe(function(t){e.status_obj={loading:!1,error:!1,error_obj:{message:""}},1==t.success?e.commonService.snackSuccess("T\u1ea1o n\u1ed9i dung th\xe0nh c\xf4ng",""):e.commonService.snackError("T\u1ea1o n\u1ed9i dung b\u1ecb l\u1ed7i!","")})}},{key:"removeFile",value:function(e){this.answerFiles[e]&&delete this.answerFiles[e]}},{key:"ngOnInit",value:function(){this.form=this.fb.group({file:new k.h("",k.z.required)})}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||vo)(I.Ob(k.g),I.Ob(P.a),I.Ob(S.a))},vo.\u0275cmp=I.Ib({type:vo,selectors:[["app-upload-file"]],decls:19,vars:4,consts:[[1,"container-fluid","mt-5","mb-5"],["enctype","multipart/form-data",1,"form-horizontal","text-center",3,"formGroup"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","text-center","v-dragndrop","dropzone","dz-started"],["id","dropzone-3404",1,"px-4","py-3","rounded",2,"cursor","pointer",3,"click"],[1,"file"],["id","select-upload-file",1,"align-self-center","select","dz-clickable"],["type","file","id","file_select","multiple","","formControlName","file",1,"form-control","file-input",3,"change"],["fileSelect",""],["class","row ml-0 mr-0 mt-4 attach-container",4,"ngIf"],[1,"mt-20"],[1,"col-sm-12"],["mat-raised-button","","color","primary",2,"margin-top","20px",3,"disabled","click"],[4,"ngIf"],[1,"row","ml-0","mr-0","mt-4","attach-container"],["class","img-container",4,"ngFor","ngForOf"],[1,"img-container"],[1,"img-fluid","item",3,"src","alt"],[1,"notify-badge",3,"click"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,t){if(1&e){var n=I.Vb();I.Ub(0,"div",0),I.Ub(1,"form",1),I.Ub(2,"div",2),I.Ub(3,"div",3),I.bc("click",function(){return I.Cc(n),I.yc(12).click()}),I.Ub(4,"div",4),I.Ub(5,"a",5),I.Ub(6,"mat-icon"),I.Qc(7,"attach_file"),I.Tb(),I.Tb(),I.Pb(8,"br"),I.Ub(9,"span"),I.Qc(10,"Ch\u1ecdn file t\u1ea3i l\xean"),I.Tb(),I.Ub(11,"input",6,7),I.bc("change",function(e){return t.selectFile(e)}),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Oc(13,mo,2,1,"div",8),I.Ub(14,"div",9),I.Ub(15,"div",10),I.Ub(16,"button",11),I.bc("click",function(){return t.saveObj()}),I.Oc(17,go,3,0,"span",12),I.Qc(18,"L\u01b0u file Powerpoint "),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb()}2&e&&(I.Cb(1),I.mc("formGroup",t.form),I.Cb(12),I.mc("ngIf",t.answerFiles.length>0),I.Cb(3),I.mc("disabled",t.status_obj.loading),I.Cb(1),I.mc("ngIf",!0===t.status_obj.loading))},directives:[k.B,k.s,k.l,A.a,k.d,k.r,k.j,p.m,F.b,p.l],pipes:[z.m],styles:[".v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;line-height:1.5}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}@media (max-width:768px){.dropzone[_ngcontent-%COMP%]{min-width:100px}._col-left[_ngcontent-%COMP%]{margin-bottom:20px}}"]}),vo);function _o(e,t){1&e&&(I.Ub(0,"div"),I.Ub(1,"div",13),I.Ub(2,"div",14),I.Ub(3,"span",15),I.Qc(4),I.gc(5,"mytranslate"),I.Tb(),I.Tb(),I.Tb(),I.Tb()),2&e&&(I.Cb(4),I.Sc("",I.hc(5,1,"lang_cms_common_loading"),"..."))}function ko(e,t){1&e&&(I.Ub(0,"span"),I.Pb(1,"span",21),I.Qc(2,"\xa0"),I.Tb())}function To(e,t){if(1&e){var n=I.Vb();I.Ub(0,"div"),I.Ub(1,"div",16),I.Ub(2,"div",17),I.Ub(3,"button",18),I.bc("click",function(){I.Cc(n);var e=I.fc(2);return e.status_obj.loading||e.becomeTeacher()}),I.Oc(4,ko,3,0,"span",12),I.Qc(5,"Click v\xe0o \u0111\xe2y \u0111\u1ec3 tr\u1edf th\xe0nh gi\xe1o vi\xean "),I.Tb(),I.Tb(),I.Tb(),I.Ub(6,"div",19),I.Ub(7,"a",20),I.bc("click",function(){return I.Cc(n),I.fc(2).goBack()}),I.Qc(8,"Quay l\u1ea1i trang ch\u1ee7"),I.Tb(),I.Tb(),I.Tb()}if(2&e){var r=I.fc(2);I.Cb(3),I.mc("disabled",r.status_obj.loading),I.Cb(1),I.mc("ngIf",!0===r.status_obj.loading)}}function Co(e,t){if(1&e&&(I.Ub(0,"div",5),I.Ub(1,"h2",6),I.Pb(2,"img",7),I.Tb(),I.Ub(3,"div",8),I.Ub(4,"div",9),I.Ub(5,"span",10),I.Qc(6,"T\xf4i mu\u1ed1n th\xe0nh gi\xe1o vi\xean"),I.Tb(),I.Tb(),I.Ub(7,"div",11),I.Oc(8,_o,6,3,"div",12),I.Oc(9,To,9,2,"div",12),I.Tb(),I.Tb(),I.Tb()),2&e){var n=I.fc();I.Cb(8),I.mc("ngIf",1==n.status_obj.form_loading),I.Cb(1),I.mc("ngIf",1!=n.status_obj.form_loading)}}function wo(e,t){1&e&&(I.Ub(0,"div"),I.Ub(1,"div",13),I.Ub(2,"div",14),I.Ub(3,"span",15),I.Qc(4),I.gc(5,"mytranslate"),I.Tb(),I.Tb(),I.Tb(),I.Tb()),2&e&&(I.Cb(4),I.Sc("",I.hc(5,1,"lang_cms_common_loading"),"..."))}function Uo(e,t){1&e&&(I.Ub(0,"span"),I.Pb(1,"span",21),I.Qc(2,"\xa0"),I.Tb())}function xo(e,t){if(1&e){var n=I.Vb();I.Ub(0,"div"),I.Ub(1,"div",16),I.Ub(2,"div",17),I.Ub(3,"button",18),I.bc("click",function(){I.Cc(n);var e=I.fc(2);return e.status_obj.loading||e.becomeStudent()}),I.Oc(4,Uo,3,0,"span",12),I.Qc(5,"Click v\xe0o \u0111\xe2y \u0111\u1ec3 b\u1ecf quy\u1ec1n gi\xe1o vi\xean "),I.Tb(),I.Tb(),I.Tb(),I.Ub(6,"div",19),I.Ub(7,"a",20),I.bc("click",function(){return I.Cc(n),I.fc(2).goBack()}),I.Qc(8,"Quay l\u1ea1i trang ch\u1ee7"),I.Tb(),I.Tb(),I.Tb()}if(2&e){var r=I.fc(2);I.Cb(3),I.mc("disabled",r.status_obj.loading),I.Cb(1),I.mc("ngIf",!0===r.status_obj.loading)}}function Oo(e,t){if(1&e&&(I.Ub(0,"div",5),I.Ub(1,"h2",6),I.Pb(2,"img",7),I.Tb(),I.Ub(3,"div",8),I.Ub(4,"div",9),I.Ub(5,"span",10),I.Qc(6,"T\xf4i mu\u1ed1n b\u1ecf quy\u1ec1n gi\xe1o vi\xean"),I.Tb(),I.Tb(),I.Ub(7,"div",11),I.Oc(8,wo,6,3,"div",12),I.Oc(9,xo,9,2,"div",12),I.Tb(),I.Tb(),I.Tb()),2&e){var n=I.fc();I.Cb(8),I.mc("ngIf",1==n.status_obj.form_loading),I.Cb(1),I.mc("ngIf",1!=n.status_obj.form_loading)}}var Io,Po,So=((Po=function(){function e(t,n){f(this,e),this.apiService=t,this.commonService=n,this.subscriptions=new x.a,this.status_obj={form_loading:!0,loading:!1,error:!1,error_obj:{message:""}},this.isTeacher=!1,this.isStudent=!1}return m(e,[{key:"goBack",value:function(){this.apiService.redirectLoginByRole(!1)}},{key:"becomeTeacher",value:function(){var e=this;this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiService.becomeTeacher().subscribe(function(t){1==t.success?(e.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},e.apiService.redirectLoginByRole(!1)):(e.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t},e.commonService.myTranslate([t.message]).subscribe(function(n){e.commonService.snackError(n[t.message],"")}))}))}},{key:"becomeStudent",value:function(){var e=this;this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiService.removeTeacherRole().subscribe(function(t){1==t.success?(e.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},e.apiService.redirectLoginByRole(e.commonService.getLocalRouter("/student/dashboard/0"))):(e.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t},e.commonService.myTranslate([t.message]).subscribe(function(n){e.commonService.snackError(n[t.message],"")}))}))}},{key:"ngOnInit",value:function(){this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.commonService.translateMetaData({title:"\u0110\u1ed5i Vai Tr\xf2",description:"\u0110\u1ed5i Vai Tr\xf2",image:"lang_cms_test_image"}),this.isTeacher=this.apiService.isTeacherRole()}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Po)(I.Ob(S.a),I.Ob(P.a))},Po.\u0275cmp=I.Ib({type:Po,selectors:[["app-switch-teacher-student"]],decls:7,vars:2,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[2,"margin-top","6vh"],[1,"row"],[1,"col-sm-3"],["class","col-sm-6",4,"ngIf"],[1,"col-sm-6"],[1,"text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-md-12","text-center"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"text-center","mt-3"],[1,"clickable",3,"click"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&(I.Ub(0,"div",0),I.Ub(1,"div",1),I.Ub(2,"div",2),I.Pb(3,"div",3),I.Oc(4,Co,10,2,"div",4),I.Oc(5,Oo,10,2,"div",4),I.Pb(6,"div",3),I.Tb(),I.Tb(),I.Tb()),2&e&&(I.Cb(4),I.mc("ngIf",0==t.isTeacher),I.Cb(1),I.mc("ngIf",1==t.isTeacher))},directives:[p.m,F.b],pipes:[z.o],styles:[""]}),Po),Mo=((Io=function(){function e(t,n){f(this,e),this.commonService=t,this.apiService=n}return m(e,[{key:"ngOnInit",value:function(){var e=this;this.apiService.getFirebaseConfig().subscribe(function(t){if(1==t.success){var n=e.commonService.getLocalRouter("/auth/confirm_account")+"?return_url="+e.returnUrl+"&confirm_type="+e.confirm_type+"&app_name="+t.data.app;window.location.href=n.toString()}else e.commonService.snackError("C\xf3 l\u1ed7i khi ki\u1ec3m tra d\u1ecbch v\u1ee5","")})}},{key:"ngOnDestroy",value:function(){}},{key:"returnUrl",get:function(){return this.commonService.getMyQueryParam("return_url")}},{key:"confirm_type",get:function(){return this.commonService.getMyQueryParam("confirm_type")}}]),e}()).\u0275fac=function(e){return new(e||Io)(I.Ob(P.a),I.Ob(S.a))},Io.\u0275cmp=I.Ib({type:Io,selectors:[["app-checking-service"]],decls:3,vars:0,consts:[[1,"mt-5","text-center"],["role","status",1,"spinner-border","spinner-border-md",2,"color","#2361ae"]],template:function(e,t){1&e&&(I.Ub(0,"h2",0),I.Pb(1,"span",1),I.Qc(2,"\xa0 \u0110ang ki\u1ec3m tra d\u1ecbch v\u1ee5 ..."),I.Tb())},encapsulation:2}),Io),Ro=u("0IaG"),jo=u("uZ1F"),Eo=u("IU+r"),Lo=u("1jcm"),No=["fondovalor1"],Ao=["fondovalor2"],Do=["fondovalor3"];function Qo(e,t){if(1&e){var n=I.Vb();I.Ub(0,"a",21),I.bc("click",function(){return I.Cc(n),I.fc(2).AllErr()}),I.Qc(1,"All Error"),I.Tb()}}function Fo(e,t){1&e&&I.Pb(0,"div",22)}function zo(e,t){1&e&&(I.Ub(0,"div",38),I.Qc(1,"Tuy\u1ec7t v\u1eddi, kh\xf4ng c\xf3 l\u1ed7i n\xe0o."),I.Pb(2,"img",39),I.Tb())}function qo(e,t){if(1&e&&(I.Pb(0,"img",51),I.gc(1,"mycdn")),2&e){var n=I.fc().$implicit;I.nc("src",I.hc(1,1,n.avatar),I.Gc)}}function Vo(e,t){if(1&e&&I.Pb(0,"azt-create-avatar",52),2&e){var n=I.fc().$implicit;I.mc("nameCreateAvatar",n.fullname)("size",26)}}function Bo(e,t){1&e&&(I.Ub(0,"div",53),I.Qc(1,"\u0110\xe3 xong"),I.Tb())}function Ho(e,t){1&e&&(I.Ub(0,"div",54),I.Qc(1,"Ch\u01b0a xong"),I.Tb())}function Wo(e,t){if(1&e){var n=I.Vb();I.Ub(0,"div"),I.Ub(1,"div",40),I.Ub(2,"div",41),I.bc("click",function(){I.Cc(n);var e=t.$implicit;return I.fc(3).searchByEvent("userId",e.userId)}),I.Oc(3,qo,2,3,"img",42),I.Oc(4,Vo,1,2,"azt-create-avatar",43),I.Ub(5,"span"),I.Qc(6),I.Tb(),I.Tb(),I.Ub(7,"div",44),I.bc("click",function(){I.Cc(n);var e=t.$implicit;return I.fc(3).openDialog(e.id)}),I.Qc(8),I.Tb(),I.Ub(9,"div",45),I.bc("click",function(){I.Cc(n);var e=t.$implicit;return I.fc(3).searchByEvent("url",e.url)}),I.Qc(10),I.Tb(),I.Ub(11,"div",46),I.bc("click",function(){I.Cc(n);var e=t.$implicit;return I.fc(3).openDialog(e.id)}),I.Qc(12),I.gc(13,"date"),I.Tb(),I.Ub(14,"div",47),I.bc("click",function(){I.Cc(n);var e=t.$implicit;return I.fc(3).openDialog(e.id)}),I.Oc(15,Bo,2,0,"div",48),I.Oc(16,Ho,2,0,"div",49),I.Tb(),I.Tb(),I.Pb(17,"hr",50),I.Tb()}if(2&e){var r=t.$implicit;I.Cb(3),I.mc("ngIf",null!=r.avatar),I.Cb(1),I.mc("ngIf",null==r.avatar),I.Cb(2),I.Rc(r.fullname),I.Cb(2),I.Sc(" ",r.content," "),I.Cb(2),I.Sc(" ",r.url," "),I.Cb(2),I.Sc(" ",I.ic(13,8,r.createdAt,"dd/MM/yyyy HH:mm:ss")," "),I.Cb(3),I.mc("ngIf",1==r.status),I.Cb(1),I.mc("ngIf",0==r.status)}}function Go(e,t){if(1&e){var n=I.Vb();I.Ub(0,"div",23),I.Ub(1,"div",24),I.Ub(2,"div",25),I.Qc(3,"L\u1ed7i t\u1eeb ng\u01b0\u1eddi d\xf9ng: "),I.Tb(),I.Ub(4,"div",26),I.Qc(5),I.Tb(),I.Tb(),I.Pb(6,"hr",27),I.Oc(7,zo,3,0,"div",28),I.Ub(8,"div",29),I.Ub(9,"div",30),I.Qc(10," T\xean t\xe0i kho\u1ea3n "),I.Tb(),I.Ub(11,"div",31),I.Qc(12," N\u1ed9i dung l\u1ed7i "),I.Tb(),I.Ub(13,"div",32),I.Qc(14," Url "),I.Tb(),I.Ub(15,"div",30),I.Qc(16," Ng\xe0y b\xe1o l\u1ed7i "),I.Tb(),I.Ub(17,"div",33),I.Qc(18," Tr\u1ea1ng th\xe1i "),I.Tb(),I.Tb(),I.Pb(19,"hr",34),I.Oc(20,Wo,18,11,"div",35),I.Ub(21,"div",36),I.Ub(22,"azt-paging",37),I.bc("SendPage",function(e){return I.Cc(n),I.fc(2).clickPage(e)}),I.Tb(),I.Tb(),I.Tb()}if(2&e){var r=I.fc(2);I.Cb(5),I.Sc("T\u1ed5ng s\u1ed1 l\u1ed7i: ",r.data.totalObjs,""),I.Cb(2),I.mc("ngIf",0==r.data.totalObjs),I.Cb(13),I.mc("ngForOf",r.trackLogs),I.Cb(2),I.mc("lengthPage",r.lengthPage)("paging",r.page)}}function Ko(e,t){if(1&e){var n=I.Vb();I.Ub(0,"div",3),I.Ub(1,"div",4),I.Ub(2,"div",5),I.Oc(3,Qo,2,0,"a",6),I.Tb(),I.Ub(4,"div",7),I.Ub(5,"div",8),I.Ub(6,"input",9,10),I.bc("keyup.enter",function(){return I.Cc(n),I.fc().search()}),I.Tb(),I.Pb(8,"div",11),I.Tb(),I.Tb(),I.Ub(9,"div",7),I.Ub(10,"div",8),I.Ub(11,"input",12,13),I.bc("keyup.enter",function(){return I.Cc(n),I.fc().search()}),I.Tb(),I.Tb(),I.Tb(),I.Ub(13,"div",7),I.Ub(14,"div",8),I.Ub(15,"input",14,15),I.bc("keyup.enter",function(){return I.Cc(n),I.fc().search()}),I.Tb(),I.Tb(),I.Tb(),I.Ub(17,"div",16),I.Ub(18,"div",11),I.Ub(19,"mat-icon",17),I.bc("click",function(){return I.Cc(n),I.fc().search()}),I.Qc(20," search "),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Pb(21,"hr",18),I.Oc(22,Fo,1,0,"div",19),I.Oc(23,Go,23,5,"div",20),I.Tb()}if(2&e){var r=I.fc();I.Cb(3),I.mc("ngIf",1==r.showAllError&&!1===r.loading),I.Cb(3),I.nc("value",r.phone_search),I.Cb(5),I.nc("value",r.user_id_search),I.Cb(4),I.nc("value",r.url_search),I.Cb(7),I.mc("ngIf",!0===r.loading),I.Cb(1),I.mc("ngIf",r.data&&!1===r.loading)}}function $o(e,t){if(1&e){var n=I.Vb();I.Ub(0,"a",21),I.bc("click",function(){return I.Cc(n),I.fc(2).AllErr()}),I.Qc(1,"All Error"),I.Tb()}}function Yo(e,t){1&e&&I.Pb(0,"div",22)}function Jo(e,t){1&e&&(I.Ub(0,"div",38),I.Qc(1,"Tuy\u1ec7t v\u1eddi, kh\xf4ng c\xf3 l\u1ed7i n\xe0o."),I.Pb(2,"img",39),I.Tb())}function Xo(e,t){if(1&e&&(I.Pb(0,"img",51),I.gc(1,"mycdn")),2&e){var n=I.fc().$implicit;I.nc("src",I.hc(1,1,n.avatar),I.Gc)}}function Zo(e,t){if(1&e&&I.Pb(0,"azt-create-avatar",52),2&e){var n=I.fc().$implicit;I.mc("nameCreateAvatar",n.fullname)("size",26)}}function ea(e,t){1&e&&(I.Ub(0,"div",53),I.Qc(1,"\u0110\xe3 xong"),I.Tb())}function ta(e,t){1&e&&(I.Ub(0,"div",54),I.Qc(1,"Ch\u01b0a xong"),I.Tb())}function na(e,t){if(1&e){var n=I.Vb();I.Ub(0,"tr",64),I.Ub(1,"td",65),I.bc("click",function(){I.Cc(n);var e=t.$implicit;return I.fc(3).searchByEvent("userId",e.userId)}),I.Oc(2,Xo,2,3,"img",42),I.Oc(3,Zo,1,2,"azt-create-avatar",43),I.Ub(4,"span"),I.Qc(5),I.Tb(),I.Tb(),I.Ub(6,"td",66),I.bc("click",function(){I.Cc(n);var e=t.$implicit;return I.fc(3).openDialog(e.id)}),I.Qc(7),I.Tb(),I.Ub(8,"td",66),I.bc("click",function(){I.Cc(n);var e=t.$implicit;return I.fc(3).searchByEvent("url",e.url)}),I.Qc(9),I.Tb(),I.Ub(10,"td",66),I.bc("click",function(){I.Cc(n);var e=t.$implicit;return I.fc(3).openDialog(e.id)}),I.Qc(11),I.gc(12,"date"),I.Tb(),I.Ub(13,"td",66),I.bc("click",function(){I.Cc(n);var e=t.$implicit;return I.fc(3).openDialog(e.id)}),I.Oc(14,ea,2,0,"div",48),I.Oc(15,ta,2,0,"div",49),I.Tb(),I.Tb()}if(2&e){var r=t.$implicit;I.Cb(2),I.mc("ngIf",null!=r.avatar),I.Cb(1),I.mc("ngIf",null==r.avatar),I.Cb(2),I.Rc(r.fullname),I.Cb(2),I.Sc(" ",r.content," "),I.Cb(2),I.Sc(" ",r.url," "),I.Cb(2),I.Sc(" ",I.ic(12,8,r.createdAt,"dd/MM/yyyy HH:mm:ss")," "),I.Cb(3),I.mc("ngIf",1==r.status),I.Cb(1),I.mc("ngIf",0==r.status)}}function ra(e,t){if(1&e){var n=I.Vb();I.Ub(0,"div",23),I.Ub(1,"div",60),I.Ub(2,"div",25),I.Qc(3,"L\u1ed7i t\u1eeb ng\u01b0\u1eddi d\xf9ng: "),I.Tb(),I.Ub(4,"div",26),I.Qc(5),I.Tb(),I.Tb(),I.Oc(6,Jo,3,0,"div",28),I.Ub(7,"table",61),I.Ub(8,"thead"),I.Ub(9,"tr",62),I.Ub(10,"td"),I.Qc(11," T\xean t\xe0i kho\u1ea3n "),I.Tb(),I.Ub(12,"td"),I.Qc(13," N\u1ed9i dung l\u1ed7i "),I.Tb(),I.Ub(14,"td"),I.Qc(15," Url "),I.Tb(),I.Ub(16,"td"),I.Qc(17," Ng\xe0y b\xe1o l\u1ed7i "),I.Tb(),I.Ub(18,"td"),I.Qc(19," Tr\u1ea1ng th\xe1i "),I.Tb(),I.Tb(),I.Tb(),I.Ub(20,"tbody"),I.Oc(21,na,16,11,"tr",63),I.Tb(),I.Tb(),I.Ub(22,"div",36),I.Ub(23,"azt-paging",37),I.bc("SendPage",function(e){return I.Cc(n),I.fc(2).clickPage(e)}),I.Tb(),I.Tb(),I.Tb()}if(2&e){var r=I.fc(2);I.Cb(5),I.Sc("T\u1ed5ng s\u1ed1 l\u1ed7i: ",r.data.totalObjs,""),I.Cb(1),I.mc("ngIf",0==r.data.totalObjs),I.Cb(15),I.mc("ngForOf",r.trackLogs),I.Cb(2),I.mc("lengthPage",r.lengthPage)("paging",r.page)}}function ia(e,t){if(1&e){var n=I.Vb();I.Ub(0,"div",55),I.Ub(1,"div",56),I.Ub(2,"div",57),I.Oc(3,$o,2,0,"a",6),I.Tb(),I.Tb(),I.Ub(4,"div",56),I.Ub(5,"div",57),I.Ub(6,"input",9,10),I.bc("keyup.enter",function(){return I.Cc(n),I.fc().search()}),I.Tb(),I.Pb(8,"div",11),I.Tb(),I.Tb(),I.Ub(9,"div",56),I.Ub(10,"div",57),I.Ub(11,"input",12,13),I.bc("keyup.enter",function(){return I.Cc(n),I.fc().search()}),I.Tb(),I.Tb(),I.Tb(),I.Ub(13,"div",56),I.Ub(14,"div",57),I.Ub(15,"input",14,15),I.bc("keyup.enter",function(){return I.Cc(n),I.fc().search()}),I.Tb(),I.Tb(),I.Tb(),I.Ub(17,"div",56),I.Ub(18,"div",58),I.Ub(19,"div",59),I.Qc(20," T\xecm ki\u1ebfm "),I.Ub(21,"mat-icon",17),I.bc("click",function(){return I.Cc(n),I.fc().search()}),I.Qc(22," search "),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Oc(23,Yo,1,0,"div",19),I.Oc(24,ra,24,5,"div",20),I.Tb()}if(2&e){var r=I.fc();I.Cb(3),I.mc("ngIf",1==r.showAllError&&!1===r.loading),I.Cb(3),I.nc("value",r.phone_search),I.Cb(5),I.nc("value",r.user_id_search),I.Cb(4),I.nc("value",r.url_search),I.Cb(8),I.mc("ngIf",!0===r.loading),I.Cb(1),I.mc("ngIf",r.data&&!1===r.loading)}}var oa,aa,ca=".content[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px}.search-icon[_ngcontent-%COMP%]{position:absolute;top:0;color:#0eafc0}.input-search[_ngcontent-%COMP%]{width:100%;border:2px solid rgba(204,201,201,.8901960784313725);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.icon_custom[_ngcontent-%COMP%]{vertical-align:middle;color:rgba(51,51,51,.5803921568627451);font-size:16px;height:20px;width:16px;margin-right:3px}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0eafc0;outline:none}.box[_ngcontent-%COMP%]:hover{background-color:#ecebeb}.buttom-done[_ngcontent-%COMP%]{float:right;color:#fff;max-width:87px;text-align:center;padding:4px 10px;border-radius:5px;background-color:#63d16f}.done[_ngcontent-%COMP%]{color:#fff!important;background-color:#63d16f!important}.buttom-slacking[_ngcontent-%COMP%]{float:right;color:#fff;max-width:87px;text-align:center;padding:4px 10px;border-radius:5px;background-color:#fd612c}.open[_ngcontent-%COMP%]{color:#fff!important;background-color:#fd612c!important}textarea[_ngcontent-%COMP%]{width:100%;border:1px solid #d4d4d4;overflow-y:hidden;padding:7px}.select-dropdown[_ngcontent-%COMP%]{float:right;background-color:#e6e6e6;width:105px;text-align:center;max-width:100%;border-radius:3px;padding:6px}.showFullImageScreen[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#1b2638;z-index:520;display:none;align-content:center;justify-content:center;align-items:center}.showFullImageScreen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:95%}.showFullImageScreen[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0;height:30px;width:30px;margin:10px;color:#f0f8ff;font-size:30px}.showFullImageScreen[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{background-color:#ccc;border-radius:3px}",sa=((aa=function(){function e(t,n,r){f(this,e),this.commonService=t,this.apiService=n,this.dialog=r,this.page=1,this.form=new k.k({}),this.eventSearch="",this.pageSearch=1,this.showAllError=!1,this.loading=!1,this.statusShearch=!1,this.phone_search="",this.url_search="",this.user_id_search="",this.isMobile=!1}return m(e,[{key:"AllErr",value:function(){this.commonService.myNavigationWithQueryString("/auth/report_error",""),this.getParamUrl("","",""),this.GetTrackLogObjs()}},{key:"GetTrackLogObjs",value:function(){var e=this;this.statusShearch=!1,this.loading=!0,this.apiService.GetTrackLogObjs(this.page).subscribe(function(t){1==t.success?(e.trackLogs=t.data.trackLogs,e.data=t.data,e.lengthPage=Math.ceil(t.data.totalObjs/18),e.showAllError=!1,e.loading=!1):(e.loading=!1,e.commonService.snackError("L\u1ed7i: kh\xf4ng l\u1ea5y \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u","\u0110\xf3ng"))})}},{key:"SearchTrackLogObjs",value:function(){var e=this;this.loading=!0,this.apiService.SearchTrackLogObjs(this.page,this.eventSearch).subscribe(function(t){1==t.success?(e.trackLogs=t.data.trackLogs,e.data=t.data,e.lengthPage=Math.ceil(t.data.totalObjs/18),e.showAllError=!0,e.loading=!1):(e.loading=!1,e.commonService.snackError("L\u1ed7i: th\xf4ng tin b\u1ea1n t\xecm kh\xf4ng t\u1ed3n t\u1ea1i","\u0110\xf3ng"))})}},{key:"searchByEvent",value:function(e,t){this.statusShearch=!0,this.page=1,this.loading=!0,this.eventSearch=("userId"==e?"&userId="+t:"")+("url"==e?"&url="+t:""),this.changeLink(),this.getParamUrl("","userId"==e?t:"","url"==e?t:""),this.SearchTrackLogObjs()}},{key:"search",value:function(){this.statusShearch=!0,this.page=1,this.loading=!0;var e=this.fondovalor1.nativeElement.value,t=this.fondovalor2.nativeElement.value,n=this.fondovalor3.nativeElement.value,r=""==e?"":"&userPhone="+e,i=""==t?"":"&userId="+t,o=""==n?"":"&url="+n;""!=t||""!=e||""!=n?(this.eventSearch=r+i+o,this.changeLink(),this.getParamUrl(e,t,n),this.SearchTrackLogObjs()):""!=t&&""!=e&&""!=n||(this.eventSearch=r+i+o,this.AllErr())}},{key:"dataProcessing",value:function(e){for(var t=0;t<this.trackLogs.length;t++)this.trackLogs[t].id==e&&(this.sendDialog={id:this.trackLogs[t].id,fullname:this.trackLogs[t].fullname,createdAt:this.trackLogs[t].createdAt,content:this.trackLogs[t].content,avarta:this.trackLogs[t].avarta,status:this.trackLogs[t].status,url:this.trackLogs[t].url,screenshot:this.trackLogs[t].screenshot})}},{key:"openDialog",value:function(e){var t=this;this.dataProcessing(e),this.dialog.open(ua,{width:"750px",height:"80%",data:this.sendDialog}).afterClosed().subscribe(function(e){"save"==e&&t.GetTrackLogObjs()})}},{key:"clickPage",value:function(e){this.page=e,0==this.statusShearch?this.GetTrackLogObjs():1==this.statusShearch&&this.SearchTrackLogObjs(),this.changeLink()}},{key:"changeLink",value:function(){this.commonService.myNavigationWithQueryString("/auth/report_error","?page="+this.page+this.eventSearch)}},{key:"eventHandling",value:function(){var e=this.commonService.getMyQueryParam("page"),t=this.commonService.getMyQueryParam("userPhone"),n=this.commonService.getMyQueryParam("userId"),r=this.commonService.getMyQueryParam("url"),i=""==t?"":"&userPhone="+t,o=""==n?"":"&userId="+n,a=""==r?"":"&url="+r;this.getParamUrl(t,n,r),this.page=parseInt(""==e?1:e),""!=i||""!=o||""!=a?(this.statusShearch=!0,this.eventSearch=i+o+a,this.SearchTrackLogObjs()):this.GetTrackLogObjs()}},{key:"checkDevice",value:function(){this.isMobile=window.innerWidth<768}},{key:"getParamUrl",value:function(e,t,n){this.phone_search=e,this.user_id_search=t,this.url_search=n}},{key:"ngOnInit",value:function(){this.eventHandling(),this.commonService.translateMetaData({title:"lang_cms_error_management_title",description:"lang_cms_error_management_description",image:"lang_cms_test_image"}),this.checkDevice()}}]),e}()).\u0275fac=function(e){return new(e||aa)(I.Ob(P.a),I.Ob(S.a),I.Ob(Ro.b))},aa.\u0275cmp=I.Ib({type:aa,selectors:[["app-error-management"]],viewQuery:function(e,t){var n;1&e&&(I.Xc(No,!0),I.Xc(Ao,!0),I.Xc(Do,!0)),2&e&&(I.xc(n=I.cc())&&(t.fondovalor1=n.first),I.xc(n=I.cc())&&(t.fondovalor2=n.first),I.xc(n=I.cc())&&(t.fondovalor3=n.first))},decls:3,vars:4,consts:[[3,"headerTitle","back_link"],["class","content  fluid-container pb-4 m-3",4,"ngIf"],["class","content  fluid-container m-3","style","padding: 10px;",4,"ngIf"],[1,"content","fluid-container","pb-4","m-3"],[1,"header-content","row","m-0","pt-2","pb-2"],[1,"col-2"],[3,"click",4,"ngIf"],[1,"col-3"],[2,"position","relative"],["type","text","placeholder","Nh\u1eadp s\u1ed1 phone",1,"input-search",3,"value","keyup.enter"],["fondovalor1",""],[1,"search-icon","clickable"],["type","text","placeholder","Nh\u1eadp id ng\u01b0\u1eddi d\xf9ng",1,"input-search",3,"value","keyup.enter"],["fondovalor2",""],["type","text","placeholder","Nh\u1eadp url",1,"input-search",3,"value","keyup.enter"],["fondovalor3",""],[1,"col-1"],[1,"search-ver",2,"vertical-align","middle","font-size","27px","height","27px","width","27px",3,"click"],[1,"mt-0"],["class","spinner-border spinner-border-sm","role","status","style","margin: 20px 50%;",4,"ngIf"],["class","ml-4 mr-4",4,"ngIf"],[3,"click"],["role","status",1,"spinner-border","spinner-border-sm",2,"margin","20px 50%"],[1,"ml-4","mr-4"],[1,"row","m-0"],[1,"col-6","p-0",2,"font-weight","bold","font-size","16px"],[1,"col-6","p-0","text-right"],[1,"m-0","mt-1",2,"border-top","1px solid black"],["class","text-center m-5",4,"ngIf"],[1,"row","pt-1","pb-1","m-2"],[1,"col-2","p-0",2,"display","flex","align-items","center","font-weight","bold"],[1,"col-4",2,"display","flex","align-items","center","font-weight","bold"],[1,"col-3",2,"display","flex","align-items","center","font-weight","bold"],[1,"col-1","p-0","pr-1","d-flex","justify-content-end",2,"font-weight","bold"],[1,"m-0","mt-1"],[4,"ngFor","ngForOf"],[1,"mt-5"],[3,"lengthPage","paging","SendPage"],[1,"text-center","m-5"],["src","https://classlive.stume.net/images/emoji/emoji4.gif","alt","","width","20"],[1,"row","pt-3","pb-3","m-0","box"],[1,"col-2","p-0","clickable",2,"word-break","break-all","display","flex","align-items","center",3,"click"],["style","border-radius: 50%; margin: 0 5px","width","26","height","26",3,"src",4,"ngIf"],[3,"nameCreateAvatar","size",4,"ngIf"],[1,"col-4","clickable",2,"display","flex","align-items","center",3,"click"],[1,"col-3","clickable",2,"display","flex","align-items","center","word-break","break-all",3,"click"],[1,"col-2","p-0","clickable",2,"color","darkgray","display","flex","align-items","center",3,"click"],[1,"col-1","p-0","pr-1","clickable",3,"click"],["class","buttom-done",4,"ngIf"],["class","buttom-slacking",4,"ngIf"],[1,"m-0"],["width","26","height","26",2,"border-radius","50%","margin","0 5px",3,"src"],[3,"nameCreateAvatar","size"],[1,"buttom-done"],[1,"buttom-slacking"],[1,"content","fluid-container","m-3",2,"padding","10px"],[1,"row","pb-3","m-0"],[1,"col-12"],[1,"col-12","text-right"],[1,"search-icon","clickable",2,"position","unset"],[1,"row","m-0","pb-3"],[1,"table","table-responsive","mb-3"],[2,"vertical-align","middle","font-weight","bold","text-align","center"],["style","text-align: center;",4,"ngFor","ngForOf"],[2,"text-align","center"],[1,"clickable",2,"vertical-align","middle","text-align","center",3,"click"],[1,"clickable",3,"click"]],template:function(e,t){1&e&&(I.Pb(0,"header-backend",0),I.Oc(1,Ko,24,6,"div",1),I.Oc(2,ia,25,6,"div",2)),2&e&&(I.mc("headerTitle","L\u1ed7i t\u1eeb ng\u01b0\u1eddi d\xf9ng")("back_link","/admin/testbank/dashboard"),I.Cb(1),I.mc("ngIf",0==t.isMobile),I.Cb(1),I.mc("ngIf",1==t.isMobile))},directives:[M.a,p.m,A.a,p.l,jo.a,Eo.a],pipes:[p.e,z.m],styles:[ca]}),aa),ua=((oa=function(){function e(t,n,r,i){f(this,e),this.apiService=t,this.commonService=n,this.dialogRef=r,this.data=i,this.isLoading=!1,this.status=!1}return m(e,[{key:"ngOnInit",value:function(){this.status="1"==this.data.status.toString()}},{key:"onNoClick",value:function(){this.dialogRef.close("cancel")}},{key:"toggleStatus",value:function(){1==this.status?this.status=!1:0==this.status&&(this.status=!0)}},{key:"SaveStatusTrackLog",value:function(){var e=this;this.apiService.SaveStatusTrackLog({id:this.data.id,status:1==this.status?"1":"0",content:this.content}).subscribe(function(t){1==t.success?(e.dialogRef.close("save"),e.commonService.snackSuccess("\u0110\xe3 l\u01b0u th\xe0nh c\xf4ng","")):e.commonService.snackError("L\u1ed7i: kh\xf4ng l\u01b0u d\u01b0\u1ee3c d\u1eef li\u1ec7u","\u0110\xf3ng")})}},{key:"autoResize",value:function(e,t){if(1==t){var n=document.getElementById("text");setTimeout(function(){n.style.cssText="height:auto;",n.style.cssText="height:"+n.scrollHeight+"px"},0)}else n=document.getElementById("text"),setTimeout(function(){n.style.cssText="height:auto;",n.style.cssText="height:"+n.scrollHeight+"px"},0)}},{key:"resizeImage",value:function(){document.getElementById("imageResize").style.display="flex"}},{key:"resizeImageRemove",value:function(){document.getElementById("imageResize").style.display="none"}},{key:"MyTextarea",value:function(e){this.content=e.target.value}}]),e}()).\u0275fac=function(e){return new(e||oa)(I.Ob(S.a),I.Ob(P.a),I.Ob(Ro.g),I.Ob(Ro.a))},oa.\u0275cmp=I.Ib({type:oa,selectors:[["dialog-overview-example-dialog"]],decls:35,vars:17,consts:[[1,"row"],[1,"col-6"],[2,"float","right"],["color","primary",2,"vertical-align","middle",3,"checked","change"],[1,"m-0"],[2,"word-break","break-all",3,"href"],[1,"row","m-0","mb-3"],[1,"text-center","col-12",2,"height","150px"],["alt","","height","150",3,"src","click"],[1,"mb-3"],["placeholder","Nh\u1eadp n\u1ed9i dung","id","text",2,"overflow-y","none",3,"keyup","change"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-danger","mr-3",3,"mat-dialog-close","click"],["type","button",1,"btn","btn-primary",3,"click"],["id","imageResize",1,"showFullImageScreen"],["alt","",3,"src","click"],[1,"clickable",3,"click"]],template:function(e,t){1&e&&(I.Ub(0,"div"),I.Ub(1,"div",0),I.Ub(2,"h3",1),I.Qc(3),I.Tb(),I.Ub(4,"div",1),I.Ub(5,"div",2),I.Ub(6,"mat-slide-toggle",3),I.bc("change",function(){return t.toggleStatus()}),I.Tb(),I.Qc(7),I.Tb(),I.Tb(),I.Tb(),I.Ub(8,"h2",4),I.Qc(9),I.Tb(),I.Ub(10,"h4",4),I.Qc(11,"Url: "),I.Ub(12,"a",5),I.Qc(13),I.Tb(),I.Tb(),I.Ub(14,"h5"),I.Qc(15),I.gc(16,"date"),I.Tb(),I.Ub(17,"div",6),I.Ub(18,"div",7),I.Ub(19,"img",8),I.bc("click",function(){return t.resizeImage()}),I.gc(20,"mycdn"),I.Tb(),I.Tb(),I.Tb(),I.Ub(21,"div",9),I.Ub(22,"h4",4),I.Qc(23,"Comment"),I.Tb(),I.Ub(24,"textarea",10),I.bc("keyup",function(e){return t.autoResize(e,1)})("change",function(e){return t.MyTextarea(e)}),I.Tb(),I.Tb(),I.Ub(25,"div",11),I.Ub(26,"button",12),I.bc("click",function(){return t.onNoClick()}),I.Qc(27,"H\u1ee7y"),I.Tb(),I.Ub(28,"button",13),I.bc("click",function(){return t.SaveStatusTrackLog()}),I.Qc(29,"G\u1eedi"),I.Tb(),I.Tb(),I.Tb(),I.Ub(30,"div",14),I.Ub(31,"img",15),I.bc("click",function(){return t.resizeImage()}),I.gc(32,"mycdn"),I.Tb(),I.Ub(33,"mat-icon",16),I.bc("click",function(){return t.resizeImageRemove()}),I.Qc(34,"clear"),I.Tb(),I.Tb()),2&e&&(I.Cb(3),I.Sc(" T\xe0i kho\u1ea3n: ",t.data.fullname," "),I.Cb(3),I.mc("checked",1==t.status),I.Cb(1),I.Sc(" ",1==t.status?" \u0110\xe3 xong":" Ch\u01b0a xong"," "),I.Cb(2),I.Sc("L\u1ed7i: ",t.data.content,""),I.Cb(3),I.nc("href",t.data.url,I.Gc),I.Cb(1),I.Rc(t.data.url),I.Cb(2),I.Sc("Ng\xe0y B\xe1o l\u1ed7i: ",I.ic(16,10,t.data.createdAt,"dd/MM/yyyy HH:mm:ss"),""),I.Cb(4),I.nc("src",I.hc(20,13,t.data.screenshot),I.Gc),I.Cb(7),I.mc("mat-dialog-close","cancel"),I.Cb(5),I.nc("src",I.hc(32,15,t.data.screenshot),I.Gc))},directives:[Lo.a,Ro.d,A.a],pipes:[p.e,z.m],styles:[ca]}),oa);function la(e,t){1&e&&(I.Ub(0,"div",19),I.Ub(1,"span"),I.Pb(2,"span",20),I.Tb(),I.Pb(3,"br"),I.Ub(4,"p",21),I.Qc(5,"B\xe0i l\xe0m \u0111ang \u0111\u01b0\u1ee3c t\u1ea3i l\xean. Vui l\xf2ng \u0111\u1ee3i trong gi\xe2y l\xe1t!"),I.Tb(),I.Tb())}var da=function(e){return{"width.%":e}};function ha(e,t){if(1&e&&(I.Ub(0,"div",24),I.Ub(1,"p",25),I.Qc(2),I.Tb(),I.Ub(3,"div",26),I.Pb(4,"div",27),I.Tb(),I.Tb()),2&e){var n=t.$implicit;I.Cb(2),I.Rc(n.fileName),I.Cb(2),I.mc("ngStyle",I.rc(2,da,n.uploadProgress))}}function ba(e,t){if(1&e&&(I.Ub(0,"div",22),I.Oc(1,ha,5,4,"div",23),I.Tb()),2&e){var n=I.fc();I.Cb(1),I.mc("ngForOf",n.convertObjToArray(n.fileUploadQueue))}}function fa(e,t){if(1&e){var n=I.Vb();I.Ub(0,"span",35),I.bc("click",function(){I.Cc(n);var e=I.fc().$implicit;return I.fc(2).removeImg(e.url)}),I.Ub(1,"mat-icon"),I.Qc(2,"cancel"),I.Tb(),I.Tb()}}function pa(e,t){1&e&&(I.Ub(0,"span",36),I.Ub(1,"mat-icon",37),I.Qc(2,"check_box_outline"),I.Tb(),I.Tb())}function ma(e,t){if(1&e&&(I.Ub(0,"div",29),I.Ub(1,"a",30),I.Ub(2,"mat-icon",31),I.Qc(3,"attach_file"),I.Tb(),I.Ub(4,"span",32),I.Qc(5),I.Tb(),I.Tb(),I.Oc(6,fa,3,0,"span",33),I.Oc(7,pa,3,0,"span",34),I.Tb()),2&e){var n=t.$implicit,r=I.fc(2);I.Cb(4),I.mc("matTooltip",n.name),I.Cb(1),I.Rc(n.name),I.Cb(1),I.mc("ngIf",1!=r.isSuccess),I.Cb(1),I.mc("ngIf",r.isSuccess)}}function ga(e,t){if(1&e&&(I.Ub(0,"div",22),I.Oc(1,ma,8,4,"div",28),I.Tb()),2&e){var n=I.fc();I.Cb(1),I.mc("ngForOf",n.uploadFiles)}}var va,ya=((va=function(){function e(t,n,r){var i=this;f(this,e),this.formBuilder=t,this.commonService=n,this.apiService=r,this.subscriptions=new x.a,this.form=new k.k({}),this.isLoading=!1,this.logs=[],this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.isSuccess=!1,this.uploadCount=0,this.uploadFiles=[],this.fileUploadQueue={},this.uploadFile=function(e,t){var n=i.commonService.getFormObj(i.form);i.apiService.uploadMnoteToCdnProgress(n.folder_name,e).subscribe(function(n){if(0==n.success)i.status_obj={loading:!1,error:!1,error_obj:{message:""}},i.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau!","");else if(n.type&&n.type==Lt.c.UploadProgress){var r=Math.round(n.loaded/n.total*100);i.fileUploadQueue.hasOwnProperty(t)?(i.fileUploadQueue[t].uploadProgress=r,i.fileUploadQueue[t].fileName=e.name):i.fileUploadQueue[t]={uploadProgress:0,fileName:e.name}}else n.successUpload&&1==n.successUpload&&(delete i.fileUploadQueue[t],Array.isArray(i.uploadFiles)||(i.uploadFiles=[]),i.uploadFiles.push(Object.assign({},n.data)),i.status_obj={loading:!1,error:!1,error_obj:{message:""}})},function(e){i.logs.push("Err:"+e)})},this.answerFile=null}return m(e,[{key:"selectFile",value:function(e){var t=e.target.files;try{for(var n in t)"length"!=n&&"item"!=n&&(this.answerFile=t?t[n]:this.answerFile,this.answerFile&&(this.isSuccess=!1,this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.uploadFile(this.answerFile,this.uploadCount),this.uploadCount+=1));e.target.value=""}catch(r){alert("\u0110\xe3 x\u1ea3y ra l\u1ed7i:"+r)}}},{key:"convertObjToArray",value:function(e){var t=[];for(var n in e)t.push(e[n]);return t}},{key:"removeImg",value:function(e){var t=this.uploadFiles.filter(function(t){return t.url!==e});this.uploadFiles=t}},{key:"ngOnInit",value:function(){this.form=this.formBuilder.group({folder_name:[""]})}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||va)(I.Ob(k.g),I.Ob(P.a),I.Ob(S.a))},va.\u0275cmp=I.Ib({type:va,selectors:[["app-upload-mnote"]],decls:26,vars:4,consts:[[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"rowr"],[1,"form-group"],[1,"col-sm-12","control-label"],[1,"col-sm-12"],["type","text","formControlName","folder_name",1,"form-control"],["id","component-upload-image-mobile"],[1,"card-box"],[1,"description"],["class","text-center m-4",4,"ngIf"],["class","row ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container",4,"ngIf"],[1,"summitForm","pt-5","pb-5"],[1,"row","pl-3","pr-3"],[1,"col-12","text-center","v-dragndrop"],[1,"px-4","py-3","rounded",2,"cursor","pointer",3,"click"],[1,"file"],["id","select-upload-file",1,"align-self-center","select","dz-clickable"],["type","file","id","file_select","multiple","",1,"form-control","d-none",3,"change"],["fileSelect",""],[1,"text-center","m-4"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"h5"],[1,"row","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container"],["class","col-6 col-sm-6 col-md-4 col-xl-2 col-lg-2",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-4","col-xl-2","col-lg-2"],[1,"h5","truncate"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngStyle"],["class","col-12 box-file mt-2",4,"ngFor","ngForOf"],[1,"col-12","box-file","mt-2"],["target","_blank",1,"clickable",2,"display","flex","margin-top","3px","font-size","14px"],[2,"font-size","20px","vertical-align","sub"],[1,"truncate",2,"line-height","1.6","max-width","75%",3,"matTooltip"],["class","notify-badge",3,"click",4,"ngIf"],["class","notify-badge",4,"ngIf"],[1,"notify-badge",3,"click"],[1,"notify-badge"],[2,"color","rgb(26,188,0)"]],template:function(e,t){if(1&e){var n=I.Vb();I.Ub(0,"form",0),I.Ub(1,"div",1),I.Ub(2,"div",2),I.Ub(3,"label",3),I.Qc(4,"Folder (V\xed d\u1ee5 images)"),I.Tb(),I.Ub(5,"div",4),I.Pb(6,"input",5),I.Tb(),I.Tb(),I.Tb(),I.Ub(7,"div",6),I.Ub(8,"div",7),I.Ub(9,"div",8),I.Oc(10,la,6,0,"div",9),I.Oc(11,ba,2,1,"div",10),I.Oc(12,ga,2,1,"div",10),I.Tb(),I.Ub(13,"div",11),I.Ub(14,"div",12),I.Ub(15,"div",13),I.Ub(16,"div",14),I.bc("click",function(){return I.Cc(n),I.yc(22).click()}),I.Ub(17,"div",15),I.Ub(18,"a",16),I.Ub(19,"mat-icon"),I.Qc(20,"attach_file"),I.Tb(),I.Ub(21,"input",17,18),I.bc("change",function(e){return t.selectFile(e)}),I.Tb(),I.Tb(),I.Pb(23,"br"),I.Ub(24,"span"),I.Qc(25,"Ch\u1ecdn file"),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb()}2&e&&(I.mc("formGroup",t.form),I.Cb(10),I.mc("ngIf",t.status_obj.loading),I.Cb(1),I.mc("ngIf",t.convertObjToArray(t.fileUploadQueue).length>0),I.Cb(1),I.mc("ngIf",t.uploadFiles.length>0))},directives:[k.B,k.s,k.l,k.d,k.r,k.j,p.m,A.a,p.l,p.n,Nt.a],styles:[".card-box[_ngcontent-%COMP%]{width:100%;border:1px solid #00a7d0}.top-row[_ngcontent-%COMP%]{background-color:#00a7d0;margin:0;padding:10px}.text-white[_ngcontent-%COMP%]{color:#fff}.text-white[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.description[_ngcontent-%COMP%], .files[_ngcontent-%COMP%]{background:inherit;background-color:#f2f2f2;box-sizing:border-box;border:1px solid #e5e5e5;border-left:0;border-right:0;border-radius:0;border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:0;box-shadow:none;padding:0 10px}.description[_ngcontent-%COMP%]{padding:10px 10px 0}.files[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:10px 20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.students[_ngcontent-%COMP%]{border-width:0;background:inherit;background-color:#fff;box-sizing:border-box;border-radius:3px;box-shadow:0 0 5px rgba(0,0,0,.062745098)}.list-student[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;background:inherit;background-color:#fafafa;box-sizing:border-box;padding:10px 15px;border:1px solid #e0e0e0;border-radius:3px;box-shadow:none;font-weight:400;font-style:bold;display:block}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:100px}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;line-height:1.5}.pl-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.pr-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pb-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pt-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-top:1rem!important}.btn-warm-orange[_ngcontent-%COMP%]{background:#ff7f45;border:1px solid #ff7f45}.btn[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:hover{color:#fff}.btn[_ngcontent-%COMP%]{cursor:pointer;transition:0s}.text-dark-green[_ngcontent-%COMP%]{color:#1caba0!important}.d-block[_ngcontent-%COMP%]{display:block!important}.small[_ngcontent-%COMP%], small[_ngcontent-%COMP%]{font-size:80%;font-weight:400}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.item[_ngcontent-%COMP%]{position:relative;display:inline-block}.notify-badge[_ngcontent-%COMP%]{color:#afafaf;font-size:20px;cursor:pointer}.description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.flex-title[_ngcontent-%COMP%]{display:flex;align-items:center}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00a7d0;cursor:pointer;margin-left:5px}.flex-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;line-height:1.4;font-weight:500}.img-container[_ngcontent-%COMP%]{overflow:hidden;position:relative;height:90px;width:90px;margin:0 0 10px 10px;border-radius:7px}.img-responsive[_ngcontent-%COMP%]{position:absolute;width:100%;height:auto;left:50%;top:50%;transform:translate(-50%,-50%)}.attach-container[_ngcontent-%COMP%]{padding:10px 0 0}.maxW1200[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}@font-face{font-family:handwriting_font;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/HP0015HB.ttf)}._col-left[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:35px}._col-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:5rem;color:#ff0024}._col-right[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;line-height:1.4;font-size:20px;font-family:handwriting_font!important}._col-left_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:10px}._col-left_result[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:3rem;color:#ff0024}._col-right_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right_result[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right_result[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;font-size:16px;line-height:1.4;font-family:handwriting_font!important}.files[_ngcontent-%COMP%]{cursor:pointer}.testbank[_ngcontent-%COMP%]{padding-top:40px;text-align:left}.testbank__title[_ngcontent-%COMP%]{font-size:large;font-weight:500}.testbank_fileitem[_ngcontent-%COMP%]{display:flex;color:#00a7d0;margin-top:15px}.testbank_fileitem_icon[_ngcontent-%COMP%]{margin-right:5px}.testbank_fileitem_name[_ngcontent-%COMP%]{margin-right:10px}.testbank_fileitem_info_resualt[_ngcontent-%COMP%]{color:#000;font-weight:500;font-size:small;margin-right:15px}.testbank_fileitem_info_time[_ngcontent-%COMP%]{color:#9d9d9d}.testbank_fileitem_info_btn_submit[_ngcontent-%COMP%]{text-transform:uppercase;cursor:pointer;font-weight:500}@media (max-width:768px){.dropzone[_ngcontent-%COMP%]{min-width:100px}._col-left[_ngcontent-%COMP%], ._col-left_result[_ngcontent-%COMP%]{margin-bottom:20px}.testbank_fileitem[_ngcontent-%COMP%]{flex-wrap:wrap}}@media (max-width:576px){.flex-title[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:5px;margin-left:0}}.box-file[_ngcontent-%COMP%]{padding:10px;display:flex;justify-content:space-between;align-items:center;border:1px solid #e0e0e0;border-radius:5px}"]}),va),_a=u("jhN1"),ka=u("nzN9"),Ta=u("wZkO"),Ca=u("d3UM");function wa(e,t){1&e&&I.Pb(0,"azt-loading-effect")}function Ua(e,t){if(1&e&&(I.Ub(0,"mat-option",31),I.Qc(1),I.Tb()),2&e){var n=t.$implicit;I.mc("value",n.id),I.Cb(1),I.Sc(" ",n.name," ")}}function xa(e,t){1&e&&(I.Ub(0,"div",32),I.Qc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn t\u1ec9nh th\xe0nh. "),I.Tb())}function Oa(e,t){1&e&&(I.Ub(0,"div",32),I.Qc(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng t\xean huy\u1ec7n. "),I.Tb())}function Ia(e,t){if(1&e&&(I.Ub(0,"mat-option",31),I.Qc(1),I.Tb()),2&e){var n=t.$implicit;I.mc("value",n.id),I.Cb(1),I.Sc(" ",n.name," ")}}function Pa(e,t){1&e&&(I.Ub(0,"div",32),I.Qc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn t\u1ec9nh th\xe0nh. "),I.Tb())}function Sa(e,t){if(1&e&&(I.Ub(0,"mat-option",31),I.Qc(1),I.Tb()),2&e){var n=t.$implicit;I.mc("value",n.id),I.Cb(1),I.Sc(" ",n.name," ")}}function Ma(e,t){1&e&&(I.Ub(0,"div",32),I.Qc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn huy\u1ec7n. "),I.Tb())}function Ra(e,t){if(1&e&&(I.Ub(0,"mat-option",31),I.Qc(1),I.Tb()),2&e){var n=t.$implicit;I.mc("value",n.id),I.Cb(1),I.Sc(" ",n.name," ")}}function ja(e,t){1&e&&(I.Ub(0,"div",32),I.Qc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn c\u1ea5p h\u1ecdc. "),I.Tb())}function Ea(e,t){1&e&&(I.Ub(0,"div",32),I.Qc(1," B\u1ea1n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng t\xean tr\u01b0\u1eddng. "),I.Tb())}function La(e,t){if(1&e&&(I.Ub(0,"mat-option",31),I.Qc(1),I.Tb()),2&e){var n=t.$implicit;I.mc("value",n.id),I.Cb(1),I.Sc(" ",n.name," ")}}function Na(e,t){1&e&&(I.Ub(0,"div",32),I.Qc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn t\u1ec9nh th\xe0nh. "),I.Tb())}function Aa(e,t){if(1&e&&(I.Ub(0,"mat-option",31),I.Qc(1),I.Tb()),2&e){var n=t.$implicit;I.mc("value",n.id),I.Cb(1),I.Sc(" ",n.name," ")}}function Da(e,t){1&e&&(I.Ub(0,"div",32),I.Qc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn huy\u1ec7n. "),I.Tb())}function Qa(e,t){1&e&&(I.Ub(0,"div",32),I.Qc(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng t\xean huy\u1ec7n. "),I.Tb())}function Fa(e,t){if(1&e&&(I.Ub(0,"mat-option",31),I.Qc(1),I.Tb()),2&e){var n=t.$implicit;I.mc("value",n.id),I.Cb(1),I.Sc(" ",n.name," ")}}function za(e,t){1&e&&(I.Ub(0,"div",32),I.Qc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn t\u1ec9nh th\xe0nh. "),I.Tb())}function qa(e,t){if(1&e&&(I.Ub(0,"mat-option",31),I.Qc(1),I.Tb()),2&e){var n=t.$implicit;I.mc("value",n.id),I.Cb(1),I.Sc(" ",n.name," ")}}function Va(e,t){1&e&&(I.Ub(0,"div",32),I.Qc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn huy\u1ec7n. "),I.Tb())}function Ba(e,t){if(1&e&&(I.Ub(0,"mat-option",31),I.Qc(1),I.Tb()),2&e){var n=t.$implicit;I.mc("value",n.id),I.Cb(1),I.Sc(" ",n.name," ")}}function Ha(e,t){1&e&&(I.Ub(0,"div",32),I.Qc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn c\u1ea5p h\u1ecdc. "),I.Tb())}function Wa(e,t){if(1&e&&(I.Ub(0,"mat-option",31),I.Qc(1),I.Tb()),2&e){var n=t.$implicit;I.mc("value",n.id),I.Cb(1),I.Sc(" ",n.name," ")}}function Ga(e,t){1&e&&(I.Ub(0,"div",32),I.Qc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn tr\u01b0\u1eddng. "),I.Tb())}function Ka(e,t){1&e&&(I.Ub(0,"div",32),I.Qc(1," B\u1ea1n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng t\xean tr\u01b0\u1eddng. "),I.Tb())}function $a(e,t){if(1&e){var n=I.Vb();I.Ub(0,"div",3),I.Ub(1,"div",4),I.Ub(2,"div",5),I.Ub(3,"mat-tab-group",6),I.bc("selectedIndexChange",function(e){return I.Cc(n),I.fc().selectedIndexChange(e)}),I.Ub(4,"mat-tab",7),I.Ub(5,"form",8),I.Ub(6,"div",9),I.Ub(7,"label",10),I.Qc(8,"Ch\u1ecdn t\u1ec9nh th\xe0nh"),I.Tb(),I.Ub(9,"mat-form-field",11),I.Ub(10,"mat-select",12),I.Oc(11,Ua,2,2,"mat-option",13),I.Tb(),I.Tb(),I.Oc(12,xa,2,0,"div",14),I.Tb(),I.Ub(13,"div",9),I.Ub(14,"label",10),I.Qc(15,"Th\xeam t\xean huy\u1ec7n"),I.Tb(),I.Ub(16,"div",15),I.Pb(17,"textarea",16),I.Oc(18,Oa,2,0,"div",14),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Ub(19,"mat-tab",17),I.Ub(20,"form",8),I.Ub(21,"div",9),I.Ub(22,"label",10),I.Qc(23,"Ch\u1ecdn t\u1ec9nh th\xe0nh"),I.Tb(),I.Ub(24,"mat-form-field",11),I.Ub(25,"mat-select",18),I.bc("selectionChange",function(e){return I.Cc(n),I.fc().selectLocation(e.value)}),I.Oc(26,Ia,2,2,"mat-option",13),I.Tb(),I.Tb(),I.Oc(27,Pa,2,0,"div",14),I.Tb(),I.Ub(28,"div",9),I.Ub(29,"label",10),I.Qc(30,"Ch\u1ecdn huy\u1ec7n"),I.Tb(),I.Ub(31,"mat-form-field",11),I.Ub(32,"mat-select",19),I.bc("valueChange",function(e){return I.Cc(n),I.fc().department_select=e}),I.Oc(33,Sa,2,2,"mat-option",13),I.Tb(),I.Tb(),I.Oc(34,Ma,2,0,"div",14),I.Tb(),I.Ub(35,"div",9),I.Ub(36,"label",10),I.Qc(37,"Ch\u1ecdn c\u1ea5p h\u1ecdc"),I.Tb(),I.Ub(38,"mat-form-field",11),I.Ub(39,"mat-select",20),I.Oc(40,Ra,2,2,"mat-option",13),I.Tb(),I.Tb(),I.Oc(41,ja,2,0,"div",14),I.Tb(),I.Ub(42,"div",9),I.Ub(43,"label",10),I.Qc(44,"Th\xeam t\xean tr\u01b0\u1eddng"),I.Tb(),I.Ub(45,"div",15),I.Pb(46,"textarea",21),I.Tb(),I.Oc(47,Ea,2,0,"div",14),I.Tb(),I.Tb(),I.Tb(),I.Ub(48,"mat-tab",22),I.Ub(49,"form",8),I.Ub(50,"div",9),I.Ub(51,"label",10),I.Qc(52,"Ch\u1ecdn t\u1ec9nh th\xe0nh"),I.Tb(),I.Ub(53,"mat-form-field",11),I.Ub(54,"mat-select",18),I.bc("selectionChange",function(e){return I.Cc(n),I.fc().selectLocation(e.value)}),I.Oc(55,La,2,2,"mat-option",13),I.Tb(),I.Tb(),I.Oc(56,Na,2,0,"div",14),I.Tb(),I.Ub(57,"div",9),I.Ub(58,"label",10),I.Qc(59,"Ch\u1ecdn huy\u1ec7n"),I.Tb(),I.Ub(60,"mat-form-field",11),I.Ub(61,"mat-select",19),I.bc("valueChange",function(e){return I.Cc(n),I.fc().department_select=e}),I.Oc(62,Aa,2,2,"mat-option",13),I.Tb(),I.Tb(),I.Oc(63,Da,2,0,"div",14),I.Tb(),I.Ub(64,"div",9),I.Ub(65,"label",10),I.Qc(66,"S\u1eeda t\xean huy\u1ec7n"),I.Tb(),I.Ub(67,"div",15),I.Pb(68,"input",23),I.Tb(),I.Oc(69,Qa,2,0,"div",14),I.Tb(),I.Tb(),I.Tb(),I.Ub(70,"mat-tab",24),I.Ub(71,"form",8),I.Ub(72,"div",9),I.Ub(73,"label",10),I.Qc(74,"Ch\u1ecdn t\u1ec9nh th\xe0nh"),I.Tb(),I.Ub(75,"mat-form-field",11),I.Ub(76,"mat-select",18),I.bc("selectionChange",function(e){return I.Cc(n),I.fc().selectLocation(e.value)}),I.Oc(77,Fa,2,2,"mat-option",13),I.Tb(),I.Tb(),I.Oc(78,za,2,0,"div",14),I.Tb(),I.Ub(79,"div",9),I.Ub(80,"label",10),I.Qc(81,"Ch\u1ecdn huy\u1ec7n"),I.Tb(),I.Ub(82,"mat-form-field",11),I.Ub(83,"mat-select",19),I.bc("valueChange",function(e){return I.Cc(n),I.fc().department_select=e}),I.Oc(84,qa,2,2,"mat-option",13),I.Tb(),I.Tb(),I.Oc(85,Va,2,0,"div",14),I.Tb(),I.Ub(86,"div",9),I.Ub(87,"label",10),I.Qc(88,"Ch\u1ecdn c\u1ea5p h\u1ecdc"),I.Tb(),I.Ub(89,"mat-form-field",11),I.Ub(90,"mat-select",25),I.bc("valueChange",function(e){return I.Cc(n),I.fc().level_select=e})("selectionChange",function(e){return I.Cc(n),I.fc().selectLevel(e.value)}),I.Oc(91,Ba,2,2,"mat-option",13),I.Tb(),I.Tb(),I.Oc(92,Ha,2,0,"div",14),I.Tb(),I.Ub(93,"div",9),I.Ub(94,"label",10),I.Qc(95,"Ch\u1ecdn tr\u01b0\u1eddng"),I.Tb(),I.Ub(96,"mat-form-field",11),I.Ub(97,"mat-select",26),I.bc("valueChange",function(e){return I.Cc(n),I.fc().school_select=e})("selectionChange",function(e){return I.Cc(n),I.fc().selectSchool(e.value)}),I.Oc(98,Wa,2,2,"mat-option",13),I.Tb(),I.Tb(),I.Oc(99,Ga,2,0,"div",14),I.Tb(),I.Ub(100,"div",9),I.Ub(101,"label",10),I.Qc(102,"S\u1eeda t\xean tr\u01b0\u1eddng"),I.Tb(),I.Ub(103,"div",15),I.Pb(104,"input",27),I.Tb(),I.Oc(105,Ka,2,0,"div",14),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Ub(106,"div",28),I.Ub(107,"button",29),I.bc("click",function(){return I.Cc(n),I.fc().removeDataOld()}),I.Qc(108,"reset"),I.Tb(),I.Ub(109,"button",30),I.bc("click",function(){return I.Cc(n),I.fc().SaveDataApi()}),I.Qc(110,"L\u01b0u"),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb()}if(2&e){var r=I.fc();I.Cb(3),I.mc("selectedIndex",r.selected.value),I.Cb(2),I.mc("formGroup",r.form),I.Cb(6),I.mc("ngForOf",r.locations),I.Cb(1),I.mc("ngIf",r.form.controls.LocationId.invalid&&(r.form.controls.LocationId.dirty||r.form.controls.LocationId.touched||0==r.checkValidateLocationId)),I.Cb(6),I.mc("ngIf",r.form.controls.NameDistrict.invalid&&(r.form.controls.NameDistrict.dirty||r.form.controls.NameDistrict.touched||0==r.checkValidateNameDistrict)),I.Cb(2),I.mc("formGroup",r.form),I.Cb(6),I.mc("ngForOf",r.locations),I.Cb(1),I.mc("ngIf",r.form.controls.LocationId.invalid&&(r.form.controls.LocationId.dirty||r.form.controls.LocationId.touched||0==r.checkValidateLocationId)),I.Cb(5),I.mc("value",r.department_select),I.Cb(1),I.mc("ngForOf",r.departments),I.Cb(1),I.mc("ngIf",r.form.controls.DistrictId.invalid&&(r.form.controls.DistrictId.dirty||r.form.controls.DistrictId.touched||0==r.checkValidateDistrictId)),I.Cb(6),I.mc("ngForOf",r.levels),I.Cb(1),I.mc("ngIf",r.form.controls.LevelId.invalid&&(r.form.controls.LevelId.dirty||r.form.controls.LevelId.touched||0==r.checkValidateLevelId)),I.Cb(6),I.mc("ngIf",r.form.controls.NameSchool.invalid&&(r.form.controls.NameSchool.dirty||r.form.controls.NameSchool.touched||0==r.checkValidateNameSchool)),I.Cb(2),I.mc("formGroup",r.form),I.Cb(6),I.mc("ngForOf",r.locations),I.Cb(1),I.mc("ngIf",r.form.controls.LocationId.invalid&&(r.form.controls.LocationId.dirty||r.form.controls.LocationId.touched||0==r.checkValidateLocationId)),I.Cb(5),I.mc("value",r.department_select),I.Cb(1),I.mc("ngForOf",r.departments),I.Cb(1),I.mc("ngIf",r.form.controls.DistrictId.invalid&&(r.form.controls.DistrictId.dirty||r.form.controls.DistrictId.touched||0==r.checkValidateDistrictId)),I.Cb(6),I.mc("ngIf",r.form.controls.NameDistrict.invalid&&(r.form.controls.NameDistrict.dirty||r.form.controls.NameDistrict.touched||0==r.checkValidateNameDistrict)),I.Cb(2),I.mc("formGroup",r.form),I.Cb(6),I.mc("ngForOf",r.locations),I.Cb(1),I.mc("ngIf",r.form.controls.LocationId.invalid&&(r.form.controls.LocationId.dirty||r.form.controls.LocationId.touched||0==r.checkValidateLocationId)),I.Cb(5),I.mc("value",r.department_select),I.Cb(1),I.mc("ngForOf",r.departments),I.Cb(1),I.mc("ngIf",r.form.controls.DistrictId.invalid&&(r.form.controls.DistrictId.dirty||r.form.controls.DistrictId.touched||0==r.checkValidateDistrictId)),I.Cb(5),I.mc("value",r.level_select),I.Cb(1),I.mc("ngForOf",r.levels),I.Cb(1),I.mc("ngIf",r.form.controls.LevelId.invalid&&(r.form.controls.LevelId.dirty||r.form.controls.LevelId.touched||0==r.checkValidateLevelId)),I.Cb(5),I.mc("value",r.school_select),I.Cb(1),I.mc("ngForOf",r.schools),I.Cb(1),I.mc("ngIf",r.form.controls.SchoolId.invalid&&(r.form.controls.SchoolId.dirty||r.form.controls.SchoolId.touched||0==r.checkValidateSchoolId)),I.Cb(6),I.mc("ngIf",r.form.controls.NameSchool.invalid&&(r.form.controls.NameSchool.dirty||r.form.controls.NameSchool.touched||0==r.checkValidateNameSchool)),I.Cb(4),I.mc("disabled",r.loading)}}var Ya,Ja=((Ya=function(){function e(t,n,r,i,o){f(this,e),this.commonService=t,this.dom=n,this.sanitizer=r,this.formBuilder=i,this.apiService=o,this.form=new k.k({}),this.selected=new k.h(0),this.loading=!1,this.checkValidateNameDistrict=!0,this.checkValidateLevelId=!0,this.checkValidateNameSchool=!0,this.checkValidateLocationId=!0,this.checkValidateDistrictId=!0,this.checkValidateSchoolId=!0,this.location_select=null,this.department_select=null,this.school_select=null,this.schools=[],this.level_select=null}return m(e,[{key:"initData",value:function(){this.GetProvinces(),this.GetTypeSchool()}},{key:"GetTypeSchool",value:function(){var e=this;this.apiService.getListTypeSchool().subscribe(function(t){t&&(e.levels=t.data)})}},{key:"GetProvinces",value:function(){var e=this;this.apiService.getListProvinces().subscribe(function(t){t&&(e.locations=t.data,e.locations=e.sortName(e.locations))})}},{key:"sortName",value:function(e){return e.sort(function(e,t){return e.name.trim().localeCompare(t.name.trim())}),e}},{key:"AddSchool",value:function(){var e=this;this.loading=!0;var t=""==this.form.value.NameSchool?"":{names:this.form.value.NameSchool.split("\n")};this.apiService.AddSchool(this.form.value.LevelId,this.form.value.LocationId,this.form.value.DistrictId,t).subscribe(function(t){1==t.success?(e.commonService.snackSuccess("Th\xeam tr\u01b0\u1eddng th\xe0nh c\xf4ng.",""),e.removeDataOld(),e.loading=!1):(""==e.form.value.LevelId||""==e.form.value.DistrictId||""==e.form.value.LocationId||""==e.form.value.NameSchool?(e.checkValidateLocationId=!1,e.checkValidateDistrictId=!1,e.checkValidateLevelId=!1,e.checkValidateNameSchool=!1):e.commonService.snackError("L\u1ed7i: Th\xeam tr\u01b0\u1eddng kh\xf4ng th\xe0nh c\xf4ng.","\u0110\xf3ng"),e.loading=!1)})}},{key:"EditSchool",value:function(){var e=this;this.loading=!0,this.apiService.EditSchool(this.school_select,this.form.value.NameSchool).subscribe(function(t){1==t.success?(e.commonService.snackSuccess("S\u1eeda tr\u01b0\u1eddng th\xe0nh c\xf4ng.",""),e.removeDataOld(),e.loading=!1):((e.form.value.LocationId=""==e.form.value.DistrictId||""==e.form.value.LevelId||""==e.form.value.NameSchool||""==e.form.value.SchoolId)?(e.checkValidateLocationId=!1,e.checkValidateDistrictId=!1,e.checkValidateLevelId=!1,e.checkValidateNameSchool=!1,e.checkValidateSchoolId=!1):e.commonService.snackError("L\u1ed7i: S\u1eeda tr\u01b0\u1eddng kh\xf4ng th\xe0nh c\xf4ng.","\u0110\xf3ng"),e.loading=!1)})}},{key:"selectSchool",value:function(e){this.school_select=e}},{key:"AddDistrict",value:function(){var e=this,t=""==this.form.value.NameDistrict?"":{names:this.form.value.NameDistrict.split("\n")};this.loading=!0,this.apiService.AddDistrict(this.form.value.LocationId,t).subscribe(function(t){1==t.success?(e.commonService.snackSuccess("Th\xeam huy\u1ec7n th\xe0nh c\xf4ng.",""),e.loading=!1,e.removeDataOld()):((e.form.value.LocationId=""==e.form.value.NameDistrict)?(e.checkValidateNameDistrict=!1,e.checkValidateLocationId=!1):e.commonService.snackError("L\u1ed7i: Th\xeam huy\u1ec7n kh\xf4ng th\xe0nh c\xf4ng.","\u0110\xf3ng"),e.loading=!1)})}},{key:"EditDistrict",value:function(){var e=this;this.loading=!0,this.apiService.EditDistrict(this.department_select,this.form.value.NameDistrict).subscribe(function(t){1==t.success?(e.removeDataOld(),e.commonService.snackSuccess("S\u1eeda huy\u1ec7n th\xe0nh c\xf4ng.",""),e.loading=!1):((e.form.value.LocationId=""==e.form.value.NameDistrict||""==e.form.value.DistrictId)?(e.checkValidateNameDistrict=!1,e.checkValidateLocationId=!1,e.checkValidateDistrictId=!1):e.commonService.snackError("L\u1ed7i: S\u1eeda huy\u1ec7n kh\xf4ng th\xe0nh c\xf4ng.","\u0110\xf3ng"),e.loading=!1)})}},{key:"selectDepartment",value:function(e){this.schools=[],this.school_select=null,this.department_select=e}},{key:"selectLevel",value:function(e){this.schools=[],this.school_select=null,this.level_select=e,this.getListSchool()}},{key:"getListSchool",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.department_select&&this.level_select&&this.apiService.getListSchoolsByDistrict(this.department_select,this.level_select).subscribe(function(n){n&&(e.schools=n.data,e.schools=e.sortName(e.schools),e.schools.push({id:-1,name:"Kh\xe1c",districtId:e.department_select,typeId:e.level_select}),t())})}},{key:"selectLocation",value:function(e){this.location_select=e,this.department_select=null,this.departments=[],this.GetDistrictsByProvince()}},{key:"GetDistrictsByProvince",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.apiService.getListDistrictsByProvince(this.location_select).subscribe(function(n){n&&(e.departments=n.data,e.departments=e.sortName(e.departments),t())})}},{key:"removeDataOld",value:function(){this.form=this.formBuilder.group({NameDistrict:new k.h("",k.z.required),LevelId:new k.h("",k.z.required),NameSchool:new k.h("",k.z.required),LocationId:new k.h("",k.z.required),DistrictId:new k.h("",k.z.required),SchoolId:new k.h("",k.z.required)}),this.checkValidateNameDistrict=!0,this.checkValidateLocationId=!0,this.checkValidateDistrictId=!0,this.checkValidateLevelId=!0,this.checkValidateNameSchool=!0,this.checkValidateSchoolId=!0}},{key:"SaveDataApi",value:function(){0==this.selected.value?this.AddDistrict():1==this.selected.value?this.AddSchool():2==this.selected.value?this.EditDistrict():3==this.selected.value&&this.EditSchool()}},{key:"selectedIndexChange",value:function(e){this.selected.setValue(e),this.removeDataOld()}},{key:"ngOnInit",value:function(){this.removeDataOld(),this.initData()}}]),e}()).\u0275fac=function(e){return new(e||Ya)(I.Ob(P.a),I.Ob(_a.b),I.Ob(_a.b),I.Ob(k.g),I.Ob(S.a))},Ya.\u0275cmp=I.Ib({type:Ya,selectors:[["app-ad-school"]],decls:3,vars:4,consts:[[3,"headerTitle","back_link"],[4,"ngIf"],["class","container-fluid component-wrap centerBoth hasBg mt-3 mb-3",4,"ngIf"],[1,"container-fluid","component-wrap","centerBoth","hasBg","mt-3","mb-3"],[1,"card"],[1,"card-body"],[3,"selectedIndex","selectedIndexChange"],["label","Th\xeam huy\u1ec7n"],[2,"margin-top","20px",3,"formGroup"],[1,"form-group"],[1,"control-label"],["appearance","fill"],["placeholder","Ch\u1ecdn t\u1ec9nh","formControlName","LocationId"],[3,"value",4,"ngFor","ngForOf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,""],["type","text","cols","5","rows","5","placeholder","Nh\u1eadp t\xean huy\u1ec7n","formControlName","NameDistrict",1,"form-control"],["label","Th\xeam tr\u01b0\u1eddng"],["placeholder","Ch\u1ecdn t\u1ec9nh","formControlName","LocationId",3,"selectionChange"],["placeholder","Ch\u1ecdn huy\u1ec7n","name","DepartmentName","formControlName","DistrictId",3,"value","valueChange"],["placeholder","Ch\u1ecdn c\u1ea5p h\u1ecdc","name","LevelId","formControlName","LevelId"],["placeholder","Nh\u1eadp t\xean tr\u01b0\u1eddng","name","","id","","cols","5","rows","5","formControlName","NameSchool",1,"form-control"],["label","S\u1eeda huy\u1ec7n"],["placeholder","Nh\u1eadp t\xean huy\u1ec7n","formControlName","NameDistrict",1,"form-control"],["label","S\u1eeda tr\u01b0\u1eddng"],["placeholder","Ch\u1ecdn c\u1ea5p h\u1ecdc","name","LevelId","formControlName","LevelId",3,"value","valueChange","selectionChange"],["placeholder","Ch\u1ecdn tr\u01b0\u1eddng","name","SchoolName","formControlName","SchoolId",3,"value","valueChange","selectionChange"],["placeholder","Nh\u1eadp t\xean tr\u01b0\u1eddng","formControlName","NameSchool",1,"form-control"],[2,"float","right"],["type","button",1,"btn","btn-danger","mr-3",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[3,"value"],[1,"alert","alert-danger","mt-3"]],template:function(e,t){1&e&&(I.Pb(0,"header-backend",0),I.Oc(1,wa,1,0,"azt-loading-effect",1),I.Oc(2,$a,111,35,"div",2)),2&e&&(I.mc("headerTitle","Th\xeam tr\u01b0\u1eddng")("back_link","/admin/testbank/dashboard"),I.Cb(1),I.mc("ngIf",1==t.loading),I.Cb(1),I.mc("ngIf",0==t.loading))},directives:[M.a,p.m,ka.a,Ta.b,Ta.a,k.B,k.s,k.l,L.d,Ca.a,k.r,k.j,p.l,k.d,E.n],encapsulation:2}),Ya),Xa=u("BTbT");function Za(e,t){1&e&&I.Pb(0,"azt-loading-effect")}function ec(e,t){if(1&e&&(I.Ub(0,"option",20),I.Qc(1),I.Tb()),2&e){var n=t.$implicit;I.mc("value",n.id),I.Cb(1),I.Rc(n.name)}}function tc(e,t){1&e&&(I.Ub(0,"div",21),I.Ub(1,"div",22),I.Ub(2,"span",23),I.Qc(3,"Loading..."),I.Tb(),I.Tb(),I.Tb())}function nc(e,t){if(1&e){var n=I.Vb();I.Ub(0,"div"),I.Ub(1,"button",24),I.bc("click",function(){return I.Cc(n),I.fc(2).saveFaq()}),I.Qc(2,"L\u01b0u"),I.Tb(),I.Ub(3,"a",25),I.bc("click",function(){return I.Cc(n),I.fc(2).redirectToListFaq()}),I.Qc(4,"H\u1ee7y"),I.Tb(),I.Tb()}}function rc(e,t){if(1&e){var n=I.Vb();I.Ub(0,"button",24),I.bc("click",function(){return I.Cc(n),I.fc(2).updateFaq()}),I.Qc(1,"C\u1eadp nh\u1eadt"),I.Tb(),I.Ub(2,"a",25),I.bc("click",function(){return I.Cc(n),I.fc(2).redirectToListFaq()}),I.Qc(3,"H\u1ee7y"),I.Tb()}}var ic=function(){return{standalone:!0}};function oc(e,t){if(1&e){var n=I.Vb();I.Pb(0,"header-backend",2),I.Ub(1,"div",3),I.Ub(2,"form",4),I.Ub(3,"div",5),I.Ub(4,"div",6),I.Ub(5,"h3",7),I.Qc(6,"Danh m\u1ee5c"),I.Tb(),I.Tb(),I.Ub(7,"div",6),I.Ub(8,"select",8),I.Oc(9,ec,2,2,"option",9),I.Tb(),I.Tb(),I.Tb(),I.Ub(10,"div",5),I.Ub(11,"div",6),I.Ub(12,"h3",7),I.Qc(13,"T\xean c\xe2u h\u1ecfi"),I.Tb(),I.Tb(),I.Ub(14,"div",6),I.Pb(15,"input",10),I.Tb(),I.Tb(),I.Ub(16,"div",5),I.Ub(17,"div",6),I.Ub(18,"h3",7),I.Qc(19,"C\xe2u tr\u1ea3 l\u1eddi"),I.Tb(),I.Tb(),I.Ub(20,"div",6),I.Ub(21,"input",11,12),I.bc("change",function(e){return I.Cc(n),I.fc().onFileSelected(e)}),I.Tb(),I.Ub(23,"a",13),I.bc("click",function(){return I.Cc(n),I.yc(22).click()}),I.Ub(24,"span"),I.Qc(25,"+ Th\xeam \u1ea3nh"),I.Tb(),I.Tb(),I.Oc(26,tc,4,0,"div",14),I.Tb(),I.Ub(27,"div",6),I.Ub(28,"editor",15),I.bc("ngModelChange",function(e){return I.Cc(n),I.fc().formFaq.content=e}),I.Tb(),I.Tb(),I.Tb(),I.Ub(29,"div",5),I.Ub(30,"div",6),I.Ub(31,"h3",7),I.Qc(32,"V\u1ecb tr\xed"),I.Tb(),I.Tb(),I.Ub(33,"div",6),I.Pb(34,"input",16),I.Tb(),I.Tb(),I.Ub(35,"div",5),I.Ub(36,"div",6),I.Ub(37,"h3",7),I.Qc(38,"Nh\xfang link video"),I.Tb(),I.Tb(),I.Ub(39,"div",6),I.Pb(40,"input",17),I.Tb(),I.Tb(),I.Ub(41,"div",5),I.Ub(42,"div",18),I.Oc(43,nc,5,0,"div",0),I.Oc(44,rc,4,0,"ng-template",null,19,I.Pc),I.Tb(),I.Tb(),I.Tb(),I.Tb()}if(2&e){var r=I.yc(45),i=I.fc();I.mc("headerTitle","Th\xeam Faq")("back_link","/auth/list-faq"),I.Cb(2),I.mc("formGroup",i.form),I.Cb(7),I.mc("ngForOf",i.categoryObjs),I.Cb(12),I.mc("ngModelOptions",I.qc(11,ic)),I.Cb(5),I.mc("ngIf",i.loadingUpload),I.Cb(2),I.mc("ngModel",i.formFaq.content)("ngModelOptions",I.qc(12,ic))("init",i.tinymceInit),I.Cb(15),I.mc("ngIf",0==i.checkUpdate)("ngIfElse",r)}}var ac,cc=((ac=function(){function e(t,n,r,i,o){f(this,e),this.activeRoute=t,this.commonService=n,this.apiService=r,this.router=i,this.fb=o,this.form=new k.k({}),this.formFaq={},this.isLoading=!1,this.subscriptions=new x.a,this.tinymceInit={},this.categoryObjs=[],this.faqId=0,this.checkUpdate=!1,this.loadingUpload=!1,this.LogErrorsRequest=!1,this.contentEditor=""}return m(e,[{key:"getCategoryFaq",value:function(){var e=this;this.isLoading=!0,this.apiService.getCategoryFaqObjs().subscribe(function(t){1==t.success?e.categoryObjs=t.data.objs:e.commonService.snackError("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng",""),e.isLoading=!1})}},{key:"saveFaq",value:function(){var e=this;this.isLoading=!0;var t=this.commonService.getFormObj(this.form);null!=JSON.stringify(this.formFaq.content)&&null!=JSON.stringify(this.formFaq.content)||(this.formFaq.content=""),this.apiService.saveFaqObj({supporttype:t.categoryFaq,title:t.questionFaq,content:this.formFaq.content,videoUrl:t.videoUrl,position:t.positionFaq}).subscribe(function(t){1==t.success?e.commonService.snackSuccess("T\u1ea1o faq th\xe0nh c\xf4ng.",""):e.commonService.snackError("T\u1ea1o faq kh\xf4ng th\xe0nh c\xf4ng",""),e.isLoading=!1})}},{key:"getDetailFaq",value:function(e){var t=this;this.checkUpdate=null!=e&&0!=e&&null!=e,this.checkUpdate&&(this.isLoading=!0,this.apiService.getDetailFaqObj(e).subscribe(function(e){if(1==e.success){var n=e.data.obj;t.formFaq.content=e.data.obj.content,t.form.patchValue({categoryFaq:n.supportType,questionFaq:n.title,videoUrl:n.videoUrl,positionFaq:n.position})}else t.commonService.snackError("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng","")}))}},{key:"onFileSelected",value:function(e){var t=this,n=e.target.files,r=!!n&&n[0];0!=r&&(this.loadingUpload=!0,Object(Xa.a)(r).then(function(e){t.apiService.uploadAssetsToCdnProgress("Images/support",e).subscribe(function(e){0==e.successUpload?(t.loadingUpload=!1,t.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau!","")):1==e.successUpload&&e.successUpload&&1==e.successUpload&&(t.contentEditor.insertContent('<img width="50%" class="card-img-bottom img-custom my-3" src="'.concat(e.url,'" alt="">')),t.loadingUpload=!1)},function(e){t.LogErrorsRequest=JSON.stringify(e)})}))}},{key:"updateFaq",value:function(){var e=this;this.isLoading=!0;var t=this.commonService.getFormObj(this.form);null!=JSON.stringify(this.formFaq.content)&&null!=JSON.stringify(this.formFaq.content)||(this.formFaq.content=""),this.apiService.updateFaqObj({id:this.faqId,supporttype:t.categoryFaq,title:t.questionFaq,content:this.formFaq.content,videoUrl:t.videoUrl,position:t.positionFaq}).subscribe(function(t){1==t.success?e.commonService.snackSuccess("C\u1eadp nh\u1eadt faq th\xe0nh c\xf4ng.",""):e.commonService.snackError("C\u1eadp nh\u1eadt faq kh\xf4ng th\xe0nh c\xf4ng",""),e.isLoading=!1})}},{key:"redirectToListFaq",value:function(){this.commonService.myNavigation("/auth/list-faq")}},{key:"ngOnInit",value:function(){var e=this;this.formFaq.content="",this.form=this.fb.group({categoryFaq:new k.h(1,k.z.required),questionFaq:new k.h("",k.z.required),positionFaq:new k.h(0),videoUrl:new k.h("")}),Object(O.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(function(t){s(t),e.faqId=e.commonService.getMyParam(e.activeRoute,"id"),e.getDetailFaq(e.faqId),e.getCategoryFaq()}),this.tinymceInit={branding:!1,height:400,image_advtab:!0,imagetools_toolbar:"\n                rotateleft rotateright |\n                flipv fliph | \n                editimage imageoptions",importcss_append:!0,inline:!1,menubar:!0,paste_data_images:!0,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"\n                undo redo | formatselect | bold italic backcolor |                 alignleft aligncenter alignright alignjustify |                 bullist numlist outdent indent | removeformat | help",setup:function(t){e.contentEditor=t,t.ui.registry.addButton("insertText",{text:"Press Me To Insert Text!",onAction:function(){t.insertContent("<strong>Hello World!</strong>")}})}}}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||ac)(I.Ob(b.a),I.Ob(P.a),I.Ob(S.a),I.Ob(b.i),I.Ob(k.g))},ac.\u0275cmp=I.Ib({type:ac,selectors:[["app-add-faq"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"headerTitle","back_link"],[1,"container-fluid","my-3","pb-80"],[1,"px-3",3,"formGroup"],[1,"row","py-3"],[1,"col-md-12"],[1,"text-feild"],["formControlName","categoryFaq","id","exampleFormControlSelect1",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","questionFaq","placeholder","",1,"form-control","questionFaq"],["type","file","name","fileHomework",2,"display","none",3,"ngModelOptions","change"],["formChoseFile",""],[1,"d-flex","align-items-center",2,"color","#3C8DBC",3,"click"],["class","d-flex justify-content-center my-2",4,"ngIf"],["apiKey","ldij13v1886vlrnk42g9bvngyqdc6gxpe8l0n9mo8gdjpg9d",3,"ngModel","ngModelOptions","init","ngModelChange"],["type","number","formControlName","positionFaq","placeholder","",1,"form-control","questionFaq"],["type","text","formControlName","videoUrl","placeholder","",1,"form-control","questionFaq"],[1,"col-md-12","text-right"],["button",""],[3,"value"],[1,"d-flex","justify-content-center","my-2"],["role","status",1,"spinner-border","text-secondary"],[1,"sr-only"],[1,"button-save",3,"click"],[1,"button-cancel",3,"click"]],template:function(e,t){if(1&e&&(I.Oc(0,Za,1,0,"azt-loading-effect",0),I.Oc(1,oc,46,13,"ng-template",null,1,I.Pc)),2&e){var n=I.yc(2);I.mc("ngIf",t.isLoading)("ngIfElse",n)}},directives:[p.m,ka.a,M.a,k.B,k.s,k.l,k.y,k.r,k.j,p.l,k.d,y.a,k.u,k.w,k.v,k.A],styles:[".text-feild[_ngcontent-%COMP%]{margin-bottom:5px}.button-save[_ngcontent-%COMP%]{background-color:#169bd5;color:#fff;padding:8px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:14px;margin-right:16px;cursor:pointer;border-radius:5px;border:1px solid #169bd5;text-transform:uppercase}.button-save[_ngcontent-%COMP%]:hover{background-color:#0069d9;border-color:#0069d9}.pb-80[_ngcontent-%COMP%]{padding-bottom:80px}.button-cancel[_ngcontent-%COMP%]{background-color:#fff!important;color:#333;padding:8px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:14px;cursor:pointer;border:1px solid #797979;border-radius:5px;text-transform:uppercase}.button-cancel[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.02)!important}"]}),ac),sc=u("UXJo");function uc(e,t){1&e&&I.Pb(0,"azt-loading-effect")}function lc(e,t){if(1&e&&(I.Ub(0,"h3",31),I.Qc(1),I.Tb()),2&e){var n=I.fc().$implicit;I.Cb(1),I.Sc(" ",n.name," ")}}function dc(e,t){1&e&&(I.Ub(0,"div",48),I.Ub(1,"div",49),I.Ub(2,"span",50),I.Qc(3,"Loading..."),I.Tb(),I.Tb(),I.Tb())}function hc(e,t){if(1&e){var n=I.Vb();I.Ub(0,"div",51),I.Ub(1,"iframe",52),I.bc("load",function(){return I.Cc(n),I.fc(5).onLoad()}),I.gc(2,"safe"),I.Tb(),I.Tb()}if(2&e){var r=I.fc(2).$implicit,i=I.fc(3);I.mc("hidden",i.imgLoading),I.Cb(1),I.mc("src",I.hc(2,2,r.videoUrl),I.Ec)}}function bc(e,t){if(1&e&&(I.Ub(0,"div",45),I.Oc(1,dc,4,0,"div",46),I.Oc(2,hc,3,4,"div",47),I.Tb()),2&e){var n=I.fc().$implicit,r=I.fc(3);I.Cb(1),I.mc("ngIf",r.imgLoading),I.Cb(1),I.mc("ngIf",n.loading)}}var fc=function(e){return[e]};function pc(e,t){if(1&e){var n=I.Vb();I.Ub(0,"div",5),I.Ub(1,"div",32),I.Ub(2,"div",33),I.bc("click",function(){I.Cc(n);var e=t.index,r=I.fc().index;return I.fc(2).scrollClick(r,e)}),I.Ub(3,"div",34),I.Ub(4,"a",35),I.Ub(5,"span"),I.Qc(6),I.Tb(),I.Qc(7),I.Tb(),I.Ub(8,"button",36),I.bc("click",function(){return I.Cc(n),I.fc(3).showCopySuccess()}),I.Ub(9,"mat-icon",37),I.Qc(10,"file_copy"),I.Tb(),I.Tb(),I.Tb(),I.Ub(11,"div",38),I.Pb(12,"div",39),I.Oc(13,bc,3,2,"div",40),I.Tb(),I.Tb(),I.Tb(),I.Ub(14,"div",41),I.Ub(15,"div",42),I.Ub(16,"a",43),I.gc(17,"mylocalize"),I.Qc(18,"S\u1eeda"),I.Tb(),I.Ub(19,"button",44),I.bc("click",function(){I.Cc(n);var e=t.$implicit,r=t.index,i=I.fc().index;return I.fc(2).openDialog(e.id,i,r)}),I.Qc(20,"X\xf3a"),I.Tb(),I.Tb(),I.Tb(),I.Tb()}if(2&e){var r=t.$implicit,i=t.index,o=I.fc().index,a=I.fc(2);I.Cb(2),I.mc("id",o+"_"+i),I.Cb(4),I.Sc("",i+1,". "),I.Cb(1),I.Tc("",r.title," (V\u1ecb tr\xed:",r.position,")"),I.Cb(1),I.mc("cdkCopyToClipboard",a.copyLinkToClipboard(o+"_"+i)),I.Cb(3),I.mc("id","collapse_"+o+"_"+i),I.Cb(1),I.mc("innerHTML",r.content,I.Dc),I.Cb(1),I.mc("ngIf",""!=r.videoUrl),I.Cb(3),I.mc("routerLink",I.rc(11,fc,I.hc(17,9,"/auth/add-faq/"+r.id)))}}function mc(e,t){if(1&e&&(I.Ub(0,"div",27),I.Oc(1,lc,2,1,"h3",28),I.Ub(2,"div",29),I.Oc(3,pc,21,13,"div",30),I.gc(4,"appFilter"),I.Tb(),I.Tb()),2&e){var n=t.$implicit,r=I.fc(2);I.Cb(1),I.mc("ngIf",r.checkSearch||0==n.objs.length),I.Cb(2),I.mc("ngForOf",I.ic(4,2,n.objs,r.searchText))}}function gc(e,t){1&e&&(I.Ub(0,"span"),I.Pb(1,"span",62),I.Qc(2,"\xa0"),I.Tb())}function vc(e,t){if(1&e){var n=I.Vb();I.Ub(0,"div",53),I.Ub(1,"div",54),I.Ub(2,"div",55),I.Ub(3,"p",56),I.Qc(4," B\u1ea1n mu\u1ed1n x\xf3a faq n\xe0y ? "),I.Tb(),I.Tb(),I.Ub(5,"div",57),I.Ub(6,"div",58),I.Ub(7,"button",59),I.bc("click",function(){return I.Cc(n),I.fc(2).closeDialog()}),I.Qc(8," H\u1ee7y "),I.Tb(),I.Tb(),I.Ub(9,"button",60),I.bc("click",function(){return I.Cc(n),I.fc(2).configDeleteFaq()}),I.Oc(10,gc,3,0,"span",61),I.Qc(11," X\xe1c nh\u1eadn "),I.Tb(),I.Tb(),I.Tb(),I.Tb()}if(2&e){var r=I.fc(2);I.Cb(9),I.mc("disabled",r.isLoading),I.Cb(1),I.mc("ngIf",!0===r.isLoading)}}function yc(e,t){if(1&e){var n=I.Vb();I.Pb(0,"header-backend",2),I.Ub(1,"div",3),I.Ub(2,"div",4),I.Ub(3,"div",5),I.Ub(4,"div",6),I.Ub(5,"div",7),I.Ub(6,"div",8),I.Ub(7,"h2",9),I.Qc(8,"T\xecm c\xe2u h\u1ecfi ho\u1eb7c ch\u1ecdn theo danh m\u1ee5c b\xean d\u01b0\u1edbi"),I.Tb(),I.Ub(9,"div",10),I.Ub(10,"div",11),I.Ub(11,"input",12),I.bc("ngModelChange",function(e){return I.Cc(n),I.fc().searchText=e})("ngModelChange",function(){return I.Cc(n),I.fc().changeValueSearch()}),I.Tb(),I.Ub(12,"div",13),I.Ub(13,"span",14),I.Ub(14,"span",15),I.ec(),I.Ub(15,"svg",16),I.Pb(16,"line",17),I.Pb(17,"polyline",18),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.dc(),I.Ub(18,"div",19),I.Ub(19,"div",5),I.Ub(20,"div",20),I.Ub(21,"a",21),I.gc(22,"mylocalize"),I.Qc(23," + Th\xeam Faq "),I.Tb(),I.Ub(24,"a",21),I.gc(25,"mylocalize"),I.Qc(26," + Th\xeam danh m\u1ee5c Faq "),I.Tb(),I.Tb(),I.Tb(),I.Ub(27,"div",22),I.Ub(28,"div",23),I.Oc(29,mc,5,5,"div",24),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Oc(30,vc,12,2,"div",25),I.Ub(31,"button",26),I.bc("click",function(){return I.Cc(n),I.fc().topFunction()}),I.Ub(32,"mat-icon"),I.Qc(33,"arrow_upward"),I.Tb(),I.Tb()}if(2&e){var r=I.fc();I.mc("headerTitle","Faq")("back_link","/admin/testbank/dashboard"),I.Cb(11),I.mc("ngModel",r.searchText),I.Cb(10),I.mc("routerLink",I.rc(11,fc,I.hc(22,7,"/auth/add-faq/"))),I.Cb(3),I.mc("routerLink",I.rc(13,fc,I.hc(25,9,"/auth/category-faq/"))),I.Cb(5),I.mc("ngForOf",r.dataFaq),I.Cb(1),I.mc("ngIf",r.isShow)}}var _c,kc=((_c=function(){function e(t,n,r,i,o){f(this,e),this.router=t,this.vps=n,this.commonService=r,this.cdr=i,this.apiService=o,this.subscriptions=new x.a,this.searchText="",this.checkSearch=!0,this.id=null,this.imgLoading=!0,this.backLink="/admin/testbank/dashboard",this.dataFaq=[],this.isLoading=!1,this.isShow=!1,this.idDelete=0,this.objIndex={}}return m(e,[{key:"topFunction",value:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0}},{key:"changeValueSearch",value:function(){this.checkSearch=""===this.searchText}},{key:"onLoad",value:function(){this.imgLoading=!1}},{key:"getFaqs",value:function(){var e=this;this.isLoading=!0,this.apiService.getFaqObjs().subscribe(function(t){if(1==t.success){e.dataFaq=t.data.objs;for(var n=0;n<e.dataFaq;n++)for(var r=0;r<e.dataFaq[n].objs.length;r++)e.dataFaq[n].objs[r].loading=!1}else e.commonService.snackError("Kh\xf4ng t\u1ea3i \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u","");e.isLoading=!1})}},{key:"openDialog",value:function(e,t,n){this.objIndex.i=t,this.objIndex.j=n,this.idDelete=e,this.isShow=!0}},{key:"editFaq",value:function(e){this.commonService.myNavigation("/auth/add-faq/"+e)}},{key:"addFaq",value:function(){this.commonService.myNavigation("/auth/add-faq")}},{key:"configDeleteFaq",value:function(){var e=this;this.isLoading=!0,this.apiService.deleteFaqObj(this.idDelete).subscribe(function(t){1==t.success?(e.commonService.snackSuccess("X\xf3a d\u1eef li\u1ec7u th\xe0nh c\xf4ng.",""),e.dataFaq[e.objIndex.i].objs.splice(e.objIndex.j,1)):e.commonService.snackError("X\xf3a d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng",""),e.isLoading=!1}),this.isShow=!1}},{key:"closeDialog",value:function(){this.isShow=!1,this.idDelete=0}},{key:"scroll",value:function(e){this.vps.scrollToAnchor(e);var t=e.split("_")[0],n=e.split("_")[1],r=document.getElementById("collapse_".concat(t,"_").concat(n));this.dataFaq[t].objs[n].loading=!0,null!==r&&r.classList.toggle("show-content")}},{key:"scrollClick",value:function(e,t){var n=document.getElementById("collapse_".concat(e,"_").concat(t));this.dataFaq[e].objs[t].loading=!0,null!==n&&n.classList.toggle("show-content")}},{key:"copyLinkToClipboard",value:function(e){return"".concat(location.protocol+"//"+location.hostname+(location.port?":"+location.port:""),"/en/faq/").concat(e)}},{key:"showCopySuccess",value:function(){this.commonService.snackSuccess("Sao ch\xe9p th\xe0nh c\xf4ng","")}},{key:"ngOnInit",value:function(){this.getFaqs(),this.commonService.getMyQueryParam("backto")&&(this.backLink=this.commonService.getMyQueryParam("backto")),this.commonService.translateMetaData({title:"lang_core_faq_title",description:"lang_core_faq_description",image:"lang_cms_test_image"})}},{key:"ngAfterViewInit",value:function(){var e=this;this.id=this.router.snapshot.paramMap.get("id"),setTimeout(function(){null!==e.id&&e.scroll(e.id)},200)}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||_c)(I.Ob(b.a),I.Ob(p.w),I.Ob(P.a),I.Ob(I.h),I.Ob(S.a))},_c.\u0275cmp=I.Ib({type:_c,selectors:[["app-add-faq"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"headerTitle","back_link"],[1,"wrapper"],[1,"container-fluid","pb-80"],[1,"row"],[1,"col-xl-12","p-0"],[1,"faq-search-wrap","bg-teal-light-3"],[1,"container"],[1,"display-5","text-white","mb-20"],[1,"form-group","w-100","mb-0"],[1,"input-group"],["type","text","placeholder","T\xecm ki\u1ebfm... ","type","text",1,"form-control","form-control-lg","filled-input","bg-white","form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],[1,"input-group-text",2,"background","transparent","border","none"],[1,"feather-icon"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-arrow-right"],["x1","5","y1","12","x2","19","y2","12"],["points","12 5 19 12 12 19"],[1,"container","mt-sm-60","mt-30"],[1,"col-md-12","text-right"],[1,"btn","btn-success","mr-2",2,"margin-right","25px",3,"routerLink"],[1,"hk-row"],[1,"col-xl-12"],["class","card-lg",4,"ngFor","ngForOf"],["class","school-info_bg",4,"ngIf"],["id","myBtn","mat-fab","","title","Go to top",3,"click"],[1,"card-lg"],["style"," margin-top: 20px; ",4,"ngIf"],["id","accordion_1a",1,"accordion","accordion-type-2","accordion-flush"],["class","row",4,"ngFor","ngForOf"],[2,"margin-top","20px"],[1,"col-xl-10"],[1,"card","card-custom","contsearch",3,"id","click"],[1,"card-header","d-flex","justify-content-between","activestate","simple"],["role","button","aria-expanded","false",1,"collapsed","gsearch"],["mat-button","",1,"btn",2,"font-size","10px","padding-top","9px",3,"cdkCopyToClipboard","click"],[2,"font-size","16px","color","#00000082"],["data-parent","#accordion_1","role","tabpanel",1,"collapse",3,"id"],[1,"card-body","pa-15",3,"innerHTML"],["class","p-md-3",4,"ngIf"],[1,"col-xl-2"],[1,"block-btn"],["mat-flat-button","","color","primary",3,"routerLink"],["mat-flat-button","","color","warn",3,"click"],[1,"p-md-3"],["class","px-4 py-3 text-center",4,"ngIf"],["class","embed-responsive embed-responsive-16by9 video_link",3,"hidden",4,"ngIf"],[1,"px-4","py-3","text-center"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"],[1,"embed-responsive","embed-responsive-16by9","video_link",3,"hidden"],["allowfullscreen","",1,"embed-responsive-item",3,"src","load"],[1,"school-info_bg"],[1,"school-info","p-4"],[1,"text-center"],[1,"h5","para_respon","font-weight-normal"],[1,"d-flex","float-right","mt-3"],[1,"azt-block-button"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"disabled","click"],[4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,t){if(1&e&&(I.Oc(0,uc,1,0,"azt-loading-effect",0),I.Oc(1,yc,34,15,"ng-template",null,1,I.Pc)),2&e){var n=I.yc(2);I.mc("ngIf",t.isLoading)("ngIfElse",n)}},directives:[p.m,ka.a,M.a,k.d,k.r,k.u,b.k,p.l,F.b,A.a,sc.a,F.a],pipes:[z.n,z.i,z.q],styles:['@charset "UTF-8";body[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:#fff;width:16px}.btn-green[_ngcontent-%COMP%]{color:#fff;background-color:#28a745;border-color:#28a745}.btn-green[_ngcontent-%COMP%]:hover{color:#fff;background-color:#218838;border-color:#1e7e34}body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#fff}body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#babac0;border-radius:16px;border:4px solid #fff}body[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}.pb-80[_ngcontent-%COMP%]{padding-bottom:80px}.img-custom[_ngcontent-%COMP%]{width:100%!important}.header-top[_ngcontent-%COMP%]{max-height:65px;overflow:hidden;background-color:#fff;display:flex;align-items:center;padding:5px 10px;box-shadow:0 1px 7px rgba(169,151,151,.24);justify-content:space-between}a[_ngcontent-%COMP%]{text-decoration:none!important}.logo-link[_ngcontent-%COMP%]{display:flex;align-items:center}.logo-img[_ngcontent-%COMP%]{width:95px;height:41px}.faq-search-wrap[_ngcontent-%COMP%]{padding:80px 0}.faq-search-wrap[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .dd-handle[_ngcontent-%COMP%], .faq-search-wrap[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.faq-search-wrap[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-group-append[_ngcontent-%COMP%]{position:absolute;right:0;top:0;bottom:0;z-index:10;pointer-events:none}.bg-teal-light-3[_ngcontent-%COMP%]{background-color:rgba(35,97,174,.8)!important}.hk-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-right:-10px;margin-left:-10px}@media (min-width:576px){.mt-sm-60[_ngcontent-%COMP%]{margin-top:60px!important}}.mt-30[_ngcontent-%COMP%]{margin-top:30px!important}.list-group-item.active[_ngcontent-%COMP%]{background-color:#00acf0;border-color:#00acf0}.accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header.activestate[_ngcontent-%COMP%]{border-width:1px}.accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:0;border-width:0}.card.card-lg[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%], .card.card-lg[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:.9rem 1.5rem}.accordion[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{margin-bottom:-1px}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:transparent;border:none}.accordion.accordion-type-2[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%] > a.collapsed[_ngcontent-%COMP%]{color:#324148}.accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:first-of-type   .card-header[_ngcontent-%COMP%]:first-child > a[_ngcontent-%COMP%]{border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.accordion.accordion-type-2[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{background:transparent;color:#00acf0;padding-left:10px;padding-right:10px}.accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%] > a.collapsed[_ngcontent-%COMP%]{color:#324148;background:transparent}.accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{background:#00acf0;color:#fff;font-weight:500;padding:.75rem 1.25rem .75rem 0;display:block;width:100%;text-align:left;position:relative;transition:all .2s ease-in-out}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;transition:color .2s ease}.card-header[_ngcontent-%COMP%] + .list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:first-child{border-top:1px solid rgba(0,0,0,.125)!important}.badge.badge-pill[_ngcontent-%COMP%]{border-radius:50px}.badge.badge-light[_ngcontent-%COMP%]{background:#eaecec;color:#324148}.badge[_ngcontent-%COMP%]{font-weight:500;border-radius:4px;padding:5px 7px;font-size:72%;letter-spacing:.3px;vertical-align:middle;display:inline-block;text-align:center;text-transform:capitalize}.ml-15[_ngcontent-%COMP%]{margin-left:15px!important}.accordion[_ngcontent-%COMP%]{padding:0}h3[_ngcontent-%COMP%]{margin-top:20px;font-weight:500;font-size:20px;text-transform:uppercase}.mr-15[_ngcontent-%COMP%]{margin-right:15px!important}.card-custom[_ngcontent-%COMP%]{margin:20px 0;border-bottom:1px solid rgba(0,0,0,.125);border-radius:0!important;padding:5px;box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);transition:all .3s cubic-bezier(.25,.8,.25,1)}.postion[_ngcontent-%COMP%]{position:relative}.card-custom[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px rgba(0,0,0,.25),0 3px 3px rgba(0,0,0,.22)}.accordion[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:last-of-type){border-bottom:1px solid rgba(0,0,0,.125);border-radius:.25rem;padding:5px}#button[_ngcontent-%COMP%]{display:inline-block;background-color:#00acf0;width:50px;height:50px;text-align:center;border-radius:4px;position:fixed;bottom:30px;right:30px;transition:background-color .3s,opacity .5s,visibility .5s;opacity:0;visibility:hidden;z-index:1000}#button[_ngcontent-%COMP%]:after{content:"\uf077";font-family:FontAwesome;font-weight:400;font-style:normal;font-size:2em;line-height:50px;color:#fff}#button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#333}#button[_ngcontent-%COMP%]:active{background-color:#555}#button.show[_ngcontent-%COMP%]{opacity:1;visibility:visible}.card-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;display:block;margin:auto}.section-title-line[_ngcontent-%COMP%]{display:flex}.content-outline__item[_ngcontent-%COMP%]{line-height:1.2;list-style:none;padding:5px 0;font-size:.9rem;color:#495057}.collapse[_ngcontent-%COMP%]{display:block;opacity:0;visibility:hidden;height:0}.show-content[_ngcontent-%COMP%]{transition:all .5s;opacity:1;visibility:visible;height:auto}#myBtn[_ngcontent-%COMP%]{display:block;position:fixed;bottom:20px;right:30px;z-index:99;cursor:pointer;background:rgba(35,97,174,.8);color:#fff}.block-btn[_ngcontent-%COMP%]{margin-top:30px}.block-btn[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:10px}.school-info_bg[_ngcontent-%COMP%]{z-index:9998;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background:rgba(0,0,0,.5607843137254902)}.school-info[_ngcontent-%COMP%]{z-index:9999;top:50%;left:50%;min-width:30%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}}@media screen and (max-width:768px){.block-btn[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:30px}}']}),_c);function Tc(e,t){1&e&&I.Pb(0,"azt-loading-effect")}function Cc(e,t){if(1&e){var n=I.Vb();I.Ub(0,"div"),I.Ub(1,"button",15),I.bc("click",function(){return I.Cc(n),I.fc(2).saveCategoryFaq()}),I.Qc(2,"L\u01b0u"),I.Tb(),I.Tb()}}function wc(e,t){if(1&e){var n=I.Vb();I.Ub(0,"button",15),I.bc("click",function(){return I.Cc(n),I.fc(2).updateCategoryFaq()}),I.Qc(1,"C\u1eadp nh\u1eadt"),I.Tb()}}var Uc=function(e){return[e]};function xc(e,t){if(1&e&&(I.Ub(0,"tr"),I.Ub(1,"td"),I.Qc(2),I.Tb(),I.Ub(3,"td",16),I.Ub(4,"a",17),I.gc(5,"mylocalize"),I.Qc(6,"S\u1eeda"),I.Tb(),I.Tb(),I.Tb()),2&e){var n=t.$implicit;I.Cb(2),I.Rc(n.name),I.Cb(2),I.mc("routerLink",I.rc(4,Uc,I.hc(5,2,"/auth/category-faq/"+n.id)))}}function Oc(e,t){if(1&e&&(I.Pb(0,"header-backend",2),I.Ub(1,"div",3),I.Ub(2,"form",4),I.Ub(3,"div",5),I.Ub(4,"div",6),I.Ub(5,"h3",7),I.Qc(6,"T\xean Danh m\u1ee5c"),I.Tb(),I.Tb(),I.Ub(7,"div",6),I.Pb(8,"input",8),I.Tb(),I.Tb(),I.Ub(9,"div",5),I.Ub(10,"div",6),I.Ub(11,"h3",7),I.Qc(12,"V\u1ecb tr\xed"),I.Tb(),I.Tb(),I.Ub(13,"div",6),I.Pb(14,"input",9),I.Tb(),I.Tb(),I.Ub(15,"div",5),I.Ub(16,"div",10),I.Oc(17,Cc,3,0,"div",0),I.Oc(18,wc,2,0,"ng-template",null,11,I.Pc),I.Tb(),I.Tb(),I.Tb(),I.Ub(20,"div",12),I.Ub(21,"table",13),I.Oc(22,xc,7,6,"tr",14),I.Tb(),I.Tb(),I.Tb()),2&e){var n=I.yc(19),r=I.fc();I.mc("headerTitle","Danh m\u1ee5c Faq")("back_link","/auth/list-faq"),I.Cb(2),I.mc("formGroup",r.form),I.Cb(15),I.mc("ngIf",0==r.checkUpdate)("ngIfElse",n),I.Cb(5),I.mc("ngForOf",r.categoryObjs)}}var Ic,Pc=((Ic=function(){function e(t,n,r,i,o){f(this,e),this.activeRoute=t,this.commonService=n,this.apiService=r,this.router=i,this.fb=o,this.form=new k.k({}),this.isLoading=!1,this.subscriptions=new x.a,this.categoryObjs=[],this.checkUpdate=!1,this.cateId=0}return m(e,[{key:"getCategoryFaq",value:function(){var e=this;this.isLoading=!0,this.apiService.getCategoryFaqObjs().subscribe(function(t){1==t.success?e.categoryObjs=t.data.objs:e.commonService.snackError("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng",""),e.isLoading=!1})}},{key:"saveCategoryFaq",value:function(){var e=this;this.isLoading=!0;var t=this.commonService.getFormObj(this.form);this.apiService.saveCategoryFaqObj({name:t.categoryFaq,position:t.categoryPosFaq}).subscribe(function(t){1==t.success?(e.getCategoryFaq(),e.commonService.snackSuccess("T\u1ea1o danh m\u1ee5c faq th\xe0nh c\xf4ng.","")):e.commonService.snackError("T\u1ea1o danh m\u1ee5c faq kh\xf4ng th\xe0nh c\xf4ng",""),e.isLoading=!1})}},{key:"updateCategoryFaq",value:function(){var e=this;this.isLoading=!0;var t=this.commonService.getFormObj(this.form);this.apiService.updateCategoryFaqObj({id:this.cateId,name:t.categoryFaq,position:t.categoryPosFaq}).subscribe(function(t){1==t.success?(e.getCategoryFaq(),e.commonService.snackSuccess("C\u1eadp nh\u1eadt danh m\u1ee5c faq th\xe0nh c\xf4ng.","")):e.commonService.snackError("C\u1eadp nh\u1eadt danh m\u1ee5c faq kh\xf4ng th\xe0nh c\xf4ng",""),e.isLoading=!1})}},{key:"getDetailCategoryFaq",value:function(e){var t=this;this.checkUpdate=null!=e&&0!=e&&null!=e,this.checkUpdate&&(this.isLoading=!0,this.apiService.getDetailCategoryFaqObj(e).subscribe(function(e){if(1==e.success){var n=e.data.obj;t.form.patchValue({categoryFaq:n.name,categoryPosFaq:n.position})}else t.commonService.snackError("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng","")}))}},{key:"ngOnInit",value:function(){var e=this;this.form=this.fb.group({categoryFaq:new k.h("",k.z.required),categoryPosFaq:new k.h(0,k.z.required)}),Object(O.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(function(t){s(t),e.getCategoryFaq(),e.cateId=e.commonService.getMyParam(e.activeRoute,"id"),e.getDetailCategoryFaq(e.cateId)})}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Ic)(I.Ob(b.a),I.Ob(P.a),I.Ob(S.a),I.Ob(b.i),I.Ob(k.g))},Ic.\u0275cmp=I.Ib({type:Ic,selectors:[["app-add-faq"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"headerTitle","back_link"],[1,"container-fluid","my-3"],[1,"px-3",3,"formGroup"],[1,"row","py-3"],[1,"col-md-12"],[1,"text-feild"],["type","text","formControlName","categoryFaq","placeholder","",1,"form-control","questionFaq"],["type","number","formControlName","categoryPosFaq","placeholder","",1,"form-control","questionFaq"],[1,"col-md-12","text-right"],["button",""],[1,"row","col-md-12"],[1,"table"],[4,"ngFor","ngForOf"],[1,"button-save",3,"click"],[1,"text-right"],["mat-flat-button","","color","primary",3,"routerLink"]],template:function(e,t){if(1&e&&(I.Oc(0,Tc,1,0,"azt-loading-effect",0),I.Oc(1,Oc,23,6,"ng-template",null,1,I.Pc)),2&e){var n=I.yc(2);I.mc("ngIf",t.isLoading)("ngIfElse",n)}},directives:[p.m,ka.a,M.a,k.B,k.s,k.l,k.d,k.r,k.j,k.w,p.l,F.a,b.k],pipes:[z.n],styles:[".text-feild[_ngcontent-%COMP%]{margin-bottom:5px}.button-save[_ngcontent-%COMP%]{background-color:#169bd5;color:#fff;padding:8px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:14px;margin-right:16px;cursor:pointer;border-radius:5px;border:1px solid #169bd5;text-transform:uppercase}.button-save[_ngcontent-%COMP%]:hover{background-color:#0069d9;border-color:#0069d9}.pb-80[_ngcontent-%COMP%]{padding-bottom:80px}.button-cancel[_ngcontent-%COMP%]{background-color:#fff!important;color:#333;padding:8px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:14px;cursor:pointer;border:1px solid #797979;border-radius:5px;text-transform:uppercase}.button-cancel[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.02)!important}"]}),Ic);function Sc(e,t){if(1&e){var n=I.Vb();I.Ub(0,"div",8),I.Ub(1,"div",9),I.Ub(2,"label",10),I.Qc(3),I.Tb(),I.Ub(4,"div",11),I.Pb(5,"textarea",12),I.Tb(),I.Ub(6,"div",13),I.Ub(7,"button",14),I.bc("click",function(){I.Cc(n);var e=t.$implicit;return I.fc().saveConfig(e.controls.id.value)}),I.Qc(8,"C\u1eadp nh\u1eadt"),I.Tb(),I.Qc(9,"\xa0 "),I.Tb(),I.Tb(),I.Tb()}if(2&e){var r=t.$implicit;I.Cb(1),I.mc("formGroup",r),I.Cb(2),I.Rc(r.controls.name.value)}}var Mc,Rc,jc,Ec,Lc=[{path:"",children:[{path:"",children:[{path:"login",component:he},{path:"register",component:Be},{path:"register/:type",component:Be},{path:"logout",component:Xe},{path:"confirm_forgot_password",component:mt},{path:"confirm_forgot_password_old",component:Ut},{path:"confirm_account",component:so},{path:"checking_service",component:Mo},{path:"set_new_password",component:Et},{path:"change-info",component:te},{path:"become-teacher",component:fo},{path:"update-new-version",component:R},{path:"switch-teacher-student",component:So},{path:"support",component:Je},{path:"report_error",component:sa},{path:"upload_assets",component:Wt},{path:"upload_mnote",component:ya},{path:"upload-file",component:yo},{path:"add_school",component:Ja},{path:"add-faq",component:cc},{path:"add-faq/:id",component:cc},{path:"list-faq",component:kc},{path:"category-faq",component:Pc},{path:"category-faq/:id",component:Pc},{path:"update-config",component:(Rc=function(){function e(t,n,r){f(this,e),this.fb=t,this.commonService=n,this.apiService=r,this.subscriptions=new x.a,this.form=new k.k({}),this.status_obj={loading:!1,error:!1},this.objs=[]}return m(e,[{key:"ngOnInit",value:function(){this.form=this.fb.group({config_objs:this.fb.array([])}),this.getConfigObjs(),this.commonService.translateMetaData({title:"lang_cms_auth_update_config_title",description:"lang_cms_auth_update_config_description",image:"lang_cms_test_image"})}},{key:"saveConfig",value:function(e){for(var t=this,n=this.commonService.getFormObj(this.form),r=!1,i="",o=0;o<n.config_objs.length;o++)if(n.config_objs[o].id==e){r=!0,i=n.config_objs[o].value;break}r?(this.status_obj={loading:!0,error:!1},this.subscriptions.add(this.apiService.updateConfigObj(e,i).subscribe(function(e){1==e.success?(t.status_obj={loading:!1,error:!1},t.commonService.snackSuccess("L\u01b0u d\u1eef li\u1ec7u th\xe0nh c\xf4ng","")):(t.status_obj={loading:!1,error:!0},t.commonService.myTranslate([e.message]).subscribe(function(n){t.commonService.snackError(n[e.message],"")}))}))):this.commonService.snackError("Kh\xf4ng t\xecm th\u1ea5y d\u1eef li\u1ec7u","")}},{key:"getConfigObjs",value:function(){var e=this;this.status_obj={loading:!0,error:!1},this.subscriptions.add(this.apiService.getConfigObjs().subscribe(function(t){if(1==t.success){e.objs=t.data;for(var n=e.fb.array([]),r=0;r<e.objs.length;r++){var i=e.fb.group({id:[e.objs[r].id,[k.z.required]],name:[e.objs[r].name,[k.z.required]],value:[e.objs[r].value,[k.z.required]]});n.push(i)}e.form.setControl("config_objs",n),e.status_obj={loading:!1,error:!1}}else e.status_obj={loading:!1,error:!0},e.commonService.myTranslate([t.message]).subscribe(function(n){e.commonService.snackError(n[t.message],"")})}))}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}(),Rc.\u0275fac=function(e){return new(e||Rc)(I.Ob(k.g),I.Ob(P.a),I.Ob(S.a))},Rc.\u0275cmp=I.Ib({type:Rc,selectors:[["app-update-config"]],decls:12,vars:4,consts:[[3,"headerTitle","back_link"],[1,"container-fluid","component-wrap","centerBoth","hasBg","mt-3"],[1,"card"],[1,"card-body"],[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"row"],[1,"col-sm-12"],["class","form-group",4,"ngFor","ngForOf"],[1,"form-group"],[1,"row",3,"formGroup"],[1,"col-sm-2","control-label"],[1,"col-sm-6"],["type","text","formControlName","value",1,"form-control"],[1,"col-sm-3"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(I.Pb(0,"header-backend",0),I.Ub(1,"div",1),I.Ub(2,"div",2),I.Ub(3,"div",3),I.Ub(4,"h3"),I.Ub(5,"b"),I.Qc(6,"C\u1eadp nh\u1eadt c\u1ea5u h\xecnh"),I.Tb(),I.Tb(),I.Pb(7,"hr"),I.Ub(8,"form",4),I.Ub(9,"div",5),I.Ub(10,"div",6),I.Oc(11,Sc,10,2,"div",7),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb()),2&e&&(I.mc("headerTitle","C\u1eadp nh\u1eadt c\u1ea5u h\xecnh")("back_link","/admin/testbank/dashboard"),I.Cb(8),I.mc("formGroup",t.form),I.Cb(3),I.mc("ngForOf",t.form.controls.config_objs.controls))},directives:[M.a,k.B,k.s,k.l,p.l,k.d,k.r,k.j,F.b],encapsulation:2}),Rc)},{path:"gzip-tool",component:(Mc=function(){function e(t,n){f(this,e),this.formBuilder=t,this.commonService=n,this.subscriptions=new x.a,this.form=new k.k({}),this.count_en=0,this.count_de=0}return m(e,[{key:"ngOnInit",value:function(){this.form=this.formBuilder.group({content:["",[k.z.required]],result:["",[k.z.required]]}),this.commonService.translateMetaData({title:"lang_cms_auth_gzip_tool_title",description:"lang_cms_auth_gzip_tool_description",image:"lang_cms_test_image"})}},{key:"encodeAction",value:function(){var e=this.form.controls.content.value;this.form.controls.result.setValue(this.commonService.convertContentGzip(e)),this.count_en=e.length,this.count_de=this.form.controls.result.value.length}},{key:"decodeAction",value:function(){var e=this.form.controls.content.value;this.form.controls.result.setValue(this.commonService.decodeContentGzip(e)),this.count_en=e.length,this.count_de=this.form.controls.result.value.length}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}(),Mc.\u0275fac=function(e){return new(e||Mc)(I.Ob(k.g),I.Ob(P.a))},Mc.\u0275cmp=I.Ib({type:Mc,selectors:[["app-gzip-tool"]],decls:30,vars:5,consts:[[3,"headerTitle","back_link"],[1,"container-fluid","component-wrap","centerBoth","hasBg","mt-3"],[1,"card"],[1,"card-body"],[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"row"],[1,"col-sm-10"],[1,"row","mb-3"],[1,"col-sm-2","control-label"],["type","text","formControlName","content",1,"form-control"],["type","text","readonly","","formControlName","result",1,"form-control"],[1,"col-sm-2"],[1,"mb-3"],["mat-raised-button","","color","primary",3,"click"],[1,"mt-3","text-center"]],template:function(e,t){1&e&&(I.Pb(0,"header-backend",0),I.Ub(1,"div",1),I.Ub(2,"div",2),I.Ub(3,"div",3),I.Ub(4,"h3"),I.Ub(5,"b"),I.Qc(6,"C\xf4ng c\u1ee5 m\xe3 ho\xe1 - gi\u1ea3i m\xe3"),I.Tb(),I.Tb(),I.Pb(7,"hr"),I.Ub(8,"form",4),I.Ub(9,"div",5),I.Ub(10,"div",6),I.Ub(11,"div",7),I.Ub(12,"label",8),I.Qc(13,"N\u1ed9i dung"),I.Tb(),I.Ub(14,"div",6),I.Pb(15,"textarea",9),I.Tb(),I.Tb(),I.Ub(16,"div",5),I.Ub(17,"label",8),I.Qc(18,"K\u1ebft qu\u1ea3"),I.Tb(),I.Ub(19,"div",6),I.Pb(20,"textarea",10),I.Tb(),I.Tb(),I.Tb(),I.Ub(21,"div",11),I.Ub(22,"div",12),I.Ub(23,"button",13),I.bc("click",function(){return t.encodeAction()}),I.Qc(24,"M\xe3 ho\xe1"),I.Tb(),I.Tb(),I.Ub(25,"div"),I.Ub(26,"button",13),I.bc("click",function(){return t.decodeAction()}),I.Qc(27,"Gi\u1ea3i m\xe3"),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Ub(28,"div",14),I.Qc(29),I.Tb(),I.Tb(),I.Tb(),I.Tb()),2&e&&(I.mc("headerTitle","C\xf4ng c\u1ee5 h\u1ed7 tr\u1ee3 Gzip")("back_link","/admin/testbank/dashboard"),I.Cb(8),I.mc("formGroup",t.form),I.Cb(21),I.Tc("K\u1ebft qu\u1ea3 convert: chi\u1ec1u d\xe0i ban \u0111\u1ea7u: ",t.count_en," - chi\u1ec1u d\xe0i sau khi convert: ",t.count_de,""))},directives:[M.a,k.B,k.s,k.l,k.d,k.r,k.j,F.b],encapsulation:2}),Mc)}]}]}],Nc=((jc=function e(){f(this,e)}).\u0275mod=I.Mb({type:jc}),jc.\u0275inj=I.Lb({factory:function(e){return new(e||jc)},imports:[[b.l.forChild(Lc)],b.l,ne.c]}),jc),Ac=u("Zhhu"),Dc=((Ec=function e(){f(this,e)}).\u0275mod=I.Mb({type:Ec}),Ec.\u0275inj=I.Lb({factory:function(e){return new(e||Ec)},imports:[[b.l,p.c,k.m,y.b,C.a,k.x,Nc,Ac.a,U.a]]}),Ec)}}])}();