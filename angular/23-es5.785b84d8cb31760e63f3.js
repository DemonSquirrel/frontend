!function(){function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function t(n,t){for(var e=0;e<t.length;e++){var c=t[e];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(n,c.key,c)}}function e(n,e,c){return e&&t(n.prototype,e),c&&t(n,c),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{XJaZ:function(t,c,i){"use strict";i.r(c),i.d(c,"NotifyModule",function(){return K});var o=i("tyNb"),a=i("ofXK"),r=i("vvyD"),s=i("3Pt+"),b=i("fB2i"),g=i("0IaG"),d=i("mYPf"),p=i("IkSl"),l=i("kmNb"),f=i("Avyq"),m=i("quSY"),h=i("fXoL"),u=i("gbi4"),_=i("yTNM"),y=i("hZBc"),v=i("k3bj"),k=i("nzN9"),R=i("uZ1F");function S(n,t){1&n&&h.Qb(0,"header-backend",5),2&n&&h.nc("headerTitle","Th\xf4ng b\xe1o")("back_link","/admin/testbank/dashboard")}function P(n,t){1&n&&h.Qb(0,"header-frontend",6),2&n&&h.nc("headerTitle","Mua th\xeam AZO")("back_link","/student/dashboard/0")}function M(n,t){1&n&&h.Qb(0,"azt-loading-effect")}function N(n,t){if(1&n&&(h.Vb(0,"span"),h.Rc(1," B\u1ea1n m\u1edbi \u0111\u01b0\u1ee3c ph\xe2n quy\u1ec1n cho l\u1edbp "),h.Vb(2,"span",20),h.Rc(3),h.Ub(),h.Ub()),2&n){var e=h.gc().$implicit;h.Db(3),h.Tc(" ",e.classroomName," ")}}function x(n,t){if(1&n&&(h.Vb(0,"span"),h.Vb(1,"span",20),h.Rc(2),h.Ub(),h.Rc(3," gi\xe1o vi\xean \u0111\xe3 ch\u1ea5m \u0111i\u1ec1m b\xe0i t\u1eadp "),h.Vb(4,"b"),h.Rc(5),h.Ub(),h.Rc(6," v\xe0o ng\xe0y "),h.Vb(7,"span",21),h.Rc(8),h.hc(9,"date"),h.Ub(),h.Ub()),2&n){var e=h.gc().$implicit;h.Db(2),h.Sc(e.studentName),h.Db(3),h.Sc(e.homeworkName),h.Db(3),h.Sc(h.jc(9,3,e.createdAt,"dd/MM/yyyy"))}}function U(n,t){if(1&n&&(h.Vb(0,"span"),h.Vb(1,"span",20),h.Rc(2),h.Ub(),h.Rc(3," \u0111\xe3 n\u1ed9p b\xe0i t\u1eadp "),h.Vb(4,"b"),h.Rc(5),h.Ub(),h.Rc(6," v\xe0o ng\xe0y "),h.Vb(7,"span",21),h.Rc(8),h.hc(9,"date"),h.Ub(),h.Ub()),2&n){var e=h.gc().$implicit;h.Db(2),h.Sc(e.studentName),h.Db(3),h.Sc(e.homeworkName),h.Db(3),h.Sc(h.jc(9,3,e.createdAt,"dd/MM/yyyy"))}}function D(n,t){if(1&n&&(h.Vb(0,"span"),h.Vb(1,"span",20),h.Rc(2),h.Ub(),h.Rc(3," c\xf3 b\xe0i t\u1eadp "),h.Vb(4,"b"),h.Rc(5),h.Ub(),h.Rc(6," m\u1edbi \u0111\u01b0\u1ee3c giao v\xe0o ng\xe0y "),h.Vb(7,"span",21),h.Rc(8),h.hc(9,"date"),h.Ub(),h.Ub()),2&n){var e=h.gc().$implicit;h.Db(2),h.Sc(e.studentName),h.Db(3),h.Sc(e.homeworkName),h.Db(3),h.Sc(h.jc(9,3,e.createdAt,"dd/MM/yyyy"))}}function O(n,t){if(1&n&&(h.Vb(0,"span"),h.Vb(1,"span",20),h.Rc(2),h.Ub(),h.Rc(3," c\xf3 y\xeau c\u1ea7u n\u1ed9p l\u1ea1i b\xe0i t\u1eadp "),h.Vb(4,"b"),h.Rc(5),h.Ub(),h.Rc(6," v\xe0o ng\xe0y "),h.Vb(7,"span",21),h.Rc(8),h.hc(9,"date"),h.Ub(),h.Ub()),2&n){var e=h.gc().$implicit;h.Db(2),h.Sc(e.studentName),h.Db(3),h.Sc(e.homeworkName),h.Db(3),h.Sc(h.jc(9,3,e.createdAt,"dd/MM/yyyy"))}}function V(n,t){if(1&n&&(h.Vb(0,"span"),h.Vb(1,"span",20),h.Rc(2),h.Ub(),h.Rc(3," \u0111\xe3 n\u1ed9p b\xe0i thi "),h.Vb(4,"b"),h.Rc(5),h.Ub(),h.Rc(6," v\xe0o ng\xe0y "),h.Vb(7,"span",21),h.Rc(8),h.hc(9,"date"),h.Ub(),h.Ub()),2&n){var e=h.gc().$implicit;h.Db(2),h.Sc(e.studentName),h.Db(3),h.Sc(e.examName),h.Db(3),h.Sc(h.jc(9,3,e.createdAt,"dd/MM/yyyy"))}}function w(n,t){if(1&n&&(h.Vb(0,"span"),h.Vb(1,"span",20),h.Rc(2),h.Ub(),h.Rc(3," c\xf3 b\xe0i thi m\u1edbi "),h.Vb(4,"b"),h.Rc(5),h.Ub(),h.Rc(6," ng\xe0y "),h.Vb(7,"span",21),h.Rc(8),h.hc(9,"date"),h.Ub(),h.Ub()),2&n){var e=h.gc().$implicit;h.Db(2),h.Sc(e.studentName),h.Db(3),h.Sc(e.examName),h.Db(3),h.Sc(h.jc(9,3,e.createdAt,"dd/MM/yyyy"))}}function I(n,t){if(1&n&&(h.Vb(0,"span"),h.Vb(1,"span",20),h.Rc(2),h.Ub(),h.Rc(3," b\xe0i thi "),h.Vb(4,"b"),h.Rc(5),h.Ub(),h.Rc(6," \u0111\xe3 \u0111\u01b0\u01a1c ch\u1ea5m \u0111i\u1ec3m v\xe0o ng\xe0y "),h.Vb(7,"span",21),h.Rc(8),h.hc(9,"date"),h.Ub(),h.Ub()),2&n){var e=h.gc().$implicit;h.Db(2),h.Sc(e.studentName),h.Db(3),h.Sc(e.examName),h.Db(3),h.Sc(h.jc(9,3,e.createdAt,"dd/MM/yyyy"))}}function E(n,t){if(1&n&&(h.Vb(0,"span"),h.Rc(1," B\u1ea1n m\u1edbi \u0111\u01b0\u1ee3c ph\xe2n quy\u1ec1n cho "),h.Vb(2,"b"),h.Rc(3),h.Ub(),h.Rc(4," l\xfac "),h.Vb(5,"span",21),h.Rc(6),h.hc(7,"date"),h.Ub(),h.Ub()),2&n){var e=h.gc().$implicit,c=h.gc(2);h.Db(3),h.Sc(c.getTypeObjNotice(e)),h.Db(3),h.Sc(h.jc(7,2,e.createdAt,"dd/MM/yyyy"))}}function A(n,t){if(1&n&&(h.Vb(0,"span",28),h.Rc(1,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i \u0111ang y\xeau c\u1ea7u x\xe1c th\u1ef1c l\u1ea1i: "),h.Vb(2,"span",20),h.Rc(3),h.Ub(),h.Ub()),2&n){var e=h.gc(2).$implicit;h.Db(3),h.Sc(e.datas)}}function C(n,t){if(1&n){var e=h.Wb();h.Vb(0,"div",22),h.Vb(1,"div",23),h.Vb(2,"span"),h.Rc(3," H\u1ecdc sinh "),h.Vb(4,"span",20),h.Rc(5),h.Ub(),h.Rc(6," l\u1edbp "),h.Vb(7,"span",20),h.Rc(8),h.Ub(),h.Rc(9," kh\xf4ng ch\u1ecdn \u0111\u01b0\u1ee3c t\xean do \u0111\xe3 c\xf3 b\u1ea1n ch\u1ecdn m\u1ea5t. "),h.Pc(10,A,4,1,"span",24),h.Ub(),h.Vb(11,"div",25),h.Vb(12,"span",26),h.cc("click",function(){h.Dc(e);var n=h.gc().$implicit;return h.gc(2).delRequestNotice(n.id)}),h.Rc(13,"B\u1ece QUA"),h.Ub(),h.Vb(14,"span",27),h.cc("click",function(){h.Dc(e);var n=h.gc().$implicit;return h.gc(2).reApproveStudent(n.studentId,n.id)}),h.Rc(15,"M\u1ede KH\xd3A CHO CH\u1eccN L\u1ea0I"),h.Ub(),h.Ub(),h.Ub(),h.Ub()}if(2&n){var c=h.gc().$implicit;h.Db(5),h.Sc(c.studentName),h.Db(3),h.Tc(" ",c.classroomName," "),h.Db(2),h.nc("ngIf",null!=c.datas)}}function T(n,t){if(1&n){var e=h.Wb();h.Vb(0,"div",12),h.Vb(1,"a",13),h.cc("click",function(){h.Dc(e);var n=t.$implicit;return h.gc(2).redirectToPage(n)}),h.Vb(2,"div",14),h.Vb(3,"div",15),h.Rc(4),h.Ub(),h.Ub(),h.Vb(5,"div",16),h.Pc(6,N,4,1,"span",17),h.Pc(7,x,10,6,"span",17),h.Pc(8,U,10,6,"span",17),h.Pc(9,D,10,6,"span",17),h.Pc(10,O,10,6,"span",17),h.Pc(11,V,10,6,"span",17),h.Pc(12,w,10,6,"span",17),h.Pc(13,I,10,6,"span",17),h.Pc(14,E,8,5,"span",17),h.Pc(15,C,16,3,"div",18),h.Vb(16,"p",19),h.Rc(17),h.hc(18,"date"),h.Ub(),h.Ub(),h.Ub(),h.Ub()}if(2&n){var c=t.$implicit;h.Db(4),h.Tc(" ",c.classroomName," "),h.Db(2),h.nc("ngIf","NEW_ASSIGN"==c.type),h.Db(1),h.nc("ngIf","HAS_MARK"==c.type),h.Db(1),h.nc("ngIf","NEW_ANSWER"==c.type),h.Db(1),h.nc("ngIf","NEW_HOMEWORK"==c.type),h.Db(1),h.nc("ngIf","RESEND_ANSWER"==c.type),h.Db(1),h.nc("ngIf","NEW_EXAM_SUBMIT"==c.type),h.Db(1),h.nc("ngIf","NEW_EXAM"==c.type),h.Db(1),h.nc("ngIf","EXAM_HAS_MARK"==c.type),h.Db(1),h.nc("ngIf","NEW_SHARE_PERMISSION"==c.type),h.Db(1),h.nc("ngIf","NEW_REQUEST_REAPPROVE"==c.type),h.Db(2),h.Tc(" ",h.jc(18,12,c.createdAt,"dd/MM/yyyy HH:mm:ss")," ")}}function W(n,t){if(1&n){var e=h.Wb();h.Vb(0,"div",7),h.Vb(1,"div",8),h.Pc(2,T,19,15,"div",9),h.Ub(),h.Ub(),h.Vb(3,"div",10),h.Vb(4,"azt-paging",11),h.cc("SendPage",function(n){return h.Dc(e),h.gc().clickPage(n)}),h.Ub(),h.Ub()}if(2&n){var c=h.gc();h.Db(2),h.nc("ngForOf",c.dataNotify.objs),h.Db(2),h.nc("lengthPage",c.lengthPage)("paging",c.page)}}var j,H,L,B=((j=function(){function t(e,c,i,o,a){n(this,t),this.activeRoute=e,this.commonService=c,this.localizeService=i,this.apiService=o,this.router=a,this.isLoading=!1,this.subscriptions=new m.a,this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.dataNotify=[],this.arrayPag=[],this.lengthPage=0,this.totalNotify=0,this.page=1,this.textNotify="",this.role=1}return e(t,[{key:"getTypeObjNotice",value:function(n){return"NEW_SHARE_PERMISSION"==n.type?n.classroomId?"L\u1edbp: "+n.classroomName:n.homeworkId?"B\xe0i t\u1eadp: "+n.homeworkName:"\u0110\u1ec1 thi: "+n.examName:""}},{key:"getDataNotifyByRole",value:function(n,t){var e=this;this.isLoading=!0,this.apiService.getNotifyByRole(n,t).subscribe(function(n){n&&(e.isLoading=!1,1==n.success?(e.dataNotify=n.data,e.lengthPage=Math.ceil(e.dataNotify.total/18),e.createPag()):e.commonService.myTranslate([n.message]).subscribe(function(t){e.commonService.snackError(t[n.message],"")}))})}},{key:"redirectToPage",value:function(n){switch(n.type){case"NEW_ANSWER":this.commonService.myNavigation("/admin/homework/score-list/".concat(n.classroomId,"/").concat(n.homeworkId));break;case"HAS_MARK":case"NEW_HOMEWORK":case"RESEND_ANSWER":this.commonService.myNavigation("/bai-tap/"+n.homeworkHashId);break;case"NEW_EXAM_SUBMIT":this.commonService.myNavigation("/admin/testbank/test-review/".concat(n.examId,"/").concat(n.parentId,"/").concat(n.studentId,"/0"));break;case"NEW_EXAM":this.commonService.myNavigation("/de-thi/"+n.examHashId);break;case"EXAM_HAS_MARK":this.commonService.myNavigation("/test/answer-test/".concat(n.parentId,"/0/").concat(n.examHashId,"/").concat(n.examResultId))}null===n.homeworkId&&null===n.homeworkHashId&&null===n.examHashId&&null===n.examId&&("NEW_ASSIGN"==n.type?this.commonService.myNavigation("/admin/student/manage-class/0"):"NEW_REQUEST_REAPPROVE"==n.type||this.commonService.myNavigation("/student/dashboard/1"))}},{key:"reApproveStudent",value:function(n,t){var e=this;this.subscriptions.add(this.apiService.removeParent(n).subscribe(function(n){1==n.success?(e.delRequestNotice(t),e.getDataNotifyByRole(e.role,e.page),e.commonService.snackSuccess("M\u1edf kh\xf3a cho h\u1ecdc sinh th\xe0nh c\xf4ng","")):e.commonService.myTranslate([n.message,"lang_cms_common_ok"]).subscribe(function(t){e.commonService.snackError(t[n.message],t.lang_cms_common_ok)})}))}},{key:"delRequestNotice",value:function(n){var t=this;this.subscriptions.add(this.apiService.deleteRequestNotice(n).subscribe(function(n){1==n.success?(t.reGetNotifice(),t.getDataNotifyByRole(t.role,t.page)):t.commonService.myTranslate([n.message,"lang_cms_common_ok"]).subscribe(function(e){t.commonService.snackError(e[n.message],e.lang_cms_common_ok)})}))}},{key:"reGetNotifice",value:function(){var n="back_header_infors_"+this.apiService.getUserObj().id;this.commonService.removeGlobalData(n)}},{key:"createPag",value:function(){for(var n=1;n<=this.lengthPage;n++)this.arrayPag.push(n)}},{key:"clickPage",value:function(n){this.isLoading=!0,this.page=n,this.arrayPag=[],this.commonService.myNavigation("/notify/".concat(this.role,"/").concat(this.page)),this.getDataNotifyByRole(this.role,this.page),window.scrollTo(0,0)}},{key:"ngOnInit",value:function(){this.role=+this.commonService.getMyParam(this.activeRoute,"role"),this.page=+this.commonService.getMyParam(this.activeRoute,"page"),this.getDataNotifyByRole(this.role,this.page),this.commonService.translateMetaData({title:"lang_cms_homework_notify_title",description:"lang_cms_homework_notify_description",image:"lang_cms_test_image"})}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),t}()).\u0275fac=function(n){return new(n||j)(h.Pb(o.a),h.Pb(u.a),h.Pb(f.e),h.Pb(_.a),h.Pb(o.i))},j.\u0275cmp=h.Jb({type:j,selectors:[["app-notify"]],decls:7,vars:4,consts:[["class","mb-3",3,"headerTitle","back_link",4,"ngIf"],[3,"headerTitle","back_link",4,"ngIf"],[1,"container-fluid","component-wrap","content","maxW1000","m-auto","mt-3"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"mb-3",3,"headerTitle","back_link"],[3,"headerTitle","back_link"],[1,"dashboard"],[1,"content__notifi"],["class","block",4,"ngFor","ngForOf"],[1,"my-4"],[3,"lengthPage","paging","SendPage"],[1,"block"],[1,"notify__block",3,"click"],[1,"col-3","left-col","d-flex","justify-content-center","align-items-center","ng-star-inserted","notify__class"],[1,"content-center","text-white","class-info","pt-2","pb-2"],[1,"notify__content"],[4,"ngIf"],["class","pt-1 pb-1 clickable",4,"ngIf"],[1,"time__ago"],[1,"notify__name"],[1,"notify__time"],[1,"pt-1","pb-1","clickable"],[1,"notify__content","p-0"],["class","d-block",4,"ngIf"],[1,"d-flex","justify-content-end","mt-2",2,"flex-wrap","wrap"],[1,"notify__btn",3,"click"],[1,"notify__btn","bg-info","ml-2",3,"click"],[1,"d-block"]],template:function(n,t){if(1&n&&(h.Pc(0,S,1,2,"header-backend",0),h.Pc(1,P,1,2,"header-frontend",1),h.Vb(2,"div",2),h.Pc(3,M,1,0,"azt-loading-effect",3),h.Pc(4,W,5,3,"ng-template",null,4,h.Qc),h.Ub(),h.Qb(6,"homework-backend-footer")),2&n){var e=h.zc(5);h.nc("ngIf",0==t.role),h.Db(1),h.nc("ngIf",1==t.role),h.Db(2),h.nc("ngIf",t.isLoading)("ngIfElse",e)}},directives:[a.m,y.a,v.a,k.a,a.l,R.a],pipes:[a.e],styles:["*[_ngcontent-%COMP%]{margin:0;box-sizing:border-box}a[_ngcontent-%COMP%]:hover{text-decoration:none}.white[_ngcontent-%COMP%]{margin-top:5px;padding-bottom:-5px;background-color:#fff;height:50px}a[_ngcontent-%COMP%]{text-decoration:none}.text-white[_ngcontent-%COMP%]{color:#fff}.content[_ngcontent-%COMP%]{overflow-x:hidden}.back-to[_ngcontent-%COMP%]{color:#969696;display:flex;text-decoration:none}.block[_ngcontent-%COMP%]{padding-top:2px}.dashboard__header[_ngcontent-%COMP%]{background-color:#0089a7;margin-top:-15px;margin-left:-15px;margin-right:-15px}.header__top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px}.header__coin[_ngcontent-%COMP%]{background-color:#009cbe;width:90px;height:36px;border:none;border-radius:5px;box-shadow:none;text-align:center;padding-top:8px}.notify__btn[_ngcontent-%COMP%]{border-radius:5px;padding:5px;color:#000;font-size:12px;border:1px solid #979696}.bg-info[_ngcontent-%COMP%]{color:#fff!important;border:none!important;background-color:#00a7d0}.coin__link[_ngcontent-%COMP%]{color:#fff}.coin__text[_ngcontent-%COMP%]{font-weight:700;margin-right:4px;font-size:18px}.header__work[_ngcontent-%COMP%]{display:flex}.header__gift[_ngcontent-%COMP%]{position:relative;margin-right:24px;margin-top:8px}.gift__link[_ngcontent-%COMP%]{color:#fff}.girt__count[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-10px;background-color:#fe4531;border-radius:50%;width:16px;height:16px;color:#fff;padding:0;text-align:center;font-weight:700;font-size:9px}.header__work[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:32px}.header__user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;margin-top:4px}.header__body[_ngcontent-%COMP%]{padding-top:30px;text-align:center;color:#fff}.header__body[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:45px}.content__notifi[_ngcontent-%COMP%]{margin-top:20px}.content__title[_ngcontent-%COMP%]{text-transform:uppercase}.notify__block[_ngcontent-%COMP%]{display:flex;background-color:#fff;border:none;border-radius:3px;box-shadow:0 0 6px rgba(0,0,0,.1215686275);margin-top:15px}.notify__class[_ngcontent-%COMP%]{background-color:#00c0f0;border-radius:3px;border-top-right-radius:0;border-bottom-right-radius:0}.notify__content[_ngcontent-%COMP%]{color:#000;padding:10px}.class__text[_ngcontent-%COMP%]{color:#fff;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.notify__name[_ngcontent-%COMP%], .notify__time[_ngcontent-%COMP%]{font-weight:700}.time__ago[_ngcontent-%COMP%]{margin:5px 0 0;color:#909090}.col-pag[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;text-align:right}.btn-pag[_ngcontent-%COMP%]{padding:5px 8px}.page-item[_ngcontent-%COMP%]{margin:0 3px}"]}),j),$=[{path:"",component:B,canActivate:[l.a],children:[{path:"",canActivateChild:[l.a],children:[{path:"",component:B}]}]}],z=((H=function t(){n(this,t)}).\u0275mod=h.Nb({type:H}),H.\u0275inj=h.Mb({factory:function(n){return new(n||H)},imports:[[o.l.forChild($)],o.l,f.c]}),H),X=i("rIor"),q=i("Zhhu"),K=((L=function t(){n(this,t)}).\u0275mod=h.Nb({type:L}),L.\u0275inj=h.Mb({factory:function(n){return new(n||L)},imports:[[o.l,a.c,r.a,b.b,s.m,s.x,g.f,d.a,p.b,X.b,z,q.a]]}),L)},kmNb:function(t,c,i){"use strict";i.d(c,"a",function(){return b});var o=i("fXoL"),a=i("yTNM"),r=i("tyNb"),s=i("gbi4"),b=function(){var t=function(){function t(e,c,i){n(this,t),this.apiService=e,this.router=c,this.commonService=i}return e(t,[{key:"canActivate",value:function(n,t){return window,!!this.apiService.isLogin()||(this.commonService.redirectLoginAnonymous(t.url),!1)}},{key:"canActivateChild",value:function(n,t){return this.canActivate(n,t)}},{key:"canLoad",value:function(n){var t="/"+n.path;return!!this.apiService.isLogin()||(this.commonService.redirectLoginByReturnUrl(t),!1)}}]),t}();return t.\u0275fac=function(n){return new(n||t)(o.Zb(a.a),o.Zb(r.i),o.Zb(s.a))},t.\u0275prov=o.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}])}();