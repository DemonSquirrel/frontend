(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{CB8n:function(t,n,i){"use strict";i.d(n,"a",function(){return s});var e=i("fXoL"),o=i("gbi4"),c=i("NFeN"),a=i("Qu3c"),r=i("STbY");let s=(()=>{class t{constructor(t){this.commonService=t,this.id="",this.fileName=""}bindUrlToQrCode(){document.getElementById("qrcode_making"+this.id).textContent="",this.qrcode=this.commonService.createObjectQrcode(this.linkUrl,128,128,"url",!1,"qrcode_making"+this.id)}downloadQrCode(){var t=this.qrcode._oDrawing.dataURL,n=document.createElement("a");document.body.appendChild(n),n.setAttribute("href",t),n.setAttribute("download",""!=this.fileName?this.fileName+".jpg":"azota-qr-code.jpg"),n.click()}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)(e.Pb(o.a))},t.\u0275cmp=e.Jb({type:t,selectors:[["azt-download-qr-code"]],inputs:{linkUrl:"linkUrl",id:"id",fileName:"fileName"},decls:10,vars:2,consts:[["matTooltip","Qu\xe9t ho\u1eb7c t\u1ea3i m\xe3 QR code",1,"clickable",2,"font-size","19px","height","19px","width","19px",3,"matMenuTriggerFor","click"],["showQrCode","matMenu"],[1,"content",3,"click"],[1,"upload-qr-box-item-content-qr",3,"id"],[1,"pt-2","clickable",2,"color","#007bff","align-items","center","display","flex","justify-content","center",3,"click"]],template:function(t,n){if(1&t&&(e.Vb(0,"mat-icon",0),e.cc("click",function(){return n.bindUrlToQrCode()}),e.Sc(1,"qr_code"),e.Ub(),e.Vb(2,"mat-menu",null,1),e.Vb(4,"div",2),e.cc("click",function(t){return t.stopPropagation()}),e.Qb(5,"div",3),e.Vb(6,"div",4),e.cc("click",function(){return n.downloadQrCode()}),e.Vb(7,"mat-icon"),e.Sc(8,"save_alt"),e.Ub(),e.Sc(9," T\u1ea3i v\u1ec1 m\xe1y"),e.Ub(),e.Ub(),e.Ub()),2&t){const t=e.Ac(3);e.nc("matMenuTriggerFor",t),e.Db(5),e.pc("id","qrcode_making",n.id,"")}},directives:[c.a,a.a,r.d,r.a],styles:[".upload-qr-box[_ngcontent-%COMP%]{margin-top:10px}.upload-qr-box-item[_ngcontent-%COMP%]{display:flex}.upload-qr-box-item-content[_ngcontent-%COMP%]{font-size:16px;margin-left:10px;width:100%}.upload-qr-box-item-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px!important}.upload-qr-box-item-content-qr[_ngcontent-%COMP%]{display:flex;justify-content:center}.upload-qr-box-url[_ngcontent-%COMP%]{margin-top:10px}.upload-qr-box-url-link[_ngcontent-%COMP%]{font-weight:500;text-align:center;color:#42aba2;font-size:larger;background:#fff;padding:5px;border-radius:5px}.content[_ngcontent-%COMP%]{margin:0 20px}"]}),t})()},SPOn:function(t,n,i){"use strict";i.d(n,"a",function(){return c});var e=i("fXoL"),o=i("gbi4");let c=(()=>{class t{constructor(t){this.commonService=t}convertUrl(){this.src=this.commonService.getRawCdnLink(this.src)}}return t.\u0275fac=function(n){return new(n||t)(e.Pb(o.a))},t.\u0275dir=e.Kb({type:t,selectors:[["","appImageFallback",""]],hostVars:1,hostBindings:function(t,n){1&t&&e.cc("error",function(){return n.convertUrl()}),2&t&&e.Yb("src",n.src,e.Jc)},inputs:{src:"src"}}),t})()},Vwpm:function(t,n,i){"use strict";i.d(n,"a",function(){return s});var e=i("fXoL"),o=i("ofXK"),c=i("SPOn"),a=i("gaSO");function r(t,n){1&t&&(e.Vb(0,"div",2),e.Qb(1,"img",3),e.Ub())}let s=(()=>{class t{constructor(){this.loading=!0}onLoad(){this.loading=!1}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Jb({type:t,selectors:[["azt-loaded-img"]],inputs:{imgSrc:"imgSrc",id:"id",noClass:"noClass"},decls:4,vars:8,consts:[["class","px-4 py-3 text-center",4,"ngIf"],["appImageFallback","",2,"width","100%",3,"hidden","src","alt","load"],[1,"px-4","py-3","text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/svgs/Img2_dat-01.svg","alt","image_loading_placeholer"]],template:function(t,n){1&t&&(e.Vb(0,"div"),e.Qc(1,r,2,0,"div",0),e.Vb(2,"img",1),e.cc("load",function(){return n.onLoad()}),e.hc(3,"mycdn"),e.Ub(),e.Ub()),2&t&&(e.Db(1),e.nc("ngIf",n.loading),e.Db(1),e.Fb(n.id?"img-fluid questionId_"+n.id:n.noClass?"w-auto":"img-fluid"),e.oc("src",e.ic(3,6,n.imgSrc),e.Ic),e.oc("alt",n.imgSrc),e.nc("hidden",n.loading))},directives:[o.m,c.a],pipes:[a.o],styles:[""]}),t})()},loSA:function(t,n,i){"use strict";i.d(n,"a",function(){return f});var e=i("fXoL"),o=i("ofXK"),c=i("Qu3c");function a(t,n){1&t&&(e.Vb(0,"span",6),e.Sc(1,"\u0110"),e.Ub())}function r(t,n){1&t&&(e.Vb(0,"span",7),e.Sc(1,"C\u0110"),e.Ub())}function s(t,n){1&t&&(e.Vb(0,"span",8),e.Sc(1,"HT"),e.Ub())}function l(t,n){1&t&&(e.Vb(0,"span",9),e.Sc(1,"CHT"),e.Ub())}function d(t,n){1&t&&(e.Vb(0,"span",10),e.Sc(1,"HTT"),e.Ub())}function b(t,n){if(1&t&&(e.Vb(0,"span",11),e.Sc(1),e.Ub()),2&t){const t=e.gc();e.Db(1),e.Tc(t.mark)}}let f=(()=>{class t{constructor(){this.mark=0}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Jb({type:t,selectors:[["azt-check-mark"]],inputs:{mark:"mark"},decls:6,vars:6,consts:[["class","text-mark mb-0","matTooltip","\u0110\u1ea1t",4,"ngIf"],["class","text-mark mb-0","matTooltip","Ch\u01b0a \u0110\u1ea1t",4,"ngIf"],["class","text-mark mb-0","matTooltip","Ho\xe0n Th\xe0nh",4,"ngIf"],["class","text-mark mb-0","matTooltip","Ch\u01b0a Ho\xe0n Th\xe0nh",4,"ngIf"],["class","text-mark mb-0","matTooltip","Ho\xe0n Th\xe0nh T\u1ed1t",4,"ngIf"],["class","text-mark mb-0",4,"ngIf"],["matTooltip","\u0110\u1ea1t",1,"text-mark","mb-0"],["matTooltip","Ch\u01b0a \u0110\u1ea1t",1,"text-mark","mb-0"],["matTooltip","Ho\xe0n Th\xe0nh",1,"text-mark","mb-0"],["matTooltip","Ch\u01b0a Ho\xe0n Th\xe0nh",1,"text-mark","mb-0"],["matTooltip","Ho\xe0n Th\xe0nh T\u1ed1t",1,"text-mark","mb-0"],[1,"text-mark","mb-0"]],template:function(t,n){1&t&&(e.Qc(0,a,2,0,"span",0),e.Qc(1,r,2,0,"span",1),e.Qc(2,s,2,0,"span",2),e.Qc(3,l,2,0,"span",3),e.Qc(4,d,2,0,"span",4),e.Qc(5,b,2,1,"span",5)),2&t&&(e.nc("ngIf","1000"==n.mark),e.Db(1),e.nc("ngIf","1001"==n.mark),e.Db(1),e.nc("ngIf","2000"==n.mark),e.Db(1),e.nc("ngIf","2001"==n.mark),e.Db(1),e.nc("ngIf","3000"==n.mark),e.Db(1),e.nc("ngIf","2001"!=n.mark&&"2000"!=n.mark&&"1001"!=n.mark&&"1000"!=n.mark&&"3000"!=n.mark))},directives:[o.m,c.a],encapsulation:2}),t})()},wAhq:function(t,n,i){"use strict";i.d(n,"a",function(){return O});var e=i("fXoL"),o=i("quSY"),c=i("BTbT"),a=i("gbi4"),r=i("jhN1"),s=i("ofXK"),l=i("NFeN"),d=i("IkSl"),b=i("Vwpm");function f(t,n){1&t&&(e.Vb(0,"div",2),e.Vb(1,"div",3),e.Vb(2,"span",4),e.Sc(3,"Loading..."),e.Ub(),e.Ub(),e.Ub())}function p(t,n){if(1&t&&(e.Vb(0,"div",20),e.Sc(1),e.Ub()),2&t){const t=e.gc(2);e.Db(1),e.Tc(t.fileOption.name)}}function m(t,n){1&t&&(e.Vb(0,"div",20),e.Sc(1,"D\u1eef li\u1ec7u \u1ea3nh c\u1eaft \u0111\u1ec1"),e.Ub())}function g(t,n){if(1&t&&(e.Vb(0,"div",21),e.Sc(1),e.Ub()),2&t){const t=e.gc(2);e.Db(1),e.Vc("Dung l\u01b0\u1ee3ng: ",t.file_mb," MB | Lo\u1ea1i : ",t.fileOption.mimes,"")}}function h(t,n){1&t&&(e.Vb(0,"div",21),e.Sc(1,"Dung l\u01b0\u1ee3ng: 0.3 MB | Lo\u1ea1i : Images"),e.Ub())}function u(t,n){if(1&t&&(e.Vb(0,"a",22),e.Vb(1,"mat-icon",16),e.Sc(2,"save_alt"),e.Ub(),e.Ub()),2&t){const t=e.gc(2);e.Eb("href",t.root_link,e.Ic)("download",t.fileOption.name)}}function v(t,n){if(1&t){const t=e.Wb();e.Vb(0,"div"),e.Vb(1,"div",28),e.Vb(2,"audio",29),e.Vb(3,"source",30),e.cc("load",function(){return e.Ec(t),e.gc(3).onLoad()}),e.Ub(),e.Sc(4," Your browser does not support the audio element. "),e.Ub(),e.Ub(),e.Ub()}if(2&t){const t=e.gc(3);e.Db(3),e.nc("src",t.cdn_link,e.Ic),e.Eb("type",t.fileOption.mimes)}}function _(t,n){if(1&t){const t=e.Wb();e.Vb(0,"div"),e.Vb(1,"div",31),e.Vb(2,"video",32),e.Vb(3,"source",30),e.cc("load",function(){return e.Ec(t),e.gc(3).onLoad()}),e.Ub(),e.Vb(4,"p",33),e.Sc(5," B\u1ea1n \u0111ang s\u1eed d\u1ee5ng tr\xecnh duy\u1ec7t kh\xf4ng h\u1ed7 tr\u1ee3 xem video tr\u1ef1c tuy\u1ebfn. "),e.Ub(),e.Ub(),e.Ub(),e.Ub()}if(2&t){const t=e.gc(3);e.Db(2),e.oc("poster",t.video_thumb_url,e.Ic),e.Db(1),e.nc("src",t.cdn_link,e.Ic),e.Eb("type",t.fileOption.mimes)}}function w(t,n){if(1&t){const t=e.Wb();e.Vb(0,"div"),e.Vb(1,"iframe",34),e.cc("load",function(){return e.Ec(t),e.gc(3).onLoad()}),e.Ub(),e.Ub()}if(2&t){const t=e.gc(3);e.Db(1),e.nc("src",t.cdn_link,e.Gc)}}function k(t,n){if(1&t){const t=e.Wb();e.Vb(0,"div"),e.Vb(1,"div",31),e.Vb(2,"img",35),e.cc("load",function(){return e.Ec(t),e.gc(3).onLoad()}),e.Ub(),e.Ub(),e.Ub()}if(2&t){const t=e.gc(3);e.Db(2),e.Eb("src",t.cdn_link,e.Ic)}}function x(t,n){if(1&t){const t=e.Wb();e.Vb(0,"div"),e.Vb(1,"div",36),e.Vb(2,"iframe",37),e.cc("load",function(){return e.Ec(t),e.gc(3).onLoad()}),e.Ub(),e.Ub(),e.Ub()}if(2&t){const t=e.gc(3);e.Db(2),e.nc("src",t.cdn_link,e.Gc)}}function U(t,n){if(1&t){const t=e.Wb();e.Vb(0,"div"),e.Vb(1,"div",38),e.Vb(2,"pdf-viewer",39),e.cc("load",function(){return e.Ec(t),e.gc(3).onLoad()}),e.Ub(),e.Ub(),e.Ub()}if(2&t){const t=e.gc(3);e.Db(2),e.nc("src",t.cdn_link)("show-all",!0)}}function y(t,n){if(1&t&&(e.Tb(0),e.Vb(1,"div",23),e.Vb(2,"div",24),e.Qc(3,v,5,2,"div",25),e.Qc(4,_,6,3,"div",25),e.Qc(5,w,2,1,"div",25),e.Qc(6,k,3,1,"div",25),e.Qc(7,x,3,1,"div",25),e.Qc(8,U,3,2,"div",25),e.Qb(9,"div",26),e.Ub(),e.Qb(10,"div",27),e.Ub(),e.Sb()),2&t){const t=e.gc(2);e.Db(3),e.nc("ngIf","audio"===t.typeFile),e.Db(1),e.nc("ngIf","video"===t.typeFile),e.Db(1),e.nc("ngIf","vimeo"===t.typeFile),e.Db(1),e.nc("ngIf","image"===t.typeFile),e.Db(1),e.nc("ngIf","officeapps"===t.typeFile),e.Db(1),e.nc("ngIf","pdf"===t.typeFile)}}function V(t,n){if(1&t&&(e.Vb(0,"div",23),e.Vb(1,"div",24),e.Vb(2,"div",40),e.Qb(3,"azt-loaded-img",41),e.Ub(),e.Ub(),e.Ub()),2&t){const t=e.gc(2);e.Db(3),e.nc("imgSrc",t.linkUrl)}}function C(t,n){if(1&t){const t=e.Wb();e.Vb(0,"div",5),e.Vb(1,"div",6),e.Vb(2,"div",7),e.Vb(3,"div",8),e.Qb(4,"div",9),e.Ub(),e.Qc(5,p,2,1,"div",10),e.Qc(6,m,2,0,"div",10),e.Qc(7,g,2,2,"div",11),e.Qc(8,h,2,0,"div",11),e.Ub(),e.Vb(9,"div",12),e.Vb(10,"span",13),e.Qc(11,u,3,2,"a",14),e.Ub(),e.Vb(12,"span",15),e.cc("click",function(){return e.Ec(t),e.gc().btnClosePreview()}),e.Vb(13,"mat-icon",16),e.Sc(14,"close"),e.Ub(),e.Ub(),e.Ub(),e.Ub(),e.Vb(15,"div",17),e.Qc(16,y,11,6,"ng-container",18),e.Qc(17,V,4,1,"ng-template",null,19,e.Rc),e.Ub(),e.Ub()}if(2&t){const t=e.Ac(18),n=e.gc();e.Db(5),e.nc("ngIf",null!=n.fileOption),e.Db(1),e.nc("ngIf",null==n.fileOption),e.Db(1),e.nc("ngIf",null!=n.fileOption),e.Db(1),e.nc("ngIf",null==n.fileOption),e.Db(3),e.nc("ngIf",null!=n.fileOption),e.Db(5),e.nc("ngIf",0==n.typePreview)("ngIfElse",t)}}let O=(()=>{class t{constructor(t,n,i){this.commonService=t,this.dom=n,this.sanitizer=i,this.typePreview=0,this.linkUrl="",this.closePreview=new e.o,this.subscriptions=new o.a,this.typeFile="",this.cdn_link="",this.root_link="",this.file_mb=0,this.video_thumb_url="",this.isVimeoLink=!1,this.isLoading=!0}ngOnInit(){document.body.classList.add("overflow-hidden"),setTimeout(()=>{this.initData()},0),this.video_thumb_url="https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/video-thumb.png"}onLoad(){this.isLoading=!1}initData(){if(0==this.typePreview){if(this.cdn_link=this.commonService.getMyCdn(this.fileOption.url),this.root_link=this.cdn_link,this.file_mb=this.getFileMB(this.fileOption.size),this.typeFile=Object(c.c)(this.fileOption.mimes),this.isVimeoLink=this.cdn_link.includes("https://player.vimeo.com/")||this.cdn_link.includes("https://mega.nz"),this.isVimeoLink&&(this.typeFile="vimeo"),""!=this.cdn_link)switch(this.typeFile){case"pdf":this.cdn_link=this.cdn_link;break;case"officeapps":this.cdn_link=this.dom.bypassSecurityTrustResourceUrl(this.commonService.getLinkEmbedDocument(this.cdn_link));break;case"video":default:this.cdn_link=this.dom.bypassSecurityTrustResourceUrl(this.cdn_link)}}else this.linkUrl=this.commonService.getMyCdn(this.linkUrl);setTimeout(()=>{this.isLoading=!1},200)}removeClassCss(){document.body.classList.remove("overflow-hidden")}objToString(t){let n="";for(const[i,e]of Object.entries(t))n+=`${i}::${e}\n`;return n}btnClosePreview(){this.removeClassCss(),this.closePreview.emit()}getFileMB(t){return t>0?(t/=1048576).toFixed(2):0}reloadFrame(t){let n=document.getElementById(t);n&&n.parentNode.replaceChild(n.cloneNode(),n)}ngOnDestroy(){this.subscriptions.unsubscribe(),this.removeClassCss()}}return t.\u0275fac=function(n){return new(n||t)(e.Pb(a.a),e.Pb(r.b),e.Pb(r.b))},t.\u0275cmp=e.Jb({type:t,selectors:[["azt-preview-media"]],inputs:{fileOption:"fileOption",typePreview:"typePreview",linkUrl:"linkUrl"},outputs:{closePreview:"closePreview"},decls:2,vars:2,consts:[["class","loading-block",4,"ngIf"],["class","file-preview",4,"ngIf"],[1,"loading-block"],["role","status",1,"spinner-border","text-secondary",2,"width","5rem","height","5rem"],[1,"sr-only"],[1,"file-preview"],[1,"file-preview__header","flx","flx-sp-btw"],[1,"file-preview__header-left"],["title","",1,"avatar","avatar--xs"],[1,"avatar-img",2,"background-image",'url("https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/documents.png")',"background-size","cover"],["class","file-preview__header__title",4,"ngIf"],["class","file-preview__header__send-time",4,"ngIf"],[1,"file-preview__header-right"],[1,"file-preview__controls-container"],["class","clickable download","target","_blank",4,"ngIf"],[1,"file-preview__buttons-container",3,"click"],[2,"color","rgb(53, 53, 53)","cursor","pointer"],[1,"file-preview__main","flx",2,"overflow-x","auto","flex","1 1 auto"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"file-preview__header__title"],[1,"file-preview__header__send-time"],["target","_blank",1,"clickable","download"],[1,"file-preview__main-iframe","mx-auto"],[1,"file-preview__notify"],[4,"ngIf"],[1,"tool-hide"],[1,"file-preview__main-comments"],[1,"container-fluid","mt-3"],["controls",""],[3,"src","load"],[1,"pl-2","pr-2","mt-3"],["id","my-video","playsinline","playsinline","controls","","preload","auto","data-setup","{}",1,"video-js",2,"max-height","calc(100vh - 80px)","width","100%","padding-bottom","1rem",3,"poster"],[1,"vjs-no-js"],["frameborder","0","allowfullscreen","",2,"width","100vw","height","95vh","max-height","calc(100vh - 60px)","padding-bottom","1rem",3,"src","load"],["alt","Responsive image",1,"img-fluid","image-preview",2,"max-height","calc(100vh - 80px)","padding-bottom","1rem",3,"load"],[1,"pl-2","pr-2","mp-0"],["frameborder","0",2,"width","100vw","height","95vh","max-height","calc(100vh - 60px)","padding-bottom","1rem",3,"src","load"],[1,"container-fluid","mp-0"],[2,"width","100vw","height","95vh","max-height","calc(100vh - 60px)","padding-bottom","1rem","display","block",3,"src","show-all","load"],[1,"pl-2","pr-2","mt-3","block-img"],[3,"imgSrc"]],template:function(t,n){1&t&&(e.Qc(0,f,4,0,"div",0),e.Qc(1,C,19,7,"div",1)),2&t&&(e.nc("ngIf",n.isLoading),e.Db(1),e.nc("ngIf",(null!=n.fileOption||""!=n.linkUrl)&&!n.isLoading))},directives:[s.m,l.a,d.a,b.a],styles:[".file-preview[_ngcontent-%COMP%]{background:#ecf0f5;position:fixed;width:100%;height:100vh;z-index:9999;display:flex;flex-direction:column;left:0;top:0}.block-img[_ngcontent-%COMP%]{background:#a3a3a3;width:100vw;height:90vh;overflow-y:auto}.loading-block[_ngcontent-%COMP%]{z-index:1000;justify-content:center;align-items:center;left:0;top:0;height:100%;min-height:100vh;background-color:#ecf0f5}.file-preview__main[_ngcontent-%COMP%], .loading-block[_ngcontent-%COMP%]{width:100%;display:flex;position:fixed}.file-preview__main[_ngcontent-%COMP%]{margin-top:65px;min-height:100%;min-width:277px;background:#ecf0f5}.file-preview__header[_ngcontent-%COMP%]{padding-top:10px;height:65px;background:#fff;box-shadow:0 2px 4px 0 rgba(0,0,0,.2);position:fixed;align-items:center;z-index:1;top:0;width:100%}.flx-sp-btw[_ngcontent-%COMP%]{justify-content:space-between}.flx[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap}.file-preview__header-left[_ngcontent-%COMP%]{margin-left:20px;margin-right:10px;margin-bottom:12px;flex:1 1 50px;min-width:0}.file-preview__header-left[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{float:left;margin-right:10px}.avatar--xs[_ngcontent-%COMP%]{width:40px;height:40px;font-size:17px}.avatar[_ngcontent-%COMP%]{position:relative;color:#fff;contain:layout size style}.avatar--xs[_ngcontent-%COMP%] > .avatar-img[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#e5efff}.avatar-img[_ngcontent-%COMP%]{border-radius:100%}.file-preview__header__title[_ngcontent-%COMP%]{font-size:15px;color:#222;font-weight:500}.file-preview__header__send-time[_ngcontent-%COMP%], .file-preview__header__title[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.file-preview__header__send-time[_ngcontent-%COMP%]{padding-top:2px;font-size:13px;color:#a0a0a0}.file-preview__header-right[_ngcontent-%COMP%]{color:#fff;margin-right:15px;white-space:nowrap;display:flex}.file-preview__controls-container[_ngcontent-%COMP%]{margin-right:40px}.file-preview__buttons-container[_ngcontent-%COMP%]{display:inline-flex;align-items:center;position:relative}.mp-0[_ngcontent-%COMP%]{margin:0!important;padding:0!important}"]}),t})()}}]);