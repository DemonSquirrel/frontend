(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{EgMX:function(t,e,a){"use strict";a.r(e),a.d(e,"TrashModule",function(){return dt});var n=a("tyNb"),s=a("ofXK"),i=a("vvyD"),c=a("3Pt+"),o=a("fB2i"),r=a("0IaG"),b=a("mYPf"),h=a("IkSl"),l=a("kmNb"),m=a("Avyq"),d=a("fXoL"),g=a("gbi4"),p=a("pMRa"),u=a("hZBc"),f=a("wZkO"),v=a("nzN9"),k=a("bSwM"),y=a("Qu3c"),x=a("bTqV"),_=a("NFeN"),D=a("quSY"),P=a("gaSO");function S(t,e){1&t&&(d.Vb(0,"div"),d.Vb(1,"p",11),d.Rc(2," B\u1ea1n mu\u1ed1n kh\xf4i ph\u1ee5c l\u1edbp h\u1ecdc "),d.Ub(),d.Ub())}function C(t,e){1&t&&(d.Vb(0,"div"),d.Vb(1,"p",11),d.Rc(2," B\u1ea1n mu\u1ed1n kh\xf4i ph\u1ee5c \u0111\u1ec1 thi "),d.Ub(),d.Ub())}function T(t,e){1&t&&(d.Vb(0,"div"),d.Vb(1,"p",11),d.Rc(2," B\u1ea1n mu\u1ed1n kh\xf4i ph\u1ee5c danh m\u1ee5c "),d.Ub(),d.Ub())}function w(t,e){1&t&&(d.Vb(0,"div"),d.Vb(1,"p",11),d.Rc(2," B\u1ea1n mu\u1ed1n kh\xf4i ph\u1ee5c b\xe0i t\u1eadp "),d.Ub(),d.Ub())}function R(t,e){1&t&&(d.Vb(0,"div"),d.Vb(1,"p",11),d.Rc(2," B\u1ea1n mu\u1ed1n kh\xf4i ph\u1ee5c h\u1ecdc sinh "),d.Ub(),d.Ub())}function U(t,e){if(1&t&&(d.Vb(0,"span",12),d.Rc(1),d.Ub()),2&t){const t=d.gc(2);d.oc("matTooltip",t.data.obj.name),d.Db(1),d.Tc("",t.data.obj.name," ?")}}function V(t,e){if(1&t&&(d.Vb(0,"span",12),d.Rc(1),d.Ub()),2&t){const t=d.gc(2);d.oc("matTooltip",t.data.obj.name),d.Db(1),d.Tc("",t.data.obj.fullName," ?")}}function O(t,e){1&t&&(d.Vb(0,"span"),d.Qb(1,"span",13),d.Rc(2,"\xa0"),d.Ub())}function j(t,e){if(1&t){const t=d.Wb();d.Vb(0,"div",1),d.Vb(1,"div",2),d.Vb(2,"div",3),d.Pc(3,S,3,0,"div",4),d.Pc(4,C,3,0,"div",4),d.Pc(5,T,3,0,"div",4),d.Pc(6,w,3,0,"div",4),d.Pc(7,R,3,0,"div",4),d.Vb(8,"p",5),d.Pc(9,U,2,2,"span",6),d.Pc(10,V,2,2,"span",6),d.Ub(),d.Ub(),d.Vb(11,"div",7),d.Vb(12,"div",8),d.Vb(13,"button",9),d.cc("click",function(){return d.Dc(t),d.gc().btnCloseDialog()}),d.Rc(14),d.hc(15,"mytranslate"),d.Ub(),d.Ub(),d.Vb(16,"button",10),d.cc("click",function(){return d.Dc(t),d.gc().confirmRevert()}),d.Pc(17,O,3,0,"span",4),d.Rc(18),d.hc(19,"mytranslate"),d.Ub(),d.Ub(),d.Ub(),d.Ub()}if(2&t){const t=d.gc();d.Db(3),d.nc("ngIf","classroom"===t.typeString),d.Db(1),d.nc("ngIf","exam"===t.typeString),d.Db(1),d.nc("ngIf","category"===t.typeString),d.Db(1),d.nc("ngIf","homework"===t.typeString),d.Db(1),d.nc("ngIf","student"===t.typeString),d.Db(2),d.nc("ngIf",t.data.obj.name),d.Db(1),d.nc("ngIf",t.data.obj.fullName),d.Db(4),d.Tc(" ",d.ic(15,11,"lang_cms_common_close_btn")," "),d.Db(2),d.nc("disabled",t.isLoading),d.Db(1),d.nc("ngIf",!0===t.isLoading),d.Db(1),d.Tc(" ",d.ic(19,13,"lang_cms_common_confirm_btn")," ")}}let M=(()=>{class t{constructor(t,e){this.commonService=t,this.apiCommonService=e,this.closeDialog=new d.o,this.subscriptions=new D.a,this.isLoading=!1,this.typeString=""}confirmRevert(){switch(this.data.type){case 0:this.subscriptions.add(this.apiCommonService.getRevertClassroom(this.data.obj).subscribe(t=>{1==t.success?(this.data.obj=Object.assign(Object.assign({},this.data.obj),{typeOfDelete:this.data.type}),this.closeDialog.emit(this.data.obj),this.commonService.myTranslate(["lang_cms_revert_success","lang_cms_common_ok"]).subscribe(t=>{this.commonService.snackSuccess(t.lang_cms_revert_success,t.lang_cms_common_ok)})):(this.btnCloseDialog(),this.commonService.myTranslate([t.message,"lang_cms_common_ok"]).subscribe(e=>{this.commonService.snackError(e[t.message],e.lang_cms_common_ok)}))}));break;case 1:this.subscriptions.add(this.apiCommonService.getRevertStudent(this.data.obj).subscribe(t=>{1==t.success?(this.data.obj=Object.assign(Object.assign({},this.data.obj),{typeOfDelete:this.data.type}),this.closeDialog.emit(this.data.obj),this.commonService.myTranslate(["lang_cms_revert_success","lang_cms_common_ok"]).subscribe(t=>{this.commonService.snackSuccess(t.lang_cms_revert_success,t.lang_cms_common_ok)})):(this.btnCloseDialog(),this.commonService.myTranslate([t.message,"lang_cms_common_ok"]).subscribe(e=>{this.commonService.snackError(e[t.message],e.lang_cms_common_ok)}))}));break;case 2:this.subscriptions.add(this.apiCommonService.getRevertHomework(this.data.obj).subscribe(t=>{1==t.success?(this.data.obj=Object.assign(Object.assign({},this.data.obj),{typeOfDelete:this.data.type}),this.closeDialog.emit(this.data.obj),this.commonService.myTranslate(["lang_cms_revert_success","lang_cms_common_ok"]).subscribe(t=>{this.commonService.snackSuccess(t.lang_cms_revert_success,t.lang_cms_common_ok)})):(this.btnCloseDialog(),this.commonService.myTranslate([t.message,"lang_cms_common_ok"]).subscribe(e=>{this.commonService.snackError(e[t.message],e.lang_cms_common_ok)}))}));break;case 3:this.subscriptions.add(this.apiCommonService.getRevertExam(this.data.obj).subscribe(t=>{1==t.success?(this.data.obj=Object.assign(Object.assign({},this.data.obj),{typeOfDelete:this.data.type}),this.closeDialog.emit(this.data.obj),this.commonService.myTranslate(["lang_cms_revert_success","lang_cms_common_ok"]).subscribe(t=>{this.commonService.snackSuccess(t.lang_cms_revert_success,t.lang_cms_common_ok)})):(this.btnCloseDialog(),this.commonService.myTranslate([t.message,"lang_cms_common_ok"]).subscribe(e=>{this.commonService.snackError(e[t.message],e.lang_cms_common_ok)}))}));break;case 4:this.subscriptions.add(this.apiCommonService.getRevertExamCategory(this.data.obj).subscribe(t=>{1==t.success?(this.data.obj=Object.assign(Object.assign({},this.data.obj),{typeOfDelete:this.data.type}),this.closeDialog.emit(this.data.obj),this.commonService.myTranslate(["lang_cms_revert_success","lang_cms_common_ok"]).subscribe(t=>{this.commonService.snackSuccess(t.lang_cms_revert_success,t.lang_cms_common_ok)})):(this.btnCloseDialog(),this.commonService.myTranslate([t.message,"lang_cms_common_ok"]).subscribe(e=>{this.commonService.snackError(e[t.message],e.lang_cms_common_ok)}))}))}}checkType(){if(this.data)switch(this.data.type){case 0:this.typeString="classroom";break;case 1:this.typeString="student";break;case 2:this.typeString="homework";break;case 3:this.typeString="exam";break;case 4:this.typeString="category"}return this.typeString}btnCloseDialog(){this.closeDialog.emit()}ngOnInit(){this.checkType()}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(d.Pb(g.a),d.Pb(p.a))},t.\u0275cmp=d.Jb({type:t,selectors:[["app-revert-dialog"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info","p-4"],[1,"text-center"],[4,"ngIf"],[1,"h5","text-danger",2,"padding-bottom","21px","border-bottom","1px solid #b2b4b7"],["class","truncate",3,"matTooltip",4,"ngIf"],[1,"d-flex","float-right","mt-3"],[1,"azt-block-button"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"disabled","click"],[1,"h5","para_respon","font-weight-normal"],[1,"truncate",3,"matTooltip"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&d.Pc(0,j,20,15,"div",0),2&t&&d.nc("ngIf",e.data.isShow)},directives:[s.m,x.b,y.a],pipes:[P.q],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:9998;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background:rgba(0,0,0,.5607843137254902)}.school-info[_ngcontent-%COMP%]{z-index:9999;top:50%;left:50%;min-width:30%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}}"]}),t})();function I(t,e){1&t&&d.Qb(0,"azt-loading-effect")}function L(t,e){1&t&&(d.Vb(0,"div"),d.Vb(1,"div",7),d.Rc(2," Kh\xf4ng c\xf3 d\u1eef li\u1ec7u. "),d.Ub(),d.Ub())}function N(t,e){1&t&&(d.Vb(0,"div"),d.Vb(1,"div",7),d.Rc(2," B\u1ea5m v\xe0o n\xfat b\xean d\u01b0\u1edbi \u0111\u1ec3n xem b\u1ea3n ghi c\u0169 h\u01a1n "),d.Ub(),d.Ub())}function E(t,e){if(1&t){const t=d.Wb();d.Vb(0,"a",11),d.cc("click",function(){return d.Dc(t),d.gc(3).clickRemoveAllData()}),d.Rc(1,"x\xf3a"),d.Ub()}}function A(t,e){if(1&t&&(d.Vb(0,"span",25),d.Rc(1),d.Ub()),2&t){const t=d.gc().$implicit;d.oc("matTooltip",t.name),d.Db(1),d.Sc(t.name)}}function H(t,e){if(1&t&&(d.Vb(0,"span",25),d.Rc(1),d.Ub()),2&t){const t=d.gc().$implicit;d.oc("matTooltip",t.fullName),d.Db(1),d.Sc(t.fullName)}}function B(t,e){if(1&t&&(d.Vb(0,"span",26),d.Rc(1),d.Ub()),2&t){const t=d.gc().$implicit;d.oc("matTooltip",t.classroom.name),d.Db(1),d.Tc("l\u1edbp: ",t.classroom.name,"")}}function W(t,e){if(1&t){const t=d.Wb();d.Vb(0,"div"),d.Vb(1,"div",12),d.Vb(2,"div",13),d.Vb(3,"div",14),d.Vb(4,"mat-checkbox",15),d.cc("ngModelChange",function(t){return e.$implicit.completed=t})("ngModelChange",function(){return d.Dc(t),d.gc(3).updateAllComplete()}),d.Ub(),d.Ub(),d.Vb(5,"div",16),d.Vb(6,"span",17),d.Pc(7,A,2,2,"span",18),d.Pc(8,H,2,2,"span",18),d.Pc(9,B,2,2,"span",19),d.Ub(),d.Vb(10,"span",20),d.Rc(11," Th\u1eddi gian x\xf3a: "),d.Vb(12,"span",21),d.hc(13,"date"),d.Rc(14),d.hc(15,"date"),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Vb(16,"div",22),d.cc("click",function(){d.Dc(t);const a=e.$implicit,n=d.gc(3);return n.clickRevertData(a,n.type)}),d.Vb(17,"div",23),d.Vb(18,"span",24),d.Rc(19,"Kh\xf4i ph\u1ee5c"),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Ub()}if(2&t){const t=e.$implicit;d.Db(4),d.nc("ngModel",t.completed),d.Db(3),d.nc("ngIf",t.name),d.Db(1),d.nc("ngIf",t.fullName),d.Db(1),d.nc("ngIf",t.classroom),d.Db(3),d.oc("matTooltip",d.jc(13,6,t.deletedAt,"dd/MM/yyyy HH:mm")),d.Db(2),d.Sc(d.jc(15,9,t.deletedAt,"dd/MM/yyyy HH:mm"))}}function z(t,e){if(1&t){const t=d.Wb();d.Vb(0,"div"),d.Vb(1,"mat-checkbox",8),d.cc("change",function(e){return d.Dc(t),d.gc(2).setAll(e.checked)}),d.Rc(2," Ch\u1ecdn t\u1ea5t c\u1ea3 "),d.Ub(),d.Pc(3,E,2,0,"a",9),d.Pc(4,W,20,12,"div",10),d.Ub()}if(2&t){const t=d.gc(2);d.Db(1),d.nc("checked",t.allComplete),d.Db(2),d.nc("ngIf",1==t.someComplete()||1==t.allComplete),d.Db(1),d.nc("ngForOf",t.task.subtasks)}}function J(t,e){1&t&&d.Qb(0,"div",27)}function X(t,e){if(1&t){const t=d.Wb();d.Tb(0),d.Vb(1,"button",28),d.cc("click",function(){return d.Dc(t),d.gc(2).seeMore()}),d.Vb(2,"mat-icon"),d.Rc(3,"keyboard_arrow_down"),d.Ub(),d.Ub(),d.Sb()}if(2&t){const t=d.gc(2);d.Db(1),d.nc("disabled",!t.nextPage)}}function Q(t,e){if(1&t){const t=d.Wb();d.Vb(0,"app-revert-dialog",29),d.cc("closeDialog",function(e){return d.Dc(t),d.gc(2).closeRevertDialog(e)}),d.Ub()}if(2&t){const t=d.gc(2);d.nc("data",t.dataRevertDialog)}}function Z(t,e){if(1&t&&(d.Pc(0,L,3,0,"div",2),d.Pc(1,N,3,0,"div",2),d.Pc(2,z,5,3,"div",2),d.Vb(3,"div",3),d.Vb(4,"div",4),d.Pc(5,J,1,0,"div",5),d.Pc(6,X,4,1,"ng-container",2),d.Ub(),d.Ub(),d.Pc(7,Q,1,1,"app-revert-dialog",6)),2&t){const t=d.gc();d.nc("ngIf",1==t.isCheckData&&!t.nextPage),d.Db(1),d.nc("ngIf",1==t.isCheckData&&t.nextPage),d.Db(1),d.nc("ngIf",0==t.isCheckData),d.Db(3),d.nc("ngIf",1==t.loadingMore),d.Db(1),d.nc("ngIf",0==t.loadingMore),d.Db(1),d.nc("ngIf",t.dataRevertDialog.isShow)}}const $=".check-all[_ngcontent-%COMP%]{margin:20px 15px 0}.check-item[_ngcontent-%COMP%]{margin:8px 15px 0}.block-header[_ngcontent-%COMP%]{display:flex;align-items:center}.block-body[_ngcontent-%COMP%]{display:flex;justify-content:space-between;background:#fff;border-radius:3px;margin-top:20px;width:100%}.block-body-main[_ngcontent-%COMP%]{display:flex;align-items:center;max-width:70%}.block-body-status[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:10px;border-top-right-radius:3px;border-bottom-right-radius:3px;background:#00c0ef;cursor:pointer;color:#fff;width:100px;font-weight:500;text-align:center}.block-body-status[_ngcontent-%COMP%]:hover{background-color:#00a2ca}.block-body-content[_ngcontent-%COMP%]{padding:10px;max-width:85%;display:flex;flex-direction:column;justify-content:center}.block-body-content[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]{font-weight:500;margin-bottom:2px;font-size:14px}.block-body-content[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:0}.block-body-content[_ngcontent-%COMP%]   .content-desc[_ngcontent-%COMP%]{margin-bottom:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.block_none[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#fff;border:none;border-radius:3px;box-shadow:0 0 6px rgba(0,0,0,.1215686275);margin-top:15px}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:100%;padding:5px 0;white-space:nowrap}.text-student[_ngcontent-%COMP%]{font-weight:500}@media only screen and (max-width:768px){.block-body[_ngcontent-%COMP%], .block_none[_ngcontent-%COMP%]{height:auto}}.buttom-delete[_ngcontent-%COMP%]{float:right;margin:14px;padding:6px 15px;background:#f44336;color:#fff;border-radius:5px}.buttom-delete[_ngcontent-%COMP%]:hover{background:#f10}";let q=(()=>{class t{constructor(t,e){this.dialog=t,this.commonService=e,this.data=[],this.nextPage="",this.type=0,this.pageReset=0,this.DataRevert=new d.o,this.SeeMore=new d.o,this.isLoading=!1,this.viewButtomREmove=!1,this.dataTrashHomework=[],this.dataRevertDialog={obj:"",type:0,isShow:!1},this.allComplete=!1,this.task={},this.isCheckData=!1,this.loadingMore=!1,this.skipObj={skipLive:0,skipArchive:0}}dataProcessing(){var t=[];if(0!=this.data.length)for(var e=0;e<this.data.length;e++)t.push(Object.assign(Object.assign({},this.data[e]),{completed:!1}));this.task={completed:!1,subtasks:t}}setAll(t){null!=this.task.subtasks&&(this.task.subtasks.forEach(e=>e.completed=t),this.allComplete=1==t)}updateAllComplete(){this.allComplete=null!=this.task.subtasks&&this.task.subtasks.every(t=>t.completed)}someComplete(){return null!=this.task.subtasks&&this.task.subtasks.filter(t=>t.completed).length>0&&!this.allComplete}clickRemoveAllData(){var t=[];for(let e=0;e<this.task.subtasks.length;e++)1==this.task.subtasks[e].completed&&t.push({id:this.task.subtasks[e].id,curPage:this.task.subtasks[e].nextPage});this.dialog.open(F,{width:"750px",data:{type:this.type,data:t}}).afterClosed().subscribe(e=>{if(this.isLoading=!1,"remove"==e){var a={type:"remove",data:t};for(let e=0;e<t.length;e++)for(let a=0;a<this.task.subtasks.length;a++)t[e].id==this.task.subtasks[a].id&&this.task.subtasks.splice(a,1);this.CalculateSkip(t),this.DataRevert.emit(a)}this.isLoading=!1})}closeRevertDialog(t){if(t){this.dataRevertDialog={obj:"",type:0,isShow:!1};for(let e=0;e<this.task.subtasks.length;e++)t.id==this.task.subtasks[e].id&&this.task.subtasks.splice(e,1);this.CalculateSkip([t]),this.DataRevert.emit({data:t,type:"revert"})}else this.dataRevertDialog={obj:"",type:0,isShow:!1}}CalculateSkip(t){for(var e=0;e<t.length;e++){var a=this.commonService.parseJson(t[e].curPage?t[e].curPage:t[e].nextPage);a&&1==a.isArchive?this.skipObj.skipArchive++:this.skipObj.skipLive++}}clickRevertData(t,e){this.dataRevertDialog={obj:t,type:e,isShow:!0}}seeMore(){this.loadingMore=!0,this.SeeMore.emit({type:this.type,skipObj:this.skipObj})}ngOnInit(){}ngOnChanges(){this.loadingMore=!1,this.allComplete=!1,this.dataProcessing(),this.isCheckData=!(this.data.length>=1)}}return t.\u0275fac=function(e){return new(e||t)(d.Pb(r.b),d.Pb(g.a))},t.\u0275cmp=d.Jb({type:t,selectors:[["app-trash-tab"]],inputs:{data:"data",nextPage:"nextPage",type:"type",pageReset:"pageReset"},outputs:{DataRevert:"DataRevert",SeeMore:"SeeMore"},features:[d.Bb],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[4,"ngIf"],[1,"mt-5","mb-3"],[1,"d-flex","justify-content-center"],["class","spinner-border spinner-border-sm","role","status","style","display: flex;",4,"ngIf"],[3,"data","closeDialog",4,"ngIf"],[1,"block_none","py-5"],["color","primary",1,"check-all",3,"checked","change"],["class","buttom-delete",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"buttom-delete",3,"click"],[1,"block-body"],[1,"block-body-main"],[1,"check-item"],["color","primary",3,"ngModel","ngModelChange"],[1,"block-body-content"],[1,"notify__active"],["class","truncate mr-2 text-student",3,"matTooltip",4,"ngIf"],["class","truncate",3,"matTooltip",4,"ngIf"],[1,"notify__time","truncate"],[3,"matTooltip"],[1,"block-body-status",3,"click"],[1,"text-center","text-white","class-info","pt-2","pb-2"],[1,"text-azo"],[1,"truncate","mr-2","text-student",3,"matTooltip"],[1,"truncate",3,"matTooltip"],["role","status",1,"spinner-border","spinner-border-sm",2,"display","flex"],["matTooltip","Hi\u1ec7n b\u1ea3n ghi c\u0169 h\u01a1n","mat-button","",1,"btn-all-add",3,"disabled","click"],[3,"data","closeDialog"]],template:function(t,e){if(1&t&&(d.Pc(0,I,1,0,"azt-loading-effect",0),d.Pc(1,Z,8,6,"ng-template",null,1,d.Qc)),2&t){const t=d.zc(2);d.nc("ngIf",e.isLoading)("ngIfElse",t)}},directives:[s.m,v.a,k.a,s.l,c.r,c.u,y.a,x.b,_.a,M],pipes:[s.e],styles:[$]}),t})(),F=(()=>{class t{constructor(t,e,a,n){this.apiCommonService=t,this.commonService=e,this.dialogRef=a,this.data=n}postRemoveExam(t){this.apiCommonService.postRemoveExam(t).subscribe(t=>{1==t.success?(this.onNoClick("remove"),this.commonService.snackSuccess("X\xf3a \u0111\u1ec1 thi th\xe0nh c\xf4ng","")):(this.onNoClick("cancel"),this.commonService.snackError("L\u1ed7i: x\xf3a \u0111\u1ec1 thi kh\xf4ng th\xe0nh c\xf4ng",""))})}postRemoveExamCategory(t){this.apiCommonService.postRemoveExamCategory(t).subscribe(t=>{1==t.success?(this.onNoClick("remove"),this.commonService.snackSuccess("X\xf3a th\u01b0 m\u1ee5c \u0111\u1ec1 thi th\xe0nh c\xf4ng","")):(this.onNoClick("cancel"),this.commonService.snackError("L\u1ed7i: x\xf3a th\u01b0 m\u1ee5c \u0111\u1ec1 thi kh\xf4ng th\xe0nh c\xf4ng",""))})}postRemoveHomework(t){this.apiCommonService.postRemoveHomework(t).subscribe(t=>{1==t.success?(this.onNoClick("remove"),this.commonService.snackSuccess("X\xf3a b\xe0i t\u1eadp th\xe0nh c\xf4ng","")):(this.onNoClick("cancel"),this.commonService.snackError("L\u1ed7i: x\xf3a b\xe0i t\u1eadp kh\xf4ng th\xe0nh c\xf4ng",""))})}postRemoveClassroom(t){this.apiCommonService.postRemoveClassroom(t).subscribe(t=>{1==t.success?(this.onNoClick("remove"),this.commonService.snackSuccess("X\xf3a l\u1edbp h\u1ecdc th\xe0nh c\xf4ng","")):(this.onNoClick("cancel"),this.commonService.snackError("L\u1ed7i: x\xf3a l\u1edbp h\u1ecdc kh\xf4ng th\xe0nh c\xf4ng",""))})}postRemoveStudent(t){this.apiCommonService.postRemoveStudent(t).subscribe(t=>{1==t.success?(this.onNoClick("remove"),this.commonService.snackSuccess("X\xf3a h\u1ecdc sinh th\xe0nh c\xf4ng","")):(this.onNoClick("cancel"),this.commonService.snackError("L\u1ed7i: x\xf3a h\u1ecdc sinh kh\xf4ng th\xe0nh c\xf4ng",""))})}changeRemove(t){var e=t.data;0==t.type?this.postRemoveClassroom(e):1==t.type?this.postRemoveStudent(e):2==t.type?this.postRemoveHomework(e):3==t.type?this.postRemoveExam(e):4==t.type&&this.postRemoveExamCategory(e)}ngOnInit(){}onNoClick(t){this.dialogRef.close(t)}}return t.\u0275fac=function(e){return new(e||t)(d.Pb(p.a),d.Pb(g.a),d.Pb(r.g),d.Pb(r.a))},t.\u0275cmp=d.Jb({type:t,selectors:[["dialog-overview-example-dialog"]],decls:12,vars:2,consts:[[2,"border-bottom","1px solid","margin-bottom","20px","padding-bottom","10px"],[2,"color","#6d6d6d","font-weight","400!important","text-align","center","font-size","18px"],[2,"color","#dc3545!important"],[2,"float","right"],["type","button",1,"btn","btn-danger","mr-3",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,e){1&t&&(d.Vb(0,"div"),d.Vb(1,"div",0),d.Vb(2,"p",1),d.Rc(3," B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a "),d.Vb(4,"span",2),d.Rc(5),d.Ub(),d.Rc(6," \u0111\xe3 \u0111\xe1nh d\u1ea5u ra kh\u1ecfi th\xf9ng r\xe1c? "),d.Ub(),d.Ub(),d.Vb(7,"div",3),d.Vb(8,"button",4),d.cc("click",function(){return e.onNoClick("cancal")}),d.Rc(9,"H\u1ee7y"),d.Ub(),d.Vb(10,"button",5),d.cc("click",function(){return e.changeRemove(e.data)}),d.Rc(11,"Ti\u1ebfp t\u1ee5c"),d.Ub(),d.Ub(),d.Ub()),2&t&&(d.Db(5),d.Uc(" ",e.data.data.length," ",0==e.data.type?" l\u1edbp h\u1ecdc ":1==e.data.type?" h\u1ecdc sinh ":2==e.data.type?" b\xe0i t\u1eadp ":3==e.data.type?" \u0111\u1ec1 thi ":4==e.data.type?" th\u01b0 m\u1ee5c \u0111\u1ec1 thi ":""," "))},styles:[$]}),t})();function K(t,e){if(1&t){const t=d.Wb();d.Vb(0,"app-trash-tab",13),d.cc("SeeMore",function(e){return d.Dc(t),d.gc(2).handleData(e,"1")})("DataRevert",function(e){return d.Dc(t),d.gc(2).handleData(e,"2")}),d.Ub()}if(2&t){const t=d.gc(2);d.nc("data",t.dataTrash)("nextPage",t.nextPage)("type",0)}}function Y(t,e){if(1&t&&(d.Vb(0,"div",11),d.Pc(1,K,1,3,"app-trash-tab",12),d.Ub()),2&t){const t=d.gc();d.Db(1),d.nc("ngIf",0==t.typeTab)}}function G(t,e){if(1&t){const t=d.Wb();d.Vb(0,"app-trash-tab",13),d.cc("SeeMore",function(e){return d.Dc(t),d.gc(2).handleData(e,"1")})("DataRevert",function(e){return d.Dc(t),d.gc(2).handleData(e,"2")}),d.Ub()}if(2&t){const t=d.gc(2);d.nc("data",t.dataTrash)("nextPage",t.nextPage)("type",1)}}function tt(t,e){if(1&t&&(d.Vb(0,"div",11),d.Pc(1,G,1,3,"app-trash-tab",12),d.Ub()),2&t){const t=d.gc();d.Db(1),d.nc("ngIf",1==t.typeTab)}}function et(t,e){if(1&t){const t=d.Wb();d.Vb(0,"app-trash-tab",13),d.cc("SeeMore",function(e){return d.Dc(t),d.gc(2).handleData(e,"1")})("DataRevert",function(e){return d.Dc(t),d.gc(2).handleData(e,"2")}),d.Ub()}if(2&t){const t=d.gc(2);d.nc("data",t.dataTrash)("nextPage",t.nextPage)("type",2)}}function at(t,e){if(1&t&&(d.Vb(0,"div",11),d.Pc(1,et,1,3,"app-trash-tab",12),d.Ub()),2&t){const t=d.gc();d.Db(1),d.nc("ngIf",2==t.typeTab)}}function nt(t,e){if(1&t){const t=d.Wb();d.Vb(0,"app-trash-tab",13),d.cc("SeeMore",function(e){return d.Dc(t),d.gc(2).handleData(e,"1")})("DataRevert",function(e){return d.Dc(t),d.gc(2).handleData(e,"2")}),d.Ub()}if(2&t){const t=d.gc(2);d.nc("data",t.dataTrash)("nextPage",t.nextPage)("type",3)}}function st(t,e){if(1&t&&(d.Vb(0,"div",11),d.Pc(1,nt,1,3,"app-trash-tab",12),d.Ub()),2&t){const t=d.gc();d.Db(1),d.nc("ngIf",3==t.typeTab)}}function it(t,e){if(1&t){const t=d.Wb();d.Vb(0,"app-trash-tab",13),d.cc("SeeMore",function(e){return d.Dc(t),d.gc(2).handleData(e,"1")})("DataRevert",function(e){return d.Dc(t),d.gc(2).handleData(e,"2")}),d.Ub()}if(2&t){const t=d.gc(2);d.nc("data",t.dataTrash)("nextPage",t.nextPage)("type",4)}}function ct(t,e){if(1&t&&(d.Vb(0,"div",11),d.Pc(1,it,1,3,"app-trash-tab",12),d.Ub()),2&t){const t=d.gc();d.Db(1),d.nc("ngIf",4==t.typeTab)}}function ot(t,e){1&t&&d.Qb(0,"div",14)}let rt=(()=>{class t{constructor(t,e,a,n){this.router=t,this.vps=e,this.commonService=a,this.apiCommonService=n,this.dataTrash=[],this.isLoading=!1,this.typeTab=0,this.nextPage=""}addNextPageToArray(t){var e=[];for(let a=0;a<t.length;a++)e.push(Object.assign(Object.assign({},t[a]),{nextPage:this.nextPage}));this.dataTrash=this.dataTrash.concat(e)}getDataStudent(){this.apiCommonService.getTrashStudentObjs(this.nextPage).subscribe(t=>{1==t.success&&(this.addNextPageToArray(t.data.objs),this.nextPage=t.data.nextPage),this.isLoading=!1})}getDataHomework(){this.apiCommonService.getTrashHomeworkObjs(this.nextPage).subscribe(t=>{1==t.success&&(this.addNextPageToArray(t.data.objs),this.nextPage=t.data.nextPage),this.isLoading=!1})}getDataCategory(){this.apiCommonService.getTrashExamCategoryObjs(this.nextPage).subscribe(t=>{1==t.success&&(this.addNextPageToArray(t.data.objs),this.nextPage=t.data.nextPage),this.isLoading=!1})}getDataExam(){this.apiCommonService.getTrashExamObjs(this.nextPage).subscribe(t=>{1==t.success&&(this.addNextPageToArray(t.data.objs),this.nextPage=t.data.nextPage),this.isLoading=!1})}getDataClassroom(){this.apiCommonService.getTrashClassroomObjs(this.nextPage).subscribe(t=>{1==t.success&&(this.addNextPageToArray(t.data.objs),this.nextPage=t.data.nextPage),this.isLoading=!1})}calculateNextPage(t){var e=this.commonService.parseJson(this.nextPage);e.skip=1==e.isArchive?t.skipArchive:t.skipLive,this.nextPage=JSON.stringify(e)}handleData(t,e){if(0==e&&(this.isLoading=!0,this.nextPage="",this.dataTrash=[]),null!=t.index&&(this.typeTab=t.index),1==e&&this.calculateNextPage(t.skipObj),this.commonService.myNavigation("/admin/trash/"+this.typeTab),2==e){if("revert"==t.type)for(let e=0;e<this.dataTrash.length;e++)t.data.id==this.dataTrash[e].id&&this.dataTrash.splice(e,1);else for(let e=0;e<t.data.length;e++)for(let a=0;a<this.dataTrash.length;a++)if(t.data[e].id===this.dataTrash[a].id){const t=this.dataTrash.indexOf(this.dataTrash[a]);t>-1&&(this.dataTrash.splice(t,1),this.dataTrash=this.dataTrash)}0==this.dataTrash.length&&this.handleData("",0)}else switch(this.typeTab){case 0:this.getDataClassroom();break;case 1:this.getDataStudent();break;case 2:this.getDataHomework();break;case 3:this.getDataExam();break;case 4:this.getDataCategory()}}ngOnInit(){this.typeTab=this.router.snapshot.paramMap.get("type"),this.typeTab=parseInt(this.typeTab),this.handleData("",0),this.commonService.translateMetaData({title:"lang_cms_trash_title",description:"lang_cms_trash_description",image:"lang_cms_test_image"})}}return t.\u0275fac=function(e){return new(e||t)(d.Pb(n.a),d.Pb(s.w),d.Pb(g.a),d.Pb(p.a))},t.\u0275cmp=d.Jb({type:t,selectors:[["app-trash"]],decls:15,vars:9,consts:[[3,"headerTitle","back_link"],[1,"container"],[1,"app","py-4","maxW1200"],[3,"selectedIndex","selectedTabChange"],["label","L\u1edbp h\u1ecdc"],["class","wrapper",4,"ngIf"],["label","H\u1ecdc sinh"],["label","B\xe0i t\u1eadp"],["label","\u0110\u1ec1 thi"],["label","Th\u01b0 m\u1ee5c \u0111\u1ec1 thi"],["class","spinner-border spinner-border-sm","role","status","style","display: flex; margin: 20% auto;",4,"ngIf"],[1,"wrapper"],[3,"data","nextPage","type","SeeMore","DataRevert",4,"ngIf"],[3,"data","nextPage","type","SeeMore","DataRevert"],["role","status",1,"spinner-border","spinner-border-sm",2,"display","flex","margin","20% auto"]],template:function(t,e){1&t&&(d.Qb(0,"header-backend",0),d.Vb(1,"div",1),d.Vb(2,"div",2),d.Vb(3,"mat-tab-group",3),d.cc("selectedTabChange",function(t){return e.handleData(t,"0")}),d.Vb(4,"mat-tab",4),d.Pc(5,Y,2,1,"div",5),d.Ub(),d.Vb(6,"mat-tab",6),d.Pc(7,tt,2,1,"div",5),d.Ub(),d.Vb(8,"mat-tab",7),d.Pc(9,at,2,1,"div",5),d.Ub(),d.Vb(10,"mat-tab",8),d.Pc(11,st,2,1,"div",5),d.Ub(),d.Vb(12,"mat-tab",9),d.Pc(13,ct,2,1,"div",5),d.Ub(),d.Ub(),d.Pc(14,ot,1,0,"div",10),d.Ub(),d.Ub()),2&t&&(d.nc("headerTitle","Th\xf9ng R\xe1c")("back_link","/admin/testbank/dashboard"),d.Db(3),d.nc("selectedIndex",e.typeTab),d.Db(2),d.nc("ngIf",!1===e.isLoading),d.Db(2),d.nc("ngIf",!1===e.isLoading),d.Db(2),d.nc("ngIf",!1===e.isLoading),d.Db(2),d.nc("ngIf",!1===e.isLoading),d.Db(2),d.nc("ngIf",!1===e.isLoading),d.Db(1),d.nc("ngIf",!0===e.isLoading))},directives:[u.a,f.b,f.a,s.m,q],styles:[".wrapper[_ngcontent-%COMP%]{overflow-x:hidden}"]}),t})();const bt=[{path:"",component:rt,canActivate:[l.a],children:[{path:"",canActivateChild:[l.a],children:[{path:"",component:rt}]}]}];let ht=(()=>{class t{}return t.\u0275mod=d.Nb({type:t}),t.\u0275inj=d.Mb({factory:function(e){return new(e||t)},imports:[[n.l.forChild(bt)],n.l,m.c]}),t})();var lt=a("rIor"),mt=a("Zhhu");let dt=(()=>{class t{}return t.\u0275mod=d.Nb({type:t}),t.\u0275inj=d.Mb({factory:function(e){return new(e||t)},imports:[[n.l,s.c,i.a,o.b,c.m,c.x,r.f,b.a,h.b,lt.b,ht,mt.a]]}),t})()},kmNb:function(t,e,a){"use strict";a.d(e,"a",function(){return o});var n=a("fXoL"),s=a("pMRa"),i=a("tyNb"),c=a("gbi4");let o=(()=>{class t{constructor(t,e,a){this.apiCommonService=t,this.router=e,this.commonService=a}canActivate(t,e){return window,!!this.apiCommonService.isLogin()||(this.commonService.redirectLoginAnonymous(e.url),!1)}canActivateChild(t,e){return this.canActivate(t,e)}canLoad(t){const e="/"+t.path;return!!this.apiCommonService.isLogin()||(this.commonService.redirectLoginByReturnUrl(e),!1)}}return t.\u0275fac=function(e){return new(e||t)(n.Zb(s.a),n.Zb(i.i),n.Zb(c.a))},t.\u0275prov=n.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);