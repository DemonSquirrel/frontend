(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{SPOn:function(n,e,t){"use strict";t.d(e,"a",function(){return c});var i=t("fXoL"),o=t("gbi4");let c=(()=>{class n{constructor(n){this.commonService=n}convertUrl(){this.src=this.commonService.getRawCdnLink(this.src)}}return n.\u0275fac=function(e){return new(e||n)(i.Pb(o.a))},n.\u0275dir=i.Kb({type:n,selectors:[["","appImageFallback",""]],hostVars:1,hostBindings:function(n,e){1&n&&i.cc("error",function(){return e.convertUrl()}),2&n&&i.Yb("src",e.src,i.Ic)},inputs:{src:"src"}}),n})()},Vwpm:function(n,e,t){"use strict";t.d(e,"a",function(){return a});var i=t("fXoL"),o=t("ofXK"),c=t("SPOn"),s=t("gaSO");function r(n,e){1&n&&(i.Vb(0,"div",2),i.Qb(1,"img",3),i.Ub())}let a=(()=>{class n{constructor(){this.loading=!0}onLoad(){this.loading=!1}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Jb({type:n,selectors:[["azt-loaded-img"]],inputs:{imgSrc:"imgSrc",id:"id"},decls:4,vars:8,consts:[["class","px-4 py-3 text-center",4,"ngIf"],["appImageFallback","",2,"width","100%",3,"hidden","src","alt","load"],[1,"px-4","py-3","text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/svgs/Img2_dat-01.svg","alt","image_loading_placeholer"]],template:function(n,e){1&n&&(i.Vb(0,"div"),i.Pc(1,r,2,0,"div",0),i.Vb(2,"img",1),i.cc("load",function(){return e.onLoad()}),i.hc(3,"mycdn"),i.Ub(),i.Ub()),2&n&&(i.Db(1),i.nc("ngIf",e.loading),i.Db(1),i.Fb(e.id?"img-fluid questionId_"+e.id:"img-fluid"),i.oc("src",i.ic(3,6,e.imgSrc),i.Hc),i.oc("alt",e.imgSrc),i.nc("hidden",e.loading))},directives:[o.m,c.a],pipes:[s.n],styles:[""]}),n})()},diKk:function(n,e,t){"use strict";t.d(e,"a",function(){return L});var i=t("fXoL"),o=t("tyNb"),c=t("gbi4"),s=t("yTNM"),r=t("3Pt+"),a=t("ofXK"),l=t("hZBc"),d=t("k3bj"),b=t("nzN9"),g=t("IU+r"),u=t("Vwpm"),h=t("NFeN"),f=t("bTqV"),p=t("wAhq"),m=t("gaSO");function v(n,e){1&n&&(i.Tb(0),i.Qb(1,"header-backend",4),i.Sb()),2&n&&(i.Db(1),i.nc("headerTitle","Xem c\xe2u h\u1ecfi")("back_link","/admin/testbank/dashboard"))}function w(n,e){1&n&&i.Qb(0,"header-frontend",4),2&n&&i.nc("headerTitle","Xem c\xe2u h\u1ecfi")("back_link","/student/dashboard/2")}function _(n,e){1&n&&i.Qb(0,"azt-loading-effect")}function C(n,e){if(1&n&&(i.Vb(0,"div",12),i.Rc(1," \u0110\u1ec1 thi: "),i.Vb(2,"span"),i.Rc(3),i.Ub(),i.Ub()),2&n){const n=i.gc(3);i.Db(3),i.Sc(n.assetObjectObj.name)}}function P(n,e){if(1&n&&(i.Vb(0,"div",26),i.Vb(1,"div",27),i.Qb(2,"azt-loaded-img",28),i.Ub(),i.lc(3,2),i.Ub()),2&n){const n=i.gc(3);i.Db(2),i.nc("imgSrc",n.curQuestionObj.files)}}function O(n,e){if(1&n&&(i.Vb(0,"div",29),i.Qb(1,"azt-loaded-img",28),i.Ub()),2&n){const n=i.gc(3);i.Db(1),i.nc("imgSrc",n.curQuestionObj.datas)}}function x(n,e){1&n&&(i.Vb(0,"div",41),i.Vb(1,"mat-icon"),i.Rc(2,"check"),i.Ub(),i.Ub())}function k(n,e){if(1&n){const n=i.Wb();i.Vb(0,"div",44),i.Vb(1,"img",45),i.cc("click",function(t){i.Dc(n);const o=e.$implicit;return i.gc(6).onShowFile(t,o,-1)}),i.hc(2,"mycdn"),i.Ub(),i.Ub()}if(2&n){const n=e.$implicit;i.Db(1),i.nc("src",i.ic(2,1,n.url),i.Hc)}}function y(n,e){if(1&n&&(i.Vb(0,"div",42),i.Pc(1,k,3,3,"div",43),i.Ub()),2&n){const n=i.gc().$implicit;i.Db(1),i.nc("ngForOf",n.files)}}function M(n,e){if(1&n){const n=i.Wb();i.Vb(0,"button",50),i.cc("click",function(){i.Dc(n);const e=i.gc(2).$implicit;return i.gc(4).acceptAnswer(e)}),i.Rc(1,"Ch\u1ea5p nh\u1eadn c\xe2u tr\u1ea3 l\u1eddi n\xe0y"),i.Ub()}}function U(n,e){if(1&n){const n=i.Wb();i.Vb(0,"span"),i.Rc(1,"B\u1ea1n \u0111\xe3 ch\u1ea5p nh\u1eadn c\xe2u tr\u1ea3 l\u1eddi n\xe0y"),i.Ub(),i.Vb(2,"button",51),i.cc("click",function(){i.Dc(n);const e=i.gc(2).$implicit;return i.gc(4).removeAcceptAnswer(e)}),i.Rc(3,"H\u1ee7y"),i.Ub()}}function D(n,e){if(1&n&&(i.Vb(0,"div",46),i.Vb(1,"div",47),i.Pc(2,M,2,0,"button",48),i.Pc(3,U,4,0,"ng-template",null,49,i.Qc),i.Ub(),i.Ub()),2&n){const n=i.zc(4),e=i.gc().$implicit,t=i.gc(4);i.Db(2),i.nc("ngIf",e.id!=t.curQuestionObj.rightAnswerId)("ngIfElse",n)}}const V=function(n){return{"justify-end":n}};function S(n,e){if(1&n&&(i.Vb(0,"div",31),i.Vb(1,"div",32),i.Vb(2,"div",33),i.Vb(3,"span"),i.Rc(4),i.Ub(),i.Ub(),i.Pc(5,x,3,0,"div",34),i.Ub(),i.Vb(6,"div",35),i.Qb(7,"div",36),i.Pc(8,y,2,1,"div",37),i.Vb(9,"div",38),i.Pc(10,D,5,2,"div",39),i.Vb(11,"div",18),i.Vb(12,"p",40),i.Rc(13),i.Ub(),i.Vb(14,"div",19),i.Qb(15,"azt-create-avatar",20),i.Vb(16,"span",21),i.Rc(17),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Ub()),2&n){const n=e.$implicit,t=e.index,o=i.gc(4);i.Db(4),i.Sc(n.totalAccept),i.Db(1),i.nc("ngIf",0===t&&0!=n.totalAccept),i.Db(2),i.nc("innerHtml",n.content,i.Ec),i.Db(1),i.nc("ngIf",n.files),i.Db(1),i.nc("ngClass",i.sc(10,V,o.isBackend)),i.Db(1),i.nc("ngIf",!o.isBackend),i.Db(3),i.Tc(" \u0110\xe3 tr\u1ea3 l\u1eddi ",o.calculationTime(n.createdAt)," tr\u01b0\u1edbc "),i.Db(2),i.nc("nameCreateAvatar",n.creatorObj.fullName)("size",25),i.Db(2),i.Sc(n.creatorObj.fullName)}}function I(n,e){if(1&n&&(i.Tb(0),i.Pc(1,S,18,12,"div",30),i.Sb()),2&n){const n=i.gc(3);i.Db(1),i.nc("ngForOf",n.answerObjs)}}function j(n,e){1&n&&(i.Vb(0,"div",52),i.Vb(1,"button",53),i.Rc(2," Xem th\xeam "),i.Ub(),i.Ub())}function R(n,e){if(1&n&&(i.Tb(0),i.Vb(1,"div",9),i.Vb(2,"h3",10),i.Rc(3),i.Ub(),i.Vb(4,"div",11),i.Vb(5,"div",12),i.Rc(6," \u0110\u01b0\u1ee3c t\u1ea1o: "),i.Vb(7,"span"),i.Rc(8),i.Ub(),i.Ub(),i.Vb(9,"div",12),i.Rc(10," \u0110\xe3 xem: "),i.Vb(11,"span"),i.Rc(12),i.Ub(),i.Ub(),i.Pc(13,C,4,1,"div",13),i.Ub(),i.Pc(14,P,4,1,"div",14),i.Pc(15,O,2,1,"div",15),i.Qb(16,"div",16),i.Vb(17,"div",17),i.Vb(18,"div",18),i.Vb(19,"div",19),i.Qb(20,"azt-create-avatar",20),i.Vb(21,"span",21),i.Rc(22),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Vb(23,"div",22),i.Vb(24,"div",23),i.Vb(25,"div",24),i.Rc(26),i.Ub(),i.lc(27),i.Ub(),i.lc(28,1),i.Pc(29,I,2,1,"ng-container",3),i.Ub(),i.Pc(30,j,3,0,"div",25),i.Sb()),2&n){const n=i.gc(2);i.Db(3),i.Tc(" ",n.curQuestionObj.title," "),i.Db(5),i.Tc("",n.calculationTime(n.curQuestionObj.createdAt)," tr\u01b0\u1edbc"),i.Db(4),i.Tc("",n.assetGroupStatisticObj.totalView," l\u01b0\u1ee3t"),i.Db(1),i.nc("ngIf",n.assetObjectObj),i.Db(1),i.nc("ngIf",n.curQuestionObj.files),i.Db(1),i.nc("ngIf",n.curQuestionObj.datas),i.Db(1),i.nc("innerHtml",n.curQuestionObj.content,i.Ec),i.Db(4),i.nc("nameCreateAvatar",n.curQuestionObj.creatorObj.fullName)("size",25),i.Db(2),i.Sc(n.curQuestionObj.creatorObj.fullName),i.Db(4),i.Tc("",n.answerObjs.length," c\xe2u tr\u1ea3 l\u1eddi"),i.Db(3),i.nc("ngIf",n.answerObjs.length>0),i.Db(1),i.nc("ngIf",!n.isEndPage)}}function E(n,e){1&n&&(i.Vb(0,"div",54),i.Vb(1,"span",55),i.Rc(2,"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u"),i.Ub(),i.Ub())}function F(n,e){if(1&n&&(i.Vb(0,"div",5),i.Vb(1,"div",6),i.Vb(2,"div",7),i.Pc(3,R,31,13,"ng-container",0),i.Pc(4,E,3,0,"ng-template",null,8,i.Qc),i.Ub(),i.Ub(),i.Ub()),2&n){const n=i.zc(5),e=i.gc();i.Db(3),i.nc("ngIf",e.curQuestionObj)("ngIfElse",n)}}function z(n,e){if(1&n){const n=i.Wb();i.Vb(0,"div"),i.Vb(1,"azt-preview-media",56),i.cc("closePreview",function(){return i.Dc(n),i.gc().onFileClose()}),i.Ub(),i.Ub()}if(2&n){const n=i.gc();i.Db(1),i.nc("fileOption",n.previewFile)}}const B=[[["","buttonShowFormInput",""]],[["","answerInput",""]],[["","nextBack",""]]],A=["[buttonShowFormInput]","[answerInput]","[nextBack]"];let L=(()=>{class n{constructor(n,e,t,i,o,c){this.activeRoute=n,this.commonService=e,this.apiService=t,this.router=i,this.fb=o,this.cd=c,this.isBackend=!1,this.isLoading=!1,this.previewFile={},this.isShowPreviewFile=!1,this.isShowFormInputAnswer=!1}calculationTime(n,e){return this.commonService.calculationTime(n,e)}onFileClose(){this.isShowPreviewFile=!1,this.previewFile={}}onShowFile(n,e,t){this.isShowPreviewFile=!0,this.previewFile=Object.assign(Object.assign({},e),{index:t})}acceptAnswer(n){this.apiService.acceptAnswer(this.curQuestionObj.id,n.id).subscribe(e=>{e.success?(this.curQuestionObj.rightAnswerId=n.id,n.totalAccept++,this.commonService.snackSuccess("Ch\u1ea5p nh\u1eadn c\xe2u tr\u1ea3 l\u1eddi th\xe0nh c\xf4ng","")):this.commonService.snackError("Ch\u1ea5p nh\u1eadn c\xe2u tr\u1ea3 l\u1eddi kh\xf4ng th\xe0nh c\xf4ng","")})}removeAcceptAnswer(n){this.apiService.removeAcceptAnswer(this.curQuestionObj.id,n.id).subscribe(e=>{e.success?(this.curQuestionObj.rightAnswerId=null,n.totalAccept--,this.commonService.snackSuccess("B\u1ecf ch\u1ea5p nh\u1eadn c\xe2u tr\u1ea3 l\u1eddi th\xe0nh c\xf4ng","")):this.commonService.snackError("B\u1ecf ch\u1ea5p nh\u1eadn c\xe2u tr\u1ea3 l\u1eddi kh\xf4ng th\xe0nh c\xf4ng","")})}ngOnInit(){}ngOnChanges(){}}return n.\u0275fac=function(e){return new(e||n)(i.Pb(o.a),i.Pb(c.a),i.Pb(s.a),i.Pb(o.i),i.Pb(r.g),i.Pb(i.h))},n.\u0275cmp=i.Jb({type:n,selectors:[["azt-view-answer-question"]],inputs:{isBackend:"isBackend",isLoading:"isLoading",curQuestionObj:"curQuestionObj",assetGroupStatisticObj:"assetGroupStatisticObj",assetObjectObj:"assetObjectObj",answerObjs:"answerObjs",isEndPage:"isEndPage"},features:[i.Bb],ngContentSelectors:A,decls:7,vars:5,consts:[[4,"ngIf","ngIfElse"],["notBackEnd",""],["doneLoading",""],[4,"ngIf"],[3,"headerTitle","back_link"],[1,"app","py-4","maxW1200"],[1,"container"],[1,"block-list"],["emptyData",""],[1,"block-question"],[1,"question-title"],[1,"question-info"],[1,"question-text"],["class","question-text",4,"ngIf"],["class","question-block-img",4,"ngIf"],["class","homework-image",4,"ngIf"],[1,"question-content",3,"innerHtml"],[1,"d-flex","mt-2","justify-end"],[1,"answer-user"],[1,"user-info"],[2,"cursor","pointer","margin-right","5px",3,"nameCreateAvatar","size"],[1,"user-name"],[1,"block-list-answer"],["id","addAnswerBar",1,"mb-2"],[1,"answer-count"],["class","d-flex justify-content-center mt-1",4,"ngIf"],[1,"question-block-img"],[1,"question-image"],[3,"imgSrc"],[1,"homework-image"],["class","block-answer",4,"ngFor","ngForOf"],[1,"block-answer"],[1,"block-answer-left"],[1,"count-view"],["class","true-answer",4,"ngIf"],[1,"block-answer-right"],[1,"answer-content",3,"innerHtml"],["id","answer-attach",4,"ngIf"],[1,"block-answer-bottom",3,"ngClass"],["class","answer-confirm",4,"ngIf"],[1,"time-ago"],[1,"true-answer"],["id","answer-attach"],["class","file-item",4,"ngFor","ngForOf"],[1,"file-item"],["alt","",1,"img-preview",3,"src","click"],[1,"answer-confirm"],[1,"confirm"],["class","btn btn-primary",3,"click",4,"ngIf","ngIfElse"],["accepted",""],[1,"btn","btn-primary",3,"click"],[1,"btn-unconfirm",3,"click"],[1,"d-flex","justify-content-center","mt-1"],["mat-button","",1,"btn-all-add"],[1,"block-else"],[1,"text-else"],[3,"fileOption","closePreview"]],template:function(n,e){if(1&n&&(i.mc(B),i.Pc(0,v,2,2,"ng-container",0),i.Pc(1,w,1,2,"ng-template",null,1,i.Qc),i.Pc(3,_,1,0,"azt-loading-effect",0),i.Pc(4,F,6,2,"ng-template",null,2,i.Qc),i.Pc(6,z,2,1,"div",3)),2&n){const n=i.zc(2),t=i.zc(5);i.nc("ngIf",e.isBackend)("ngIfElse",n),i.Db(3),i.nc("ngIf",e.isLoading)("ngIfElse",t),i.Db(3),i.nc("ngIf",e.isShowPreviewFile)}},directives:[a.m,l.a,d.a,b.a,g.a,u.a,a.l,a.k,h.a,f.b,p.a],pipes:[m.n],styles:[".block-list[_ngcontent-%COMP%]{background:#ececec;padding:10px 30px 3px;border-radius:5px;box-shadow:0 0 5px rgba(0,0,0,.14)}.block-list-bottom[_ngcontent-%COMP%]{margin:10px 0}.block-list-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{border:none;display:flex;align-items:center;color:#707070;background:transparent}.block-list-bottom[_ngcontent-%COMP%]   .btn-add-text[_ngcontent-%COMP%]{text-transform:none;margin-left:2px}button[_ngcontent-%COMP%]{border:none;text-transform:none}.justify-end[_ngcontent-%COMP%]{justify-content:flex-end!important}.img-preview[_ngcontent-%COMP%]{cursor:pointer}.block-else[_ngcontent-%COMP%]{height:90px;display:flex;justify-content:center;align-items:center;border-radius:5px}.text-else[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.question-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:10px}.question-info[_ngcontent-%COMP%]{display:flex;align-items:center}.question-image[_ngcontent-%COMP%]{background-color:#fff;margin:20px auto 0}.question-block-img[_ngcontent-%COMP%]{position:relative}.question-text[_ngcontent-%COMP%]{font-size:13px;color:#9a9a9a;margin-right:10px}.question-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}.question-content[_ngcontent-%COMP%]{margin-top:10px}.block-list-answer[_ngcontent-%COMP%]{margin-top:15px}.answer-count[_ngcontent-%COMP%]{font-size:18px;color:#333}.block-answer[_ngcontent-%COMP%]{display:flex;margin-top:15px;padding-bottom:10px;border-bottom:1px solid #d0d0d0}.block-answer[_ngcontent-%COMP%]:last-child{border-bottom:none}.block-answer-left[_ngcontent-%COMP%]{margin-right:10px}.count-view[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;border-radius:5px;display:flex;justify-content:center;align-items:center;padding:6px;width:30px;height:30px}.count-view[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px}.true-answer[_ngcontent-%COMP%]{color:#0ca74a}.true-answer[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:5px}.block-answer-right[_ngcontent-%COMP%]{padding-right:15px;flex:auto}.confirm[_ngcontent-%COMP%]{padding:6px 7px;background:#e8e8e8;border-radius:5px;font-size:12px}.btn-unconfirm[_ngcontent-%COMP%]{color:#00a7d0;background:transparent;transition:all .5s}.btn-unconfirm[_ngcontent-%COMP%]:hover{color:#026680;font-weight:700}.btn-confirm[_ngcontent-%COMP%]{background:#169bd5;color:#fff;font-size:13px;transition:all .5s;border-radius:5px;padding:5px 7px 5px 20px}.btn-confirm[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;font-size:20px}.btn-confirm[_ngcontent-%COMP%]:hover{background:#0b6992}.block-answer-bottom[_ngcontent-%COMP%]{margin-top:15px;justify-content:space-between}.block-answer-bottom[_ngcontent-%COMP%], .user-info[_ngcontent-%COMP%]{display:flex;align-items:center}.time-ago[_ngcontent-%COMP%]{color:#868686;font-size:10px;margin-bottom:0}.btn-all-add[_ngcontent-%COMP%]{color:#00a7d0}#formInputAnswer[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;border:1px solid #dfdfdf;border-radius:3px;padding:5px}#addAnswerBar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}#answer-attach[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}#answer-attach[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]{width:100px;height:70px;overflow:hidden;margin-right:5px;border:1px solid #ddd}#answer-attach[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media screen and (max-width:500px){.block-answer-bottom[_ngcontent-%COMP%]{flex-direction:column-reverse;align-items:flex-start}.confirm[_ngcontent-%COMP%], .confirm-took[_ngcontent-%COMP%]{margin-top:10px}.question-info[_ngcontent-%COMP%]{flex-direction:column}.question-info[_ngcontent-%COMP%]   .question-text[_ngcontent-%COMP%]{margin-top:10px}}"]}),n})()},fB2i:function(n,e,t){"use strict";t.d(e,"a",function(){return C}),t.d(e,"b",function(){return P});var i=t("fXoL"),o=t("ofXK"),c=t("3Pt+");function s(n,e){}const r=()=>{const n="undefined"!=typeof window?window:void 0;return n&&n.tinymce?n.tinymce:null};let a=(()=>{class n{constructor(){this.onBeforePaste=new i.o,this.onBlur=new i.o,this.onClick=new i.o,this.onContextMenu=new i.o,this.onCopy=new i.o,this.onCut=new i.o,this.onDblclick=new i.o,this.onDrag=new i.o,this.onDragDrop=new i.o,this.onDragEnd=new i.o,this.onDragGesture=new i.o,this.onDragOver=new i.o,this.onDrop=new i.o,this.onFocus=new i.o,this.onFocusIn=new i.o,this.onFocusOut=new i.o,this.onKeyDown=new i.o,this.onKeyPress=new i.o,this.onKeyUp=new i.o,this.onMouseDown=new i.o,this.onMouseEnter=new i.o,this.onMouseLeave=new i.o,this.onMouseMove=new i.o,this.onMouseOut=new i.o,this.onMouseOver=new i.o,this.onMouseUp=new i.o,this.onPaste=new i.o,this.onSelectionChange=new i.o,this.onActivate=new i.o,this.onAddUndo=new i.o,this.onBeforeAddUndo=new i.o,this.onBeforeExecCommand=new i.o,this.onBeforeGetContent=new i.o,this.onBeforeRenderUI=new i.o,this.onBeforeSetContent=new i.o,this.onChange=new i.o,this.onClearUndos=new i.o,this.onDeactivate=new i.o,this.onDirty=new i.o,this.onExecCommand=new i.o,this.onGetContent=new i.o,this.onHide=new i.o,this.onInit=new i.o,this.onInitNgModel=new i.o,this.onLoadContent=new i.o,this.onNodeChange=new i.o,this.onPostProcess=new i.o,this.onPostRender=new i.o,this.onPreInit=new i.o,this.onPreProcess=new i.o,this.onProgressState=new i.o,this.onRedo=new i.o,this.onRemove=new i.o,this.onReset=new i.o,this.onSaveContent=new i.o,this.onSetAttrib=new i.o,this.onObjectResizeStart=new i.o,this.onObjectResized=new i.o,this.onObjectSelected=new i.o,this.onSetContent=new i.o,this.onShow=new i.o,this.onSubmit=new i.o,this.onUndo=new i.o,this.onVisualAid=new i.o}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=i.Kb({type:n,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),n})();const l=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],d=(n,e)=>"string"==typeof n?n.split(",").map(n=>n.trim()):Array.isArray(n)?n:e;let b=0;const g=n=>{const e=(new Date).getTime(),t=Math.floor(1e9*Math.random());return b++,n+"_"+t+b+String(e)},u=n=>void 0!==n&&"textarea"===n.tagName.toLowerCase(),h=n=>void 0===n||""===n?[]:Array.isArray(n)?n:n.split(" "),f=()=>{},p=n=>null==n,m=()=>({listeners:[],scriptId:g("tiny-script"),scriptLoaded:!1}),v=(()=>{let n=m();return{load:(e,t,i)=>{n.scriptLoaded?i():(n.listeners.push(i),e.getElementById(n.scriptId)||((e,t,i,o)=>{const c=t.createElement("script");c.referrerPolicy="origin",c.type="application/javascript",c.id=e,c.src=i;const s=()=>{c.removeEventListener("load",s),n.listeners.forEach(n=>n()),n.scriptLoaded=!0};c.addEventListener("load",s),t.head&&t.head.appendChild(c)})(n.scriptId,e,t))},reinitialize:()=>{n=m()}}})(),w=new i.s("TINYMCE_SCRIPT_SRC"),_={provide:c.p,useExisting:Object(i.X)(()=>C),multi:!0};let C=(()=>{class n extends a{constructor(n,e,t,i){super(),this.platformId=t,this.tinymceScriptSrc=i,this.cloudChannel="5",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=f,this.onChangeCallback=f,this._elementRef=n,this.ngZone=e,this.initialise=this.initialise.bind(this)}set disabled(n){this._disabled=n,this._editor&&this._editor.initialized&&this._editor.setMode(n?"readonly":"design")}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(n){this._editor&&this._editor.initialized?this._editor.setContent(p(n)?"":n):this.initialValue=null===n?void 0:n}registerOnChange(n){this.onChangeCallback=n}registerOnTouched(n){this.onTouchedCallback=n}setDisabledState(n){this._editor?this._editor.setMode(n?"readonly":"design"):n&&(this.init=Object.assign(Object.assign({},this.init),{readonly:!0}))}ngAfterViewInit(){Object(o.y)(this.platformId)&&(this.id=this.id||g("tiny-angular"),this.inline=void 0!==this.inline?"boolean"!=typeof this.inline||this.inline:this.init&&this.init.inline,this.createElement(),null!==r()?this.initialise():this._element&&this._element.ownerDocument&&v.load(this._element.ownerDocument,this.getScriptSrc(),this.initialise))}ngOnDestroy(){null!==r()&&r().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(this._element.id=this.id,u(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}initialise(){const n=Object.assign(Object.assign({},this.init),{target:this._element,inline:this.inline,readonly:this.disabled,plugins:(e=this.init&&this.init.plugins,t=this.plugins,h(e).concat(h(t))),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:n=>{this._editor=n,n.on("init",e=>{this.initEditor(n)}),((n,e)=>{(n=>{const e=d(n.ignoreEvents,[]);return d(n.allowedEvents,l).filter(n=>l.includes(n)&&!e.includes(n))})(n).forEach(t=>{const i=n[t];e.on(t.substring(2),t=>n.ngZone.run(()=>i.emit({event:t,editor:e})))})})(this,n),this.init&&"function"==typeof this.init.setup&&this.init.setup(n)}});var e,t;u(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{r().init(n)})}getScriptSrc(){return p(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(n){n.on("blur",()=>this.ngZone.run(()=>this.onTouchedCallback())),n.on(this.modelEvents,()=>{this.ngZone.run(()=>this.onChangeCallback(n.getContent({format:this.outputFormat})))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{n.setContent(this.initialValue),n.getContent()!==this.initialValue&&this.onChangeCallback(n.getContent({format:this.outputFormat})),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(n)})}}return n.\u0275fac=function(e){return new(e||n)(i.Pb(i.l),i.Pb(i.B),i.Pb(i.D),i.Pb(w,8))},n.\u0275cmp=i.Jb({type:n,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",id:"id",modelEvents:"modelEvents",disabled:"disabled",initialValue:"initialValue",init:"init",inline:"inline",outputFormat:"outputFormat",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents"},features:[i.Cb([_]),i.Ab],decls:1,vars:0,template:function(n,e){1&n&&i.Pc(0,s,0,0,"ng-template")},styles:["[_nghost-%COMP%] { display: block; }"]}),n})(),P=(()=>{class n{}return n.\u0275mod=i.Nb({type:n}),n.\u0275inj=i.Mb({factory:function(e){return new(e||n)},imports:[[o.c,c.m]]}),n})()},wAhq:function(n,e,t){"use strict";t.d(e,"a",function(){return M});var i=t("fXoL"),o=t("quSY"),c=t("BTbT"),s=t("gbi4"),r=t("jhN1"),a=t("ofXK"),l=t("NFeN"),d=t("IkSl"),b=t("Vwpm");function g(n,e){1&n&&(i.Vb(0,"div",2),i.Vb(1,"div",3),i.Vb(2,"span",4),i.Rc(3,"Loading..."),i.Ub(),i.Ub(),i.Ub())}function u(n,e){if(1&n&&(i.Vb(0,"div",20),i.Rc(1),i.Ub()),2&n){const n=i.gc(2);i.Db(1),i.Sc(n.fileOption.name)}}function h(n,e){1&n&&(i.Vb(0,"div",20),i.Rc(1,"D\u1eef li\u1ec7u \u1ea3nh c\u1eaft \u0111\u1ec1"),i.Ub())}function f(n,e){if(1&n&&(i.Vb(0,"div",21),i.Rc(1),i.Ub()),2&n){const n=i.gc(2);i.Db(1),i.Uc("Dung l\u01b0\u1ee3ng: ",n.file_mb," MB | Lo\u1ea1i : ",n.fileOption.mimes,"")}}function p(n,e){1&n&&(i.Vb(0,"div",21),i.Rc(1,"Dung l\u01b0\u1ee3ng: 0.3 MB | Lo\u1ea1i : Images"),i.Ub())}function m(n,e){if(1&n&&(i.Vb(0,"a",22),i.Vb(1,"mat-icon",16),i.Rc(2,"save_alt"),i.Ub(),i.Ub()),2&n){const n=i.gc(2);i.Eb("href",n.root_link,i.Hc)("download",n.fileOption.name)}}function v(n,e){if(1&n){const n=i.Wb();i.Vb(0,"div"),i.Vb(1,"div",28),i.Vb(2,"audio",29),i.Vb(3,"source",30),i.cc("load",function(){return i.Dc(n),i.gc(3).onLoad()}),i.Ub(),i.Rc(4," Your browser does not support the audio element. "),i.Ub(),i.Ub(),i.Ub()}if(2&n){const n=i.gc(3);i.Db(3),i.nc("src",n.cdn_link,i.Hc),i.Eb("type",n.fileOption.mimes)}}function w(n,e){if(1&n){const n=i.Wb();i.Vb(0,"div"),i.Vb(1,"div",31),i.Vb(2,"video",32),i.Vb(3,"source",30),i.cc("load",function(){return i.Dc(n),i.gc(3).onLoad()}),i.Ub(),i.Vb(4,"p",33),i.Rc(5," B\u1ea1n \u0111ang s\u1eed d\u1ee5ng tr\xecnh duy\u1ec7t kh\xf4ng h\u1ed7 tr\u1ee3 xem video tr\u1ef1c tuy\u1ebfn. "),i.Ub(),i.Ub(),i.Ub(),i.Ub()}if(2&n){const n=i.gc(3);i.Db(2),i.oc("poster",n.video_thumb_url,i.Hc),i.Db(1),i.nc("src",n.cdn_link,i.Hc),i.Eb("type",n.fileOption.mimes)}}function _(n,e){if(1&n){const n=i.Wb();i.Vb(0,"div"),i.Vb(1,"iframe",34),i.cc("load",function(){return i.Dc(n),i.gc(3).onLoad()}),i.Ub(),i.Ub()}if(2&n){const n=i.gc(3);i.Db(1),i.nc("src",n.cdn_link,i.Fc)}}function C(n,e){if(1&n){const n=i.Wb();i.Vb(0,"div"),i.Vb(1,"div",31),i.Vb(2,"img",35),i.cc("load",function(){return i.Dc(n),i.gc(3).onLoad()}),i.Ub(),i.Ub(),i.Ub()}if(2&n){const n=i.gc(3);i.Db(2),i.Eb("src",n.cdn_link,i.Hc)}}function P(n,e){if(1&n){const n=i.Wb();i.Vb(0,"div"),i.Vb(1,"div",36),i.Vb(2,"iframe",37),i.cc("load",function(){return i.Dc(n),i.gc(3).onLoad()}),i.Ub(),i.Ub(),i.Ub()}if(2&n){const n=i.gc(3);i.Db(2),i.nc("src",n.cdn_link,i.Fc)}}function O(n,e){if(1&n){const n=i.Wb();i.Vb(0,"div"),i.Vb(1,"div",38),i.Vb(2,"pdf-viewer",39),i.cc("load",function(){return i.Dc(n),i.gc(3).onLoad()}),i.Ub(),i.Ub(),i.Ub()}if(2&n){const n=i.gc(3);i.Db(2),i.nc("src",n.cdn_link)("show-all",!0)}}function x(n,e){if(1&n&&(i.Tb(0),i.Vb(1,"div",23),i.Vb(2,"div",24),i.Pc(3,v,5,2,"div",25),i.Pc(4,w,6,3,"div",25),i.Pc(5,_,2,1,"div",25),i.Pc(6,C,3,1,"div",25),i.Pc(7,P,3,1,"div",25),i.Pc(8,O,3,2,"div",25),i.Qb(9,"div",26),i.Ub(),i.Qb(10,"div",27),i.Ub(),i.Sb()),2&n){const n=i.gc(2);i.Db(3),i.nc("ngIf","audio"===n.typeFile),i.Db(1),i.nc("ngIf","video"===n.typeFile),i.Db(1),i.nc("ngIf","vimeo"===n.typeFile),i.Db(1),i.nc("ngIf","image"===n.typeFile),i.Db(1),i.nc("ngIf","officeapps"===n.typeFile),i.Db(1),i.nc("ngIf","pdf"===n.typeFile)}}function k(n,e){if(1&n&&(i.Vb(0,"div",23),i.Vb(1,"div",24),i.Vb(2,"div",40),i.Qb(3,"azt-loaded-img",41),i.Ub(),i.Ub(),i.Ub()),2&n){const n=i.gc(2);i.Db(3),i.nc("imgSrc",n.linkUrl)}}function y(n,e){if(1&n){const n=i.Wb();i.Vb(0,"div",5),i.Vb(1,"div",6),i.Vb(2,"div",7),i.Vb(3,"div",8),i.Qb(4,"div",9),i.Ub(),i.Pc(5,u,2,1,"div",10),i.Pc(6,h,2,0,"div",10),i.Pc(7,f,2,2,"div",11),i.Pc(8,p,2,0,"div",11),i.Ub(),i.Vb(9,"div",12),i.Vb(10,"span",13),i.Pc(11,m,3,2,"a",14),i.Ub(),i.Vb(12,"span",15),i.cc("click",function(){return i.Dc(n),i.gc().btnClosePreview()}),i.Vb(13,"mat-icon",16),i.Rc(14,"close"),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Vb(15,"div",17),i.Pc(16,x,11,6,"ng-container",18),i.Pc(17,k,4,1,"ng-template",null,19,i.Qc),i.Ub(),i.Ub()}if(2&n){const n=i.zc(18),e=i.gc();i.Db(5),i.nc("ngIf",null!=e.fileOption),i.Db(1),i.nc("ngIf",null==e.fileOption),i.Db(1),i.nc("ngIf",null!=e.fileOption),i.Db(1),i.nc("ngIf",null==e.fileOption),i.Db(3),i.nc("ngIf",null!=e.fileOption),i.Db(5),i.nc("ngIf",0==e.typePreview)("ngIfElse",n)}}let M=(()=>{class n{constructor(n,e,t){this.commonService=n,this.dom=e,this.sanitizer=t,this.typePreview=0,this.linkUrl="",this.closePreview=new i.o,this.subscriptions=new o.a,this.typeFile="",this.cdn_link="",this.root_link="",this.file_mb=0,this.video_thumb_url="",this.isVimeoLink=!1,this.isLoading=!0}ngOnInit(){document.body.classList.add("overflow-hidden"),setTimeout(()=>{this.initData()},0),this.video_thumb_url="https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/video-thumb.png"}onLoad(){this.isLoading=!1}initData(){if(0==this.typePreview){if(this.cdn_link=this.commonService.getMyCdn(this.fileOption.url),this.root_link=this.cdn_link,this.file_mb=this.getFileMB(this.fileOption.size),this.typeFile=Object(c.c)(this.fileOption.mimes),this.isVimeoLink=this.cdn_link.includes("https://player.vimeo.com/")||this.cdn_link.includes("https://mega.nz"),this.isVimeoLink&&(this.typeFile="vimeo"),""!=this.cdn_link)switch(this.typeFile){case"pdf":this.cdn_link=this.cdn_link;break;case"officeapps":this.cdn_link=this.dom.bypassSecurityTrustResourceUrl(this.commonService.getLinkEmbedDocument(this.cdn_link));break;case"video":default:this.cdn_link=this.dom.bypassSecurityTrustResourceUrl(this.cdn_link)}}else this.linkUrl=this.commonService.getMyCdn(this.linkUrl);setTimeout(()=>{this.isLoading=!1},200)}removeClassCss(){document.body.classList.remove("overflow-hidden")}objToString(n){let e="";for(const[t,i]of Object.entries(n))e+=`${t}::${i}\n`;return e}btnClosePreview(){this.removeClassCss(),this.closePreview.emit()}getFileMB(n){return n>0?(n/=1048576).toFixed(2):0}reloadFrame(n){let e=document.getElementById(n);e&&e.parentNode.replaceChild(e.cloneNode(),e)}ngOnDestroy(){this.subscriptions.unsubscribe(),this.removeClassCss()}}return n.\u0275fac=function(e){return new(e||n)(i.Pb(s.a),i.Pb(r.b),i.Pb(r.b))},n.\u0275cmp=i.Jb({type:n,selectors:[["azt-preview-media"]],inputs:{fileOption:"fileOption",typePreview:"typePreview",linkUrl:"linkUrl"},outputs:{closePreview:"closePreview"},decls:2,vars:2,consts:[["class","loading-block",4,"ngIf"],["class","file-preview",4,"ngIf"],[1,"loading-block"],["role","status",1,"spinner-border","text-secondary",2,"width","5rem","height","5rem"],[1,"sr-only"],[1,"file-preview"],[1,"file-preview__header","flx","flx-sp-btw"],[1,"file-preview__header-left"],["title","",1,"avatar","avatar--xs"],[1,"avatar-img",2,"background-image",'url("https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/documents.png")',"background-size","cover"],["class","file-preview__header__title",4,"ngIf"],["class","file-preview__header__send-time",4,"ngIf"],[1,"file-preview__header-right"],[1,"file-preview__controls-container"],["class","clickable download","target","_blank",4,"ngIf"],[1,"file-preview__buttons-container",3,"click"],[2,"color","rgb(53, 53, 53)","cursor","pointer"],[1,"file-preview__main","flx",2,"overflow-x","auto","flex","1 1 auto"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"file-preview__header__title"],[1,"file-preview__header__send-time"],["target","_blank",1,"clickable","download"],[1,"file-preview__main-iframe","mx-auto"],[1,"file-preview__notify"],[4,"ngIf"],[1,"tool-hide"],[1,"file-preview__main-comments"],[1,"container-fluid","mt-3"],["controls",""],[3,"src","load"],[1,"pl-2","pr-2","mt-3"],["id","my-video","playsinline","playsinline","controls","","preload","auto","data-setup","{}",1,"video-js",2,"max-height","calc(100vh - 80px)","width","100%","padding-bottom","1rem",3,"poster"],[1,"vjs-no-js"],["frameborder","0","allowfullscreen","",2,"width","100vw","height","95vh","max-height","calc(100vh - 60px)","padding-bottom","1rem",3,"src","load"],["alt","Responsive image",1,"img-fluid","image-preview",2,"max-height","calc(100vh - 80px)","padding-bottom","1rem",3,"load"],[1,"pl-2","pr-2","mp-0"],["frameborder","0",2,"width","100vw","height","95vh","max-height","calc(100vh - 60px)","padding-bottom","1rem",3,"src","load"],[1,"container-fluid","mp-0"],[2,"width","100vw","height","95vh","max-height","calc(100vh - 60px)","padding-bottom","1rem","display","block",3,"src","show-all","load"],[1,"pl-2","pr-2","mt-3","block-img"],[3,"imgSrc"]],template:function(n,e){1&n&&(i.Pc(0,g,4,0,"div",0),i.Pc(1,y,19,7,"div",1)),2&n&&(i.nc("ngIf",e.isLoading),i.Db(1),i.nc("ngIf",(null!=e.fileOption||""!=e.linkUrl)&&!e.isLoading))},directives:[a.m,l.a,d.a,b.a],styles:[".file-preview[_ngcontent-%COMP%]{background:#ecf0f5;position:absolute;width:100%;height:100vh;z-index:9999;display:flex;flex-direction:column;left:0;top:0}.block-img[_ngcontent-%COMP%]{background:#a3a3a3;width:100vw;height:90vh;overflow-y:auto}.loading-block[_ngcontent-%COMP%]{z-index:1000;justify-content:center;align-items:center;left:0;top:0;height:100%;min-height:100vh;background-color:#ecf0f5}.file-preview__main[_ngcontent-%COMP%], .loading-block[_ngcontent-%COMP%]{width:100%;display:flex;position:fixed}.file-preview__main[_ngcontent-%COMP%]{margin-top:65px;min-height:100%;min-width:277px;background:#ecf0f5}.file-preview__header[_ngcontent-%COMP%]{padding-top:10px;height:65px;background:#fff;box-shadow:0 2px 4px 0 rgba(0,0,0,.2);position:fixed;align-items:center;z-index:1;top:0;width:100%}.flx-sp-btw[_ngcontent-%COMP%]{justify-content:space-between}.flx[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap}.file-preview__header-left[_ngcontent-%COMP%]{margin-left:20px;margin-right:10px;margin-bottom:12px;flex:1 1 50px;min-width:0}.file-preview__header-left[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{float:left;margin-right:10px}.avatar--xs[_ngcontent-%COMP%]{width:40px;height:40px;font-size:17px}.avatar[_ngcontent-%COMP%]{position:relative;color:#fff;contain:layout size style}.avatar--xs[_ngcontent-%COMP%] > .avatar-img[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#e5efff}.avatar-img[_ngcontent-%COMP%]{border-radius:100%}.file-preview__header__title[_ngcontent-%COMP%]{font-size:15px;color:#222;font-weight:500}.file-preview__header__send-time[_ngcontent-%COMP%], .file-preview__header__title[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.file-preview__header__send-time[_ngcontent-%COMP%]{padding-top:2px;font-size:13px;color:#a0a0a0}.file-preview__header-right[_ngcontent-%COMP%]{color:#fff;margin-right:15px;white-space:nowrap;display:flex}.file-preview__controls-container[_ngcontent-%COMP%]{margin-right:40px}.file-preview__buttons-container[_ngcontent-%COMP%]{display:inline-flex;align-items:center;position:relative}.mp-0[_ngcontent-%COMP%]{margin:0!important;padding:0!important}"]}),n})()}}]);