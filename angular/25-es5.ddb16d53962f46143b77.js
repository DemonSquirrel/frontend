!function(){function e(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,r=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw r}}}}function t(e){return function(e){if(Array.isArray(e))return s(e)}(e)||l(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){return d(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],o=!0,i=!1,r=void 0;try{for(var c,a=e[Symbol.iterator]();!(o=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);o=!0);}catch(s){i=!0,r=s}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return n}(e,t)||a(e,t)||c()}function o(e,t,n,o,i,r,c){try{var a=e[r](c),s=a.value}catch(l){return void n(l)}a.done?t(s):Promise.resolve(s).then(o,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var c=e.apply(t,n);function a(e){o(c,i,r,a,s,"next",e)}function s(e){o(c,i,r,a,s,"throw",e)}a(void 0)})}}function r(e){return d(e)||l(e)||a(e)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function l(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function d(e){if(Array.isArray(e))return e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function g(e,t,n){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"3eqI":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return l});var o=n("n1FK"),i=n("fXoL"),r=n("wd/R"),c=n.n(r).a||r,a=new i.s("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function(){return{useUtc:!1}}});function s(e,t){for(var n=Array(e),o=0;o<e;o++)n[o]=t(o);return n}var l=function(){var e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(n,e);var t=p(n);function n(e){var o;b(this,n),(o=t.call(this))._options=e,o._localeData={firstDayOfWeek:0,longMonths:"",shortMonths:"",dates:"",longDaysOfWeek:"",shortDaysOfWeek:"",narrowDaysOfWeek:""};var i="vi";return-1===window.location.href.indexOf("en")&&(i="vi"),c.locale(),o.setLocale(i||c.locale()),o}return h(n,[{key:"setLocale",value:function(e){var t=this;g(v(n.prototype),"setLocale",this).call(this,e);var o=c.localeData(e);this._localeData={firstDayOfWeek:o.firstDayOfWeek(),longMonths:o.months(),shortMonths:o.monthsShort(),dates:s(31,function(e){return t.createDate(2017,0,e+1).format("D")}),longDaysOfWeek:o.weekdays(),shortDaysOfWeek:o.weekdaysShort(),narrowDaysOfWeek:o.weekdaysMin()}}},{key:"getYear",value:function(e){return this.clone(e).year()}},{key:"getMonth",value:function(e){return this.clone(e).month()}},{key:"getDate",value:function(e){return this.clone(e).date()}},{key:"getDayOfWeek",value:function(e){return this.clone(e).day()}},{key:"getMonthNames",value:function(e){return"long"===e?this._localeData.longMonths:this._localeData.shortMonths}},{key:"getDateNames",value:function(){return this._localeData.dates}},{key:"getDayOfWeekNames",value:function(e){return"long"===e?this._localeData.longDaysOfWeek:"short"===e?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}},{key:"getYearName",value:function(e){return this.clone(e).format("YYYY")}},{key:"getFirstDayOfWeek",value:function(){return this._localeData.firstDayOfWeek}},{key:"getNumDaysInMonth",value:function(e){return this.clone(e).daysInMonth()}},{key:"clone",value:function(e){return e.clone().locale(this.locale)}},{key:"createDate",value:function(e,t,n){if(t<0||t>11)throw Error('Invalid month index "'.concat(t,'". Month index has to be between 0 and 11.'));if(n<1)throw Error('Invalid date "'.concat(n,'". Date has to be greater than 0.'));var o=this._createMoment({year:e,month:t,date:n}).locale(this.locale);if(!o.isValid())throw Error('Invalid date "'.concat(n,'" for month with index "').concat(t,'".'));return o}},{key:"today",value:function(){return this._createMoment().locale(this.locale)}},{key:"parse",value:function(e,t){return e&&"string"==typeof e?this._createMoment(e,t,this.locale):e?this._createMoment(e).locale(this.locale):null}},{key:"format",value:function(e,t){if(e=this.clone(e),!this.isValid(e))throw Error("MomentDateAdapter: Cannot format invalid date.");return e.format(t)}},{key:"addCalendarYears",value:function(e,t){return this.clone(e).add({years:t})}},{key:"addCalendarMonths",value:function(e,t){return this.clone(e).add({months:t})}},{key:"addCalendarDays",value:function(e,t){return this.clone(e).add({days:t})}},{key:"toIso8601",value:function(e){return this.clone(e).format()}},{key:"deserialize",value:function(e){var t;if(e instanceof Date)t=this._createMoment(e).locale(this.locale);else if(this.isDateInstance(e))return this.clone(e);if("string"==typeof e){if(!e)return null;t=this._createMoment(e,c.ISO_8601).locale(this.locale)}return t&&this.isValid(t)?this._createMoment(t).locale(this.locale):g(v(n.prototype),"deserialize",this).call(this,e)}},{key:"isDateInstance",value:function(e){return c.isMoment(e)}},{key:"isValid",value:function(e){return this.clone(e).isValid()}},{key:"invalid",value:function(){return c.invalid()}},{key:"getHour",value:function(e){return e.hours()}},{key:"getMinute",value:function(e){return e.minutes()}},{key:"getSecond",value:function(e){return e.seconds()}},{key:"setHour",value:function(e,t){e.hours(t)}},{key:"setMinute",value:function(e,t){e.minutes(t)}},{key:"setSecond",value:function(e,t){e.seconds(t)}},{key:"_createMoment",value:function(e,t,n){var o=this._options||{},i=o.strict;return o.useUtc?c.utc(e,t,n,i):c(e,t,n,i)}}]),n}(o.b);return e.\u0275fac=function(t){return new(t||e)(i.Zb(a,8))},e.\u0275prov=i.Lb({token:e,factory:e.\u0275fac}),e}()},JZA2:function(o,c,a){"use strict";a.r(c),a.d(c,"AuthModule",function(){return ac});var s=a("ofXK"),l=a("3Pt+"),d=a("tyNb"),u=a("fB2i"),g=a("Zhhu"),m=a("vvyD"),p=a("mYPf"),f=a("Avyq"),v=a("quSY"),_=a("itXk"),y=a("BTbT"),k=a("fXoL"),U=a("gbi4"),V=a("pMRa"),x=a("nzN9"),w=a("hZBc");function C(e,t){1&e&&k.Qb(0,"azt-loading-effect")}function P(e,t){if(1&e&&(k.Vb(0,"option",20),k.Rc(1),k.Ub()),2&e){var n=t.$implicit;k.nc("value",n.id),k.Db(1),k.Sc(n.name)}}function S(e,t){1&e&&(k.Vb(0,"div",21),k.Vb(1,"div",22),k.Vb(2,"span",23),k.Rc(3,"Loading..."),k.Ub(),k.Ub(),k.Ub())}function O(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div"),k.Vb(1,"button",24),k.cc("click",function(){return k.Dc(n),k.gc(2).saveFaq()}),k.Rc(2,"L\u01b0u"),k.Ub(),k.Vb(3,"a",25),k.cc("click",function(){return k.Dc(n),k.gc(2).redirectToListFaq()}),k.Rc(4,"H\u1ee7y"),k.Ub(),k.Ub()}}function D(e,t){if(1&e){var n=k.Wb();k.Vb(0,"button",24),k.cc("click",function(){return k.Dc(n),k.gc(2).updateFaq()}),k.Rc(1,"C\u1eadp nh\u1eadt"),k.Ub(),k.Vb(2,"a",25),k.cc("click",function(){return k.Dc(n),k.gc(2).redirectToListFaq()}),k.Rc(3,"H\u1ee7y"),k.Ub()}}var M=function(){return{standalone:!0}};function R(e,t){if(1&e){var n=k.Wb();k.Qb(0,"header-backend",2),k.Vb(1,"div",3),k.Vb(2,"form",4),k.Vb(3,"div",5),k.Vb(4,"div",6),k.Vb(5,"h3",7),k.Rc(6,"Danh m\u1ee5c"),k.Ub(),k.Ub(),k.Vb(7,"div",6),k.Vb(8,"select",8),k.Pc(9,P,2,2,"option",9),k.Ub(),k.Ub(),k.Ub(),k.Vb(10,"div",5),k.Vb(11,"div",6),k.Vb(12,"h3",7),k.Rc(13,"T\xean c\xe2u h\u1ecfi"),k.Ub(),k.Ub(),k.Vb(14,"div",6),k.Qb(15,"input",10),k.Ub(),k.Ub(),k.Vb(16,"div",5),k.Vb(17,"div",6),k.Vb(18,"h3",7),k.Rc(19,"C\xe2u tr\u1ea3 l\u1eddi"),k.Ub(),k.Ub(),k.Vb(20,"div",6),k.Vb(21,"input",11,12),k.cc("change",function(e){return k.Dc(n),k.gc().onFileSelected(e)}),k.Ub(),k.Vb(23,"a",13),k.cc("click",function(){return k.Dc(n),k.zc(22).click()}),k.Vb(24,"span"),k.Rc(25,"+ Th\xeam \u1ea3nh"),k.Ub(),k.Ub(),k.Pc(26,S,4,0,"div",14),k.Ub(),k.Vb(27,"div",6),k.Vb(28,"editor",15),k.cc("ngModelChange",function(e){return k.Dc(n),k.gc().formFaq.content=e}),k.Ub(),k.Ub(),k.Ub(),k.Vb(29,"div",5),k.Vb(30,"div",6),k.Vb(31,"h3",7),k.Rc(32,"V\u1ecb tr\xed"),k.Ub(),k.Ub(),k.Vb(33,"div",6),k.Qb(34,"input",16),k.Ub(),k.Ub(),k.Vb(35,"div",5),k.Vb(36,"div",6),k.Vb(37,"h3",7),k.Rc(38,"Nh\xfang link video"),k.Ub(),k.Ub(),k.Vb(39,"div",6),k.Qb(40,"input",17),k.Ub(),k.Ub(),k.Vb(41,"div",5),k.Vb(42,"div",18),k.Pc(43,O,5,0,"div",0),k.Pc(44,D,4,0,"ng-template",null,19,k.Qc),k.Ub(),k.Ub(),k.Ub(),k.Ub()}if(2&e){var o=k.zc(45),i=k.gc();k.nc("headerTitle","Th\xeam Faq")("back_link","/auth/list-faq"),k.Db(2),k.nc("formGroup",i.form),k.Db(7),k.nc("ngForOf",i.categoryObjs),k.Db(12),k.nc("ngModelOptions",k.rc(11,M)),k.Db(5),k.nc("ngIf",i.loadingUpload),k.Db(2),k.nc("ngModel",i.formFaq.content)("ngModelOptions",k.rc(12,M))("init",i.tinymceInit),k.Db(15),k.nc("ngIf",0==i.checkUpdate)("ngIfElse",o)}}var I,A=((I=function(){function e(t,n,o,i,r){b(this,e),this.activeRoute=t,this.commonService=n,this.apiConmonService=o,this.router=i,this.fb=r,this.form=new l.k({}),this.formFaq={},this.isLoading=!1,this.subscriptions=new v.a,this.tinymceInit={},this.categoryObjs=[],this.faqId=0,this.checkUpdate=!1,this.loadingUpload=!1,this.LogErrorsRequest=!1,this.contentEditor=""}return h(e,[{key:"getCategoryFaq",value:function(){var e=this;this.isLoading=!0,this.apiConmonService.getCategoryFaqObjs().subscribe(function(t){1==t.success?e.categoryObjs=t.data.objs:e.commonService.snackError("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng",""),e.isLoading=!1})}},{key:"saveFaq",value:function(){var e=this;this.isLoading=!0;var t=this.commonService.getFormObj(this.form);null!=JSON.stringify(this.formFaq.content)&&null!=JSON.stringify(this.formFaq.content)||(this.formFaq.content=""),this.apiConmonService.saveFaqObj({supporttype:t.categoryFaq,title:t.questionFaq,content:this.formFaq.content,videoUrl:t.videoUrl,position:t.positionFaq}).subscribe(function(t){1==t.success?e.commonService.snackSuccess("T\u1ea1o faq th\xe0nh c\xf4ng.",""):e.commonService.snackError("T\u1ea1o faq kh\xf4ng th\xe0nh c\xf4ng",""),e.isLoading=!1})}},{key:"getDetailFaq",value:function(e){var t=this;this.checkUpdate=null!=e&&0!=e&&null!=e,this.checkUpdate&&(this.isLoading=!0,this.apiConmonService.getDetailFaqObj(e).subscribe(function(e){if(1==e.success){var n=e.data.obj;t.formFaq.content=e.data.obj.content,t.form.patchValue({categoryFaq:n.supportType,questionFaq:n.title,videoUrl:n.videoUrl,positionFaq:n.position})}else t.commonService.snackError("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng","")}))}},{key:"onFileSelected",value:function(e){var t=this,n=e.target.files,o=!!n&&n[0];0!=o&&(this.loadingUpload=!0,Object(y.a)(o).then(function(e){t.apiConmonService.uploadAssetsToCdnProgress("Images/support",e).subscribe(function(e){0==e.successUpload?(t.loadingUpload=!1,t.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau! L\u1ed7i: "+e.message,"")):1==e.successUpload&&e.successUpload&&1==e.successUpload&&(t.contentEditor.insertContent('<img width="50%" class="card-img-bottom img-custom my-3" src="'.concat(e.url,'" alt="">')),t.loadingUpload=!1)},function(e){t.LogErrorsRequest=JSON.stringify(e),t.commonService.snackWarning("L\u1ed7i: "+e.subString(0,50),"")})}))}},{key:"updateFaq",value:function(){var e=this;this.isLoading=!0;var t=this.commonService.getFormObj(this.form);null!=JSON.stringify(this.formFaq.content)&&null!=JSON.stringify(this.formFaq.content)||(this.formFaq.content=""),this.apiConmonService.updateFaqObj({id:this.faqId,supporttype:t.categoryFaq,title:t.questionFaq,content:this.formFaq.content,videoUrl:t.videoUrl,position:t.positionFaq}).subscribe(function(t){1==t.success?e.commonService.snackSuccess("C\u1eadp nh\u1eadt faq th\xe0nh c\xf4ng.",""):e.commonService.snackError("C\u1eadp nh\u1eadt faq kh\xf4ng th\xe0nh c\xf4ng",""),e.isLoading=!1})}},{key:"redirectToListFaq",value:function(){this.commonService.myNavigation("/auth/list-faq")}},{key:"ngOnInit",value:function(){var e=this;this.formFaq.content="",this.form=this.fb.group({categoryFaq:new l.h(1,l.z.required),questionFaq:new l.h("",l.z.required),positionFaq:new l.h(0),videoUrl:new l.h("")}),Object(_.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(function(t){r(t),e.faqId=e.commonService.getMyParam(e.activeRoute,"id"),e.getDetailFaq(e.faqId),e.getCategoryFaq()}),this.tinymceInit={branding:!1,height:400,image_advtab:!0,imagetools_toolbar:"\n                rotateleft rotateright |\n                flipv fliph | \n                editimage imageoptions",importcss_append:!0,inline:!1,menubar:!0,paste_data_images:!0,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"\n                undo redo | formatselect | bold italic backcolor |                 alignleft aligncenter alignright alignjustify |                 bullist numlist outdent indent | removeformat | help",setup:function(t){e.contentEditor=t,t.ui.registry.addButton("insertText",{text:"Press Me To Insert Text!",onAction:function(){t.insertContent("<strong>Hello World!</strong>")}})}}}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||I)(k.Pb(d.a),k.Pb(U.a),k.Pb(V.a),k.Pb(d.i),k.Pb(l.g))},I.\u0275cmp=k.Jb({type:I,selectors:[["app-add-faq"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"headerTitle","back_link"],[1,"container-fluid","my-3","pb-80"],[1,"px-3",3,"formGroup"],[1,"row","py-3"],[1,"col-md-12"],[1,"text-feild"],["formControlName","categoryFaq","id","exampleFormControlSelect1",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","questionFaq","placeholder","",1,"form-control","questionFaq"],["type","file","name","fileHomework",2,"display","none",3,"ngModelOptions","change"],["formChoseFile",""],[1,"d-flex","align-items-center",2,"color","#3C8DBC",3,"click"],["class","d-flex justify-content-center my-2",4,"ngIf"],["apiKey","ldij13v1886vlrnk42g9bvngyqdc6gxpe8l0n9mo8gdjpg9d",3,"ngModel","ngModelOptions","init","ngModelChange"],["type","number","formControlName","positionFaq","placeholder","",1,"form-control","questionFaq"],["type","text","formControlName","videoUrl","placeholder","",1,"form-control","questionFaq"],[1,"col-md-12","text-right"],["button",""],[3,"value"],[1,"d-flex","justify-content-center","my-2"],["role","status",1,"spinner-border","text-secondary"],[1,"sr-only"],[1,"button-save",3,"click"],[1,"button-cancel",3,"click"]],template:function(e,t){if(1&e&&(k.Pc(0,C,1,0,"azt-loading-effect",0),k.Pc(1,R,46,13,"ng-template",null,1,k.Qc)),2&e){var n=k.zc(2);k.nc("ngIf",t.isLoading)("ngIfElse",n)}},directives:[s.m,x.a,w.a,l.B,l.s,l.l,l.y,l.r,l.j,s.l,l.d,u.a,l.u,l.w,l.v,l.A],styles:[".text-feild[_ngcontent-%COMP%]{margin-bottom:5px}.button-save[_ngcontent-%COMP%]{background-color:#169bd5;color:#fff;padding:8px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:14px;margin-right:16px;cursor:pointer;border-radius:5px;border:1px solid #169bd5;text-transform:uppercase}.button-save[_ngcontent-%COMP%]:hover{background-color:#0069d9;border-color:#0069d9}.pb-80[_ngcontent-%COMP%]{padding-bottom:80px}.button-cancel[_ngcontent-%COMP%]{background-color:#fff!important;color:#333;padding:8px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:14px;cursor:pointer;border:1px solid #797979;border-radius:5px;text-transform:uppercase}.button-cancel[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.02)!important}"]}),I),j=a("jhN1"),L=a("wZkO"),Q=a("kmnG"),T=a("d3UM"),E=a("FKr1");function F(e,t){1&e&&k.Qb(0,"azt-loading-effect")}function z(e,t){if(1&e&&(k.Vb(0,"mat-option",31),k.Rc(1),k.Ub()),2&e){var n=t.$implicit;k.nc("value",n.id),k.Db(1),k.Tc(" ",n.name," ")}}function q(e,t){1&e&&(k.Vb(0,"div",32),k.Rc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn t\u1ec9nh th\xe0nh. "),k.Ub())}function B(e,t){1&e&&(k.Vb(0,"div",32),k.Rc(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng t\xean huy\u1ec7n. "),k.Ub())}function N(e,t){if(1&e&&(k.Vb(0,"mat-option",31),k.Rc(1),k.Ub()),2&e){var n=t.$implicit;k.nc("value",n.id),k.Db(1),k.Tc(" ",n.name," ")}}function W(e,t){1&e&&(k.Vb(0,"div",32),k.Rc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn t\u1ec9nh th\xe0nh. "),k.Ub())}function H(e,t){if(1&e&&(k.Vb(0,"mat-option",31),k.Rc(1),k.Ub()),2&e){var n=t.$implicit;k.nc("value",n.id),k.Db(1),k.Tc(" ",n.name," ")}}function G(e,t){1&e&&(k.Vb(0,"div",32),k.Rc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn huy\u1ec7n. "),k.Ub())}function Y(e,t){if(1&e&&(k.Vb(0,"mat-option",31),k.Rc(1),k.Ub()),2&e){var n=t.$implicit;k.nc("value",n.id),k.Db(1),k.Tc(" ",n.name," ")}}function $(e,t){1&e&&(k.Vb(0,"div",32),k.Rc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn c\u1ea5p h\u1ecdc. "),k.Ub())}function K(e,t){1&e&&(k.Vb(0,"div",32),k.Rc(1," B\u1ea1n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng t\xean tr\u01b0\u1eddng. "),k.Ub())}function J(e,t){if(1&e&&(k.Vb(0,"mat-option",31),k.Rc(1),k.Ub()),2&e){var n=t.$implicit;k.nc("value",n.id),k.Db(1),k.Tc(" ",n.name," ")}}function Z(e,t){1&e&&(k.Vb(0,"div",32),k.Rc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn t\u1ec9nh th\xe0nh. "),k.Ub())}function X(e,t){if(1&e&&(k.Vb(0,"mat-option",31),k.Rc(1),k.Ub()),2&e){var n=t.$implicit;k.nc("value",n.id),k.Db(1),k.Tc(" ",n.name," ")}}function ee(e,t){1&e&&(k.Vb(0,"div",32),k.Rc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn huy\u1ec7n. "),k.Ub())}function te(e,t){1&e&&(k.Vb(0,"div",32),k.Rc(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng t\xean huy\u1ec7n. "),k.Ub())}function ne(e,t){if(1&e&&(k.Vb(0,"mat-option",31),k.Rc(1),k.Ub()),2&e){var n=t.$implicit;k.nc("value",n.id),k.Db(1),k.Tc(" ",n.name," ")}}function oe(e,t){1&e&&(k.Vb(0,"div",32),k.Rc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn t\u1ec9nh th\xe0nh. "),k.Ub())}function ie(e,t){if(1&e&&(k.Vb(0,"mat-option",31),k.Rc(1),k.Ub()),2&e){var n=t.$implicit;k.nc("value",n.id),k.Db(1),k.Tc(" ",n.name," ")}}function re(e,t){1&e&&(k.Vb(0,"div",32),k.Rc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn huy\u1ec7n. "),k.Ub())}function ce(e,t){if(1&e&&(k.Vb(0,"mat-option",31),k.Rc(1),k.Ub()),2&e){var n=t.$implicit;k.nc("value",n.id),k.Db(1),k.Tc(" ",n.name," ")}}function ae(e,t){1&e&&(k.Vb(0,"div",32),k.Rc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn c\u1ea5p h\u1ecdc. "),k.Ub())}function se(e,t){if(1&e&&(k.Vb(0,"mat-option",31),k.Rc(1),k.Ub()),2&e){var n=t.$implicit;k.nc("value",n.id),k.Db(1),k.Tc(" ",n.name," ")}}function le(e,t){1&e&&(k.Vb(0,"div",32),k.Rc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn tr\u01b0\u1eddng. "),k.Ub())}function de(e,t){1&e&&(k.Vb(0,"div",32),k.Rc(1," B\u1ea1n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng t\xean tr\u01b0\u1eddng. "),k.Ub())}function be(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div",3),k.Vb(1,"div",4),k.Vb(2,"div",5),k.Vb(3,"mat-tab-group",6),k.cc("selectedIndexChange",function(e){return k.Dc(n),k.gc().selectedIndexChange(e)}),k.Vb(4,"mat-tab",7),k.Vb(5,"form",8),k.Vb(6,"div",9),k.Vb(7,"label",10),k.Rc(8,"Ch\u1ecdn t\u1ec9nh th\xe0nh"),k.Ub(),k.Vb(9,"mat-form-field",11),k.Vb(10,"mat-select",12),k.Pc(11,z,2,2,"mat-option",13),k.Ub(),k.Ub(),k.Pc(12,q,2,0,"div",14),k.Ub(),k.Vb(13,"div",9),k.Vb(14,"label",10),k.Rc(15,"Th\xeam t\xean huy\u1ec7n"),k.Ub(),k.Vb(16,"div",15),k.Qb(17,"textarea",16),k.Pc(18,B,2,0,"div",14),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Vb(19,"mat-tab",17),k.Vb(20,"form",8),k.Vb(21,"div",9),k.Vb(22,"label",10),k.Rc(23,"Ch\u1ecdn t\u1ec9nh th\xe0nh"),k.Ub(),k.Vb(24,"mat-form-field",11),k.Vb(25,"mat-select",18),k.cc("selectionChange",function(e){return k.Dc(n),k.gc().selectLocation(e.value)}),k.Pc(26,N,2,2,"mat-option",13),k.Ub(),k.Ub(),k.Pc(27,W,2,0,"div",14),k.Ub(),k.Vb(28,"div",9),k.Vb(29,"label",10),k.Rc(30,"Ch\u1ecdn huy\u1ec7n"),k.Ub(),k.Vb(31,"mat-form-field",11),k.Vb(32,"mat-select",19),k.cc("valueChange",function(e){return k.Dc(n),k.gc().department_select=e}),k.Pc(33,H,2,2,"mat-option",13),k.Ub(),k.Ub(),k.Pc(34,G,2,0,"div",14),k.Ub(),k.Vb(35,"div",9),k.Vb(36,"label",10),k.Rc(37,"Ch\u1ecdn c\u1ea5p h\u1ecdc"),k.Ub(),k.Vb(38,"mat-form-field",11),k.Vb(39,"mat-select",20),k.Pc(40,Y,2,2,"mat-option",13),k.Ub(),k.Ub(),k.Pc(41,$,2,0,"div",14),k.Ub(),k.Vb(42,"div",9),k.Vb(43,"label",10),k.Rc(44,"Th\xeam t\xean tr\u01b0\u1eddng"),k.Ub(),k.Vb(45,"div",15),k.Qb(46,"textarea",21),k.Ub(),k.Pc(47,K,2,0,"div",14),k.Ub(),k.Ub(),k.Ub(),k.Vb(48,"mat-tab",22),k.Vb(49,"form",8),k.Vb(50,"div",9),k.Vb(51,"label",10),k.Rc(52,"Ch\u1ecdn t\u1ec9nh th\xe0nh"),k.Ub(),k.Vb(53,"mat-form-field",11),k.Vb(54,"mat-select",18),k.cc("selectionChange",function(e){return k.Dc(n),k.gc().selectLocation(e.value)}),k.Pc(55,J,2,2,"mat-option",13),k.Ub(),k.Ub(),k.Pc(56,Z,2,0,"div",14),k.Ub(),k.Vb(57,"div",9),k.Vb(58,"label",10),k.Rc(59,"Ch\u1ecdn huy\u1ec7n"),k.Ub(),k.Vb(60,"mat-form-field",11),k.Vb(61,"mat-select",19),k.cc("valueChange",function(e){return k.Dc(n),k.gc().department_select=e}),k.Pc(62,X,2,2,"mat-option",13),k.Ub(),k.Ub(),k.Pc(63,ee,2,0,"div",14),k.Ub(),k.Vb(64,"div",9),k.Vb(65,"label",10),k.Rc(66,"S\u1eeda t\xean huy\u1ec7n"),k.Ub(),k.Vb(67,"div",15),k.Qb(68,"input",23),k.Ub(),k.Pc(69,te,2,0,"div",14),k.Ub(),k.Ub(),k.Ub(),k.Vb(70,"mat-tab",24),k.Vb(71,"form",8),k.Vb(72,"div",9),k.Vb(73,"label",10),k.Rc(74,"Ch\u1ecdn t\u1ec9nh th\xe0nh"),k.Ub(),k.Vb(75,"mat-form-field",11),k.Vb(76,"mat-select",18),k.cc("selectionChange",function(e){return k.Dc(n),k.gc().selectLocation(e.value)}),k.Pc(77,ne,2,2,"mat-option",13),k.Ub(),k.Ub(),k.Pc(78,oe,2,0,"div",14),k.Ub(),k.Vb(79,"div",9),k.Vb(80,"label",10),k.Rc(81,"Ch\u1ecdn huy\u1ec7n"),k.Ub(),k.Vb(82,"mat-form-field",11),k.Vb(83,"mat-select",19),k.cc("valueChange",function(e){return k.Dc(n),k.gc().department_select=e}),k.Pc(84,ie,2,2,"mat-option",13),k.Ub(),k.Ub(),k.Pc(85,re,2,0,"div",14),k.Ub(),k.Vb(86,"div",9),k.Vb(87,"label",10),k.Rc(88,"Ch\u1ecdn c\u1ea5p h\u1ecdc"),k.Ub(),k.Vb(89,"mat-form-field",11),k.Vb(90,"mat-select",25),k.cc("valueChange",function(e){return k.Dc(n),k.gc().level_select=e})("selectionChange",function(e){return k.Dc(n),k.gc().selectLevel(e.value)}),k.Pc(91,ce,2,2,"mat-option",13),k.Ub(),k.Ub(),k.Pc(92,ae,2,0,"div",14),k.Ub(),k.Vb(93,"div",9),k.Vb(94,"label",10),k.Rc(95,"Ch\u1ecdn tr\u01b0\u1eddng"),k.Ub(),k.Vb(96,"mat-form-field",11),k.Vb(97,"mat-select",26),k.cc("valueChange",function(e){return k.Dc(n),k.gc().school_select=e})("selectionChange",function(e){return k.Dc(n),k.gc().selectSchool(e.value)}),k.Pc(98,se,2,2,"mat-option",13),k.Ub(),k.Ub(),k.Pc(99,le,2,0,"div",14),k.Ub(),k.Vb(100,"div",9),k.Vb(101,"label",10),k.Rc(102,"S\u1eeda t\xean tr\u01b0\u1eddng"),k.Ub(),k.Vb(103,"div",15),k.Qb(104,"input",27),k.Ub(),k.Pc(105,de,2,0,"div",14),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Vb(106,"div",28),k.Vb(107,"button",29),k.cc("click",function(){return k.Dc(n),k.gc().removeDataOld()}),k.Rc(108,"reset"),k.Ub(),k.Vb(109,"button",30),k.cc("click",function(){return k.Dc(n),k.gc().SaveDataApi()}),k.Rc(110,"L\u01b0u"),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub()}if(2&e){var o=k.gc();k.Db(3),k.nc("selectedIndex",o.selected.value),k.Db(2),k.nc("formGroup",o.form),k.Db(6),k.nc("ngForOf",o.locations),k.Db(1),k.nc("ngIf",o.form.controls.LocationId.invalid&&(o.form.controls.LocationId.dirty||o.form.controls.LocationId.touched||0==o.checkValidateLocationId)),k.Db(6),k.nc("ngIf",o.form.controls.NameDistrict.invalid&&(o.form.controls.NameDistrict.dirty||o.form.controls.NameDistrict.touched||0==o.checkValidateNameDistrict)),k.Db(2),k.nc("formGroup",o.form),k.Db(6),k.nc("ngForOf",o.locations),k.Db(1),k.nc("ngIf",o.form.controls.LocationId.invalid&&(o.form.controls.LocationId.dirty||o.form.controls.LocationId.touched||0==o.checkValidateLocationId)),k.Db(5),k.nc("value",o.department_select),k.Db(1),k.nc("ngForOf",o.departments),k.Db(1),k.nc("ngIf",o.form.controls.DistrictId.invalid&&(o.form.controls.DistrictId.dirty||o.form.controls.DistrictId.touched||0==o.checkValidateDistrictId)),k.Db(6),k.nc("ngForOf",o.levels),k.Db(1),k.nc("ngIf",o.form.controls.LevelId.invalid&&(o.form.controls.LevelId.dirty||o.form.controls.LevelId.touched||0==o.checkValidateLevelId)),k.Db(6),k.nc("ngIf",o.form.controls.NameSchool.invalid&&(o.form.controls.NameSchool.dirty||o.form.controls.NameSchool.touched||0==o.checkValidateNameSchool)),k.Db(2),k.nc("formGroup",o.form),k.Db(6),k.nc("ngForOf",o.locations),k.Db(1),k.nc("ngIf",o.form.controls.LocationId.invalid&&(o.form.controls.LocationId.dirty||o.form.controls.LocationId.touched||0==o.checkValidateLocationId)),k.Db(5),k.nc("value",o.department_select),k.Db(1),k.nc("ngForOf",o.departments),k.Db(1),k.nc("ngIf",o.form.controls.DistrictId.invalid&&(o.form.controls.DistrictId.dirty||o.form.controls.DistrictId.touched||0==o.checkValidateDistrictId)),k.Db(6),k.nc("ngIf",o.form.controls.NameDistrict.invalid&&(o.form.controls.NameDistrict.dirty||o.form.controls.NameDistrict.touched||0==o.checkValidateNameDistrict)),k.Db(2),k.nc("formGroup",o.form),k.Db(6),k.nc("ngForOf",o.locations),k.Db(1),k.nc("ngIf",o.form.controls.LocationId.invalid&&(o.form.controls.LocationId.dirty||o.form.controls.LocationId.touched||0==o.checkValidateLocationId)),k.Db(5),k.nc("value",o.department_select),k.Db(1),k.nc("ngForOf",o.departments),k.Db(1),k.nc("ngIf",o.form.controls.DistrictId.invalid&&(o.form.controls.DistrictId.dirty||o.form.controls.DistrictId.touched||0==o.checkValidateDistrictId)),k.Db(5),k.nc("value",o.level_select),k.Db(1),k.nc("ngForOf",o.levels),k.Db(1),k.nc("ngIf",o.form.controls.LevelId.invalid&&(o.form.controls.LevelId.dirty||o.form.controls.LevelId.touched||0==o.checkValidateLevelId)),k.Db(5),k.nc("value",o.school_select),k.Db(1),k.nc("ngForOf",o.schools),k.Db(1),k.nc("ngIf",o.form.controls.SchoolId.invalid&&(o.form.controls.SchoolId.dirty||o.form.controls.SchoolId.touched||0==o.checkValidateSchoolId)),k.Db(6),k.nc("ngIf",o.form.controls.NameSchool.invalid&&(o.form.controls.NameSchool.dirty||o.form.controls.NameSchool.touched||0==o.checkValidateNameSchool)),k.Db(4),k.nc("disabled",o.loading)}}var ue,he=((ue=function(){function e(t,n,o,i,r){b(this,e),this.commonService=t,this.dom=n,this.sanitizer=o,this.formBuilder=i,this.apiCommonService=r,this.form=new l.k({}),this.selected=new l.h(0),this.loading=!1,this.checkValidateNameDistrict=!0,this.checkValidateLevelId=!0,this.checkValidateNameSchool=!0,this.checkValidateLocationId=!0,this.checkValidateDistrictId=!0,this.checkValidateSchoolId=!0,this.location_select=null,this.department_select=null,this.school_select=null,this.schools=[],this.level_select=null}return h(e,[{key:"initData",value:function(){this.GetProvinces(),this.GetTypeSchool()}},{key:"GetTypeSchool",value:function(){var e=this;this.apiCommonService.getListTypeSchool().subscribe(function(t){t&&(e.levels=t.data)})}},{key:"GetProvinces",value:function(){var e=this;this.apiCommonService.getListProvinces().subscribe(function(t){t&&(e.locations=t.data,e.locations=e.sortName(e.locations))})}},{key:"sortName",value:function(e){return e.sort(function(e,t){return e.name.trim().localeCompare(t.name.trim())}),e}},{key:"AddSchool",value:function(){var e=this;this.loading=!0;var t=""==this.form.value.NameSchool?"":{names:this.form.value.NameSchool.split("\n")};this.apiCommonService.AddSchool(this.form.value.LevelId,this.form.value.LocationId,this.form.value.DistrictId,t).subscribe(function(t){1==t.success?(e.commonService.snackSuccess("Th\xeam tr\u01b0\u1eddng th\xe0nh c\xf4ng.",""),e.removeDataOld(),e.loading=!1):(""==e.form.value.LevelId||""==e.form.value.DistrictId||""==e.form.value.LocationId||""==e.form.value.NameSchool?(e.checkValidateLocationId=!1,e.checkValidateDistrictId=!1,e.checkValidateLevelId=!1,e.checkValidateNameSchool=!1):e.commonService.snackError("L\u1ed7i: Th\xeam tr\u01b0\u1eddng kh\xf4ng th\xe0nh c\xf4ng.","\u0110\xf3ng"),e.loading=!1)})}},{key:"EditSchool",value:function(){var e=this;this.loading=!0,this.apiCommonService.EditSchool(this.school_select,this.form.value.NameSchool).subscribe(function(t){1==t.success?(e.commonService.snackSuccess("S\u1eeda tr\u01b0\u1eddng th\xe0nh c\xf4ng.",""),e.removeDataOld(),e.loading=!1):((e.form.value.LocationId=""==e.form.value.DistrictId||""==e.form.value.LevelId||""==e.form.value.NameSchool||""==e.form.value.SchoolId)?(e.checkValidateLocationId=!1,e.checkValidateDistrictId=!1,e.checkValidateLevelId=!1,e.checkValidateNameSchool=!1,e.checkValidateSchoolId=!1):e.commonService.snackError("L\u1ed7i: S\u1eeda tr\u01b0\u1eddng kh\xf4ng th\xe0nh c\xf4ng.","\u0110\xf3ng"),e.loading=!1)})}},{key:"selectSchool",value:function(e){this.school_select=e}},{key:"AddDistrict",value:function(){var e=this,t=""==this.form.value.NameDistrict?"":{names:this.form.value.NameDistrict.split("\n")};this.loading=!0,this.apiCommonService.AddDistrict(this.form.value.LocationId,t).subscribe(function(t){1==t.success?(e.commonService.snackSuccess("Th\xeam huy\u1ec7n th\xe0nh c\xf4ng.",""),e.loading=!1,e.removeDataOld()):((e.form.value.LocationId=""==e.form.value.NameDistrict)?(e.checkValidateNameDistrict=!1,e.checkValidateLocationId=!1):e.commonService.snackError("L\u1ed7i: Th\xeam huy\u1ec7n kh\xf4ng th\xe0nh c\xf4ng.","\u0110\xf3ng"),e.loading=!1)})}},{key:"EditDistrict",value:function(){var e=this;this.loading=!0,this.apiCommonService.EditDistrict(this.department_select,this.form.value.NameDistrict).subscribe(function(t){1==t.success?(e.removeDataOld(),e.commonService.snackSuccess("S\u1eeda huy\u1ec7n th\xe0nh c\xf4ng.",""),e.loading=!1):((e.form.value.LocationId=""==e.form.value.NameDistrict||""==e.form.value.DistrictId)?(e.checkValidateNameDistrict=!1,e.checkValidateLocationId=!1,e.checkValidateDistrictId=!1):e.commonService.snackError("L\u1ed7i: S\u1eeda huy\u1ec7n kh\xf4ng th\xe0nh c\xf4ng.","\u0110\xf3ng"),e.loading=!1)})}},{key:"selectDepartment",value:function(e){this.schools=[],this.school_select=null,this.department_select=e}},{key:"selectLevel",value:function(e){this.schools=[],this.school_select=null,this.level_select=e,this.getListSchool()}},{key:"getListSchool",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.department_select&&this.level_select&&this.apiCommonService.getListSchoolsByDistrict(this.department_select,this.level_select).subscribe(function(n){n&&(e.schools=n.data,e.schools=e.sortName(e.schools),e.schools.push({id:-1,name:"Kh\xe1c",districtId:e.department_select,typeId:e.level_select}),t())})}},{key:"selectLocation",value:function(e){this.location_select=e,this.department_select=null,this.departments=[],this.GetDistrictsByProvince()}},{key:"GetDistrictsByProvince",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.apiCommonService.getListDistrictsByProvince(this.location_select).subscribe(function(n){n&&(e.departments=n.data,e.departments=e.sortName(e.departments),t())})}},{key:"removeDataOld",value:function(){this.form=this.formBuilder.group({NameDistrict:new l.h("",l.z.required),LevelId:new l.h("",l.z.required),NameSchool:new l.h("",l.z.required),LocationId:new l.h("",l.z.required),DistrictId:new l.h("",l.z.required),SchoolId:new l.h("",l.z.required)}),this.checkValidateNameDistrict=!0,this.checkValidateLocationId=!0,this.checkValidateDistrictId=!0,this.checkValidateLevelId=!0,this.checkValidateNameSchool=!0,this.checkValidateSchoolId=!0}},{key:"SaveDataApi",value:function(){0==this.selected.value?this.AddDistrict():1==this.selected.value?this.AddSchool():2==this.selected.value?this.EditDistrict():3==this.selected.value&&this.EditSchool()}},{key:"selectedIndexChange",value:function(e){this.selected.setValue(e),this.removeDataOld()}},{key:"ngOnInit",value:function(){this.removeDataOld(),this.initData()}}]),e}()).\u0275fac=function(e){return new(e||ue)(k.Pb(U.a),k.Pb(j.b),k.Pb(j.b),k.Pb(l.g),k.Pb(V.a))},ue.\u0275cmp=k.Jb({type:ue,selectors:[["app-ad-school"]],decls:3,vars:4,consts:[[3,"headerTitle","back_link"],[4,"ngIf"],["class","container-fluid component-wrap centerBoth hasBg mt-3 mb-3",4,"ngIf"],[1,"container-fluid","component-wrap","centerBoth","hasBg","mt-3","mb-3"],[1,"card"],[1,"card-body"],[3,"selectedIndex","selectedIndexChange"],["label","Th\xeam huy\u1ec7n"],[2,"margin-top","20px",3,"formGroup"],[1,"form-group"],[1,"control-label"],["appearance","fill"],["placeholder","Ch\u1ecdn t\u1ec9nh","formControlName","LocationId"],[3,"value",4,"ngFor","ngForOf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,""],["type","text","cols","5","rows","5","placeholder","Nh\u1eadp t\xean huy\u1ec7n","formControlName","NameDistrict",1,"form-control"],["label","Th\xeam tr\u01b0\u1eddng"],["placeholder","Ch\u1ecdn t\u1ec9nh","formControlName","LocationId",3,"selectionChange"],["placeholder","Ch\u1ecdn huy\u1ec7n","name","DepartmentName","formControlName","DistrictId",3,"value","valueChange"],["placeholder","Ch\u1ecdn c\u1ea5p h\u1ecdc","name","LevelId","formControlName","LevelId"],["placeholder","Nh\u1eadp t\xean tr\u01b0\u1eddng","name","","id","","cols","5","rows","5","formControlName","NameSchool",1,"form-control"],["label","S\u1eeda huy\u1ec7n"],["placeholder","Nh\u1eadp t\xean huy\u1ec7n","formControlName","NameDistrict",1,"form-control"],["label","S\u1eeda tr\u01b0\u1eddng"],["placeholder","Ch\u1ecdn c\u1ea5p h\u1ecdc","name","LevelId","formControlName","LevelId",3,"value","valueChange","selectionChange"],["placeholder","Ch\u1ecdn tr\u01b0\u1eddng","name","SchoolName","formControlName","SchoolId",3,"value","valueChange","selectionChange"],["placeholder","Nh\u1eadp t\xean tr\u01b0\u1eddng","formControlName","NameSchool",1,"form-control"],[2,"float","right"],["type","button",1,"btn","btn-danger","mr-3",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[3,"value"],[1,"alert","alert-danger","mt-3"]],template:function(e,t){1&e&&(k.Qb(0,"header-backend",0),k.Pc(1,F,1,0,"azt-loading-effect",1),k.Pc(2,be,111,35,"div",2)),2&e&&(k.nc("headerTitle","Th\xeam tr\u01b0\u1eddng")("back_link","/admin/testbank/dashboard"),k.Db(1),k.nc("ngIf",1==t.loading),k.Db(1),k.nc("ngIf",0==t.loading))},directives:[w.a,s.m,x.a,L.b,L.a,l.B,l.s,l.l,Q.d,T.a,l.r,l.j,s.l,l.d,E.n],encapsulation:2}),ue),ge=a("Z2k6"),me=a("bTqV"),pe=a("gaSO");function fe(e,t){1&e&&(k.Vb(0,"div"),k.Vb(1,"div",12),k.Vb(2,"div",13),k.Vb(3,"span",14),k.Rc(4),k.hc(5,"mytranslate"),k.Ub(),k.Ub(),k.Ub(),k.Ub()),2&e&&(k.Db(4),k.Tc("",k.ic(5,1,"lang_cms_common_loading"),"..."))}function ve(e,t){1&e&&(k.Vb(0,"span"),k.Qb(1,"span",20),k.Rc(2,"\xa0"),k.Ub())}function _e(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div"),k.Vb(1,"div",15),k.Vb(2,"div",16),k.Vb(3,"button",17),k.cc("click",function(){k.Dc(n);var e=k.gc();return e.status_obj.loading||e.becomeTeacher()}),k.Pc(4,ve,3,0,"span",11),k.Rc(5,"Click v\xe0o \u0111\xe2y \u0111\u1ec3 tr\u1edf th\xe0nh gi\xe1o vi\xean "),k.Ub(),k.Ub(),k.Ub(),k.Vb(6,"div",18),k.Vb(7,"a",19),k.cc("click",function(){return k.Dc(n),k.gc().goBack()}),k.Rc(8,"Quay l\u1ea1i trang ch\u1ee7"),k.Ub(),k.Ub(),k.Ub()}if(2&e){var o=k.gc();k.Db(3),k.nc("disabled",o.status_obj.loading),k.Db(1),k.nc("ngIf",!0===o.status_obj.loading)}}var ye,ke=((ye=function(){function e(t,n){b(this,e),this.apiAuthService=t,this.commonService=n,this.subscriptions=new v.a,this.status_obj={form_loading:!0,loading:!1,error:!1,error_obj:{message:""}}}return h(e,[{key:"goBack",value:function(){this.apiAuthService.redirectLoginByRole(!1)}},{key:"becomeTeacher",value:function(){var e=this;this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiAuthService.becomeTeacher().subscribe(function(t){1==t.success?(e.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},e.apiAuthService.redirectLoginByRole(!1)):(e.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t},e.commonService.myTranslate([t.message]).subscribe(function(n){e.commonService.snackError(n[t.message],"")}))}))}},{key:"ngOnInit",value:function(){this.apiAuthService.isAnonymousRole()?this.commonService.redirectSimpleRegister():(this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.commonService.translateMetaData({title:"lang_cms_auth_become_teacher_title",description:"lang_cms_auth_become_teacher_description",image:"lang_cms_test_image"}))}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||ye)(k.Pb(ge.a),k.Pb(U.a))},ye.\u0275cmp=k.Jb({type:ye,selectors:[["app-become-teacher"]],decls:15,vars:2,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[2,"margin-top","6vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-md-12","text-center"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"text-center","mt-3"],[1,"clickable",3,"click"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&(k.Vb(0,"div",0),k.Vb(1,"div",1),k.Vb(2,"div",2),k.Qb(3,"div",3),k.Vb(4,"div",4),k.Vb(5,"h2",5),k.Qb(6,"img",6),k.Ub(),k.Vb(7,"div",7),k.Vb(8,"div",8),k.Vb(9,"span",9),k.Rc(10,"T\xf4i mu\u1ed1n th\xe0nh gi\xe1o vi\xean"),k.Ub(),k.Ub(),k.Vb(11,"div",10),k.Pc(12,fe,6,3,"div",11),k.Pc(13,_e,9,2,"div",11),k.Ub(),k.Ub(),k.Ub(),k.Qb(14,"div",3),k.Ub(),k.Ub(),k.Ub()),2&e&&(k.Db(12),k.nc("ngIf",1==t.status_obj.form_loading),k.Db(1),k.nc("ngIf",1!=t.status_obj.form_loading))},directives:[s.m,me.b],pipes:[pe.q],styles:[".checkboxInput[_ngcontent-%COMP%]{padding:5px 15px;font-size:1rem;font-weight:400;line-height:2}.zalo-icon[_ngcontent-%COMP%]{height:30px;margin-right:10px}"]}),ye);function Ue(e,t){1&e&&k.Qb(0,"azt-loading-effect")}function Ve(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div"),k.Vb(1,"button",15),k.cc("click",function(){return k.Dc(n),k.gc(2).saveCategoryFaq()}),k.Rc(2,"L\u01b0u"),k.Ub(),k.Ub()}}function xe(e,t){if(1&e){var n=k.Wb();k.Vb(0,"button",15),k.cc("click",function(){return k.Dc(n),k.gc(2).updateCategoryFaq()}),k.Rc(1,"C\u1eadp nh\u1eadt"),k.Ub()}}var we=function(e){return[e]};function Ce(e,t){if(1&e&&(k.Vb(0,"tr"),k.Vb(1,"td"),k.Rc(2),k.Ub(),k.Vb(3,"td",16),k.Vb(4,"a",17),k.hc(5,"mylocalize"),k.Rc(6,"S\u1eeda"),k.Ub(),k.Ub(),k.Ub()),2&e){var n=t.$implicit;k.Db(2),k.Sc(n.name),k.Db(2),k.nc("routerLink",k.sc(4,we,k.ic(5,2,"/auth/category-faq/"+n.id)))}}function Pe(e,t){if(1&e&&(k.Qb(0,"header-backend",2),k.Vb(1,"div",3),k.Vb(2,"form",4),k.Vb(3,"div",5),k.Vb(4,"div",6),k.Vb(5,"h3",7),k.Rc(6,"T\xean Danh m\u1ee5c"),k.Ub(),k.Ub(),k.Vb(7,"div",6),k.Qb(8,"input",8),k.Ub(),k.Ub(),k.Vb(9,"div",5),k.Vb(10,"div",6),k.Vb(11,"h3",7),k.Rc(12,"V\u1ecb tr\xed"),k.Ub(),k.Ub(),k.Vb(13,"div",6),k.Qb(14,"input",9),k.Ub(),k.Ub(),k.Vb(15,"div",5),k.Vb(16,"div",10),k.Pc(17,Ve,3,0,"div",0),k.Pc(18,xe,2,0,"ng-template",null,11,k.Qc),k.Ub(),k.Ub(),k.Ub(),k.Vb(20,"div",12),k.Vb(21,"table",13),k.Pc(22,Ce,7,6,"tr",14),k.Ub(),k.Ub(),k.Ub()),2&e){var n=k.zc(19),o=k.gc();k.nc("headerTitle","Danh m\u1ee5c Faq")("back_link","/auth/list-faq"),k.Db(2),k.nc("formGroup",o.form),k.Db(15),k.nc("ngIf",0==o.checkUpdate)("ngIfElse",n),k.Db(5),k.nc("ngForOf",o.categoryObjs)}}var Se,Oe=((Se=function(){function e(t,n,o,i,r){b(this,e),this.activeRoute=t,this.commonService=n,this.apiCommonService=o,this.router=i,this.fb=r,this.form=new l.k({}),this.isLoading=!1,this.subscriptions=new v.a,this.categoryObjs=[],this.checkUpdate=!1,this.cateId=0}return h(e,[{key:"getCategoryFaq",value:function(){var e=this;this.isLoading=!0,this.apiCommonService.getCategoryFaqObjs().subscribe(function(t){1==t.success?e.categoryObjs=t.data.objs:e.commonService.snackError("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng",""),e.isLoading=!1})}},{key:"saveCategoryFaq",value:function(){var e=this;this.isLoading=!0;var t=this.commonService.getFormObj(this.form);this.apiCommonService.saveCategoryFaqObj({name:t.categoryFaq,position:t.categoryPosFaq}).subscribe(function(t){1==t.success?(e.getCategoryFaq(),e.commonService.snackSuccess("T\u1ea1o danh m\u1ee5c faq th\xe0nh c\xf4ng.","")):e.commonService.snackError("T\u1ea1o danh m\u1ee5c faq kh\xf4ng th\xe0nh c\xf4ng",""),e.isLoading=!1})}},{key:"updateCategoryFaq",value:function(){var e=this;this.isLoading=!0;var t=this.commonService.getFormObj(this.form);this.apiCommonService.updateCategoryFaqObj({id:this.cateId,name:t.categoryFaq,position:t.categoryPosFaq}).subscribe(function(t){1==t.success?(e.getCategoryFaq(),e.commonService.snackSuccess("C\u1eadp nh\u1eadt danh m\u1ee5c faq th\xe0nh c\xf4ng.","")):e.commonService.snackError("C\u1eadp nh\u1eadt danh m\u1ee5c faq kh\xf4ng th\xe0nh c\xf4ng",""),e.isLoading=!1})}},{key:"getDetailCategoryFaq",value:function(e){var t=this;this.checkUpdate=null!=e&&0!=e&&null!=e,this.checkUpdate&&(this.isLoading=!0,this.apiCommonService.getDetailCategoryFaqObj(e).subscribe(function(e){if(1==e.success){var n=e.data.obj;t.form.patchValue({categoryFaq:n.name,categoryPosFaq:n.position})}else t.commonService.snackError("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng","")}))}},{key:"ngOnInit",value:function(){var e=this;this.form=this.fb.group({categoryFaq:new l.h("",l.z.required),categoryPosFaq:new l.h(0,l.z.required)}),Object(_.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(function(t){r(t),e.getCategoryFaq(),e.cateId=e.commonService.getMyParam(e.activeRoute,"id"),e.getDetailCategoryFaq(e.cateId)})}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Se)(k.Pb(d.a),k.Pb(U.a),k.Pb(V.a),k.Pb(d.i),k.Pb(l.g))},Se.\u0275cmp=k.Jb({type:Se,selectors:[["app-add-faq"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"headerTitle","back_link"],[1,"container-fluid","my-3"],[1,"px-3",3,"formGroup"],[1,"row","py-3"],[1,"col-md-12"],[1,"text-feild"],["type","text","formControlName","categoryFaq","placeholder","",1,"form-control","questionFaq"],["type","number","formControlName","categoryPosFaq","placeholder","",1,"form-control","questionFaq"],[1,"col-md-12","text-right"],["button",""],[1,"row","col-md-12"],[1,"table"],[4,"ngFor","ngForOf"],[1,"button-save",3,"click"],[1,"text-right"],["mat-flat-button","","color","primary",3,"routerLink"]],template:function(e,t){if(1&e&&(k.Pc(0,Ue,1,0,"azt-loading-effect",0),k.Pc(1,Pe,23,6,"ng-template",null,1,k.Qc)),2&e){var n=k.zc(2);k.nc("ngIf",t.isLoading)("ngIfElse",n)}},directives:[s.m,x.a,w.a,l.B,l.s,l.l,l.d,l.r,l.j,l.w,s.l,me.a,d.k],pipes:[pe.p],styles:[".text-feild[_ngcontent-%COMP%]{margin-bottom:5px}.button-save[_ngcontent-%COMP%]{background-color:#169bd5;color:#fff;padding:8px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:14px;margin-right:16px;cursor:pointer;border-radius:5px;border:1px solid #169bd5;text-transform:uppercase}.button-save[_ngcontent-%COMP%]:hover{background-color:#0069d9;border-color:#0069d9}.pb-80[_ngcontent-%COMP%]{padding-bottom:80px}.button-cancel[_ngcontent-%COMP%]{background-color:#fff!important;color:#333;padding:8px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:14px;cursor:pointer;border:1px solid #797979;border-radius:5px;text-transform:uppercase}.button-cancel[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.02)!important}"]}),Se),De=a("n1FK"),Me=a("3eqI"),Re=a("NFeN"),Ie=a("QibW"),Ae=a("qFsG");function je(e,t){1&e&&(k.Vb(0,"div"),k.Vb(1,"div",12),k.Vb(2,"div",13),k.Vb(3,"span",14),k.Rc(4),k.hc(5,"mytranslate"),k.Ub(),k.Ub(),k.Ub(),k.Ub()),2&e&&(k.Db(4),k.Tc("",k.ic(5,1,"lang_cms_common_loading"),"..."))}function Le(e,t){1&e&&(k.Vb(0,"div"),k.Rc(1," Email ph\u1ea3i nh\u1eadp \u0111\xfang \u0111\u1ecbnh d\u1ea1ng! "),k.Ub())}function Qe(e,t){if(1&e&&(k.Vb(0,"div",41),k.Pc(1,Le,2,0,"div",11),k.Ub()),2&e){var n=k.gc(2);k.Db(1),k.nc("ngIf",n.getErrorType("email","email"))}}function Te(e,t){1&e&&(k.Vb(0,"div"),k.Rc(1," M\u1eadt kh\u1ea9u ph\u1ea3i d\xe0i t\u1ed1i thi\u1ec3u l\xe0 6! "),k.Ub())}function Ee(e,t){if(1&e&&(k.Vb(0,"div",41),k.Pc(1,Te,2,0,"div",11),k.Ub()),2&e){var n=k.gc(2);k.Db(1),k.nc("ngIf",n.getErrorType("password","required")||n.getErrorType("password","minlength"))}}function Fe(e,t){1&e&&(k.Vb(0,"div"),k.Rc(1," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ch\u1ec9 g\u1ed3m c\xe1c ch\u1eef s\u1ed1 v\xe0 d\xe0i 10 k\xfd t\u1ef1! "),k.Ub())}function ze(e,t){if(1&e&&(k.Vb(0,"div",41),k.Pc(1,Fe,2,0,"div",11),k.Ub()),2&e){var n=k.gc(2);k.Db(1),k.nc("ngIf",n.getErrorType("phone","pattern")||n.getErrorType("phone","minlength")||n.getErrorType("phone","maxlength"))}}function qe(e,t){1&e&&(k.Vb(0,"span"),k.Rc(1,"OK"),k.Ub())}function Be(e,t){if(1&e&&(k.Vb(0,"div",15),k.Vb(1,"label",42),k.Rc(2),k.hc(3,"mytranslate"),k.Ub(),k.Ub()),2&e){var n=k.gc(2);k.Db(2),k.Tc("*** ",k.ic(3,1,n.status_obj.error_obj.message),"")}}function Ne(e,t){1&e&&(k.Vb(0,"span"),k.Qb(1,"span",43),k.Rc(2,"\xa0"),k.Ub())}function We(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div"),k.Vb(1,"div",15),k.Vb(2,"div",16),k.Vb(3,"div",17),k.Qb(4,"input",18),k.Vb(5,"div",19),k.Vb(6,"span",20),k.Vb(7,"mat-icon"),k.Rc(8,"account_box"),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Vb(9,"div",15),k.Vb(10,"div",16),k.Vb(11,"div",17),k.Qb(12,"input",21),k.Vb(13,"div",19),k.Vb(14,"span",20),k.Vb(15,"mat-icon"),k.Rc(16,"email"),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Pc(17,Qe,2,1,"div",22),k.Ub(),k.Ub(),k.Vb(18,"div",15),k.Vb(19,"div",16),k.Vb(20,"div",17),k.Qb(21,"input",23),k.Vb(22,"div",19),k.Vb(23,"span",20),k.Vb(24,"mat-icon"),k.Rc(25,"lock"),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Pc(26,Ee,2,1,"div",22),k.Ub(),k.Ub(),k.Vb(27,"div",15),k.Vb(28,"div",16),k.Vb(29,"div",24),k.Qb(30,"input",25),k.Vb(31,"div",19),k.Vb(32,"span",20),k.Vb(33,"mat-icon"),k.Rc(34,"phone_enabled"),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Vb(35,"a",26),k.cc("click",function(){return k.Dc(n),k.gc().goToConfirm()}),k.Rc(36,"Click v\xe0o \u0111\xe2y n\u1ebfu b\u1ea1n mu\u1ed1n \u0111\u1ed5i s\u1ed1 \u0111i\u1ec7n tho\u1ea1i!"),k.Ub(),k.Pc(37,ze,2,1,"div",22),k.Ub(),k.Ub(),k.Vb(38,"div",15),k.Vb(39,"div",16),k.Vb(40,"div",27),k.Vb(41,"mat-radio-group",28),k.Vb(42,"mat-radio-button",29),k.Rc(43,"Nam"),k.Ub(),k.Vb(44,"mat-radio-button",30),k.Rc(45,"N\u1eef"),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Vb(46,"div",15),k.Vb(47,"div",16),k.Vb(48,"mat-form-field",31),k.Vb(49,"input",32),k.cc("click",function(){return k.Dc(n),k.zc(54).open()}),k.Ub(),k.Vb(50,"button",33),k.cc("click",function(e){return k.Dc(n),k.zc(54).open(),e.stopPropagation()}),k.Vb(51,"mat-icon"),k.Rc(52,"today"),k.Ub(),k.Ub(),k.Vb(53,"ngx-mat-datetime-picker",34,35),k.Pc(55,qe,2,0,"ng-template"),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Pc(56,Be,4,3,"div",36),k.Vb(57,"div",15),k.Vb(58,"div",37),k.Vb(59,"button",38),k.cc("click",function(){k.Dc(n);var e=k.gc();return e.form.invalid||e.status_obj.loading||e.changeInfo()}),k.Pc(60,Ne,3,0,"span",11),k.Rc(61,"C\u1eadp nh\u1eadt "),k.Ub(),k.Ub(),k.Ub(),k.Vb(62,"div",39),k.Vb(63,"a",40),k.cc("click",function(){return k.Dc(n),k.gc().goBack()}),k.Rc(64,"Quay l\u1ea1i trang ch\u1ee7"),k.Ub(),k.Ub(),k.Ub()}if(2&e){var o=k.zc(54),i=k.gc();k.Db(17),k.nc("ngIf",i.form.controls.email.invalid&&i.form.controls.email.dirty),k.Db(9),k.nc("ngIf",i.form.controls.password.invalid&&(i.form.controls.password.dirty||i.form.controls.password.touched)),k.Db(4),k.Eb("disabled",i.disablePhone),k.Db(7),k.nc("ngIf",i.form.controls.phone.invalid&&(i.form.controls.phone.dirty||i.form.controls.phone.touched)),k.Db(12),k.nc("ngxMatDatetimePicker",o),k.Db(4),k.nc("hideTime",i.hideTime),k.Db(3),k.nc("ngIf",i.status_obj.error_obj.message),k.Db(3),k.nc("disabled",i.form.invalid||i.status_obj.loading),k.Db(1),k.nc("ngIf",!0===i.status_obj.loading)}}var He,Ge,Ye,$e={parse:{dateInput:"l, LTS"},display:{dateInput:"DD-MM-YYYY",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},Ke=((Ge=function(){function e(t,n,o,i,r){b(this,e),this.formBuilder=t,this.activeRoute=n,this.router=o,this.commonService=i,this.apiAuthService=r,this.subscriptions=new v.a,this.form=new l.k({}),this.startDate=new Date(1990,1,1),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.gender=0,this.prevData=0,this.disablePhone=!0,this.returnUrl="",this.hideTime=!0}return h(e,[{key:"getError",value:function(e){return!(!this.form.controls[e]||!this.form.controls[e].errors)&&this.form.controls[e].errors}},{key:"getErrorType",value:function(e,t){return!!(this.form.controls[e]&&this.form.controls[e].errors&&this.form.controls[e].errors[t])&&this.form.controls[e].errors[t]}},{key:"goToConfirm",value:function(){this.returnUrl="/auth/change-info";var e="?return_url="+encodeURIComponent(this.returnUrl)+"&confirm_type=change_phone";this.commonService.myNavigationWithQueryString("/auth/checking_service",e)}},{key:"allowChangePhone",value:function(){var e=this.apiAuthService.getUserObj(),t=e.zaloId?e.zaloId:"";return""!=t&&t==(e.phone?e.phone:"")}},{key:"changeInfo",value:function(){var e=this;if(this.form.valid){var t=this.commonService.getFormObj(this.form),n=t.birthday?new Date(Date.parse(t.birthday)):this.startDate,o={fullName:t.fullName,email:t.email,phone:t.phone,gender:t.gender,birthday:Object(s.x)(n,"yyyy-MM-ddTHH:mm:ss","en_vn"),password:t.password};this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiAuthService.changeInfo(o).subscribe(function(t){1==t.success?(e.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},e.commonService.snackSuccess("C\u1eadp nh\u1eadt th\xf4ng tin th\xe0nh c\xf4ng!","OK"),e.getInfo()):(e.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t},e.commonService.snackError("C\u1eadp nh\u1eadt th\xf4ng tin kh\xf4ng th\xe0nh c\xf4ng!","OK"))}))}}},{key:"goBack",value:function(){this.apiAuthService.redirectLoginByRole(!1)}},{key:"getInfo",value:function(){this.status_obj={form_loading:!0,loading:!1,error:!1,error_obj:{message:""}};var e=this.apiAuthService.getUserObj(),t=e.birthday?new Date(e.birthday):new Date(1990,1,1);this.startDate=t,this.gender=e.gender,this.form.patchValue({fullName:this.commonService.isAnonymousName(e)?"":e.fullName,email:e.email?e.email:"",phone:e.phone?e.phone:"",gender:1!=this.gender?"0":"1"}),this.form.controls.birthday.setValue(t),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}}}},{key:"ngOnInit",value:function(){var e=this;this.form=this.formBuilder.group({fullName:new l.h(""),email:new l.h("",l.z.email),phone:new l.h("",[l.z.pattern("^[0-9]*$")]),gender:new l.h(""),birthday:new l.h(""),password:new l.h("",[l.z.minLength(6)])}),this.apiAuthService.isAnonymousRole()?this.commonService.redirectSimpleRegister():(this.getInfo(),this.form.valueChanges.subscribe(function(t){var n=JSON.stringify(t);n!=e.prevData&&(e.prevData=n,e.form.patchValue(t))}),this.commonService.translateMetaData({title:"lang_cms_auth_change_info_title",description:"lang_cms_auth_change_info_description",image:"lang_cms_test_image"}))}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Ge)(k.Pb(l.g),k.Pb(d.a),k.Pb(d.i),k.Pb(U.a),k.Pb(ge.a))},Ge.\u0275cmp=k.Jb({type:Ge,selectors:[["app-change-info"]],features:[k.Cb([{provide:De.b,useClass:Me.a,deps:[E.f,Me.b]},{provide:De.a,useValue:$e},{provide:Q.b,useValue:{floatLabel:"never"}}])],decls:15,vars:3,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","text","placeholder","H\u1ecd v\xe0 t\xean","formControlName","fullName",1,"form-control"],[1,"input-group-append"],["id","basic-addon3",1,"input-group-text"],["type","text","placeholder","Email","formControlName","email",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["type","password","placeholder","M\u1eadt kh\u1ea9u m\u1edbi","formControlName","password","autocomplete","new-password",1,"form-control"],[1,"input-group","mb-1"],["type","text","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","formControlName","phone",1,"form-control"],[1,"clickable","text-info",2,"font-size","13px","padding-left","5px",3,"click"],[1,"input-group","justify-content-around",2,"border","1px solid  #e2e2e2","border-radius","3px","padding",".8rem 0 .3rem 0"],["formControlName","gender"],["value","1",1,"col-6","p-0"],["value","0",1,"col-6"],[1,"myTimePicker",2,"border","1px solid #ced4da","border-radius","3px","padding-top","2px"],["matInput","","placeholder","Ng\xe0y sinh","formControlName","birthday",1,"form-control",3,"ngxMatDatetimePicker","click"],["mat-icon-button","","matSuffix","",3,"click"],[3,"hideTime"],["birthDay",""],["class","form-group",4,"ngIf"],[1,"col-sm-12","text-center"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"text-center","mt-3"],[1,"clickable",3,"click"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&(k.Vb(0,"div",0),k.Vb(1,"form",1),k.Vb(2,"div",2),k.Qb(3,"div",3),k.Vb(4,"div",4),k.Vb(5,"h2",5),k.Qb(6,"img",6),k.Ub(),k.Vb(7,"div",7),k.Vb(8,"div",8),k.Vb(9,"span",9),k.Rc(10,"\u0110\u1ed5i m\u1eadt kh\u1ea9u m\u1edbi"),k.Ub(),k.Ub(),k.Vb(11,"div",10),k.Pc(12,je,6,3,"div",11),k.Pc(13,We,65,9,"div",11),k.Ub(),k.Ub(),k.Ub(),k.Qb(14,"div",3),k.Ub(),k.Ub(),k.Ub()),2&e&&(k.Db(1),k.nc("formGroup",t.form),k.Db(11),k.nc("ngIf",1==t.status_obj.form_loading),k.Db(1),k.nc("ngIf",1!=t.status_obj.form_loading))},directives:[l.B,l.s,l.l,s.m,l.d,l.r,l.j,Re.a,Ie.b,Ie.a,Q.d,Ae.b,De.c,me.b,Q.h,De.d],pipes:[pe.q],encapsulation:2}),Ge),Je=((He=function(){function e(t,n){b(this,e),this.commonService=t,this.apiAuthService=n}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.apiAuthService.getFirebaseConfig().subscribe(function(t){if(1==t.success){var n=e.commonService.getLocalRouter("/auth/confirm_account")+"?return_url="+e.returnUrl+"&confirm_type="+e.confirm_type+"&app_name="+t.data.app;window.location.href=n.toString()}else e.commonService.snackError("C\xf3 l\u1ed7i khi ki\u1ec3m tra d\u1ecbch v\u1ee5","")})}},{key:"ngOnDestroy",value:function(){}},{key:"returnUrl",get:function(){return this.commonService.getMyQueryParam("return_url")}},{key:"confirm_type",get:function(){return this.commonService.getMyQueryParam("confirm_type")}}]),e}()).\u0275fac=function(e){return new(e||He)(k.Pb(U.a),k.Pb(ge.a))},He.\u0275cmp=k.Jb({type:He,selectors:[["app-checking-service"]],decls:3,vars:0,consts:[[1,"mt-5","text-center"],["role","status",1,"spinner-border","spinner-border-md",2,"color","#2361ae"]],template:function(e,t){1&e&&(k.Vb(0,"h2",0),k.Qb(1,"span",1),k.Rc(2,"\xa0 \u0110ang ki\u1ec3m tra d\u1ecbch v\u1ee5..."),k.Ub())},encapsulation:2}),He),Ze=a("Jgta"),Xe=a("6nsN"),et=((Ye=function(){function e(){b(this,e)}return h(e,[{key:"windowRef",get:function(){return window}}]),e}()).\u0275fac=function(e){return new(e||Ye)},Ye.\u0275prov=k.Lb({token:Ye,factory:Ye.\u0275fac}),Ye),tt=a("AytR"),nt=["verifyCode"];function ot(e,t){1&e&&(k.Vb(0,"div"),k.Rc(1," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ph\u1ea3i d\xe0i t\u1ed1i thi\u1ec3u l\xe0 10 k\xfd t\u1ef1! "),k.Ub())}function it(e,t){if(1&e&&(k.Vb(0,"div",34),k.Pc(1,ot,2,0,"div",31),k.Ub()),2&e){var n=k.gc();k.Db(1),k.nc("ngIf",n.getErrorType("phone","required")||n.getErrorType("phone","minlength"))}}function rt(e,t){if(1&e&&(k.Vb(0,"div",13),k.Vb(1,"label",35),k.Rc(2),k.hc(3,"mytranslate"),k.Ub(),k.Ub()),2&e){var n=k.gc();k.Db(2),k.Tc("*** ",k.ic(3,1,n.status_obj.error_obj.message),"")}}function ct(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div",36),k.Rc(1," Kh\xf4ng nh\u1eadn \u0111\u01b0\u1ee3c m\xe3 x\xe1c th\u1ef1c? "),k.Vb(2,"b",21),k.cc("click",function(){return k.Dc(n),k.gc().resendCode()}),k.Rc(3,"G\u1eedi l\u1ea1i!"),k.Ub(),k.Ub()}}function at(e,t){1&e&&(k.Vb(0,"span"),k.Qb(1,"span",37),k.Rc(2,"\xa0"),k.Ub())}var st,lt=function(e){return{"margin-left":e}},dt=((st=function(){function e(t,n,o,i,r,c,a,s){b(this,e),this.formBuilder=t,this.router=n,this.localizeService=o,this.activeRoute=i,this.commonService=r,this.window=c,this.apiAuthService=a,this.apiCommonService=s,this.confirm_type="forgot_password",this.subscriptions=new v.a,this.form=new l.k({}),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.isVerifying=!1,this.smsSent=!1,this.timeOut=60,this.captchaWidgetId="",this.myCountDown="interval",this.appObj="",this.isLoading=!0}return h(e,[{key:"skipVerifyPhone",value:function(){var e=Math.round((new Date).getTime()/1e3);this.commonService.saveSimpleStorage("skip_verify_phone",e.toString()),this.apiCommonService.redirectLoginByRole(!1);var t=this.getConfirmType();this.commonService.myNavigation("confirm_phone_register"==t?"/admin/student/manage-class/0":"/admin/testbank/dashboard")}},{key:"getError",value:function(e){return!(!this.form.controls[e]||!this.form.controls[e].errors)&&this.form.controls[e].errors}},{key:"getErrorType",value:function(e,t){return!!(this.form.controls[e]&&this.form.controls[e].errors&&this.form.controls[e].errors[t])&&this.form.controls[e].errors[t]}},{key:"getConfirmType",value:function(){return this.commonService.getMyQueryParam("confirm_type")}},{key:"handleConfirmUsage",value:function(){var e=this,t=this.form.value.phone,n=this.getConfirmType();if(""!=t)switch(n){case"forgot_password":this.commonService.gaEvent("confirm_event_forgot_password"),this.apiAuthService.checkPhoneExist(t).subscribe(function(n){1==n.success?e.sendLoginCode("+84"+t.slice(1)):(e.commonService.snackError("S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ch\u01b0a t\u1ed3n t\u1ea1i tr\xean h\u1ec7 th\u1ed1ng",""),e.reRenderCaptcha())});break;case"change_phone":this.commonService.gaEvent("confirm_event_change_phone"),this.apiAuthService.checkPhoneExist(t).subscribe(function(n){1!=n.success?e.sendLoginCode("+84"+t.slice(1)):(e.commonService.snackError("S\u1ed1 \u0111i\u1ec7n tho\u1ea1i \u0111\xe3 t\u1ed3n t\u1ea1i tr\xean h\u1ec7 th\u1ed1ng",""),e.reRenderCaptcha())});break;default:this.commonService.gaEvent("confirm_event_confirm_phone"),this.apiAuthService.CheckUpdatePhoneExists(t).subscribe(function(n){1!=n.success?e.sendLoginCode("+84"+t.slice(1)):(e.commonService.snackError("S\u1ed1 \u0111i\u1ec7n tho\u1ea1i \u0111\xe3 t\u1ed3n t\u1ea1i tr\xean h\u1ec7 th\u1ed1ng",""),e.reRenderCaptcha())})}else this.commonService.snackError("Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i!",""),this.reRenderCaptcha()}},{key:"sendLoginCode",value:function(e){var t=this,n=this.windowRef.recaptchaVerifier,o=Object(Xe.b)();Object(Xe.d)(o,e,n).then(function(e){t.windowRef.confirmationResult=e,t.smsSent=!0,t.timeOut=60,t.countDownTime()}).catch(function(e){console.log(e),"auth/quota-exceeded"==e.code?t.apiAuthService.setFirebaseExceed(t.firebaseApp).subscribe(function(e){1==e.success?t.apiAuthService.getFirebaseConfig().subscribe(function(e){if(1==e.success)if(e.data.app!==t.firebaseApp){var n=t.commonService.getMyQueryParam("interval_app");if(n&&n!=e.data.app){n=n||e.data.app;var o=t.commonService.getLocalRouter("/auth/confirm_account")+"?return_url="+t.returnUrl+"&confirm_type="+t.confirm_type+"&app_name="+e.data.app+"&interval_app="+n;window.location.href=o.toString()}else t.commonService.snackError("OUT OF QUOTA FIREBASE, CONTACT ADMIN","")}else t.commonService.snackError("OUT OF QUOTA FIREBASE, CONTACT ADMIN","");else t.commonService.snackError("Kh\xf4ng l\u1ea5y \u0111\u01b0\u1ee3c th\xf4ng tin FirebaseApp","")}):t.commonService.snackError("Kh\xf4ng \u0111\xe1nh d\u1ea5u \u0111\u01b0\u1ee3c firebase h\u1ebft quoata","")}):(t.commonService.gaEvent("confirm_event_error_send_code"),t.smsSent=!1,t.commonService.myTranslate([e.code]).subscribe(function(n){t.commonService.snackError("C\xf3 l\u1ed7i x\u1ea3y ra: "+n[e.code],"")}))})}},{key:"verify_code",value:function(e){var t=this;this.windowRef.confirmationResult?(this.isVerifying=!0,this.windowRef.confirmationResult.confirm(e).then(function(e){t.isVerifying=!1;var n=e.user,o=t.getConfirmType();switch(o){case"forgot_password":t.commonService.myNavigationWithQueryString("/auth/set_new_password","?app_name="+t.firebaseApp+"&token="+encodeURIComponent(n.za));break;default:t.apiAuthService.UpdatePhoneOrPasswordByFirebase({firebaseToken:n.accessToken,password:"",appName:t.firebaseApp}).subscribe(function(e){1==e.success?(t.commonService.snackSuccess("C\u1eadp nh\u1eadt s\u1ed1 \u0111i\u1ec7n tho\u1ea1i th\xe0nh c\xf4ng!",""),"confirm_phone_register"==o?t.commonService.myNavigation("/admin/student/manage-class/0"):t.apiAuthService.redirectLoginByRole(!1)):t.commonService.myTranslate([e.message]).subscribe(function(n){t.commonService.snackError("C\xf3 l\u1ed7i x\u1ea3y ra: "+n[e.message],"")})})}}).catch(function(e){t.isVerifying=!1,console.log(e),t.commonService.gaEvent("confirm_event_error_verify_code"),t.commonService.myTranslate([e.code]).subscribe(function(n){t.commonService.snackError("C\xf3 l\u1ed7i x\u1ea3y ra: "+n[e.code],"")})})):(this.isVerifying=!1,this.commonService.snackError("M\xe3 x\xe1c th\u1ef1c kh\xf4ng \u0111\xfang, vui l\xf2ng ki\u1ec3m tra l\u1ea1i",""))}},{key:"resendCode",value:function(){var e;this.reRenderCaptcha(),null===(e=document.getElementById("recaptcha-container"))||void 0===e||e.click()}},{key:"countDownTime",value:function(){var e=this;this.myCountDown=setInterval(function(){e.timeOut>0&&e.timeOut--},1e3)}},{key:"initForm",value:function(){this.form=this.formBuilder.group({phone:["",[l.z.required,l.z.minLength(10)]]})}},{key:"handleClickLogout",value:function(){"forgot_password"==this.confirm_type||"change_phone"==this.confirm_type?this.apiAuthService.redirectLoginByRole(!1):(this.apiAuthService.logout(),this.commonService.redirectSimpleLogin())}},{key:"reRenderCaptcha",value:function(){this.windowRef.recaptchaVerifier.reset(this.windowRef.recaptchaWidgetId)}},{key:"handleEnterVerify",value:function(e,t){"Enter"==e.key&&(this.commonService.gaEvent("confirm_event_verify_code_by_press_enter"),this.verify_code(t))}},{key:"ngOnInit",value:function(){var e=this;this.initForm(),Object(Ze.a)(tt.a["firebaseConfig_"+this.firebaseApp]),Object(Xe.b)().useDeviceLanguage();var t=this.getConfirmType();switch(this.confirm_type=this.getConfirmType(),"forgot_password"!=t&&this.apiAuthService.getInfo().subscribe(function(n){1==n.success?1==n.data.isVerifyPhone?"change_phone"!=t&&e.apiCommonService.redirectLoginByRole(!1):n.data.phone&&""==n.data.phone?console.log("enter phone plz"):e.form.setValue(n.data.phone&&n.data.phone.length>10?{phone:""}:{phone:n.data.phone}):e.commonService.myTranslate([n.message]).subscribe(function(t){e.commonService.snackError("C\xf3 l\u1ed7i x\u1ea3y ra: "+t[n.message],"")})}),t){case"forgot_password":this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"});break;case"change_phone":this.commonService.translateMetaData({title:"lang_cms_auth_confirm_change_phone_title",description:"lang_cms_auth_confirm_change_phone_description",image:"lang_cms_test_image"});break;default:this.commonService.translateMetaData({title:"lang_cms_auth_confirm_confirm_phone_title",description:"lang_cms_auth_confirm_confirm_phone_description",image:"lang_cms_test_image"})}}},{key:"ngAfterViewInit",value:function(){var e=this;this.countDownTime(),this.windowRef=this.window.windowRef;var t=Object(Xe.b)();if(this.windowRef.recaptchaVerifier=new Xe.a("recaptcha-container",{size:"invisible",callback:function(t){e.handleConfirmUsage()}},t),this.windowRef.recaptchaVerifier.render().then(function(t){e.windowRef.recaptchaWidgetId=t}),this.verifyCode&&""!=this.verifyCode.nativeElement.value){var n=this.verifyCode.nativeElement.value;this.verifyCode.nativeElement.addEventListener("keyup",function(t){return e.handleEnterVerify(t,n)})}}},{key:"ngOnDestroy",value:function(){var e=this;if(this.subscriptions.unsubscribe(),clearInterval(this.myCountDown),this.verifyCode){var t=this.verifyCode.nativeElement.value;this.verifyCode.nativeElement.removeEventListener("keyup",function(n){return e.handleEnterVerify(n,t)})}}},{key:"firebaseApp",get:function(){return this.commonService.getMyQueryParam("app_name")}},{key:"returnUrl",get:function(){return this.commonService.getMyQueryParam("return_url")}}]),e}()).\u0275fac=function(e){return new(e||st)(k.Pb(l.g),k.Pb(d.i),k.Pb(f.e),k.Pb(d.a),k.Pb(U.a),k.Pb(et),k.Pb(ge.a),k.Pb(V.a))},st.\u0275cmp=k.Jb({type:st,selectors:[["app-confirm-account"]],viewQuery:function(e,t){var n;1&e&&k.Yc(nt,!0),2&e&&k.yc(n=k.dc())&&(t.verifyCode=n.first)},features:[k.Cb([et])],decls:50,vars:13,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[2,"margin-top","4vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["id","authForm",1,"card"],[1,"card-body"],["id","verify_wrap"],["id","enter_phone_area",3,"ngStyle"],["id","enter_phone_wrap"],[1,"form-horizontal",3,"formGroup"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["id","phoneInput","type","text","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","formControlName","phone","autocomplete","off",1,"form-control"],["phoneInput",""],["class","alert alert-danger",4,"ngIf"],["id","recaptcha-container","color","primary","mat-raised-button",""],[1,"mt-3","text-center"],[1,"clickable",3,"click"],["class","form-group",4,"ngIf"],["id","verify_area",1,"form-group"],[1,"sms-info"],[2,"text-align","right","font-size","12px","margin-bottom","3px"],["class","mb-2 mt-2 resend-code",4,"ngIf"],["type","string","placeholder","M\xe3 x\xe1c th\u1ef1c","autocomplete","off",1,"form-control"],["verifyCode",""],[1,"input-group-append","ml-1"],["id","buttonVerify","mat-raised-button","","color","primary",3,"disabled","click"],[4,"ngIf"],[1,"text-center","mt-3"],[1,"text-normal","clickable",3,"click"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],[1,"mb-2","mt-2","resend-code"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div",0),k.Vb(1,"div",1),k.Vb(2,"div",2),k.Qb(3,"div",3),k.Vb(4,"div",4),k.Vb(5,"h2",5),k.Qb(6,"img",6),k.Ub(),k.Vb(7,"div",7),k.Vb(8,"div",8),k.Vb(9,"h2"),k.Rc(10),k.Ub(),k.Vb(11,"div"),k.Vb(12,"div",9),k.Vb(13,"div",10),k.Vb(14,"div",11),k.Vb(15,"form",12),k.Vb(16,"div",13),k.Vb(17,"div",14),k.Vb(18,"div",15),k.Qb(19,"input",16,17),k.Ub(),k.Pc(21,it,2,1,"div",18),k.Vb(22,"button",19),k.Rc(23,"Ti\u1ebfp t\u1ee5c"),k.Ub(),k.Vb(24,"div",20),k.Vb(25,"a",21),k.cc("click",function(){return t.skipVerifyPhone()}),k.Rc(26,"B\u1ecf qua"),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Pc(27,rt,4,3,"div",22),k.Ub(),k.Ub(),k.Vb(28,"div",23),k.Vb(29,"div",14),k.Vb(30,"div",24),k.Rc(31," M\u1ed9t tin nh\u1eafn ch\u1ee9a m\xe3 x\xe1c th\u1ef1c v\u1eeba \u0111\u01b0\u1ee3c g\u1eedi t\u1edbi s\u1ed1 \u0111i\u1ec7n tho\u1ea1i "),k.Vb(32,"b"),k.Rc(33),k.Ub(),k.Rc(34,". Vui l\xf2ng nh\u1eadp m\xe3 n\xe0y v\xe0o \xf4 d\u01b0\u1edbi \u0111\xe2y r\u1ed3i \u1ea5n x\xe1c th\u1ef1c "),k.Ub(),k.Vb(35,"div",25),k.Rc(36),k.Ub(),k.Pc(37,ct,4,0,"div",26),k.Vb(38,"div",15),k.Qb(39,"input",27,28),k.Vb(41,"div",29),k.Vb(42,"button",30),k.cc("click",function(){k.Dc(n);var e=k.zc(40);return t.verify_code(e.value)}),k.Pc(43,at,3,0,"span",31),k.Rc(44,"X\xe1c th\u1ef1c "),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Qb(45,"hr"),k.Vb(46,"div",32),k.Vb(47,"a",33),k.cc("click",function(){return t.handleClickLogout()}),k.Rc(48),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Qb(49,"div",3),k.Ub(),k.Ub(),k.Ub()}if(2&e){var o=k.zc(40);k.Db(10),k.Sc("change_phone"==t.confirm_type?"Nh\u1eadp v\xe0o s\u1ed1 \u0111i\u1ec7n tho\u1ea1i m\u1edbi":"X\xe1c th\u1ef1c s\u1ed1 \u0111i\u1ec7n tho\u1ea1i c\u1ee7a b\u1ea1n"),k.Db(3),k.nc("ngStyle",k.sc(11,lt,t.smsSent?"-100%":"0")),k.Db(2),k.nc("formGroup",t.form),k.Db(6),k.nc("ngIf",t.form.controls.phone.invalid&&(t.form.controls.phone.dirty||t.form.controls.phone.touched)),k.Db(6),k.nc("ngIf",t.status_obj.error_obj.message),k.Db(6),k.Sc(t.form.value.phone),k.Db(3),k.Tc("",t.timeOut," s"),k.Db(1),k.nc("ngIf",0==t.timeOut),k.Db(5),k.nc("disabled",""==o.value||t.isVerifying),k.Db(1),k.nc("ngIf",!0===t.status_obj.loading),k.Db(5),k.Sc("forgot_password"==t.confirm_type?"\u0110\u0103ng nh\u1eadp t\xe0i kho\u1ea3n":"change_phone"==t.confirm_type?"Quay l\u1ea1i m\xe0n h\xecnh ch\xednh":"\u0110\u0103ng xu\u1ea5t")}},directives:[s.n,l.B,l.s,l.l,l.d,l.r,l.j,s.m,me.b],pipes:[pe.q],styles:["#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin .5s ease}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}"]}),st);function bt(e,t){if(1&e&&(k.Vb(0,"div",13),k.Vb(1,"div",14),k.Vb(2,"div",15),k.Qb(3,"div",16),k.Qb(4,"div",16),k.Qb(5,"div",16),k.Ub(),k.Ub(),k.Ub()),2&e){var n=k.gc();k.Db(3),k.nc("ngClass",1==n.step_by_step?"active":n.step_by_step>1?"active pro":""),k.Db(1),k.nc("ngClass",2==n.step_by_step?"active":n.step_by_step>2?"active pro":""),k.Db(1),k.nc("ngClass",3==n.step_by_step?"active":n.step_by_step>3?"active pro":"")}}function ut(e,t){1&e&&(k.Vb(0,"div"),k.Vb(1,"div",17),k.Vb(2,"div",18),k.Vb(3,"span",19),k.Rc(4),k.hc(5,"mytranslate"),k.Ub(),k.Ub(),k.Ub(),k.Ub()),2&e&&(k.Db(4),k.Tc("",k.ic(5,1,"lang_cms_common_loading"),"..."))}function ht(e,t){1&e&&(k.Vb(0,"div"),k.Rc(1," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),k.Ub())}function gt(e,t){if(1&e&&(k.Vb(0,"div",40),k.Pc(1,ht,2,0,"div",12),k.Ub()),2&e){var n=k.gc(2);k.Db(1),k.nc("ngIf",n.getErrorType("phone","required"))}}function mt(e,t){1&e&&(k.Vb(0,"div"),k.Rc(1," M\u1eadt kh\u1ea9u ph\u1ea3i d\xe0i t\u1ed1i thi\u1ec3u l\xe0 6! "),k.Ub())}function pt(e,t){if(1&e&&(k.Vb(0,"div",40),k.Pc(1,mt,2,0,"div",12),k.Ub()),2&e){var n=k.gc(2);k.Db(1),k.nc("ngIf",n.getErrorType("password","required")||n.getErrorType("password","minlength"))}}function ft(e,t){1&e&&(k.Vb(0,"div"),k.Rc(1," M\u1eadt kh\u1ea9u kh\xf4ng tr\xf9ng kh\u1edbp! "),k.Ub())}function vt(e,t){if(1&e&&(k.Vb(0,"div",40),k.Pc(1,ft,2,0,"div",12),k.Ub()),2&e){var n=k.gc(2);k.Db(1),k.nc("ngIf",n.getErrorType("repassword","confirm_pass"))}}function _t(e,t){if(1&e&&(k.Vb(0,"div",20),k.Vb(1,"label",41),k.Rc(2),k.hc(3,"mytranslate"),k.Ub(),k.Ub()),2&e){var n=k.gc(2);k.Db(2),k.Tc("*** ",k.ic(3,1,n.status_obj.error_obj.message),"")}}function yt(e,t){1&e&&(k.Vb(0,"span"),k.Qb(1,"span",42),k.Rc(2,"\xa0"),k.Ub())}var kt=function(e){return[e]};function Ut(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div"),k.Vb(1,"div",20),k.Vb(2,"div",21),k.Vb(3,"div",22),k.Qb(4,"input",23),k.Vb(5,"div",24),k.Vb(6,"span",25),k.Vb(7,"mat-icon"),k.Rc(8,"phone"),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Pc(9,gt,2,1,"div",26),k.Ub(),k.Ub(),k.Vb(10,"div",20),k.Vb(11,"div",21),k.Vb(12,"div",22),k.Qb(13,"input",27),k.Vb(14,"div",24),k.Vb(15,"span",25),k.Vb(16,"mat-icon"),k.Rc(17,"lock"),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Pc(18,pt,2,1,"div",26),k.Ub(),k.Ub(),k.Vb(19,"div",20),k.Vb(20,"div",21),k.Vb(21,"div",22),k.Qb(22,"input",28),k.Vb(23,"div",24),k.Vb(24,"span",25),k.Vb(25,"mat-icon"),k.Rc(26,"lock"),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Pc(27,vt,2,1,"div",26),k.Ub(),k.Ub(),k.Pc(28,_t,4,3,"div",29),k.Vb(29,"div",20),k.Vb(30,"div",21),k.Vb(31,"div",30),k.Vb(32,"button",31),k.cc("click",function(){k.Dc(n);var e=k.gc();return e.form.invalid||e.status_obj.loading||e.changePassword()}),k.Pc(33,yt,3,0,"span",12),k.Rc(34,"Ti\u1ebfp t\u1ee5c "),k.Ub(),k.Vb(35,"div",32),k.Vb(36,"span",33),k.Rc(37,"Ho\u1eb7c"),k.Ub(),k.Ub(),k.Vb(38,"div",5),k.Vb(39,"a",34),k.hc(40,"localize"),k.Vb(41,"span",35),k.Vb(42,"mat-icon",36),k.Rc(43,"center_focus_strong"),k.Ub(),k.Rc(44," S\u1eed d\u1ee5ng m\xe3 QR qu\xean m\u1eadt kh\u1ea9u"),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Qb(45,"hr"),k.Vb(46,"div",37),k.Vb(47,"a",38),k.Rc(48,"H\u01b0\u1edbng d\u1eabn \u0111\u1ed5i m\u1eadt kh\u1ea9u tr\xean Azota"),k.Ub(),k.Qb(49,"br"),k.Vb(50,"a",39),k.hc(51,"localize"),k.Rc(52,"\u0110\u0103ng nh\u1eadp t\xe0i kho\u1ea3n"),k.Ub(),k.Ub(),k.Ub()}if(2&e){var o=k.gc();k.Db(9),k.nc("ngIf",o.form.controls.phone.invalid&&(o.form.controls.phone.dirty||o.form.controls.phone.touched)),k.Db(9),k.nc("ngIf",o.form.controls.password.invalid&&o.form.controls.password.dirty),k.Db(9),k.nc("ngIf",o.getErrorType("repassword","confirm_pass")&&o.form.controls.repassword.touched),k.Db(1),k.nc("ngIf",o.status_obj.error_obj.message),k.Db(4),k.nc("disabled",o.form.invalid||o.status_obj.loading||o.is_load_get_phone||o.getErrorType("repassword","confirm_pass")),k.Db(1),k.nc("ngIf",!0===o.status_obj.loading),k.Db(6),k.nc("routerLink",k.sc(12,kt,k.ic(40,8,"/auth/confirm_forgot_password_qr"))),k.Db(11),k.nc("routerLink",k.sc(14,kt,k.ic(51,10,"/auth/login")))}}function Vt(e,t){if(1&e&&(k.Vb(0,"div",46),k.Vb(1,"a"),k.Rc(2,"( Click v\xe0o \u0111\xe2y \u0111\u1ec3 g\u1eedi ngay )"),k.Ub(),k.Ub()),2&e){var n=k.gc(2);k.Db(1),k.Eb("href","sms:"+n.phone_send+"?body=MK "+n.response_change_pass.otp,k.Hc)}}function xt(e,t){if(1&e){var n=k.Wb();k.Vb(0,"button",49),k.cc("click",function(){return k.Dc(n),k.gc(2).changeStepByNext()}),k.Rc(1," Ti\u1ebfp t\u1ee5c "),k.Ub()}}function wt(e,t){if(1&e&&(k.Vb(0,"div",50),k.Vb(1,"div",51),k.Qb(2,"span",42),k.Ub(),k.Vb(3,"div",52),k.Rc(4),k.Ub(),k.Ub()),2&e){var n=k.gc(2);k.Db(4),k.Sc(n.messg)}}function Ct(e,t){if(1&e&&(k.Vb(0,"div"),k.Vb(1,"div",21),k.Vb(2,"div",43),k.Rc(3," Th\xf4ng tin m\u1eadt kh\u1ea9u m\u1edbi c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c ghi nh\u1eadn. \u0110\u1ec3 k\xedch ho\u1ea1t m\u1eadt kh\u1ea9u v\u1eeba t\u1ea1o vui l\xf2ng s\u1eed d\u1ee5ng s\u1ed1 \u0111i\u1ec7n tho\u1ea1i "),k.Vb(4,"strong"),k.Rc(5),k.Ub(),k.Rc(6," v\xe0 so\u1ea1n tin nh\u1eafn: "),k.Ub(),k.Vb(7,"div",44),k.Vb(8,"strong"),k.Rc(9),k.Ub(),k.Rc(10," g\u1eedi "),k.Vb(11,"strong"),k.Rc(12),k.Ub(),k.Ub(),k.Pc(13,Vt,3,1,"div",45),k.Vb(14,"div",46),k.Rc(15,' "C\u01b0\u1edbc ph\xed tin nh\u1eafn \u0111\u01b0\u1ee3c t\xednh theo gi\xe1 c\u01b0\u1edbc ph\xed th\xf4ng th\u01b0\u1eddng c\u1ee7a nh\xe0 m\u1ea1ng" '),k.Ub(),k.Vb(16,"div",46),k.Rc(17," Sau khi g\u1eedi tin nh\u1eafn vui l\xf2ng b\u1ea5m n\xfat b\xean d\u01b0\u1edbi \u0111\u1ec3 ti\u1ebfp t\u1ee5c "),k.Ub(),k.Vb(18,"div",22),k.Pc(19,xt,2,0,"button",47),k.Pc(20,wt,5,1,"div",48),k.Ub(),k.Ub(),k.Ub()),2&e){var n=k.gc();k.Db(5),k.Sc(n.data_change_pass.phone),k.Db(4),k.Tc("MK ",n.response_change_pass.otp,""),k.Db(3),k.Sc(n.phone_send),k.Db(1),k.nc("ngIf",n.is_mobile),k.Db(6),k.nc("ngIf",2==n.step_by_step),k.Db(1),k.nc("ngIf",3==n.step_by_step)}}function Pt(e,t){1&e&&(k.Vb(0,"div"),k.Vb(1,"div",21),k.Vb(2,"div",43),k.Rc(3," M\u1eadt kh\u1ea9u m\u1edbi c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c k\xedch ho\u1ea1t th\xe0nh c\xf4ng. "),k.Ub(),k.Vb(4,"div",37),k.Vb(5,"a",53),k.hc(6,"localize"),k.Rc(7,"\u0110\u0103ng nh\u1eadp t\xe0i kho\u1ea3n"),k.Ub(),k.Vb(8,"a",54),k.Rc(9,"H\u01b0\u1edbng d\u1eabn \u0111\u1ed5i m\u1eadt kh\u1ea9u tr\xean Azota"),k.Ub(),k.Qb(10,"br"),k.Ub(),k.Ub(),k.Ub()),2&e&&(k.Db(5),k.nc("routerLink",k.sc(3,kt,k.ic(6,1,"/auth/login"))))}var St,Ot=((St=function(){function e(t,n,o,i){b(this,e),this.formBuilder=t,this.activeRoute=n,this.commonService=o,this.apiAuthService=i,this.subscriptions=new v.a,this.form=new l.k({}),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.response_change_pass=null,this.data_change_pass=null,this.step_by_step=1,this.loop_check=!1,this.messg="",this.is_load_get_phone=!1,this.phone_send="",this.is_mobile=/Android|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.is_mobile_ios=/webOS|iPhone|iPad|iPod/i.test(navigator.userAgent)}return h(e,[{key:"getError",value:function(e){return!(!this.form.controls[e]||!this.form.controls[e].errors)&&this.form.controls[e].errors}},{key:"getErrorType",value:function(e,t){return"repassword"===e&&"confirm_pass"===t?this.form.controls.repassword.value!=this.form.controls.password.value:!!(this.form.controls[e]&&this.form.controls[e].errors&&this.form.controls[e].errors[t])&&this.form.controls[e].errors[t]}},{key:"changePassword",value:function(){var e=this;if(this.form.valid){this.status_obj.loading=!0;var t=this.commonService.getFormObj(this.form);this.apiAuthService.suportChangePassword({phone:t.phone,password:t.password}).subscribe(function(n){1==n.success?(e.status_obj.loading=!1,e.step_by_step=2,e.response_change_pass=n.data,e.data_change_pass=t):e.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:n}})}}},{key:"getPhone",value:function(){var e=this;this.is_load_get_phone=!0,this.apiAuthService.suportgetPhoneChangePass().subscribe(function(t){1==t.success?(e.is_load_get_phone=!1,e.phone_send=e.randomPhone(t.data.phone)):e.commonService.snackError("Ch\u1ee9c n\u0103ng qu\xean m\u1eadt kh\u1ea9u \u0111ang trong th\u1eddi gian b\u1ea3o tr\xec !",null)})}},{key:"randomPhone",value:function(e){if(e.includes(",")){var t=e.split(",");return t[this.commonService.getRandomNumber(0,t.length-1)]}return e}},{key:"changeStepByNext",value:function(){var e=this;this.status_obj.loading=!0,this.messg="\u0110ang x\u1eed l\xfd d\u1eef li\u1ec7u",this.step_by_step=3,this.loop_check=setInterval(function(){e.apiAuthService.suportCheckStatusPassword(e.data_change_pass.phone).subscribe(function(t){1==t.success?(e.status_obj.loading=!1,1==t.data.status&&(e.step_by_step=4,clearInterval(e.loop_check))):(e.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t},e.messg="H\u1ec7 th\u1ed1ng t\u1ea1m th\u1eddi kh\xf4ng th\u1ec3 x\u1eed l\xfd, vui l\xf2ng th\u1eed l\u1ea1i sau.",clearInterval(e.loop_check))})},1e3)}},{key:"ngOnInit",value:function(){this.form=this.formBuilder.group({phone:["",[l.z.required]],password:["",[l.z.required,l.z.minLength(6)]],repassword:["",[l.z.required,l.z.minLength(6)]]}),this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),this.getPhone()}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe(),!1!==this.loop_check&&clearInterval(this.loop_check)}}]),e}()).\u0275fac=function(e){return new(e||St)(k.Pb(l.g),k.Pb(d.a),k.Pb(U.a),k.Pb(ge.a))},St.\u0275cmp=k.Jb({type:St,selectors:[["app-confirm-forgot-password"]],decls:18,vars:6,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://azotacdn.studybymusic.com/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["class","row m-0",4,"ngIf"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"row","m-0"],[1,"wrapper-progressBar"],[1,"progressBar"],[1,"progressBar-li",3,"ngClass"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","text","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","formControlName","phone","autocomplete","new-phone",1,"form-control"],[1,"input-group-append"],["id","basic-addon3",1,"input-group-text"],["class","alert alert-danger",4,"ngIf"],["type","password","placeholder","M\u1eadt kh\u1ea9u m\u1edbi","formControlName","password","autocomplete","new-password",1,"form-control"],["type","password","placeholder","Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u m\u1edbi","formControlName","repassword","autocomplete","new-repassword",1,"form-control"],["class","form-group",4,"ngIf"],[1,"text-right"],["mat-raised-button","","color","primary",1,"btn","btn-block",3,"disabled","click"],[1,"text-center","mt-2"],[1,"text-mute"],[1,"btn","btn-outline-primary","mt-2","w-100",3,"routerLink"],[1,"link-center"],[1,"mr-1"],[1,"text-center","mt-3"],["href","https://docs.azota.vn/#quen-mat-khau","target","blank",1,"mb-1"],[1,"text-normal",3,"routerLink"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"sms-info"],[2,"text-align","right","font-size","15px","margin","10px 0","text-align","center"],["class","sms-info text-center mb-3",4,"ngIf"],[1,"sms-info","text-center","mb-3"],["class","btn btn-block","mat-raised-button","","color","primary",3,"click",4,"ngIf"],["class","loading",4,"ngIf"],["mat-raised-button","","color","primary",1,"btn","btn-block",3,"click"],[1,"loading"],[1,"icon"],[1,"text"],[1,"mb-1",3,"routerLink"],["href","https://docs.azota.vn/#quen-mat-khau","target","blank",1,"text-normal"]],template:function(e,t){1&e&&(k.Vb(0,"div",0),k.Vb(1,"form",1),k.Vb(2,"div",2),k.Qb(3,"div",3),k.Vb(4,"div",4),k.Vb(5,"h2",5),k.Qb(6,"img",6),k.Ub(),k.Pc(7,bt,6,3,"div",7),k.Vb(8,"div",8),k.Vb(9,"div",9),k.Vb(10,"span",10),k.Rc(11,"\u0110\u1ed5i m\u1eadt kh\u1ea9u m\u1edbi"),k.Ub(),k.Ub(),k.Vb(12,"div",11),k.Pc(13,ut,6,3,"div",12),k.Pc(14,Ut,53,16,"div",12),k.Pc(15,Ct,21,6,"div",12),k.Pc(16,Pt,11,5,"div",12),k.Ub(),k.Ub(),k.Ub(),k.Qb(17,"div",3),k.Ub(),k.Ub(),k.Ub()),2&e&&(k.Db(1),k.nc("formGroup",t.form),k.Db(6),k.nc("ngIf",1!=t.status_obj.form_loading),k.Db(6),k.nc("ngIf",1==t.status_obj.form_loading),k.Db(1),k.nc("ngIf",1!=t.status_obj.form_loading&&1==t.step_by_step),k.Db(1),k.nc("ngIf",1!=t.status_obj.form_loading&&(2==t.step_by_step||3==t.step_by_step)),k.Db(1),k.nc("ngIf",1!=t.status_obj.form_loading&&4==t.step_by_step))},directives:[l.B,l.s,l.l,s.m,s.k,l.d,l.r,l.j,Re.a,me.b,d.k],pipes:[pe.q,f.d],styles:['@charset "UTF-8";#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin .5s ease}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\uf00c"!important;font-family:Font Awesome\\ 5 Free!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}']}),St);function Dt(e,t){1&e&&(k.Vb(0,"div"),k.Vb(1,"div",12),k.Vb(2,"div",13),k.Vb(3,"span",14),k.Rc(4),k.hc(5,"mytranslate"),k.Ub(),k.Ub(),k.Ub(),k.Ub()),2&e&&(k.Db(4),k.Tc("",k.ic(5,1,"lang_cms_common_loading"),"..."))}function Mt(e,t){1&e&&(k.Vb(0,"div"),k.Rc(1," M\u1eadt kh\u1ea9u ph\u1ea3i d\xe0i t\u1ed1i thi\u1ec3u l\xe0 6! "),k.Ub())}function Rt(e,t){if(1&e&&(k.Vb(0,"div",27),k.Pc(1,Mt,2,0,"div",11),k.Ub()),2&e){var n=k.gc(2);k.Db(1),k.nc("ngIf",n.getErrorType("password","required")||n.getErrorType("password","minlength"))}}function It(e,t){if(1&e&&(k.Vb(0,"div",15),k.Vb(1,"label",28),k.Rc(2),k.hc(3,"mytranslate"),k.Ub(),k.Ub()),2&e){var n=k.gc(2);k.Db(2),k.Tc("*** ",k.ic(3,1,n.status_obj.error_obj.message),"")}}function At(e,t){1&e&&(k.Vb(0,"span"),k.Qb(1,"span",29),k.Rc(2,"\xa0"),k.Ub())}var jt=function(e){return[e]};function Lt(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div"),k.Vb(1,"div",15),k.Vb(2,"div",16),k.Vb(3,"div",17),k.Qb(4,"input",18),k.Vb(5,"div",19),k.Vb(6,"span",20),k.Vb(7,"mat-icon"),k.Rc(8,"lock"),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Pc(9,Rt,2,1,"div",21),k.Ub(),k.Ub(),k.Pc(10,It,4,3,"div",22),k.Vb(11,"div",15),k.Vb(12,"div",16),k.Vb(13,"div",23),k.Vb(14,"button",24),k.cc("click",function(){k.Dc(n);var e=k.gc();return e.form.invalid||e.status_obj.loading||e.changePassword()}),k.Pc(15,At,3,0,"span",11),k.Rc(16,"\u0110\u1ed5i m\u1eadt kh\u1ea9u "),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Qb(17,"hr"),k.Vb(18,"div",25),k.Vb(19,"a",26),k.hc(20,"localize"),k.Rc(21,"\u0110\u0103ng nh\u1eadp t\xe0i kho\u1ea3n"),k.Ub(),k.Ub(),k.Ub()}if(2&e){var o=k.gc();k.Db(9),k.nc("ngIf",o.form.controls.password.invalid&&(o.form.controls.password.dirty||o.form.controls.password.touched)),k.Db(1),k.nc("ngIf",o.status_obj.error_obj.message),k.Db(4),k.nc("disabled",o.form.invalid||o.status_obj.loading),k.Db(1),k.nc("ngIf",!0===o.status_obj.loading),k.Db(4),k.nc("routerLink",k.sc(7,jt,k.ic(20,5,"/auth/login")))}}var Qt,Tt=((Qt=function(){function e(t,n,o,i){b(this,e),this.formBuilder=t,this.activeRoute=n,this.commonService=o,this.ApiAuthService=i,this.subscriptions=new v.a,this.form=new l.k({}),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}}}return h(e,[{key:"getError",value:function(e){return!(!this.form.controls[e]||!this.form.controls[e].errors)&&this.form.controls[e].errors}},{key:"getErrorType",value:function(e,t){return!!(this.form.controls[e]&&this.form.controls[e].errors&&this.form.controls[e].errors[t])&&this.form.controls[e].errors[t]}},{key:"changePassword",value:function(){var e=this;if(this.form.valid){var t=this.commonService.getFormObj(this.form),n=this.commonService.getMyQueryParam("token");this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.ApiAuthService.confirmForgotPassword(n,t.password).subscribe(function(t){1==t.success?(e.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},e.ApiAuthService.redirectLoginByRole(!1)):e.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t}}))}}},{key:"ngOnInit",value:function(){this.form=this.formBuilder.group({password:["",[l.z.required,l.z.minLength(6)]]}),this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"})}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Qt)(k.Pb(l.g),k.Pb(d.a),k.Pb(U.a),k.Pb(ge.a))},Qt.\u0275cmp=k.Jb({type:Qt,selectors:[["app-confirm-forgot-password-admin"]],decls:15,vars:3,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","password","placeholder","M\u1eadt kh\u1ea9u m\u1edbi","formControlName","password","autocomplete","new-password",1,"form-control"],[1,"input-group-append"],["id","basic-addon3",1,"input-group-text"],["class","alert alert-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"text-right"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"text-center","mt-3"],[1,"text-normal",3,"routerLink"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&(k.Vb(0,"div",0),k.Vb(1,"form",1),k.Vb(2,"div",2),k.Qb(3,"div",3),k.Vb(4,"div",4),k.Vb(5,"h2",5),k.Qb(6,"img",6),k.Ub(),k.Vb(7,"div",7),k.Vb(8,"div",8),k.Vb(9,"span",9),k.Rc(10,"\u0110\u1ed5i m\u1eadt kh\u1ea9u m\u1edbi"),k.Ub(),k.Ub(),k.Vb(11,"div",10),k.Pc(12,Dt,6,3,"div",11),k.Pc(13,Lt,22,9,"div",11),k.Ub(),k.Ub(),k.Ub(),k.Qb(14,"div",3),k.Ub(),k.Ub(),k.Ub()),2&e&&(k.Db(1),k.nc("formGroup",t.form),k.Db(11),k.nc("ngIf",1==t.status_obj.form_loading),k.Db(1),k.nc("ngIf",1!=t.status_obj.form_loading))},directives:[l.B,l.s,l.l,s.m,l.d,l.r,l.j,Re.a,me.b,d.k],pipes:[pe.q,f.d],encapsulation:2}),Qt),Et=a("0pw4"),Ft=a("2Vo4"),zt=a("Zmss"),qt=function(){function o(e,t,n,i,r){var c=this;b(this,o),this._legacyCanvasSize=o.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=e,this.$canvas=document.createElement("canvas"),n&&"object"==typeof n?this._onDecode=t:(n||i||r?console.warn("You're using a deprecated version of the QrScanner constructor which will be removed in the future"):console.warn("Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=t),this._onDecodeError=(t="object"==typeof n?n:{}).onDecodeError||("function"==typeof n?n:this._onDecodeError),this._calculateScanRegion=t.calculateScanRegion||("function"==typeof i?i:this._calculateScanRegion),this._preferredCamera=t.preferredCamera||r||this._preferredCamera,this._legacyCanvasSize="number"==typeof n?n:"number"==typeof i?i:this._legacyCanvasSize,this._maxScansPerSecond=t.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),e.disablePictureInPicture=!0,e.playsInline=!0,e.muted=!0;var a=!1;if(e.hidden&&(e.hidden=!1,a=!0),document.body.contains(e)||(document.body.appendChild(e),a=!0),n=e.parentElement,t.highlightScanRegion||t.highlightCodeOutline){if(i=!!t.overlay,this.$overlay=t.overlay||document.createElement("div"),(r=this.$overlay.style).position="absolute",r.display="none",r.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!i&&t.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch(s){}n.insertBefore(this.$overlay,this.$video.nextSibling)}t.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(e),requestAnimationFrame(function(){var t=window.getComputedStyle(e);"none"===t.display&&(e.style.setProperty("display","block","important"),a=!0),"visible"!==t.visibility&&(e.style.setProperty("visibility","visible","important"),a=!0),a&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),e.style.opacity="0",e.style.width="0",e.style.height="0",c.$overlay&&c.$overlay.parentElement&&c.$overlay.parentElement.removeChild(c.$overlay),delete c.$overlay,delete c.$codeOutlineHighlight),c.$overlay&&c._updateOverlay()}),e.addEventListener("play",this._onPlay),e.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=o.createQrEngine()}var r,c,s,l,d,u,g,m,p,f,v,_,y,k,U,V;return h(o,[{key:"hasFlash",value:(V=i(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.$video.srcObject){e.next=7;break}if(this.$video.srcObject instanceof MediaStream){e.next=4;break}return e.abrupt("return",!1);case 4:t=this.$video.srcObject,e.next=10;break;case 7:return e.next=9,this._getCameraStream();case 9:t=e.sent.stream;case 10:return e.abrupt("return","torch"in t.getVideoTracks()[0].getSettings());case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",!1);case 16:return e.prev=16,t&&t!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),o._stopVideoStream(t)),e.finish(16);case 19:case"end":return e.stop()}},e,this,[[0,13,16,19]])})),function(){return V.apply(this,arguments)})},{key:"isFlashOn",value:function(){return this._flashOn}},{key:"toggleFlash",value:(U=i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._flashOn){e.next=5;break}return e.next=3,this.turnFlashOff();case 3:e.next=7;break;case 5:return e.next=7,this.turnFlashOn();case 7:case"end":return e.stop()}},e,this)})),function(){return U.apply(this,arguments)})},{key:"turnFlashOn",value:(k=i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._flashOn||this._destroyed||(this._flashOn=!0,!this._active||this._paused)){e.next=13;break}return e.prev=1,e.next=4,this.hasFlash();case 4:if(e.sent){e.next=6;break}throw"No flash available";case 6:return e.next=8,this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]});case 8:e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(1),this._flashOn=!1,e.t0;case 13:case"end":return e.stop()}},e,this,[[1,10]])})),function(){return k.apply(this,arguments)})},{key:"turnFlashOff",value:(y=i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._flashOn,!e.t0){e.next=5;break}return this._flashOn=!1,e.next=5,this._restartVideoStream();case 5:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"destroy",value:function(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),o._postWorkerMessage(this._qrEnginePromise,"close")}},{key:"start",value:(_=i(regeneratorRuntime.mark(function e(){var t,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._destroyed){e.next=2;break}throw Error("The QR scanner can not be started as it had been destroyed.");case 2:if(this._active&&!this._paused||("https:"!==window.location.protocol&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,document.hidden)){e.next=29;break}if(this._paused=!1,!this.$video.srcObject){e.next=8;break}return e.next=6,this.$video.play();case 6:e.next=29;break;case 8:return e.prev=8,e.next=11,this._getCameraStream();case 11:if(t=e.sent,n=t.stream,i=t.facingMode,this._active&&!this._paused){e.next=18;break}o._stopVideoStream(n),e.next=23;break;case 18:return this._setVideoMirror(i),this.$video.srcObject=n,e.next=22,this.$video.play();case 22:this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(function(){}));case 23:e.next=29;break;case 25:if(e.prev=25,e.t0=e.catch(8),this._paused){e.next=29;break}throw this._active=!1,e.t0;case 29:case"end":return e.stop()}},e,this,[[8,25]])})),function(){return _.apply(this,arguments)})},{key:"stop",value:function(){this.pause(),this._active=!1}},{key:"pause",value:(v=i(regeneratorRuntime.mark(function e(){var t,n,i=this,r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]&&r[0],this._paused=!0,this._active){e.next=3;break}return e.abrupt("return",!0);case 3:if(this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none"),n=function(){i.$video.srcObject instanceof MediaStream&&(o._stopVideoStream(i.$video.srcObject),i.$video.srcObject=null)},!t){e.next=9;break}e.t0=(n(),!0),e.next=12;break;case 9:return e.next=11,new Promise(function(e){return setTimeout(e,300)});case 11:e.t0=!!this._paused&&(n(),!0);case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"setCamera",value:(f=i(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t!==this._preferredCamera,!e.t0){e.next=5;break}return this._preferredCamera=t,e.next=5,this._restartVideoStream();case 5:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"setGrayscaleWeights",value:function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];o._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:e,green:t,blue:n,useIntegerApproximation:i})}},{key:"setInversionMode",value:function(e){o._postWorkerMessage(this._qrEnginePromise,"inversionMode",e)}},{key:"_onPlay",value:function(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}},{key:"_onLoadedMetaData",value:function(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}},{key:"_onVisibilityChange",value:function(){document.hidden?this.pause():this._active&&this.start()}},{key:"_calculateScanRegion",value:function(e){var t=Math.round(2/3*Math.min(e.videoWidth,e.videoHeight));return{x:Math.round((e.videoWidth-t)/2),y:Math.round((e.videoHeight-t)/2),width:t,height:t,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}},{key:"_updateOverlay",value:function(){var e=this;requestAnimationFrame(function(){if(e.$overlay){var t=e.$video,o=t.videoWidth,i=t.videoHeight,r=t.offsetWidth,c=t.offsetHeight,a=t.offsetLeft,s=t.offsetTop,l=window.getComputedStyle(t),d=l.objectFit,b=o/i,u=r/c;switch(d){case"none":var h=o,g=i;break;case"fill":h=r,g=c;break;default:("cover"===d?b>u:b<u)?h=(g=c)*b:g=(h=r)/b,"scale-down"===d&&(h=Math.min(h,o),g=Math.min(g,i))}var m=n(l.objectPosition.split(" ").map(function(e,t){var n=parseFloat(e);return e.endsWith("%")?(t?c-g:r-h)*n/100:n}),2),p=m[0],f=m[1];u=e._scanRegion.height||i,d=e._scanRegion.x||0;var v=e._scanRegion.y||0;(b=e.$overlay.style).width=(l=e._scanRegion.width||o)/o*h+"px",b.height=u/i*g+"px",b.top=s+f+v/i*g+"px",i=/scaleX\(-1\)/.test(t.style.transform),b.left=a+(i?r-p-h:p)+(i?o-d-l:d)/o*h+"px",b.transform=t.style.transform}})}},{key:"_scanFrame",value:function(){var e=this;!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(i(regeneratorRuntime.mark(function t(){var n,i,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(1>=e.$video.readyState){t.next=29;break}if(n=Date.now()-e._lastScanTimestamp,i=1e3/e._maxScansPerSecond,t.t0=n<i,!t.t0){t.next=6;break}return t.next=6,new Promise(function(e){return setTimeout(e,i-n)});case 6:return e._lastScanTimestamp=Date.now(),t.prev=7,t.next=10,o.scanImage(e.$video,{scanRegion:e._scanRegion,qrEngine:e._qrEnginePromise,canvas:e.$canvas});case 10:r=t.sent,t.next=18;break;case 13:if(t.prev=13,t.t1=t.catch(7),e._active){t.next=17;break}return t.abrupt("return");case 17:e._onDecodeError(t.t1);case 18:if(t.t2=!o._disableBarcodeDetector,t.t2){t.next=25;break}return t.next=22,e._qrEnginePromise;case 22:t.t3=t.sent,t.t4=Worker,t.t2=t.t3 instanceof t.t4;case 25:if(t.t5=t.t2,t.t5){t.next=28;break}e._qrEnginePromise=o.createQrEngine();case 28:r?(e._onDecode?e._onDecode(r):e._legacyOnDecode&&e._legacyOnDecode(r.data),e.$codeOutlineHighlight&&(clearTimeout(e._codeOutlineHighlightRemovalTimeout),e._codeOutlineHighlightRemovalTimeout=void 0,e.$codeOutlineHighlight.setAttribute("viewBox",(e._scanRegion.x||0)+" "+(e._scanRegion.y||0)+" "+(e._scanRegion.width||e.$video.videoWidth)+" "+(e._scanRegion.height||e.$video.videoHeight)),e.$codeOutlineHighlight.firstElementChild.setAttribute("points",r.cornerPoints.map(function(e){var t=e.x,n=e.y;return"".concat(t,",").concat(n)}).join(" ")),e.$codeOutlineHighlight.style.display="")):e.$codeOutlineHighlight&&!e._codeOutlineHighlightRemovalTimeout&&(e._codeOutlineHighlightRemovalTimeout=setTimeout(function(){return e.$codeOutlineHighlight.style.display="none"},100));case 29:e._scanFrame();case 30:case"end":return t.stop()}},t,null,[[7,13]])})))}},{key:"_onDecodeError",value:function(e){e!==o.NO_QR_CODE_FOUND&&console.log(e)}},{key:"_getCameraStream",value:(p=i(regeneratorRuntime.mark(function e(){var n,o,i,r,c,a,s,l=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.mediaDevices){e.next=2;break}throw"Camera not found.";case 2:n=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",i=(o=[{width:{min:1024}},{width:{min:768}},{}]).map(function(e){return Object.assign({},e,(t={},o=n,i={exact:l._preferredCamera},o in t?Object.defineProperty(t,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[o]=i,t));var t,o,i}),r=0,c=[].concat(t(i),o);case 4:if(!(r<c.length)){e.next=18;break}return a=c[r],e.prev=6,e.next=9,navigator.mediaDevices.getUserMedia({video:a,audio:!1});case 9:return s=e.sent,e.abrupt("return",{stream:s,facingMode:this._getFacingMode(s)||(a.facingMode?this._preferredCamera:"environment"===this._preferredCamera?"user":"environment")});case 13:e.prev=13,e.t0=e.catch(6);case 15:r++,e.next=4;break;case 18:throw"Camera not found.";case 19:case"end":return e.stop()}},e,this,[[6,13]])})),function(){return p.apply(this,arguments)})},{key:"_restartVideoStream",value:(m=i(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._paused,e.next=3,this.pause(!0);case 3:if(e.t1=e.sent,!e.t1){e.next=6;break}e.t1=!t;case 6:if(e.t0=e.t1,!e.t0){e.next=9;break}e.t0=this._active;case 9:if(e.t2=e.t0,!e.t2){e.next=13;break}return e.next=13,this.start();case 13:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"_setVideoMirror",value:function(e){this.$video.style.transform="scaleX("+("user"===e?-1:1)+")"}},{key:"_getFacingMode",value:function(e){return(e=e.getVideoTracks()[0])?/rear|back|environment/i.test(e.label)?"environment":/front|user|face/i.test(e.label)?"user":null:null}}],[{key:"hasCamera",value:(g=i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.listCameras(!1);case 3:return e.abrupt("return",!!e.sent.length);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),function(){return g.apply(this,arguments)})},{key:"listCameras",value:(u=i(regeneratorRuntime.mark(function e(){var t,n,r,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]&&c[0],navigator.mediaDevices){e.next=3;break}return e.abrupt("return",[]);case 3:if(r=function(){var e=i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.enumerateDevices();case 2:return e.abrupt("return",e.sent.filter(function(e){return"videoinput"===e.kind}));case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),e.prev=4,e.t0=t,!e.t0){e.next=10;break}return e.next=9,r();case 9:e.t0=e.sent.every(function(e){return!e.label});case 10:if(e.t1=e.t0,!e.t1){e.next=15;break}return e.next=14,navigator.mediaDevices.getUserMedia({audio:!1,video:!0});case 14:n=e.sent;case 15:e.next=19;break;case 17:e.prev=17,e.t2=e.catch(4);case 19:return e.prev=19,e.next=22,r();case 22:return e.abrupt("return",e.sent.map(function(e,t){return{id:e.deviceId,label:e.label||(0===t?"Default Camera":"Camera "+(t+1))}}));case 23:return e.prev=23,n&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),o._stopVideoStream(n)),e.finish(23);case 26:case"end":return e.stop()}},e,null,[[4,17],[19,,23,26]])})),function(){return u.apply(this,arguments)})},{key:"scanImage",value:(d=i(regeneratorRuntime.mark(function e(t,r,c,a){var s,l,d,b,u,h,g,m,p,f,v,_,y,k=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=k.length>4&&void 0!==k[4]&&k[4],l=k.length>5&&void 0!==k[5]&&k[5],b=!1,r&&("scanRegion"in r||"qrEngine"in r||"canvas"in r||"disallowCanvasResizing"in r||"alsoTryWithoutScanRegion"in r||"returnDetailedScanResult"in r)?(d=r.scanRegion,c=r.qrEngine,a=r.canvas,s=r.disallowCanvasResizing||!1,l=r.alsoTryWithoutScanRegion||!1,b=!0):r||c||a||s||l?console.warn("You're using a deprecated api for scanImage which will be removed in the future."):console.warn("Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),r=!!c,e.prev=4,e.next=7,Promise.all([c||o.createQrEngine(),o._loadImage(t)]);case 7:if(u=e.sent,h=n(u,2),c=h[0],p=h[1],g=o._drawToCanvas(p,d,a,s),m=n(g,2),a=m[0],f=m[1],!(c instanceof Worker)){e.next=21;break}return _=c,r||o._postWorkerMessageSync(_,"inversionMode","both"),e.next=18,new Promise(function(e,t){var n,i,r,c=-1;i=function(a){a.data.id===c&&(_.removeEventListener("message",i),_.removeEventListener("error",r),clearTimeout(n),null!==a.data.data?e({data:a.data.data,cornerPoints:o._convertPoints(a.data.cornerPoints,d)}):t(o.NO_QR_CODE_FOUND))},r=function(e){_.removeEventListener("message",i),_.removeEventListener("error",r),clearTimeout(n),t("Scanner error: "+(e?e.message||e:"Unknown Error"))},_.addEventListener("message",i),_.addEventListener("error",r),n=setTimeout(function(){return r("timeout")},1e4);var s=f.getImageData(0,0,a.width,a.height);c=o._postWorkerMessageSync(_,"decode",s,[s.data.buffer])});case 18:v=e.sent,e.next=24;break;case 21:return e.next=23,Promise.race([new Promise(function(e,t){return window.setTimeout(function(){return t("Scanner error: timeout")},1e4)}),i(regeneratorRuntime.mark(function e(){var i,r,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.detect(a);case 3:if(i=e.sent,r=n(i,1),b=r[0]){e.next=8;break}throw o.NO_QR_CODE_FOUND;case 8:return e.abrupt("return",{data:b.rawValue,cornerPoints:o._convertPoints(b.cornerPoints,d)});case 11:if(e.prev=11,e.t0=e.catch(0),!/not implemented|service unavailable/.test(b=e.t0.message||e.t0)){e.next=15;break}return e.abrupt("return",(o._disableBarcodeDetector=!0,o.scanImage(t,{scanRegion:d,canvas:a,disallowCanvasResizing:s,alsoTryWithoutScanRegion:l})));case 15:throw"Scanner error: "+b;case 16:case"end":return e.stop()}},e,null,[[0,11]])}))()]);case 23:v=e.sent;case 24:return e.abrupt("return",b?v:v.data);case 27:if(e.prev=27,e.t0=e.catch(4),d&&l){e.next=31;break}throw e.t0;case 31:return e.next=33,o.scanImage(t,{qrEngine:c,canvas:a,disallowCanvasResizing:s});case 33:return y=e.sent,e.abrupt("return",b?y:y.data);case 35:return e.prev=35,r||o._postWorkerMessage(c,"close"),e.finish(35);case 38:case"end":return e.stop()}},e,null,[[4,27,35,38]])})),function(e,t,n,o){return d.apply(this,arguments)})},{key:"createQrEngine",value:(l=i(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&console.warn("Specifying a worker path is not required and not supported anymore."),e.t0=!o._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats,!e.t0){e.next=6;break}return e.next=5,BarcodeDetector.getSupportedFormats();case 5:e.t0=e.sent.includes("qr_code");case 6:if(!e.t0){e.next=10;break}e.t1=new BarcodeDetector({formats:["qr_code"]}),e.next=11;break;case 10:e.t1=a.e(34).then(a.bind(null,"hyQ9")).then(function(e){return e.createWorker()});case 11:return e.abrupt("return",e.t1);case 12:case"end":return e.stop()}},e)})),function(e){return l.apply(this,arguments)})},{key:"_convertPoints",value:function(t,n){if(!n)return t;var o=n.x||0,i=n.y||0,r=n.width&&n.downScaledWidth?n.width/n.downScaledWidth:1;n=n.height&&n.downScaledHeight?n.height/n.downScaledHeight:1;var c,a=e(t);try{for(a.s();!(c=a.n()).done;){var s=c.value;s.x=s.x*r+o,s.y=s.y*n+i}}catch(l){a.e(l)}finally{a.f()}return t}},{key:"_stopVideoStream",value:function(t){var n,o=e(t.getTracks());try{for(o.s();!(n=o.n()).done;){var i=n.value;i.stop(),t.removeTrack(i)}}catch(r){o.e(r)}finally{o.f()}}},{key:"_drawToCanvas",value:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n=n||document.createElement("canvas");var i=t&&t.x?t.x:0,r=t&&t.y?t.y:0,c=t&&t.width?t.width:e.videoWidth||e.width,a=t&&t.height?t.height:e.videoHeight||e.height;return o||(o=t&&t.downScaledWidth?t.downScaledWidth:c,t=t&&t.downScaledHeight?t.downScaledHeight:a,n.width!==o&&(n.width=o),n.height!==t&&(n.height=t)),(t=n.getContext("2d",{alpha:!1})).imageSmoothingEnabled=!1,t.drawImage(e,i,r,c,a,0,0,n.width,n.height),[n,t]}},{key:"_loadImage",value:(s=i(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof Image)){e.next=4;break}return e.next=3,o._awaitImageLoad(t);case 3:return e.abrupt("return",t);case 4:if(!(t instanceof HTMLVideoElement||t instanceof HTMLCanvasElement||t instanceof SVGImageElement||"OffscreenCanvas"in window&&t instanceof OffscreenCanvas||"ImageBitmap"in window&&t instanceof ImageBitmap)){e.next=6;break}return e.abrupt("return",t);case 6:if(t instanceof File||t instanceof Blob||t instanceof URL||"string"==typeof t){e.next=8;break}throw"Unsupported image type.";case 8:return(n=new Image).src=t instanceof File||t instanceof Blob?URL.createObjectURL(t):t.toString(),e.prev=10,e.next=13,o._awaitImageLoad(n);case 13:return e.abrupt("return",n);case 14:return e.prev=14,(t instanceof File||t instanceof Blob)&&URL.revokeObjectURL(n.src),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[10,,14,17]])})),function(e){return s.apply(this,arguments)})},{key:"_awaitImageLoad",value:(c=i(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.complete&&0!==t.naturalWidth,e.t0){e.next=4;break}return e.next=4,new Promise(function(e,n){var o=function o(i){t.removeEventListener("load",o),t.removeEventListener("error",o),i instanceof ErrorEvent?n("Image load error"):e()};t.addEventListener("load",o),t.addEventListener("error",o)});case 4:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)})},{key:"_postWorkerMessage",value:(r=i(regeneratorRuntime.mark(function e(t,n,i,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,t;case 3:return e.t1=e.sent,e.t2=n,e.t3=i,e.t4=r,e.abrupt("return",e.t0._postWorkerMessageSync.call(e.t0,e.t1,e.t2,e.t3,e.t4));case 8:case"end":return e.stop()}},e)})),function(e,t,n,o){return r.apply(this,arguments)})},{key:"_postWorkerMessageSync",value:function(e,t,n,i){if(!(e instanceof Worker))return-1;var r=o._workerMessageId++;return e.postMessage({id:r,type:t,data:n},i),r}},{key:"WORKER_PATH",set:function(e){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}}]),o}();qt.DEFAULT_CANVAS_SIZE=400,qt.NO_QR_CODE_FOUND="No QR code found",qt._disableBarcodeDetector=!1,qt._workerMessageId=0;var Bt=qt,Nt=a("Ik8O"),Wt=a("IyRd");function Ht(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div",8),k.Vb(1,"div",9),k.cc("click",function(){return k.Dc(n),k.gc().switchVideoScan()}),k.Vb(2,"mat-icon"),k.Rc(3,"loop"),k.Ub(),k.Ub(),k.Ub()}}function Gt(e,t){if(1&e){var n=k.Wb();k.Vb(0,"zxing-scanner",10),k.cc("deviceChange",function(e){return k.Dc(n),k.gc().currentDevice=e})("scanSuccess",function(e){return k.Dc(n),k.gc().onCodeResult(e)})("permissionResponse",function(e){return k.Dc(n),k.gc().onHasPermission(e)})("camerasFound",function(e){return k.Dc(n),k.gc().onCamerasFound(e)})("torchCompatible",function(e){return k.Dc(n),k.gc().onTorchCompatible(e)}),k.Ub()}if(2&e){var o=k.gc();k.nc("torch",o.torchEnabled)("device",o.currentDevice)("tryHarder",o.tryHarder)("formats",o.formatsEnabled)}}function Yt(e,t){if(1&e&&(k.Vb(0,"span",11),k.Rc(1),k.Ub()),2&e){var n=k.gc();k.Db(1),k.Tc("( ",n.contentResult," )")}}var $t,Kt=(($t=function(){function e(){b(this,e),this.outContentScan=new k.o,this.outNotCamAllow=new k.o,this.isShowDebugLog=!1,this.isShowScanner=!1,this.availableDevices=[],this.currentDevice=void 0,this.hasDevices=!1,this.hasPermission=!1,this.qrResultString="",this.torchEnabled=!1,this.torchAvailable$=new Ft.a(!1),this.tryHarder=!1,this.formatsEnabled=[Nt.BarcodeFormat.CODE_128,Nt.BarcodeFormat.DATA_MATRIX,Nt.BarcodeFormat.EAN_13,Nt.BarcodeFormat.QR_CODE],this.deviceCams=[],this.deviceCamSelect=0,this.isShowLog=!1,this.snd=new Audio("data:audio/wav;base64,//uQRAAAAWMSLwUIYAAsYkXgoQwAEaYLWfkWgAI0wWs/ItAAAGDgYtAgAyN+QWaAAihwMWm4G8QQRDiMcCBcH3Cc+CDv/7xA4Tvh9Rz/y8QADBwMWgQAZG/ILNAARQ4GLTcDeIIIhxGOBAuD7hOfBB3/94gcJ3w+o5/5eIAIAAAVwWgQAVQ2ORaIQwEMAJiDg95G4nQL7mQVWI6GwRcfsZAcsKkJvxgxEjzFUgfHoSQ9Qq7KNwqHwuB13MA4a1q/DmBrHgPcmjiGoh//EwC5nGPEmS4RcfkVKOhJf+WOgoxJclFz3kgn//dBA+ya1GhurNn8zb//9NNutNuhz31f////9vt///z+IdAEAAAK4LQIAKobHItEIYCGAExBwe8jcToF9zIKrEdDYIuP2MgOWFSE34wYiR5iqQPj0JIeoVdlG4VD4XA67mAcNa1fhzA1jwHuTRxDUQ//iYBczjHiTJcIuPyKlHQkv/LHQUYkuSi57yQT//uggfZNajQ3Vmz+Zt//+mm3Wm3Q576v////+32///5/EOgAAADVghQAAAAA//uQZAUAB1WI0PZugAAAAAoQwAAAEk3nRd2qAAAAACiDgAAAAAAABCqEEQRLCgwpBGMlJkIz8jKhGvj4k6jzRnqasNKIeoh5gI7BJaC1A1AoNBjJgbyApVS4IDlZgDU5WUAxEKDNmmALHzZp0Fkz1FMTmGFl1FMEyodIavcCAUHDWrKAIA4aa2oCgILEBupZgHvAhEBcZ6joQBxS76AgccrFlczBvKLC0QI2cBoCFvfTDAo7eoOQInqDPBtvrDEZBNYN5xwNwxQRfw8ZQ5wQVLvO8OYU+mHvFLlDh05Mdg7BT6YrRPpCBznMB2r//xKJjyyOh+cImr2/4doscwD6neZjuZR4AgAABYAAAABy1xcdQtxYBYYZdifkUDgzzXaXn98Z0oi9ILU5mBjFANmRwlVJ3/6jYDAmxaiDG3/6xjQQCCKkRb/6kg/wW+kSJ5//rLobkLSiKmqP/0ikJuDaSaSf/6JiLYLEYnW/+kXg1WRVJL/9EmQ1YZIsv/6Qzwy5qk7/+tEU0nkls3/zIUMPKNX/6yZLf+kFgAfgGyLFAUwY//uQZAUABcd5UiNPVXAAAApAAAAAE0VZQKw9ISAAACgAAAAAVQIygIElVrFkBS+Jhi+EAuu+lKAkYUEIsmEAEoMeDmCETMvfSHTGkF5RWH7kz/ESHWPAq/kcCRhqBtMdokPdM7vil7RG98A2sc7zO6ZvTdM7pmOUAZTnJW+NXxqmd41dqJ6mLTXxrPpnV8avaIf5SvL7pndPvPpndJR9Kuu8fePvuiuhorgWjp7Mf/PRjxcFCPDkW31srioCExivv9lcwKEaHsf/7ow2Fl1T/9RkXgEhYElAoCLFtMArxwivDJJ+bR1HTKJdlEoTELCIqgEwVGSQ+hIm0NbK8WXcTEI0UPoa2NbG4y2K00JEWbZavJXkYaqo9CRHS55FcZTjKEk3NKoCYUnSQ0rWxrZbFKbKIhOKPZe1cJKzZSaQrIyULHDZmV5K4xySsDRKWOruanGtjLJXFEmwaIbDLX0hIPBUQPVFVkQkDoUNfSoDgQGKPekoxeGzA4DUvnn4bxzcZrtJyipKfPNy5w+9lnXwgqsiyHNeSVpemw4bWb9psYeq//uQZBoABQt4yMVxYAIAAAkQoAAAHvYpL5m6AAgAACXDAAAAD59jblTirQe9upFsmZbpMudy7Lz1X1DYsxOOSWpfPqNX2WqktK0DMvuGwlbNj44TleLPQ+Gsfb+GOWOKJoIrWb3cIMeeON6lz2umTqMXV8Mj30yWPpjoSa9ujK8SyeJP5y5mOW1D6hvLepeveEAEDo0mgCRClOEgANv3B9a6fikgUSu/DmAMATrGx7nng5p5iimPNZsfQLYB2sDLIkzRKZOHGAaUyDcpFBSLG9MCQALgAIgQs2YunOszLSAyQYPVC2YdGGeHD2dTdJk1pAHGAWDjnkcLKFymS3RQZTInzySoBwMG0QueC3gMsCEYxUqlrcxK6k1LQQcsmyYeQPdC2YfuGPASCBkcVMQQqpVJshui1tkXQJQV0OXGAZMXSOEEBRirXbVRQW7ugq7IM7rPWSZyDlM3IuNEkxzCOJ0ny2ThNkyRai1b6ev//3dzNGzNb//4uAvHT5sURcZCFcuKLhOFs8mLAAEAt4UWAAIABAAAAAB4qbHo0tIjVkUU//uQZAwABfSFz3ZqQAAAAAngwAAAE1HjMp2qAAAAACZDgAAAD5UkTE1UgZEUExqYynN1qZvqIOREEFmBcJQkwdxiFtw0qEOkGYfRDifBui9MQg4QAHAqWtAWHoCxu1Yf4VfWLPIM2mHDFsbQEVGwyqQoQcwnfHeIkNt9YnkiaS1oizycqJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=")}return h(e,[{key:"clearResult",value:function(){this.qrResultString=""}},{key:"onCamerasFound",value:function(e){this.availableDevices=e,this.hasDevices=Boolean(e&&e.length)}},{key:"onCodeResult",value:function(e){this.qrResultString=e,zt.a.isEncode(e)?this.switchChangeContent(zt.a.decode(e)):this.switchChangeContent(null)}},{key:"onDeviceSelectChange",value:function(e){var t=this.availableDevices.find(function(t){return t.deviceId===e});this.currentDevice=t||void 0}},{key:"onHasPermission",value:function(e){this.hasPermission=e}},{key:"onTorchCompatible",value:function(e){this.torchAvailable$.next(e||!1)}},{key:"toggleTorch",value:function(){this.torchEnabled=!this.torchEnabled}},{key:"toggleTryHarder",value:function(){this.tryHarder=!this.tryHarder}},{key:"ngOnInit",value:function(){}},{key:"switchVideoScan",value:function(){this.deviceCamSelect++,this.deviceCamSelect>=this.availableDevices.length&&(this.deviceCamSelect=0),this.currentDevice=this.availableDevices[this.deviceCamSelect]}},{key:"unInitSscanCam",value:function(){this.isShowScanner=!1}},{key:"initVideoScan",value:function(){this.isShowScanner=!0}},{key:"initScanCam",value:function(){this.isShowScanner=!0}},{key:"onFileSelected",value:function(e){if(e.target.files.length>0){var t=e.target.files[0];if(!t)return;this.scanProcessSelectFile(e,t,0)}else this.switchChangeContent(null)}},{key:"scanProcessSelectFile",value:function(e,t,n){var o=this;Bt.scanImage(t,{returnDetailedScanResult:!0}).then(function(t){o.thatLog("onFileSelected: 0 "+JSON.stringify(t)),e.target.value=null;var n=t.data;o.thatLog("onFileSelected: 1 "+n),zt.a.isEncode(n)?o.switchChangeContent(zt.a.decode(n)):o.switchChangeContent(null)}).catch(function(i){n>=2?(e.target.value=null,o.thatLog("onFileSelected: 2 "+JSON.stringify(i)),o.switchChangeContent(null)):o.scanProcessSelectFile(e,t,n++)})}},{key:"pauseScanQrcode",value:function(){this.isShowScanner=!1}},{key:"switchChangeContent",value:function(e){this.contentResult=e,this.pauseScanQrcode(),this.beep(),navigator&&navigator.vibrate&&navigator.vibrate(200),this.thatLog("switchChangeContent: "+e),this.outContentScan.emit(this.contentResult)}},{key:"thatLog",value:function(e){!0===this.isShowDebugLog&&console.log("__AZT SCAN__ :: "+e)}},{key:"beep",value:function(){this.snd&&this.snd.play()}},{key:"ngOnDestroy",value:function(){this.unInitSscanCam()}}]),e}()).\u0275fac=function(e){return new(e||$t)},$t.\u0275cmp=k.Jb({type:$t,selectors:[["azt-scan-qrcode"]],outputs:{outContentScan:"outContentScan",outNotCamAllow:"outNotCamAllow"},decls:11,vars:3,consts:[[1,"scan__card-video"],["class","scan__card-control",4,"ngIf"],[3,"torch","device","tryHarder","formats","deviceChange","scanSuccess","permissionResponse","camerasFound","torchCompatible",4,"ngIf"],[1,"text-center","mt-3"],["class","text-center",4,"ngIf"],["type","file","name","fileQrcode",2,"display","none",3,"change"],["formChoseFile",""],[1,"link-center",3,"click"],[1,"scan__card-control"],[1,"scan__card-control--switch",3,"click"],[3,"torch","device","tryHarder","formats","deviceChange","scanSuccess","permissionResponse","camerasFound","torchCompatible"],[1,"text-center"]],template:function(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div",0),k.Pc(1,Ht,4,0,"div",1),k.Pc(2,Gt,1,4,"zxing-scanner",2),k.Ub(),k.Vb(3,"div",3),k.Pc(4,Yt,2,1,"span",4),k.Vb(5,"input",5,6),k.cc("change",function(e){return t.onFileSelected(e)}),k.Ub(),k.Vb(7,"a",7),k.cc("click",function(){return k.Dc(n),k.zc(6).click()}),k.Vb(8,"mat-icon"),k.Rc(9,"upload"),k.Ub(),k.Rc(10," T\u1ea3i l\xean m\xe3 c\xf3 s\u1eb5n"),k.Ub(),k.Ub()}2&e&&(k.Db(1),k.nc("ngIf",t.deviceCams.length>1),k.Db(1),k.nc("ngIf",t.isShowScanner),k.Db(2),k.nc("ngIf",t.isShowLog))},directives:[s.m,Re.a,Wt.a],styles:[".scan__card-img[_ngcontent-%COMP%], .scan__card-video[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.scan__card-video[_ngcontent-%COMP%]{position:relative}.scan__card-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%}.scan__card-control--switch[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:rgba(36,98,174,.43137254901960786);color:#fff;padding:5px;border-right:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0;cursor:pointer}.link-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),$t),Jt=["aztScanQrcode"];function Zt(e,t){1&e&&(k.Vb(0,"div"),k.Rc(1," M\u1eadt kh\u1ea9u ph\u1ea3i d\xe0i t\u1ed1i thi\u1ec3u l\xe0 6! "),k.Ub())}function Xt(e,t){if(1&e&&(k.Vb(0,"div",35),k.Pc(1,Zt,2,0,"div",33),k.Ub()),2&e){var n=k.gc(2);k.Db(1),k.nc("ngIf",n.getErrorType("password","required")||n.getErrorType("password","minlength"))}}function en(e,t){1&e&&(k.Vb(0,"div"),k.Rc(1," M\u1eadt kh\u1ea9u kh\xf4ng tr\xf9ng kh\u1edbp! "),k.Ub())}function tn(e,t){if(1&e&&(k.Vb(0,"div",35),k.Pc(1,en,2,0,"div",33),k.Ub()),2&e){var n=k.gc(2);k.Db(1),k.nc("ngIf",n.getErrorType("repassword","confirm_pass"))}}function nn(e,t){1&e&&(k.Vb(0,"span"),k.Qb(1,"span",36),k.Rc(2,"\xa0"),k.Ub())}function on(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div",37),k.Vb(1,"p",38),k.Rc(2,"Kh\xf4ng th\u1ec3 x\xe1c nh\u1eadn y\xeau c\u1ea7u \u0111\u1ed5i m\u1eadt kh\u1ea9u. M\xe3 Qrcode v\xe0 s\u1ed1 \u0111i\u1ec7n tho\u1ea1i \u0111\u0103ng nh\u1eadp kh\xf4ng tr\xf9ng kh\u1edbp. Vui l\xf2ng th\u1eed l\u1ea1i."),k.Ub(),k.Vb(3,"button",39),k.cc("click",function(){return k.Dc(n),k.gc(2).reloadProcessForgot()}),k.Rc(4,"Th\u1eed l\u1ea1i"),k.Ub(),k.Ub()}}function rn(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div",21),k.Vb(1,"div",22),k.Vb(2,"div",23),k.Vb(3,"div",24),k.Qb(4,"input",25),k.Vb(5,"div",26),k.Vb(6,"span",27),k.Vb(7,"mat-icon"),k.Rc(8,"qr_code"),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Vb(9,"div",22),k.Vb(10,"div",23),k.Vb(11,"div",24),k.Qb(12,"input",28),k.Vb(13,"div",26),k.Vb(14,"span",27),k.Vb(15,"mat-icon"),k.Rc(16,"lock"),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Pc(17,Xt,2,1,"div",29),k.Ub(),k.Ub(),k.Vb(18,"div",22),k.Vb(19,"div",23),k.Vb(20,"div",24),k.Qb(21,"input",30),k.Vb(22,"div",26),k.Vb(23,"span",27),k.Vb(24,"mat-icon"),k.Rc(25,"lock"),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Pc(26,tn,2,1,"div",29),k.Ub(),k.Ub(),k.Vb(27,"div",22),k.Vb(28,"div",23),k.Vb(29,"div",31),k.Vb(30,"button",32),k.cc("click",function(){k.Dc(n);var e=k.gc();return e.form.invalid||e.status_obj.loading||e.changePassword()}),k.Pc(31,nn,3,0,"span",33),k.Rc(32,"Ti\u1ebfp t\u1ee5c "),k.Ub(),k.Ub(),k.Ub(),k.Pc(33,on,5,0,"div",34),k.Ub(),k.Ub()}if(2&e){var o=k.gc();k.Db(4),k.Eb("disabled",!0),k.Db(13),k.nc("ngIf",o.form.controls.password.invalid&&o.form.controls.password.dirty),k.Db(9),k.nc("ngIf",o.getErrorType("repassword","confirm_pass")&&o.form.controls.repassword.touched),k.Db(4),k.nc("disabled",o.status_obj.error||o.form.invalid||o.status_obj.loading||o.getErrorType("repassword","confirm_pass")),k.Db(1),k.nc("ngIf",!0===o.status_obj.loading),k.Db(2),k.nc("ngIf",!0===o.status_obj.error)}}var cn,an=function(e){return{"d-none":e}},sn=function(e){return[e]},ln=((cn=function(){function e(t,n,o,i){b(this,e),this.commonService=t,this.apiAuthService=n,this.localStorageObjetct=o,this.formBuilder=i,this.subscriptions=new v.a,this.form=new l.k({}),this.step_by_step=0,this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.qrcode_status_obj={sussScanNextConf:!1,textResultErr:!1,textResultSuss:!1}}return h(e,[{key:"getError",value:function(e){return!(!this.form.controls[e]||!this.form.controls[e].errors)&&this.form.controls[e].errors}},{key:"getErrorType",value:function(e,t){return"repassword"===e&&"confirm_pass"===t?this.form.controls.repassword.value!=this.form.controls.password.value:!!(this.form.controls[e]&&this.form.controls[e].errors&&this.form.controls[e].errors[t])&&this.form.controls[e].errors[t]}},{key:"ngAfterViewInit",value:function(){var e=this;setTimeout(function(){e.elementaztScanQrcode&&e.elementaztScanQrcode.initScanCam()},0)}},{key:"outContentScan",value:function(e){var t=this;null!==e?this.apiAuthService.anonymousCheckForgotPasswordQrCode(e).subscribe(function(n){1==n.success&&n.data&&1==n.data.status?(t.step_by_step=1,t.form.controls.hash.setValue(e),t.qrcode_status_obj.sussScanNextConf=!0):(t.commonService.snackError("Ph\xe2n t\xedch m\xe3 qrcode th\u1ea5t b\u1ea1i. Vui l\xf2ng th\u1eed l\u1ea1i",null),t.reloadProcessForgot())}):(this.commonService.snackError("Ph\xe2n t\xedch m\xe3 qrcode th\u1ea5t b\u1ea1i. Vui l\xf2ng th\u1eed l\u1ea1i",null),this.reloadProcessForgot())}},{key:"changePassword",value:function(){var e=this;this.status_obj.loading=!0,this.apiAuthService.changePasswordByQrcode(this.form.value).subscribe(function(t){0==t.success?(e.commonService.snackError("Y\xeau c\u1ea7u \u0111\u1ed5i m\u1eadt kh\u1ea9u th\u1ea5t b\u1ea1i.",null),e.status_obj.loading=!1,e.status_obj.error=!0):(e.commonService.snackSuccess("\u0110\u1eb7t l\u1ea1i m\u1eadt kh\u1ea9u th\xe0nh c\xf4ng.",null),e.localStorageObjetct.clearAllCache(),e.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},e.commonService.myNavigation("/auth/forgot_password_susscess"))})}},{key:"reloadProcessForgot",value:function(){this.elementaztScanQrcode&&this.elementaztScanQrcode.initScanCam(),this.step_by_step=0,this.form.reset(),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.qrcode_status_obj={sussScanNextConf:!1,textResultErr:!1,textResultSuss:!1}}},{key:"ngOnInit",value:function(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),this.form=this.formBuilder.group({hash:["",[l.z.required]],password:["",[l.z.required,l.z.minLength(6)]],repassword:["",[l.z.required,l.z.minLength(6)]]})}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||cn)(k.Pb(U.a),k.Pb(ge.a),k.Pb(Et.a),k.Pb(l.g))},cn.\u0275cmp=k.Jb({type:cn,selectors:[["app-confirm-forgot-password"]],viewQuery:function(e,t){var n;1&e&&k.Yc(Jt,!0),2&e&&k.yc(n=k.dc())&&(t.elementaztScanQrcode=n.first)},decls:32,vars:13,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://azotacdn.studybymusic.com/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],[1,"wrapper-progressBar"],[1,"progressBar"],[1,"progressBar-li",3,"ngClass"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[1,"loginscan_scanmode_cam",3,"ngClass"],[1,"text-center","mb-3"],[3,"outContentScan"],["aztScanQrcode",""],["class","loginscan_scanmode_conf",4,"ngIf"],["href","https://docs.azota.vn/#quen-mat-khau","target","blank",1,"mb-1"],[1,"text-normal",3,"routerLink"],[1,"loginscan_scanmode_conf"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","password","placeholder","M\xe3 x\xe1c th\u1ef1c","formControlName","hash",1,"form-control"],[1,"input-group-append"],["id","basic-addon3",1,"input-group-text"],["type","password","placeholder","M\u1eadt kh\u1ea9u m\u1edbi","formControlName","password","autocomplete","new-password",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["type","password","placeholder","Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u m\u1edbi","formControlName","repassword","autocomplete","new-repassword",1,"form-control"],[1,"text-right"],["mat-raised-button","","color","primary",1,"btn","btn-block",3,"disabled","click"],[4,"ngIf"],["class","col-sm-12 mt-2",4,"ngIf"],[1,"alert","alert-danger"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"col-sm-12","mt-2"],[1,"text-danger"],[1,"btn","btn-outline-primary","w-100",3,"click"]],template:function(e,t){1&e&&(k.Vb(0,"div",0),k.Vb(1,"form",1),k.Vb(2,"div",2),k.Qb(3,"div",3),k.Vb(4,"div",4),k.Vb(5,"h2",5),k.Qb(6,"img",6),k.Ub(),k.Vb(7,"div",7),k.Vb(8,"div",8),k.Qb(9,"div",9),k.Qb(10,"div",9),k.Qb(11,"div",9),k.Ub(),k.Ub(),k.Vb(12,"div",10),k.Vb(13,"div",11),k.Vb(14,"span",12),k.Rc(15,"\u0110\u1ed5i m\u1eadt kh\u1ea9u m\u1edbi b\u1eb1ng m\xe3 QRCode"),k.Ub(),k.Ub(),k.Vb(16,"div",13),k.Vb(17,"div",14),k.Vb(18,"div",15),k.Rc(19," Di chuy\u1ec3n camera t\u1edbi m\xe3 qrcode "),k.Ub(),k.Vb(20,"azt-scan-qrcode",16,17),k.cc("outContentScan",function(e){return t.outContentScan(e)}),k.Ub(),k.Ub(),k.Pc(22,rn,34,6,"div",18),k.Ub(),k.Qb(23,"hr"),k.Vb(24,"div",5),k.Vb(25,"a",19),k.Rc(26,"H\u01b0\u1edbng d\u1eabn \u0111\u1ed5i m\u1eadt kh\u1ea9u tr\xean Azota"),k.Ub(),k.Qb(27,"br"),k.Vb(28,"a",20),k.hc(29,"localize"),k.Rc(30,"\u0110\u0103ng nh\u1eadp t\xe0i kho\u1ea3n"),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Qb(31,"div",3),k.Ub(),k.Ub(),k.Ub()),2&e&&(k.Db(1),k.nc("formGroup",t.form),k.Db(8),k.nc("ngClass",t.step_by_step+2==1?"active":t.step_by_step+2>1?"active pro":""),k.Db(1),k.nc("ngClass",t.step_by_step+2==2?"active":t.step_by_step+2>2?"active pro":""),k.Db(1),k.nc("ngClass",t.step_by_step+2==3?"active":t.step_by_step+2>3?"active pro":""),k.Db(6),k.nc("ngClass",k.sc(9,an,!1!==t.qrcode_status_obj.sussScanNextConf)),k.Db(5),k.nc("ngIf",!0===t.qrcode_status_obj.sussScanNextConf),k.Db(6),k.nc("routerLink",k.sc(11,sn,k.ic(29,7,"/auth/login"))))},directives:[l.B,l.s,l.l,s.k,Kt,s.m,d.k,l.d,l.r,l.j,Re.a,me.b],pipes:[f.d],styles:['@charset "UTF-8";#authForm[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(0,0,0,.125);max-width:550px;margin:0 auto}#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin .5s ease}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\uf00c"!important;font-family:Font Awesome\\ 5 Free!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}']}),cn),dn=a("0IaG");function bn(e,t){if(1&e&&(k.Vb(0,"div",3),k.Vb(1,"mat-icon",4),k.Rc(2,"access_time"),k.Ub(),k.Rc(3),k.Ub()),2&e){var n=k.gc();k.Db(3),k.Tc(" ",n.stringDuration,"")}}var un,hn=((un=function(){function e(t){b(this,e),this.commonService=t,this.expiredAction=new k.o,this.isDuration=!1,this.stringDuration="__ : __"}return h(e,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){var e=this;console.log("Change"),setTimeout(function(){e.reInitComponent()},0)}},{key:"reInitComponent",value:function(){this.bindUrlToQrCode(),0!=this.expired&&(this.isDuration=!0,this.startDuration=Math.floor(Date.now()/1e3),this.initLoopDuration())}},{key:"initLoopDuration",value:function(){var e=this;this.loopDuration=setInterval(function(){var t=Math.floor(Date.now()/1e3),n=e.expired-(t-e.startDuration);if(n<0)e.clearLoopDuration(),e.qrcode.clear(),e.expiredAction.emit();else{var o=Math.floor(n/60),i=n-60*o;e.stringDuration=(o<10?"0"+o:""+o)+" : "+(i<10?"0"+i:""+i)}},1e3)}},{key:"clearLoopDuration",value:function(){this.loopDuration&&clearInterval(this.loopDuration)}},{key:"bindUrlToQrCode",value:function(){this.qrcode=this.commonService.createObjectQrcode(this.content,this.width,this.height,"text",!0,"image-qrcode-created"),this.qrcode._oDrawing._elCanvas.style.width="100%",this.qrcode._oDrawing._elCanvas.style.opacity=".9"}},{key:"downloadQrcode",value:function(e){e||(e="azota-qr"),e=this.getTimeSaveQrcode()+"_"+e+".jpg";var t=this.createFrameQrcodeSaveLocal(this.qrcode._oDrawing._elCanvas),n=document.createElement("a");document.body.appendChild(n),n.setAttribute("href",t),n.setAttribute("download",e),n.click()}},{key:"getTimeSaveQrcode",value:function(){var e=new Date,t=e.getMonth()+1,n=e.getDate();return[e.getFullYear(),(t>9?"":"0")+t,(n>9?"":"0")+n].join("_")}},{key:"createFrameQrcodeSaveLocal",value:function(e){var t=document.createElement("canvas"),n=t.getContext("2d");return t.width=420,t.height=420,n&&(n.fillStyle="white",n.fillRect(0,0,t.width,t.height),n.drawImage(e,0,0,e.width,e.height,Math.floor((t.height-e.height)/2),(t.width-e.width)/2,e.width,e.height)),t.toDataURL("image/jpeg",1)}}]),e}()).\u0275fac=function(e){return new(e||un)(k.Pb(U.a))},un.\u0275cmp=k.Jb({type:un,selectors:[["azt-create-qr-image"]],inputs:{content:"content",width:"width",height:"height",expired:"expired"},outputs:{expiredAction:"expiredAction"},decls:3,vars:1,consts:[[1,"qr-scan-box"],["class","duration",4,"ngIf"],["id","image-qrcode-created"],[1,"duration"],[2,"font-size","18px"]],template:function(e,t){1&e&&(k.Vb(0,"div",0),k.Pc(1,bn,4,1,"div",1),k.Qb(2,"div",2),k.Ub()),2&e&&(k.Db(1),k.nc("ngIf",t.isDuration))},directives:[s.m,Re.a],styles:[".qr-scan-box[_ngcontent-%COMP%]{border:1px solid #e0e0e0}#image-qrcode-created[_ngcontent-%COMP%]{margin:20px}.duration[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:10px;font-weight:500}"]}),un),gn=["elementCreateQr"];function mn(e,t){if(1&e&&(k.Vb(0,"div",12),k.Qb(1,"azt-create-qr-image",13,14),k.Ub()),2&e){var n=k.gc();k.Db(1),k.nc("content",n.contentQrcodeHash)("expired",0)}}function pn(e,t){if(1&e&&(k.Vb(0,"div",15),k.Vb(1,"div",16),k.Vb(2,"mat-icon"),k.Rc(3,"visibility_off"),k.Ub(),k.Ub(),k.Vb(4,"div",17),k.Rc(5),k.Ub(),k.Ub()),2&e){var n=k.gc();k.Db(5),k.Tc(" ",n.notiContentString," ")}}function fn(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div",6),k.Vb(1,"button",18),k.cc("click",function(){return k.Dc(n),k.gc().downloadQrCode()}),k.Vb(2,"mat-icon",19),k.Rc(3,"download"),k.Ub(),k.Rc(4," T\u1ea3i xu\u1ed1ng m\xe3"),k.Ub(),k.Ub()}}function vn(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div",6),k.Vb(1,"button",18),k.cc("click",function(){return k.Dc(n),k.gc().openDialog()}),k.Vb(2,"mat-icon",19),k.Rc(3,"add_photo_alternate"),k.Ub(),k.Rc(4," T\u1ea1o m\xe3 qu\xean m\u1eadt kh\u1ea9u m\u1edbi"),k.Ub(),k.Ub()}}var _n,yn,kn,Un=((yn=function(){function e(t,n,o){b(this,e),this.commonService=t,this.apiAuthService=n,this.dialog=o,this.subscriptions=new v.a,this.notiContentString="",this.contentQrcodeHash=!1}return h(e,[{key:"ngOnInit",value:function(){this.checkQrThisMe()}},{key:"checkQrThisMe",value:function(){var e=this;this.apiAuthService.checkForgotPasswordQrCode().subscribe(function(t){1==t.success?(e.statusQrcodeThat=t.data.status,e.notiContentString=0==t.data.status?"B\u1ea1n ch\u01b0a t\u1ea1o m\xe3 Qrcode d\xf9ng trong tr\u01b0\u1eddng h\u1ee3p qu\xean m\u1eadt kh\u1ea9u. Vui l\xf2ng t\u1ea1o m\xe3 Qrcode m\u1edbi.":"M\xe3 Qrcode \u0111\xe3 t\u1ed3n t\u1ea1i. B\u1ea1n kh\xf4ng th\u1ec3 xem m\xe3 hi\u1ec7n t\u1ea1i. T\u1ea1o m\xe3 m\u1edbi trong tr\u01b0\u1eddng h\u1ee3p b\u1ea1n \u0111\xe3 m\u1ea5t m\xe3 Qrcode."):e.commonService.snackError("Kh\xf4ng c\xf3 k\u1ebft qu\u1ea3 ph\u1ea3n h\u1ed3i.",null)})}},{key:"createQrcodeForgot",value:function(){var e=this;this.apiAuthService.createForgotPasswordQrCode().subscribe(function(t){1==t.success?e.contentQrcodeHash=t.data.qrCode:e.commonService.snackError("Kh\xf4ng c\xf3 k\u1ebft qu\u1ea3 ph\u1ea3n h\u1ed3i.",null)})}},{key:"openDialog",value:function(){var e=this;this.dialog.open(Vn).afterClosed().subscribe(function(t){!0===t&&e.createQrcodeForgot()})}},{key:"downloadQrCode",value:function(){this.elementCreateQr&&this.elementCreateQr.downloadQrcode("azota-forgot")}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||yn)(k.Pb(U.a),k.Pb(ge.a),k.Pb(dn.b))},yn.\u0275cmp=k.Jb({type:yn,selectors:[["app-gzip-tool"]],viewQuery:function(e,t){var n;1&e&&k.Yc(gn,!0),2&e&&k.yc(n=k.dc())&&(t.elementCreateQr=n.first)},decls:16,vars:6,consts:[[3,"headerTitle","back_link"],[1,"container","component-wrap","centerBoth","hasBg","mt-3"],[1,"card","mb-5"],[1,"card-body"],[1,"text-center"],[1,"card-content","mt-3","text-center"],[1,"card-center-row"],[1,"qrcode-block","card-center-row"],[1,"qrcode-block-fake","card-center-row"],["class","qrcode-block-real",4,"ngIf"],["class","qrcode-block-fake-content",4,"ngIf"],["class","card-center-row",4,"ngIf"],[1,"qrcode-block-real"],["width","350","height","350",3,"content","expired"],["elementCreateQr",""],[1,"qrcode-block-fake-content"],[1,"qrcode-block-icon"],[1,"qrcode-block-note"],[1,"card-center-row","btn","btn-outline-primary",3,"click"],[2,"margin-right","10px"]],template:function(e,t){1&e&&(k.Qb(0,"header-backend",0),k.Vb(1,"div",1),k.Vb(2,"div",2),k.Vb(3,"div",3),k.Vb(4,"h3",4),k.Vb(5,"b"),k.Rc(6,"Tr\xecnh t\u1ea1o m\xe3 QRCode Qu\xean m\u1eadt kh\u1ea9u"),k.Ub(),k.Ub(),k.Qb(7,"hr"),k.Vb(8,"div",5),k.Vb(9,"div",6),k.Vb(10,"div",7),k.Vb(11,"div",8),k.Pc(12,mn,3,2,"div",9),k.Pc(13,pn,6,1,"div",10),k.Ub(),k.Ub(),k.Ub(),k.Pc(14,fn,5,0,"div",11),k.Pc(15,vn,5,0,"div",11),k.Ub(),k.Ub(),k.Ub(),k.Ub()),2&e&&(k.nc("headerTitle","")("back_link","/admin/testbank/dashboard"),k.Db(12),k.nc("ngIf",!1!==t.contentQrcodeHash),k.Db(1),k.nc("ngIf",!1===t.contentQrcodeHash),k.Db(1),k.nc("ngIf",!1!==t.contentQrcodeHash),k.Db(1),k.nc("ngIf",!1===t.contentQrcodeHash))},directives:[w.a,s.m,hn,Re.a],styles:[".card-center-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.qrcode-block[_ngcontent-%COMP%]{padding:10px;border:1px solid #e0e0e0;margin-bottom:20px;max-width:400px;max-height:400px;min-width:300px;min-height:300px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.qrcode-block-fake[_ngcontent-%COMP%]{width:100%;height:100%}.qrcode-block-fake-content[_ngcontent-%COMP%]{padding:10px}.qrcode-block-note[_ngcontent-%COMP%]{line-height:30px}"]}),yn),Vn=((_n=function e(){b(this,e)}).\u0275fac=function(e){return new(e||_n)},_n.\u0275cmp=k.Jb({type:_n,selectors:[["dialog-conf-content-qrcode-dialog"]],decls:16,vars:1,consts:[["mat-dialog-title",""],[1,"mat-typography"],["align","end"],["mat-dialog-close","",1,"btn","btn-default","mr-3"],["cdkFocusInitial","",1,"btn","btn-outline-primary",3,"mat-dialog-close"]],template:function(e,t){1&e&&(k.Vb(0,"h2",0),k.Rc(1,"Tr\xecnh t\u1ea1o m\xe3 QRCode Qu\xean m\u1eadt kh\u1ea9u"),k.Ub(),k.Vb(2,"mat-dialog-content",1),k.Vb(3,"h3"),k.Rc(4,'B\u1ea5m "X\xe1c nh\u1eadn" \u0111\u1ed3ng ngh\u0129a v\u1edbi vi\u1ec7c b\u1ea1n \u0111\xe3 hi\u1ec3u v\u1ec1 c\xe1c \u0111i\u1ec1u sau'),k.Ub(),k.Vb(5,"p"),k.Rc(6,"1. M\xe3 Qrcode qu\xean m\u1eadt kh\u1ea9u l\xe0 duy nh\u1ea5t. Khi b\u1ea1n t\u1ea1o m\u1edbi m\xe3, m\xe3 c\u0169 s\u1ebd kh\xf4ng c\xf2n gi\xe1 tr\u1ecb s\u1eed d\u1ee5ng."),k.Ub(),k.Vb(7,"p"),k.Rc(8,"2. M\xe3 Qrcode qu\xean m\u1eadt kh\u1ea9u l\xe0 ch\xeca kho\xe1. Vui l\xf2ng kh\xf4ng chia s\u1ebb hay \u0111\u1ec3 ng\u01b0\u1eddi kh\xe1c c\xf3 \u0111\u01b0\u1ee3c m\xe3 qrcode c\u1ee7a b\u1ea1n."),k.Qb(9,"br"),k.Rc(10,"Sau khi t\u1ea1o th\xe0nh c\xf4ng, vui l\xf2ng t\u1ea3i xu\u1ed1ng m\xe3 Qrcode \u0111\u1ec3 s\u1eed d\u1ee5ng cho m\u1ee5c \u0111\xedch qu\xean m\u1eadt kh\u1ea9u sau n\xe0y."),k.Ub(),k.Ub(),k.Vb(11,"mat-dialog-actions",2),k.Vb(12,"button",3),k.Rc(13,"Hu\u1ef7"),k.Ub(),k.Vb(14,"button",4),k.Rc(15,"X\xe1c nh\u1eadn"),k.Ub(),k.Ub()),2&e&&(k.Db(14),k.nc("mat-dialog-close",!0))},directives:[dn.h,dn.e,dn.c,dn.d],encapsulation:2}),_n),xn=a("T5ib"),wn=((kn=function(){function e(t,n,o){b(this,e),this.formBuilder=t,this.commonService=n,this.resultJsonHelper=o,this.subscriptions=new v.a,this.form=new l.k({})}return h(e,[{key:"ngOnInit",value:function(){this.form=this.formBuilder.group({content:["",[l.z.required]],result:["",[l.z.required]]})}},{key:"decodeAction",value:function(){var e=this.form.controls.content.value;try{this.form.controls.result.setValue(JSON.stringify(this.resultJsonHelper.decode(JSON.parse(e))))}catch(t){this.form.controls.result.setValue(null)}}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||kn)(k.Pb(l.g),k.Pb(U.a),k.Pb(xn.a))},kn.\u0275cmp=k.Jb({type:kn,selectors:[["app-decode-json-tool"]],decls:25,vars:3,consts:[[3,"headerTitle","back_link"],[1,"container-fluid","component-wrap","centerBoth","hasBg","mt-3"],[1,"card"],[1,"card-body"],[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"row"],[1,"col-sm-10"],[1,"row","mb-3"],[1,"col-sm-2","control-label"],["type","text","formControlName","content",1,"form-control"],["type","text","readonly","","formControlName","result",1,"form-control"],[1,"col-sm-2"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(k.Qb(0,"header-backend",0),k.Vb(1,"div",1),k.Vb(2,"div",2),k.Vb(3,"div",3),k.Vb(4,"h3"),k.Vb(5,"b"),k.Rc(6,"C\xf4ng c\u1ee5 gi\u1ea3i m\xe3 json"),k.Ub(),k.Ub(),k.Qb(7,"hr"),k.Vb(8,"form",4),k.Vb(9,"div",5),k.Vb(10,"div",6),k.Vb(11,"div",7),k.Vb(12,"label",8),k.Rc(13,"N\u1ed9i dung"),k.Ub(),k.Vb(14,"div",6),k.Qb(15,"textarea",9),k.Ub(),k.Ub(),k.Vb(16,"div",5),k.Vb(17,"label",8),k.Rc(18,"K\u1ebft qu\u1ea3"),k.Ub(),k.Vb(19,"div",6),k.Qb(20,"textarea",10),k.Ub(),k.Ub(),k.Ub(),k.Vb(21,"div",11),k.Vb(22,"div"),k.Vb(23,"button",12),k.cc("click",function(){return t.decodeAction()}),k.Rc(24,"Gi\u1ea3i m\xe3"),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub()),2&e&&(k.nc("headerTitle","C\xf4ng c\u1ee5 gi\u1ea3i m\xe3 json")("back_link","/admin/testbank/dashboard"),k.Db(8),k.nc("formGroup",t.form))},directives:[w.a,l.B,l.s,l.l,l.d,l.r,l.j,me.b],encapsulation:2}),kn),Cn=a("uZ1F"),Pn=["searchUrl"],Sn=["searchContent"];function On(e,t){1&e&&k.Qb(0,"div",15)}function Dn(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div",16),k.cc("click",function(){return k.Dc(n),k.gc().search(1)}),k.Rc(1," view all "),k.Ub()}}function Mn(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div",17),k.cc("click",function(){return k.Dc(n),k.gc().EmptyTrackLog()}),k.Rc(1," X\xf3a t\u1ea5t c\u1ea3 l\u1ed7i exception "),k.Ub()}}function Rn(e,t){1&e&&(k.Vb(0,"div",23),k.Rc(1,"Tuy\u1ec7t v\u1eddi, kh\xf4ng c\xf3 l\u1ed7i n\xe0o."),k.Ub())}function In(e,t){if(1&e&&(k.Vb(0,"div",29),k.Vb(1,"a",30),k.Rc(2,"Show \u1ea2nh"),k.Ub(),k.Ub()),2&e){var n=k.gc().$implicit;k.Db(1),k.oc("href",n.screenshot,k.Hc)}}function An(e,t){if(1&e&&(k.Qb(0,"img",31),k.hc(1,"mycdn")),2&e){var n=k.gc().$implicit;k.oc("src",k.ic(1,1,n.screenshot),k.Hc)}}function jn(e,t){if(1&e&&(k.Vb(0,"div",24),k.Vb(1,"div",25),k.Vb(2,"div"),k.Rc(3),k.Ub(),k.Vb(4,"div"),k.Rc(5),k.Ub(),k.Vb(6,"div"),k.Rc(7),k.Ub(),k.Vb(8,"div"),k.Rc(9),k.Ub(),k.Vb(10,"div"),k.Rc(11),k.Ub(),k.Vb(12,"div"),k.Rc(13),k.hc(14,"date"),k.Ub(),k.Vb(15,"div"),k.Rc(16,"Url:"),k.Vb(17,"a",26),k.Rc(18),k.Ub(),k.Ub(),k.Vb(19,"div"),k.Rc(20),k.Ub(),k.Vb(21,"div"),k.Rc(22),k.Ub(),k.Vb(23,"div"),k.Rc(24),k.Ub(),k.Ub(),k.Vb(25,"div"),k.Pc(26,In,3,1,"div",27),k.Pc(27,An,2,3,"img",28),k.Ub(),k.Ub()),2&e){var n=t.$implicit;k.Db(3),k.Tc("ID: ",n.id,""),k.Db(2),k.Tc("Name: ",n.name,""),k.Db(2),k.Tc("User Id: ",n.userId,""),k.Db(2),k.Tc("Track Key: ",n.trackKey,""),k.Db(2),k.Tc("Ip address: ",n.ipAddress,""),k.Db(2),k.Tc("Created at: ",k.jc(14,13,n.createdAt,"dd/MM/yyyy HH:mm:ss"),""),k.Db(4),k.oc("href",n.url,k.Hc),k.Db(1),k.Tc(" ",n.url," "),k.Db(2),k.Tc("User agent: ",n.useragent,""),k.Db(2),k.Tc("Content: ",n.content,""),k.Db(2),k.Tc("Error: ",n.error,""),k.Db(2),k.nc("ngIf",null!=n.screenshot),k.Db(1),k.nc("ngIf",null!=n.screenshot)}}function Ln(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div",18),k.Pc(1,Rn,2,0,"div",19),k.Pc(2,jn,28,16,"div",20),k.Vb(3,"div",21),k.Vb(4,"azt-paging",22),k.cc("SendPage",function(e){return k.Dc(n),k.gc().clickPage(e)}),k.Ub(),k.Ub(),k.Ub()}if(2&e){var o=k.gc();k.Db(1),k.nc("ngIf",0==o.data.total),k.Db(1),k.nc("ngForOf",o.trackLogs),k.Db(2),k.nc("screen","report_error")("linkPage","/auth/report_exception")("eventSearch",o.sendEventSearchToPaging)("lengthPage",o.lengthPage)("paging",o.page)}}var Qn,Tn=((Qn=function(){function e(t,n,o){b(this,e),this.commonService=t,this.apiCommonService=n,this.dialog=o,this.page=1,this.paramApiSeach="",this.form=new l.k({}),this.eventSearch="",this.pageSearch=1,this.showAllError=!1,this.loading=!1,this.statusShearch=!1,this.phone_search="",this.url_search="",this.user_id_search="",this.isMobile=!1,this.sendEventSearchToPaging=""}return h(e,[{key:"GetTrackLogObjs",value:function(){var e=this;this.statusShearch=!1,this.loading=!0,this.apiCommonService.GetTrackLogObjsException(this.page,this.paramApiSeach).subscribe(function(t){1==t.success?(e.trackLogs=t.data.objs,e.data=t.data,e.lengthPage=Math.ceil(e.data.total/18),e.showAllError=!1,e.loading=!1):(e.loading=!1,e.commonService.snackError("L\u1ed7i: kh\xf4ng l\u1ea5y \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u","\u0110\xf3ng"))})}},{key:"EmptyTrackLog",value:function(){var e=this;this.apiCommonService.EmptyTrackLog().subscribe(function(t){1==t.success?(e.GetTrackLogObjs(),e.commonService.snackSuccess("X\xf3a l\u1ed7i exception th\xe0nh c\xf4ng","\u0110\xf3ng")):e.commonService.snackError("L\u1ed7i: x\xf3a kh\xf4ng th\xe0nh c\xf4ng","\u0110\xf3ng")})}},{key:"clickPage",value:function(e){this.page=e,this.GetTrackLogObjs()}},{key:"changeParamQuery",value:function(){this.commonService.myNavigationWithQueryString("/auth/report_exception","?page="+this.page+this.paramApiSeach)}},{key:"search",value:function(e){0==e?(this.paramApiSeach=(""==this.searchUrl.nativeElement.value?"":"&urlTxt="+this.searchUrl.nativeElement.value)+(""==this.searchContent.nativeElement.value?"":"&contentTxt="+this.searchContent.nativeElement.value),this.GetTrackLogObjs()):(this.searchUrl.nativeElement.value="",this.searchContent.nativeElement.value="",this.paramApiSeach="",this.GetTrackLogObjs()),this.changeParamQuery()}},{key:"checkDevice",value:function(){this.isMobile=window.innerWidth<768}},{key:"ngOnInit",value:function(){var e=this.commonService.getMyQueryParam("page");this.page=parseInt(""==e?1:e),this.GetTrackLogObjs(),this.commonService.translateMetaData({title:"lang_cms_error_management_title",description:"lang_cms_error_management_description",image:"lang_cms_test_image"}),this.checkDevice()}}]),e}()).\u0275fac=function(e){return new(e||Qn)(k.Pb(U.a),k.Pb(V.a),k.Pb(dn.b))},Qn.\u0275cmp=k.Jb({type:Qn,selectors:[["app-error-exception"]],viewQuery:function(e,t){var n;1&e&&(k.Yc(Pn,!0),k.Yc(Sn,!0)),2&e&&(k.yc(n=k.dc())&&(t.searchUrl=n.first),k.yc(n=k.dc())&&(t.searchContent=n.first))},decls:20,vars:8,consts:[[3,"headerTitle","back_link"],[1,"content","fluid-container","m-3",2,"padding","10px"],["class","spinner-border spinner-border-sm","role","status","style","margin: 20px 50%;",4,"ngIf"],[1,"row","pb-3","m-0"],[1,"col-12"],["type","text","placeholder","Nh\u1eadp n\u1ed9i dung",1,"input-search",3,"value","keyup.enter"],["searchContent",""],["type","text","placeholder","Nh\u1eadp url",1,"input-search",3,"value","keyup.enter"],["searchUrl",""],[1,"col-12","text-right"],[1,"search-icon","clickable",2,"position","unset",3,"click"],[1,"search-ver",2,"vertical-align","middle","font-size","27px","height","27px","width","27px",3,"click"],["class","row pb-3 ml-4 mr-4 clickable","style","color: blue;",3,"click",4,"ngIf"],["class","row pb-3 ml-4 mr-4 clickable","style","color: blue; float: right;",3,"click",4,"ngIf"],["class","ml-3 mr-3",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm",2,"margin","20px 50%"],[1,"row","pb-3","ml-4","mr-4","clickable",2,"color","blue",3,"click"],[1,"row","pb-3","ml-4","mr-4","clickable",2,"color","blue","float","right",3,"click"],[1,"ml-3","mr-3"],["class","text-center m-5",4,"ngIf"],["class","view-error",4,"ngFor","ngForOf"],[1,"mt-5"],[3,"screen","linkPage","eventSearch","lengthPage","paging","SendPage"],[1,"text-center","m-5"],[1,"view-error"],[1,"p-3"],["target","_blank","rel","noopener noreferrer",3,"href"],["class","click-show-image",4,"ngIf"],["class","pb-3","style","width: 100%","alt","",3,"src",4,"ngIf"],[1,"click-show-image"],["target","_blank","rel","noopener noreferrer",2,"color","white",3,"href"],["alt","",1,"pb-3",2,"width","100%",3,"src"]],template:function(e,t){1&e&&(k.Qb(0,"header-backend",0),k.Vb(1,"div",1),k.Pc(2,On,1,0,"div",2),k.Vb(3,"div",3),k.Vb(4,"div",4),k.Vb(5,"input",5,6),k.cc("keyup.enter",function(){return t.search(0)}),k.Ub(),k.Ub(),k.Ub(),k.Vb(7,"div",3),k.Vb(8,"div",4),k.Vb(9,"input",7,8),k.cc("keyup.enter",function(){return t.search(0)}),k.Ub(),k.Ub(),k.Ub(),k.Vb(11,"div",3),k.Vb(12,"div",9),k.Vb(13,"div",10),k.cc("click",function(){return t.search(0)}),k.Rc(14," T\xecm ki\u1ebfm "),k.Vb(15,"mat-icon",11),k.cc("click",function(){return t.search(0)}),k.Rc(16," search "),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Pc(17,Dn,2,0,"div",12),k.Pc(18,Mn,2,0,"div",13),k.Pc(19,Ln,5,7,"div",14),k.Ub()),2&e&&(k.nc("headerTitle",t.data&&t.data.total?"L\u1ed7i exception ("+t.data.total+")":"L\u1ed7i exception")("back_link","/admin/testbank/dashboard"),k.Db(2),k.nc("ngIf",!0===t.loading),k.Db(3),k.oc("value",t.url_search),k.Db(4),k.oc("value",t.url_search),k.Db(8),k.nc("ngIf",""!=t.paramApiSeach),k.Db(1),k.nc("ngIf",""==t.paramApiSeach&&t.data&&0!=t.data.total),k.Db(1),k.nc("ngIf",t.data&&!1===t.loading))},directives:[w.a,s.m,Re.a,s.l,Cn.a],pipes:[s.e,pe.o],styles:[".content[_ngcontent-%COMP%]{border-radius:5px}.search-icon[_ngcontent-%COMP%]{position:absolute;top:0;color:#0eafc0}.input-search[_ngcontent-%COMP%]{width:100%;border:2px solid rgba(204,201,201,.8901960784313725);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.icon_custom[_ngcontent-%COMP%]{vertical-align:middle;color:rgba(51,51,51,.5803921568627451);font-size:16px;height:20px;width:16px;margin-right:3px}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0eafc0;outline:none}.box[_ngcontent-%COMP%]:hover{background-color:#ecebeb}.buttom-done[_ngcontent-%COMP%]{float:right;color:#fff;max-width:87px;text-align:center;padding:4px 10px;border-radius:5px;background-color:#63d16f}.done[_ngcontent-%COMP%]{color:#fff!important;background-color:#63d16f!important}.buttom-slacking[_ngcontent-%COMP%]{float:right;color:#fff;max-width:87px;text-align:center;padding:4px 10px;border-radius:5px;background-color:#fd612c}.open[_ngcontent-%COMP%]{color:#fff!important;background-color:#fd612c!important}textarea[_ngcontent-%COMP%]{width:100%;border:1px solid #d4d4d4;overflow-y:hidden;padding:7px}.select-dropdown[_ngcontent-%COMP%]{float:right;background-color:#e6e6e6;width:105px;text-align:center;max-width:100%;border-radius:3px;padding:6px}.showFullImageScreen[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#1b2638;z-index:520;display:none;align-content:center;justify-content:center;align-items:center}.showFullImageScreen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:95%}.showFullImageScreen[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0;height:30px;width:30px;margin:10px;color:#f0f8ff;font-size:30px}.showFullImageScreen[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{background-color:#ccc;border-radius:3px}.view-error[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e4e4e4;border-radius:5px;margin-bottom:8px}.click-show-image[_ngcontent-%COMP%]{padding:5px;background:#3636ff;position:absolute;color:#fff;font-weight:500}"]}),Qn),En=a("IU+r"),Fn=a("1jcm"),zn=["fondovalor1"],qn=["fondovalor2"],Bn=["fondovalor3"];function Nn(e,t){if(1&e){var n=k.Wb();k.Vb(0,"a",17),k.cc("click",function(){return k.Dc(n),k.gc().AllErr()}),k.Rc(1,"All Error"),k.Ub()}}function Wn(e,t){1&e&&k.Qb(0,"div",18)}function Hn(e,t){1&e&&(k.Vb(0,"div",27),k.Rc(1,"Tuy\u1ec7t v\u1eddi, kh\xf4ng c\xf3 l\u1ed7i n\xe0o."),k.Qb(2,"img",28),k.Ub())}function Gn(e,t){if(1&e&&(k.Qb(0,"img",39),k.hc(1,"mycdn")),2&e){var n=k.gc().$implicit;k.oc("src",k.ic(1,1,n.avatar),k.Hc)}}function Yn(e,t){if(1&e&&k.Qb(0,"azt-create-avatar",40),2&e){var n=k.gc().$implicit;k.nc("nameCreateAvatar",n.fullname)("size",38)}}function $n(e,t){if(1&e&&(k.Vb(0,"div",41),k.Rc(1," Url: "),k.Vb(2,"a",42),k.Rc(3),k.Ub(),k.Ub()),2&e){var n=k.gc().$implicit;k.Db(2),k.oc("href",n.screenshot,k.Hc),k.Db(1),k.Tc(" ",n.screenshot," ")}}function Kn(e,t){if(1&e&&(k.Qb(0,"img",43),k.hc(1,"mycdn")),2&e){var n=k.gc().$implicit;k.oc("src",k.ic(1,1,n.screenshot),k.Hc)}}function Jn(e,t){if(1&e&&(k.Vb(0,"div",29),k.Vb(1,"div",30),k.Vb(2,"div",31),k.Pc(3,Gn,2,3,"img",32),k.Pc(4,Yn,1,2,"azt-create-avatar",33),k.Vb(5,"div",34),k.Vb(6,"div",35),k.Rc(7),k.Ub(),k.Vb(8,"div"),k.Rc(9),k.hc(10,"date"),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Vb(11,"div",36),k.Rc(12),k.Ub(),k.Pc(13,$n,4,2,"div",37),k.Vb(14,"div"),k.Pc(15,Kn,2,3,"img",38),k.Ub(),k.Ub()),2&e){var n=t.$implicit;k.Db(3),k.nc("ngIf",null!=n.avatar),k.Db(1),k.nc("ngIf",null==n.avatar),k.Db(3),k.Sc(n.fullname),k.Db(2),k.Tc(" ",k.jc(10,7,n.createdAt,"dd/MM/yyyy HH:mm:ss"),""),k.Db(3),k.Tc(" ",n.content," "),k.Db(1),k.nc("ngIf",null!=n.screenshot),k.Db(2),k.nc("ngIf",null!=n.screenshot)}}function Zn(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div",19),k.Vb(1,"div",20),k.Vb(2,"div",21),k.Rc(3,"L\u1ed7i t\u1eeb ng\u01b0\u1eddi d\xf9ng: "),k.Ub(),k.Vb(4,"div",22),k.Rc(5),k.Ub(),k.Ub(),k.Pc(6,Hn,3,0,"div",23),k.Pc(7,Jn,16,10,"div",24),k.Vb(8,"div",25),k.Vb(9,"azt-paging",26),k.cc("SendPage",function(e){return k.Dc(n),k.gc().clickPage(e)}),k.Ub(),k.Ub(),k.Ub()}if(2&e){var o=k.gc();k.Db(5),k.Tc("T\u1ed5ng s\u1ed1 l\u1ed7i: ",o.data.totalObjs,""),k.Db(1),k.nc("ngIf",0==o.data.totalObjs),k.Db(1),k.nc("ngForOf",o.trackLogs),k.Db(2),k.nc("screen","report_error")("linkPage","/auth/report_error")("eventSearch",o.sendEventSearchToPaging)("lengthPage",o.lengthPage)("paging",o.page)}}var Xn,eo,to,no,oo=".content[_ngcontent-%COMP%]{background-color:#e0e4eb;border-radius:5px}.search-icon[_ngcontent-%COMP%]{position:absolute;top:0;color:#0eafc0}.input-search[_ngcontent-%COMP%]{width:100%;border:2px solid rgba(204,201,201,.8901960784313725);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.icon_custom[_ngcontent-%COMP%]{vertical-align:middle;color:rgba(51,51,51,.5803921568627451);font-size:16px;height:20px;width:16px;margin-right:3px}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0eafc0;outline:none}.box[_ngcontent-%COMP%]:hover{background-color:#ecebeb}.buttom-done[_ngcontent-%COMP%]{float:right;color:#fff;max-width:87px;text-align:center;padding:4px 10px;border-radius:5px;background-color:#63d16f}.done[_ngcontent-%COMP%]{color:#fff!important;background-color:#63d16f!important}.buttom-slacking[_ngcontent-%COMP%]{float:right;color:#fff;max-width:87px;text-align:center;padding:4px 10px;border-radius:5px;background-color:#fd612c}.open[_ngcontent-%COMP%]{color:#fff!important;background-color:#fd612c!important}textarea[_ngcontent-%COMP%]{width:100%;border:1px solid #d4d4d4;overflow-y:hidden;padding:7px}.select-dropdown[_ngcontent-%COMP%]{float:right;background-color:#e6e6e6;width:105px;text-align:center;max-width:100%;border-radius:3px;padding:6px}.showFullImageScreen[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#1b2638;z-index:520;display:none;align-content:center;justify-content:center;align-items:center}.showFullImageScreen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:95%}.showFullImageScreen[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0;height:30px;width:30px;margin:10px;color:#f0f8ff;font-size:30px}.showFullImageScreen[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{background-color:#ccc;border-radius:3px}.view-error[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e4e4e4;border-radius:5px;margin-bottom:8px}.click-show-image[_ngcontent-%COMP%]{padding:5px;background:#3636ff;position:absolute;color:#fff;font-weight:500}",io=((no=function(){function e(t,n,o){b(this,e),this.commonService=t,this.apiCommonService=n,this.dialog=o,this.page=1,this.form=new l.k({}),this.eventSearch="",this.pageSearch=1,this.showAllError=!1,this.loading=!1,this.statusShearch=!1,this.phone_search="",this.url_search="",this.user_id_search="",this.isMobile=!1,this.sendEventSearchToPaging=""}return h(e,[{key:"AllErr",value:function(){this.commonService.myNavigationWithQueryString("/auth/report_error",""),this.getParamUrl("","",""),this.GetTrackLogObjs()}},{key:"GetTrackLogObjs",value:function(){var e=this;this.statusShearch=!1,this.loading=!0,this.apiCommonService.GetTrackLogObjs(this.page).subscribe(function(t){1==t.success?(e.trackLogs=t.data.trackLogs,e.data=t.data,e.lengthPage=Math.ceil(t.data.totalObjs/18),e.showAllError=!1,e.loading=!1):(e.loading=!1,e.commonService.snackError("L\u1ed7i: kh\xf4ng l\u1ea5y \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u","\u0110\xf3ng"))})}},{key:"SearchTrackLogObjs",value:function(){var e=this;this.loading=!0,this.apiCommonService.SearchTrackLogObjs(this.page,this.eventSearch).subscribe(function(t){1==t.success?(e.trackLogs=t.data.trackLogs,e.data=t.data,e.lengthPage=Math.ceil(t.data.totalObjs/18),e.showAllError=!0,e.loading=!1):(e.loading=!1,e.commonService.snackError("L\u1ed7i: th\xf4ng tin b\u1ea1n t\xecm kh\xf4ng t\u1ed3n t\u1ea1i","\u0110\xf3ng"))})}},{key:"searchByEvent",value:function(e,t){this.statusShearch=!0,this.page=1,this.loading=!0,this.eventSearch=("userId"==e?"&userId="+t:"")+("url"==e?"&url="+t:""),this.changeLink(),this.getParamUrl("","userId"==e?t:"","url"==e?t:""),this.SearchTrackLogObjs()}},{key:"search",value:function(){this.statusShearch=!0,this.page=1,this.loading=!0;var e=this.fondovalor1.nativeElement.value,t=this.fondovalor2.nativeElement.value,n=this.fondovalor3.nativeElement.value,o=""==e?"":"&userPhone="+e,i=""==t?"":"&userId="+t,r=""==n?"":"&url="+n;""!=t||""!=e||""!=n?(this.eventSearch=o+i+r,this.changeLink(),this.getParamUrl(e,t,n),this.SearchTrackLogObjs()):""!=t&&""!=e&&""!=n||(this.eventSearch=o+i+r,this.AllErr())}},{key:"dataProcessing",value:function(e){for(var t=0;t<this.trackLogs.length;t++)this.trackLogs[t].id==e&&(this.sendDialog={id:this.trackLogs[t].id,fullname:this.trackLogs[t].fullname,createdAt:this.trackLogs[t].createdAt,content:this.trackLogs[t].content,avarta:this.trackLogs[t].avarta,status:this.trackLogs[t].status,url:this.trackLogs[t].url,screenshot:this.trackLogs[t].screenshot})}},{key:"openDialog",value:function(e){var t=this;this.dataProcessing(e),this.dialog.open(ro,{width:"750px",height:"80%",data:this.sendDialog}).afterClosed().subscribe(function(e){"save"==e&&t.GetTrackLogObjs()})}},{key:"clickPage",value:function(e){this.page=e,0==this.statusShearch?this.GetTrackLogObjs():1==this.statusShearch&&this.SearchTrackLogObjs(),this.changeLink()}},{key:"changeLink",value:function(){this.commonService.myNavigationWithQueryString("/auth/report_error","?page="+this.page+this.eventSearch)}},{key:"eventHandling",value:function(){var e=this.commonService.getMyQueryParam("page"),t=this.commonService.getMyQueryParam("userPhone"),n=this.commonService.getMyQueryParam("userId"),o=this.commonService.getMyQueryParam("url"),i=""==t?"":"&userPhone="+t,r=""==n?"":"&userId="+n,c=""==o?"":"&url="+o,a=""==t?"":t,s=""==n?"":n,l=""==o?"":o;this.getParamUrl(t,n,o),this.page=parseInt(""==e?1:e),""!=i||""!=r||""!=c?(this.statusShearch=!0,this.eventSearch=i+r+c,this.sendEventSearchToPaging={userPhone:a,userId:s,urls:l},this.SearchTrackLogObjs()):this.GetTrackLogObjs()}},{key:"checkDevice",value:function(){this.isMobile=window.innerWidth<768}},{key:"getParamUrl",value:function(e,t,n){this.phone_search=e,this.user_id_search=t,this.url_search=n}},{key:"ngOnInit",value:function(){this.eventHandling(),this.commonService.translateMetaData({title:"lang_cms_error_management_title",description:"lang_cms_error_management_description",image:"lang_cms_test_image"}),this.checkDevice()}}]),e}()).\u0275fac=function(e){return new(e||no)(k.Pb(U.a),k.Pb(V.a),k.Pb(dn.b))},no.\u0275cmp=k.Jb({type:no,selectors:[["app-error-management"]],viewQuery:function(e,t){var n;1&e&&(k.Yc(zn,!0),k.Yc(qn,!0),k.Yc(Bn,!0)),2&e&&(k.yc(n=k.dc())&&(t.fondovalor1=n.first),k.yc(n=k.dc())&&(t.fondovalor2=n.first),k.yc(n=k.dc())&&(t.fondovalor3=n.first))},decls:26,vars:8,consts:[[3,"headerTitle","back_link"],[1,"content","fluid-container","m-3",2,"padding","10px"],[1,"row","pb-3","m-0"],[1,"col-12"],[3,"click",4,"ngIf"],["type","text","placeholder","Nh\u1eadp s\u1ed1 phone",1,"input-search",3,"value","keyup.enter"],["fondovalor1",""],[1,"search-icon","clickable"],["type","text","placeholder","Nh\u1eadp id ng\u01b0\u1eddi d\xf9ng",1,"input-search",3,"value","keyup.enter"],["fondovalor2",""],["type","text","placeholder","Nh\u1eadp url",1,"input-search",3,"value","keyup.enter"],["fondovalor3",""],[1,"col-12","text-right"],[1,"search-icon","clickable",2,"position","unset"],[1,"search-ver",2,"vertical-align","middle","font-size","27px","height","27px","width","27px",3,"click"],["class","spinner-border spinner-border-sm","role","status","style","margin: 20px 50%;",4,"ngIf"],["class","ml-4 mr-4",4,"ngIf"],[3,"click"],["role","status",1,"spinner-border","spinner-border-sm",2,"margin","20px 50%"],[1,"ml-4","mr-4"],[1,"row","m-0","pb-3"],[1,"col-6","p-0",2,"font-weight","bold","font-size","16px"],[1,"col-6","p-0","text-right"],["class","text-center m-5",4,"ngIf"],["class","view-error",4,"ngFor","ngForOf"],[1,"mt-5"],[3,"screen","linkPage","eventSearch","lengthPage","paging","SendPage"],[1,"text-center","m-5"],["src","https://classlive.stume.net/images/emoji/emoji4.gif","alt","","width","20"],[1,"view-error"],[2,"display","flex","padding","10px","justify-content","space-between"],[2,"display","flex"],["style","border-radius: 50%; margin: 0 5px","width","38","height","38",3,"src",4,"ngIf"],[3,"nameCreateAvatar","size",4,"ngIf"],[1,"view-name"],[2,"font-weight","500"],[1,"pl-3","pr-3","pb-3"],["class","pl-3 pr-3 pb-3","style","word-break: break-all;",4,"ngIf"],["class","pb-3","style","width: 100%","alt","",3,"src",4,"ngIf"],["width","38","height","38",2,"border-radius","50%","margin","0 5px",3,"src"],[3,"nameCreateAvatar","size"],[1,"pl-3","pr-3","pb-3",2,"word-break","break-all"],["target","_blank","rel","noopener noreferrer",3,"href"],["alt","",1,"pb-3",2,"width","100%",3,"src"]],template:function(e,t){1&e&&(k.Qb(0,"header-backend",0),k.Vb(1,"div",1),k.Vb(2,"div",2),k.Vb(3,"div",3),k.Pc(4,Nn,2,0,"a",4),k.Ub(),k.Ub(),k.Vb(5,"div",2),k.Vb(6,"div",3),k.Vb(7,"input",5,6),k.cc("keyup.enter",function(){return t.search()}),k.Ub(),k.Qb(9,"div",7),k.Ub(),k.Ub(),k.Vb(10,"div",2),k.Vb(11,"div",3),k.Vb(12,"input",8,9),k.cc("keyup.enter",function(){return t.search()}),k.Ub(),k.Ub(),k.Ub(),k.Vb(14,"div",2),k.Vb(15,"div",3),k.Vb(16,"input",10,11),k.cc("keyup.enter",function(){return t.search()}),k.Ub(),k.Ub(),k.Ub(),k.Vb(18,"div",2),k.Vb(19,"div",12),k.Vb(20,"div",13),k.Rc(21," T\xecm ki\u1ebfm "),k.Vb(22,"mat-icon",14),k.cc("click",function(){return t.search()}),k.Rc(23," search "),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Pc(24,Wn,1,0,"div",15),k.Pc(25,Zn,10,8,"div",16),k.Ub()),2&e&&(k.nc("headerTitle","L\u1ed7i t\u1eeb ng\u01b0\u1eddi d\xf9ng")("back_link","/admin/testbank/dashboard"),k.Db(4),k.nc("ngIf",1==t.showAllError&&!1===t.loading),k.Db(3),k.oc("value",t.phone_search),k.Db(5),k.oc("value",t.user_id_search),k.Db(4),k.oc("value",t.url_search),k.Db(8),k.nc("ngIf",!0===t.loading),k.Db(1),k.nc("ngIf",t.data&&!1===t.loading))},directives:[w.a,s.m,Re.a,s.l,Cn.a,En.a],pipes:[s.e,pe.o],styles:[oo]}),no),ro=((to=function(){function e(t,n,o,i){b(this,e),this.apiCommonService=t,this.commonService=n,this.dialogRef=o,this.data=i,this.isLoading=!1,this.status=!1}return h(e,[{key:"ngOnInit",value:function(){this.status="1"==this.data.status.toString()}},{key:"onNoClick",value:function(){this.dialogRef.close("cancel")}},{key:"toggleStatus",value:function(){1==this.status?this.status=!1:0==this.status&&(this.status=!0)}},{key:"SaveStatusTrackLog",value:function(){var e=this;this.apiCommonService.SaveStatusTrackLog({id:this.data.id,status:1==this.status?"1":"0",content:this.content}).subscribe(function(t){1==t.success?(e.dialogRef.close("save"),e.commonService.snackSuccess("\u0110\xe3 l\u01b0u th\xe0nh c\xf4ng","")):e.commonService.snackError("L\u1ed7i: kh\xf4ng l\u01b0u d\u01b0\u1ee3c d\u1eef li\u1ec7u","\u0110\xf3ng")})}},{key:"autoResize",value:function(e,t){if(1==t){var n=document.getElementById("text");setTimeout(function(){n.style.cssText="height:auto;",n.style.cssText="height:"+n.scrollHeight+"px"},0)}else n=document.getElementById("text"),setTimeout(function(){n.style.cssText="height:auto;",n.style.cssText="height:"+n.scrollHeight+"px"},0)}},{key:"resizeImage",value:function(){document.getElementById("imageResize").style.display="flex"}},{key:"resizeImageRemove",value:function(){document.getElementById("imageResize").style.display="none"}},{key:"MyTextarea",value:function(e){this.content=e.target.value}}]),e}()).\u0275fac=function(e){return new(e||to)(k.Pb(V.a),k.Pb(U.a),k.Pb(dn.g),k.Pb(dn.a))},to.\u0275cmp=k.Jb({type:to,selectors:[["dialog-overview-example-dialog"]],decls:35,vars:17,consts:[[1,"row"],[1,"col-6"],[2,"float","right"],["color","primary",2,"vertical-align","middle",3,"checked","change"],[1,"m-0"],[2,"word-break","break-all",3,"href"],[1,"row","m-0","mb-3"],[1,"text-center","col-12",2,"height","150px"],["alt","","height","150",3,"src","click"],[1,"mb-3"],["placeholder","Nh\u1eadp n\u1ed9i dung","id","text",2,"overflow-y","none",3,"keyup","change"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-danger","mr-3",3,"mat-dialog-close","click"],["type","button",1,"btn","btn-primary",3,"click"],["id","imageResize",1,"showFullImageScreen"],["alt","",3,"src","click"],[1,"clickable",3,"click"]],template:function(e,t){1&e&&(k.Vb(0,"div"),k.Vb(1,"div",0),k.Vb(2,"h3",1),k.Rc(3),k.Ub(),k.Vb(4,"div",1),k.Vb(5,"div",2),k.Vb(6,"mat-slide-toggle",3),k.cc("change",function(){return t.toggleStatus()}),k.Ub(),k.Rc(7),k.Ub(),k.Ub(),k.Ub(),k.Vb(8,"h2",4),k.Rc(9),k.Ub(),k.Vb(10,"h4",4),k.Rc(11,"Url: "),k.Vb(12,"a",5),k.Rc(13),k.Ub(),k.Ub(),k.Vb(14,"h5"),k.Rc(15),k.hc(16,"date"),k.Ub(),k.Vb(17,"div",6),k.Vb(18,"div",7),k.Vb(19,"img",8),k.cc("click",function(){return t.resizeImage()}),k.hc(20,"mycdn"),k.Ub(),k.Ub(),k.Ub(),k.Vb(21,"div",9),k.Vb(22,"h4",4),k.Rc(23,"Comment"),k.Ub(),k.Vb(24,"textarea",10),k.cc("keyup",function(e){return t.autoResize(e,1)})("change",function(e){return t.MyTextarea(e)}),k.Ub(),k.Ub(),k.Vb(25,"div",11),k.Vb(26,"button",12),k.cc("click",function(){return t.onNoClick()}),k.Rc(27,"H\u1ee7y"),k.Ub(),k.Vb(28,"button",13),k.cc("click",function(){return t.SaveStatusTrackLog()}),k.Rc(29,"G\u1eedi"),k.Ub(),k.Ub(),k.Ub(),k.Vb(30,"div",14),k.Vb(31,"img",15),k.cc("click",function(){return t.resizeImage()}),k.hc(32,"mycdn"),k.Ub(),k.Vb(33,"mat-icon",16),k.cc("click",function(){return t.resizeImageRemove()}),k.Rc(34,"clear"),k.Ub(),k.Ub()),2&e&&(k.Db(3),k.Tc(" T\xe0i kho\u1ea3n: ",t.data.fullname," "),k.Db(3),k.nc("checked",1==t.status),k.Db(1),k.Tc(" ",1==t.status?" \u0110\xe3 xong":" Ch\u01b0a xong"," "),k.Db(2),k.Tc("L\u1ed7i: ",t.data.content,""),k.Db(3),k.oc("href",t.data.url,k.Hc),k.Db(1),k.Sc(t.data.url),k.Db(2),k.Tc("Ng\xe0y B\xe1o l\u1ed7i: ",k.jc(16,10,t.data.createdAt,"dd/MM/yyyy HH:mm:ss"),""),k.Db(4),k.oc("src",k.ic(20,13,t.data.screenshot),k.Hc),k.Db(7),k.nc("mat-dialog-close","cancel"),k.Db(5),k.oc("src",k.ic(32,15,t.data.screenshot),k.Hc))},directives:[Fn.a,dn.d,Re.a],pipes:[s.e,pe.o],styles:[oo]}),to),co=((eo=function(){function e(t){b(this,e),this.commonService=t,this.step_by_step=3}return h(e,[{key:"ngOnInit",value:function(){}},{key:"redirectToCreateQrCode",value:function(){this.commonService.myNavigation("/auth/create-qr-forgot-pass")}},{key:"redirectToHome",value:function(){this.commonService.myNavigation("/admin/testbank/dashboard")}},{key:"ngOnDestroy",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||eo)(k.Pb(U.a))},eo.\u0275cmp=k.Jb({type:eo,selectors:[["app-confirm-forgot-password"]],decls:25,vars:3,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://azotacdn.studybymusic.com/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],[1,"wrapper-progressBar"],[1,"progressBar"],[1,"progressBar-li",3,"ngClass"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[1,"btn-block-center"],[1,"btn","btn-outline-info","w-100","mr-3",3,"click"],[1,"btn","btn-outline-primary","w-100",3,"click"]],template:function(e,t){1&e&&(k.Vb(0,"div",0),k.Vb(1,"div",1),k.Vb(2,"div",2),k.Qb(3,"div",3),k.Vb(4,"div",4),k.Vb(5,"h2",5),k.Qb(6,"img",6),k.Ub(),k.Vb(7,"div",7),k.Vb(8,"div",8),k.Qb(9,"div",9),k.Qb(10,"div",9),k.Qb(11,"div",9),k.Ub(),k.Ub(),k.Vb(12,"div",10),k.Vb(13,"div",11),k.Vb(14,"span",12),k.Rc(15,"\u0110\u1ed5i m\u1eadt kh\u1ea9u m\u1edbi th\xe0nh c\xf4ng"),k.Ub(),k.Ub(),k.Vb(16,"div",13),k.Vb(17,"p"),k.Rc(18,"B\u1ea1n \u0111\xe3 \u0111\u1ed5i m\u1eadt kh\u1ea9u m\u1edbi th\xe0nh c\xf4ng. M\xe3 Qrcode \u0111\xe3 s\u1eed d\u1ee5ng c\xf3 th\u1ec3 s\u1eed d\u1ee5ng l\u1ea1i. \u0110\u1ec3 \u0111\u1ea3m b\u1ea3o an to\xe0n, b\u1ea1n n\xean t\u1ea1o l\u1ea1i m\xe3 Qrcode."),k.Ub(),k.Vb(19,"div",14),k.Vb(20,"a",15),k.cc("click",function(){return t.redirectToHome()}),k.Rc(21,"B\u1ecf qua v\xe0 v\u1ec1 trang ch\u1ee7"),k.Ub(),k.Vb(22,"a",16),k.cc("click",function(){return t.redirectToCreateQrCode()}),k.Rc(23,"T\u1ea1o l\u1ea1i m\xe3 Qrcode"),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Qb(24,"div",3),k.Ub(),k.Ub(),k.Ub()),2&e&&(k.Db(9),k.nc("ngClass",t.step_by_step+2==1?"active":t.step_by_step+2>1?"active pro":""),k.Db(1),k.nc("ngClass",t.step_by_step+2==2?"active":t.step_by_step+2>2?"active pro":""),k.Db(1),k.nc("ngClass",t.step_by_step+2==3?"active":t.step_by_step+2>3?"active pro":""))},directives:[s.k],styles:['@charset "UTF-8";#authForm[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(0,0,0,.125);max-width:550px;margin:0 auto}#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin .5s ease}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\uf00c"!important;font-family:Font Awesome\\ 5 Free!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.btn-block-center[_ngcontent-%COMP%], .link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}']}),eo),ao=((Xn=function(){function e(t,n){b(this,e),this.formBuilder=t,this.commonService=n,this.subscriptions=new v.a,this.form=new l.k({}),this.count_en=0,this.count_de=0}return h(e,[{key:"ngOnInit",value:function(){this.form=this.formBuilder.group({content:["",[l.z.required]],result:["",[l.z.required]]}),this.commonService.translateMetaData({title:"lang_cms_auth_gzip_tool_title",description:"lang_cms_auth_gzip_tool_description",image:"lang_cms_test_image"})}},{key:"encodeAction",value:function(){var e=this.form.controls.content.value;this.form.controls.result.setValue(this.commonService.convertContentGzip(e)),this.count_en=e.length,this.count_de=this.form.controls.result.value.length}},{key:"decodeAction",value:function(){var e=this.form.controls.content.value;this.form.controls.result.setValue(this.commonService.decodeContentGzip(e)),this.count_en=e.length,this.count_de=this.form.controls.result.value.length}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Xn)(k.Pb(l.g),k.Pb(U.a))},Xn.\u0275cmp=k.Jb({type:Xn,selectors:[["app-gzip-tool"]],decls:30,vars:5,consts:[[3,"headerTitle","back_link"],[1,"container-fluid","component-wrap","centerBoth","hasBg","mt-3"],[1,"card"],[1,"card-body"],[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"row"],[1,"col-sm-10"],[1,"row","mb-3"],[1,"col-sm-2","control-label"],["type","text","formControlName","content",1,"form-control"],["type","text","readonly","","formControlName","result",1,"form-control"],[1,"col-sm-2"],[1,"mb-3"],["mat-raised-button","","color","primary",3,"click"],[1,"mt-3","text-center"]],template:function(e,t){1&e&&(k.Qb(0,"header-backend",0),k.Vb(1,"div",1),k.Vb(2,"div",2),k.Vb(3,"div",3),k.Vb(4,"h3"),k.Vb(5,"b"),k.Rc(6,"C\xf4ng c\u1ee5 m\xe3 ho\xe1 - gi\u1ea3i m\xe3"),k.Ub(),k.Ub(),k.Qb(7,"hr"),k.Vb(8,"form",4),k.Vb(9,"div",5),k.Vb(10,"div",6),k.Vb(11,"div",7),k.Vb(12,"label",8),k.Rc(13,"N\u1ed9i dung"),k.Ub(),k.Vb(14,"div",6),k.Qb(15,"textarea",9),k.Ub(),k.Ub(),k.Vb(16,"div",5),k.Vb(17,"label",8),k.Rc(18,"K\u1ebft qu\u1ea3"),k.Ub(),k.Vb(19,"div",6),k.Qb(20,"textarea",10),k.Ub(),k.Ub(),k.Ub(),k.Vb(21,"div",11),k.Vb(22,"div",12),k.Vb(23,"button",13),k.cc("click",function(){return t.encodeAction()}),k.Rc(24,"M\xe3 ho\xe1"),k.Ub(),k.Ub(),k.Vb(25,"div"),k.Vb(26,"button",13),k.cc("click",function(){return t.decodeAction()}),k.Rc(27,"Gi\u1ea3i m\xe3"),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Vb(28,"div",14),k.Rc(29),k.Ub(),k.Ub(),k.Ub(),k.Ub()),2&e&&(k.nc("headerTitle","C\xf4ng c\u1ee5 h\u1ed7 tr\u1ee3 Gzip")("back_link","/admin/testbank/dashboard"),k.Db(8),k.nc("formGroup",t.form),k.Db(21),k.Uc("K\u1ebft qu\u1ea3 convert: chi\u1ec1u d\xe0i ban \u0111\u1ea7u: ",t.count_en," - chi\u1ec1u d\xe0i sau khi convert: ",t.count_de,""))},directives:[w.a,l.B,l.s,l.l,l.d,l.r,l.j,me.b],encapsulation:2}),Xn),so=a("UXJo");function lo(e,t){1&e&&k.Qb(0,"azt-loading-effect")}function bo(e,t){if(1&e&&(k.Vb(0,"h3",31),k.Rc(1),k.Ub()),2&e){var n=k.gc().$implicit;k.Db(1),k.Tc(" ",n.name," ")}}function uo(e,t){1&e&&(k.Vb(0,"div",48),k.Vb(1,"div",49),k.Vb(2,"span",50),k.Rc(3,"Loading..."),k.Ub(),k.Ub(),k.Ub())}function ho(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div",51),k.Vb(1,"iframe",52),k.cc("load",function(){return k.Dc(n),k.gc(5).onLoad()}),k.hc(2,"safe"),k.Ub(),k.Ub()}if(2&e){var o=k.gc(2).$implicit,i=k.gc(3);k.nc("hidden",i.imgLoading),k.Db(1),k.nc("src",k.ic(2,2,o.videoUrl),k.Fc)}}function go(e,t){if(1&e&&(k.Vb(0,"div",45),k.Pc(1,uo,4,0,"div",46),k.Pc(2,ho,3,4,"div",47),k.Ub()),2&e){var n=k.gc().$implicit,o=k.gc(3);k.Db(1),k.nc("ngIf",o.imgLoading),k.Db(1),k.nc("ngIf",n.loading)}}var mo=function(e){return[e]};function po(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div",5),k.Vb(1,"div",32),k.Vb(2,"div",33),k.cc("click",function(){k.Dc(n);var e=t.index,o=k.gc().index;return k.gc(2).scrollClick(o,e)}),k.Vb(3,"div",34),k.Vb(4,"a",35),k.Vb(5,"span"),k.Rc(6),k.Ub(),k.Rc(7),k.Ub(),k.Vb(8,"button",36),k.cc("click",function(){return k.Dc(n),k.gc(3).showCopySuccess()}),k.Vb(9,"mat-icon",37),k.Rc(10,"file_copy"),k.Ub(),k.Ub(),k.Ub(),k.Vb(11,"div",38),k.Qb(12,"div",39),k.Pc(13,go,3,2,"div",40),k.Ub(),k.Ub(),k.Ub(),k.Vb(14,"div",41),k.Vb(15,"div",42),k.Vb(16,"a",43),k.hc(17,"mylocalize"),k.Rc(18,"S\u1eeda"),k.Ub(),k.Vb(19,"button",44),k.cc("click",function(){k.Dc(n);var e=t.$implicit,o=t.index,i=k.gc().index;return k.gc(2).openDialog(e.id,i,o)}),k.Rc(20,"X\xf3a"),k.Ub(),k.Ub(),k.Ub(),k.Ub()}if(2&e){var o=t.$implicit,i=t.index,r=k.gc().index,c=k.gc(2);k.Db(2),k.nc("id",r+"_"+i),k.Db(4),k.Tc("",i+1,". "),k.Db(1),k.Uc("",o.title," (V\u1ecb tr\xed:",o.position,")"),k.Db(1),k.nc("cdkCopyToClipboard",c.copyLinkToClipboard(r+"_"+i)),k.Db(3),k.nc("id","collapse_"+r+"_"+i),k.Db(1),k.nc("innerHTML",o.content,k.Ec),k.Db(1),k.nc("ngIf",""!=o.videoUrl),k.Db(3),k.nc("routerLink",k.sc(11,mo,k.ic(17,9,"/auth/add-faq/"+o.id)))}}function fo(e,t){if(1&e&&(k.Vb(0,"div",27),k.Pc(1,bo,2,1,"h3",28),k.Vb(2,"div",29),k.Pc(3,po,21,13,"div",30),k.hc(4,"appFilter"),k.Ub(),k.Ub()),2&e){var n=t.$implicit,o=k.gc(2);k.Db(1),k.nc("ngIf",o.checkSearch||0==n.objs.length),k.Db(2),k.nc("ngForOf",k.jc(4,2,n.objs,o.searchText))}}function vo(e,t){1&e&&(k.Vb(0,"span"),k.Qb(1,"span",62),k.Rc(2,"\xa0"),k.Ub())}function _o(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div",53),k.Vb(1,"div",54),k.Vb(2,"div",55),k.Vb(3,"p",56),k.Rc(4," B\u1ea1n mu\u1ed1n x\xf3a faq n\xe0y ? "),k.Ub(),k.Ub(),k.Vb(5,"div",57),k.Vb(6,"div",58),k.Vb(7,"button",59),k.cc("click",function(){return k.Dc(n),k.gc(2).closeDialog()}),k.Rc(8," H\u1ee7y "),k.Ub(),k.Ub(),k.Vb(9,"button",60),k.cc("click",function(){return k.Dc(n),k.gc(2).configDeleteFaq()}),k.Pc(10,vo,3,0,"span",61),k.Rc(11," X\xe1c nh\u1eadn "),k.Ub(),k.Ub(),k.Ub(),k.Ub()}if(2&e){var o=k.gc(2);k.Db(9),k.nc("disabled",o.isLoading),k.Db(1),k.nc("ngIf",!0===o.isLoading)}}function yo(e,t){if(1&e){var n=k.Wb();k.Qb(0,"header-backend",2),k.Vb(1,"div",3),k.Vb(2,"div",4),k.Vb(3,"div",5),k.Vb(4,"div",6),k.Vb(5,"div",7),k.Vb(6,"div",8),k.Vb(7,"h2",9),k.Rc(8,"T\xecm c\xe2u h\u1ecfi ho\u1eb7c ch\u1ecdn theo danh m\u1ee5c b\xean d\u01b0\u1edbi"),k.Ub(),k.Vb(9,"div",10),k.Vb(10,"div",11),k.Vb(11,"input",12),k.cc("ngModelChange",function(e){return k.Dc(n),k.gc().searchText=e})("ngModelChange",function(){return k.Dc(n),k.gc().changeValueSearch()}),k.Ub(),k.Vb(12,"div",13),k.Vb(13,"span",14),k.Vb(14,"span",15),k.fc(),k.Vb(15,"svg",16),k.Qb(16,"line",17),k.Qb(17,"polyline",18),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.ec(),k.Vb(18,"div",19),k.Vb(19,"div",5),k.Vb(20,"div",20),k.Vb(21,"a",21),k.hc(22,"mylocalize"),k.Rc(23," + Th\xeam Faq "),k.Ub(),k.Vb(24,"a",21),k.hc(25,"mylocalize"),k.Rc(26," + Th\xeam danh m\u1ee5c Faq "),k.Ub(),k.Ub(),k.Ub(),k.Vb(27,"div",22),k.Vb(28,"div",23),k.Pc(29,fo,5,5,"div",24),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Pc(30,_o,12,2,"div",25),k.Vb(31,"button",26),k.cc("click",function(){return k.Dc(n),k.gc().topFunction()}),k.Vb(32,"mat-icon"),k.Rc(33,"arrow_upward"),k.Ub(),k.Ub()}if(2&e){var o=k.gc();k.nc("headerTitle","Faq")("back_link","/admin/testbank/dashboard"),k.Db(11),k.nc("ngModel",o.searchText),k.Db(10),k.nc("routerLink",k.sc(11,mo,k.ic(22,7,"/auth/add-faq/"))),k.Db(3),k.nc("routerLink",k.sc(13,mo,k.ic(25,9,"/auth/category-faq/"))),k.Db(5),k.nc("ngForOf",o.dataFaq),k.Db(1),k.nc("ngIf",o.isShow)}}var ko,Uo=((ko=function(){function e(t,n,o,i,r){b(this,e),this.router=t,this.vps=n,this.commonService=o,this.cdr=i,this.apiCommonService=r,this.subscriptions=new v.a,this.searchText="",this.checkSearch=!0,this.id=null,this.imgLoading=!0,this.backLink="/admin/testbank/dashboard",this.dataFaq=[],this.isLoading=!1,this.isShow=!1,this.idDelete=0,this.objIndex={}}return h(e,[{key:"topFunction",value:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0}},{key:"changeValueSearch",value:function(){this.checkSearch=""===this.searchText}},{key:"onLoad",value:function(){this.imgLoading=!1}},{key:"getFaqs",value:function(){var e=this;this.isLoading=!0,this.apiCommonService.getFaqObjs().subscribe(function(t){if(1==t.success){e.dataFaq=t.data.objs;for(var n=0;n<e.dataFaq;n++)for(var o=0;o<e.dataFaq[n].objs.length;o++)e.dataFaq[n].objs[o].loading=!1}else e.commonService.snackError("Kh\xf4ng t\u1ea3i \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u","");e.isLoading=!1})}},{key:"openDialog",value:function(e,t,n){this.objIndex.i=t,this.objIndex.j=n,this.idDelete=e,this.isShow=!0}},{key:"editFaq",value:function(e){this.commonService.myNavigation("/auth/add-faq/"+e)}},{key:"addFaq",value:function(){this.commonService.myNavigation("/auth/add-faq")}},{key:"configDeleteFaq",value:function(){var e=this;this.isLoading=!0,this.apiCommonService.deleteFaqObj(this.idDelete).subscribe(function(t){1==t.success?(e.commonService.snackSuccess("X\xf3a d\u1eef li\u1ec7u th\xe0nh c\xf4ng.",""),e.dataFaq[e.objIndex.i].objs.splice(e.objIndex.j,1)):e.commonService.snackError("X\xf3a d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng",""),e.isLoading=!1}),this.isShow=!1}},{key:"closeDialog",value:function(){this.isShow=!1,this.idDelete=0}},{key:"scroll",value:function(e){this.vps.scrollToAnchor(e);var t=e.split("_")[0],n=e.split("_")[1],o=document.getElementById("collapse_".concat(t,"_").concat(n));this.dataFaq[t].objs[n].loading=!0,null!==o&&o.classList.toggle("show-content")}},{key:"scrollClick",value:function(e,t){var n=document.getElementById("collapse_".concat(e,"_").concat(t));this.dataFaq[e].objs[t].loading=!0,null!==n&&n.classList.toggle("show-content")}},{key:"copyLinkToClipboard",value:function(e){return"".concat(location.protocol+"//"+location.hostname+(location.port?":"+location.port:""),"/en/faq/").concat(e)}},{key:"showCopySuccess",value:function(){this.commonService.snackSuccess("Sao ch\xe9p th\xe0nh c\xf4ng","")}},{key:"ngOnInit",value:function(){this.getFaqs(),this.commonService.getMyQueryParam("backto")&&(this.backLink=this.commonService.getMyQueryParam("backto")),this.commonService.translateMetaData({title:"lang_core_faq_title",description:"lang_core_faq_description",image:"lang_cms_test_image"})}},{key:"ngAfterViewInit",value:function(){var e=this;setTimeout(function(){e.id=e.router.snapshot.paramMap.get("id"),null!==e.id&&e.scroll(e.id)},200)}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||ko)(k.Pb(d.a),k.Pb(s.w),k.Pb(U.a),k.Pb(k.h),k.Pb(V.a))},ko.\u0275cmp=k.Jb({type:ko,selectors:[["app-add-faq"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"headerTitle","back_link"],[1,"wrapper"],[1,"container-fluid","pb-80"],[1,"row"],[1,"col-xl-12","p-0"],[1,"faq-search-wrap","bg-teal-light-3"],[1,"container"],[1,"display-5","text-white","mb-20"],[1,"form-group","w-100","mb-0"],[1,"input-group"],["type","text","placeholder","T\xecm ki\u1ebfm... ","type","text",1,"form-control","form-control-lg","filled-input","bg-white","form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],[1,"input-group-text",2,"background","transparent","border","none"],[1,"feather-icon"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-arrow-right"],["x1","5","y1","12","x2","19","y2","12"],["points","12 5 19 12 12 19"],[1,"container","mt-sm-60","mt-30"],[1,"col-md-12","text-right"],[1,"btn","btn-success","mr-2",2,"margin-right","25px",3,"routerLink"],[1,"hk-row"],[1,"col-xl-12"],["class","card-lg",4,"ngFor","ngForOf"],["class","school-info_bg",4,"ngIf"],["id","myBtn","mat-fab","","title","Go to top",3,"click"],[1,"card-lg"],["style"," margin-top: 20px; ",4,"ngIf"],["id","accordion_1a",1,"accordion","accordion-type-2","accordion-flush"],["class","row",4,"ngFor","ngForOf"],[2,"margin-top","20px"],[1,"col-xl-10"],[1,"card","card-custom","contsearch",3,"id","click"],[1,"card-header","d-flex","justify-content-between","activestate","simple"],["role","button","aria-expanded","false",1,"collapsed","gsearch"],["mat-button","",1,"btn",2,"font-size","10px","padding-top","9px",3,"cdkCopyToClipboard","click"],[2,"font-size","16px","color","#00000082"],["data-parent","#accordion_1","role","tabpanel",1,"collapse",3,"id"],[1,"card-body","pa-15",3,"innerHTML"],["class","p-md-3",4,"ngIf"],[1,"col-xl-2"],[1,"block-btn"],["mat-flat-button","","color","primary",3,"routerLink"],["mat-flat-button","","color","warn",3,"click"],[1,"p-md-3"],["class","px-4 py-3 text-center",4,"ngIf"],["class","embed-responsive embed-responsive-16by9 video_link",3,"hidden",4,"ngIf"],[1,"px-4","py-3","text-center"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"],[1,"embed-responsive","embed-responsive-16by9","video_link",3,"hidden"],["allowfullscreen","",1,"embed-responsive-item",3,"src","load"],[1,"school-info_bg"],[1,"school-info","p-4"],[1,"text-center"],[1,"h5","para_respon","font-weight-normal"],[1,"d-flex","float-right","mt-3"],[1,"azt-block-button"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"disabled","click"],[4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,t){if(1&e&&(k.Pc(0,lo,1,0,"azt-loading-effect",0),k.Pc(1,yo,34,15,"ng-template",null,1,k.Qc)),2&e){var n=k.zc(2);k.nc("ngIf",t.isLoading)("ngIfElse",n)}},directives:[s.m,x.a,w.a,l.d,l.r,l.u,d.k,s.l,me.b,Re.a,so.a,me.a],pipes:[pe.p,pe.j,pe.s],styles:['@charset "UTF-8";body[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:#fff;width:16px}.btn-green[_ngcontent-%COMP%]{color:#fff;background-color:#28a745;border-color:#28a745}.btn-green[_ngcontent-%COMP%]:hover{color:#fff;background-color:#218838;border-color:#1e7e34}body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#fff}body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#babac0;border-radius:16px;border:4px solid #fff}body[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}.pb-80[_ngcontent-%COMP%]{padding-bottom:80px}.img-custom[_ngcontent-%COMP%]{width:100%!important}.header-top[_ngcontent-%COMP%]{max-height:65px;overflow:hidden;background-color:#fff;display:flex;align-items:center;padding:5px 10px;box-shadow:0 1px 7px rgba(169,151,151,.24);justify-content:space-between}a[_ngcontent-%COMP%]{text-decoration:none!important}.logo-link[_ngcontent-%COMP%]{display:flex;align-items:center}.logo-img[_ngcontent-%COMP%]{width:95px;height:41px}.faq-search-wrap[_ngcontent-%COMP%]{padding:80px 0}.faq-search-wrap[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .dd-handle[_ngcontent-%COMP%], .faq-search-wrap[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.faq-search-wrap[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-group-append[_ngcontent-%COMP%]{position:absolute;right:0;top:0;bottom:0;z-index:10;pointer-events:none}.bg-teal-light-3[_ngcontent-%COMP%]{background-color:rgba(35,97,174,.8)!important}.hk-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-right:-10px;margin-left:-10px}@media (min-width:576px){.mt-sm-60[_ngcontent-%COMP%]{margin-top:60px!important}}.mt-30[_ngcontent-%COMP%]{margin-top:30px!important}.list-group-item.active[_ngcontent-%COMP%]{background-color:#00acf0;border-color:#00acf0}.accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header.activestate[_ngcontent-%COMP%]{border-width:1px}.accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:0;border-width:0}.card.card-lg[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%], .card.card-lg[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:.9rem 1.5rem}.accordion[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{margin-bottom:-1px}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:transparent;border:none}.accordion.accordion-type-2[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%] > a.collapsed[_ngcontent-%COMP%]{color:#324148}.accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:first-of-type   .card-header[_ngcontent-%COMP%]:first-child > a[_ngcontent-%COMP%]{border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.accordion.accordion-type-2[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{background:transparent;color:#00acf0;padding-left:10px;padding-right:10px}.accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%] > a.collapsed[_ngcontent-%COMP%]{color:#324148;background:transparent}.accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{background:#00acf0;color:#fff;font-weight:500;padding:.75rem 1.25rem .75rem 0;display:block;width:100%;text-align:left;position:relative;transition:all .2s ease-in-out}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;transition:color .2s ease}.card-header[_ngcontent-%COMP%] + .list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:first-child{border-top:1px solid rgba(0,0,0,.125)!important}.badge.badge-pill[_ngcontent-%COMP%]{border-radius:50px}.badge.badge-light[_ngcontent-%COMP%]{background:#eaecec;color:#324148}.badge[_ngcontent-%COMP%]{font-weight:500;border-radius:4px;padding:5px 7px;font-size:72%;letter-spacing:.3px;vertical-align:middle;display:inline-block;text-align:center;text-transform:capitalize}.ml-15[_ngcontent-%COMP%]{margin-left:15px!important}.accordion[_ngcontent-%COMP%]{padding:0}h3[_ngcontent-%COMP%]{margin-top:20px;font-weight:500;font-size:20px;text-transform:uppercase}.mr-15[_ngcontent-%COMP%]{margin-right:15px!important}.card-custom[_ngcontent-%COMP%]{margin:20px 0;border-bottom:1px solid rgba(0,0,0,.125);border-radius:0!important;padding:5px;box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);transition:all .3s cubic-bezier(.25,.8,.25,1)}.postion[_ngcontent-%COMP%]{position:relative}.card-custom[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px rgba(0,0,0,.25),0 3px 3px rgba(0,0,0,.22)}.accordion[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:last-of-type){border-bottom:1px solid rgba(0,0,0,.125);border-radius:.25rem;padding:5px}#button[_ngcontent-%COMP%]{display:inline-block;background-color:#00acf0;width:50px;height:50px;text-align:center;border-radius:4px;position:fixed;bottom:30px;right:30px;transition:background-color .3s,opacity .5s,visibility .5s;opacity:0;visibility:hidden;z-index:1000}#button[_ngcontent-%COMP%]:after{content:"\uf077";font-family:FontAwesome;font-weight:400;font-style:normal;font-size:2em;line-height:50px;color:#fff}#button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#333}#button[_ngcontent-%COMP%]:active{background-color:#555}#button.show[_ngcontent-%COMP%]{opacity:1;visibility:visible}.card-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;display:block;margin:auto}.section-title-line[_ngcontent-%COMP%]{display:flex}.content-outline__item[_ngcontent-%COMP%]{line-height:1.2;list-style:none;padding:5px 0;font-size:.9rem;color:#495057}.collapse[_ngcontent-%COMP%]{display:block;opacity:0;visibility:hidden;height:0}.show-content[_ngcontent-%COMP%]{transition:all .5s;opacity:1;visibility:visible;height:auto}#myBtn[_ngcontent-%COMP%]{display:block;position:fixed;bottom:20px;right:30px;z-index:99;cursor:pointer;background:rgba(35,97,174,.8);color:#fff}.block-btn[_ngcontent-%COMP%]{margin-top:30px}.block-btn[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:10px}.school-info_bg[_ngcontent-%COMP%]{z-index:9998;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background:rgba(0,0,0,.5607843137254902)}.school-info[_ngcontent-%COMP%]{z-index:9999;top:50%;left:50%;min-width:30%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}}@media screen and (max-width:768px){.block-btn[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:30px}}']}),ko),Vo=["elementCreateQr"],xo=["aztScanQrcode"];function wo(e,t){1&e&&k.Qb(0,"header-backend",27),2&e&&k.nc("headerTitle","")("back_link","/admin/testbank/dashboard")}function Co(e,t){1&e&&(k.Vb(0,"h2",28),k.Qb(1,"img",29),k.Ub())}var Po=function(e){return[e]},So=function(e){return{return_url:e}};function Oo(e,t){if(1&e&&(k.Vb(0,"a",30),k.hc(1,"localize"),k.Vb(2,"mat-icon"),k.Rc(3,"arrow_back"),k.Ub(),k.Ub()),2&e){var n=k.gc();k.nc("routerLink",k.sc(4,Po,k.ic(1,2,"/auth/login")))("queryParams",k.sc(6,So,n.returnUrl))}}function Do(e,t){if(1&e){var n=k.Wb();k.Vb(0,"span",31),k.cc("click",function(){return k.Dc(n),k.gc().switchModeView()}),k.Vb(1,"mat-icon"),k.Rc(2,"arrow_back"),k.Ub(),k.Ub()}}function Mo(e,t){1&e&&(k.Vb(0,"div",22),k.Rc(1," D\xf9ng thi\u1ebft b\u1ecb \u0111\xe3 \u0111\u0103ng nh\u1eadp \u0111\u1ec3 qu\xe9t m\xe3 \u0111\u0103ng nh\u1eadp "),k.Ub())}function Ro(e,t){1&e&&(k.Vb(0,"div",22),k.Rc(1," D\xf9ng thi\u1ebft b\u1ecb c\u1ea7n \u0111\u0103ng nh\u1eadp qu\xe9t m\xe3 "),k.Ub())}function Io(e,t){if(1&e&&(k.Vb(0,"div",32),k.Qb(1,"span",33),k.Rc(2),k.Ub()),2&e){var n=k.gc();k.Db(2),k.Tc("\xa0 \u0110ang ch\u1edd qu\xe9t m\xe3 Qrcode: ",n.nameSessionConfirm," ")}}function Ao(e,t){1&e&&(k.Vb(0,"div",32),k.Qb(1,"span",33),k.Rc(2,"\xa0 \u0110ang ch\u1edd qu\xe9t m\xe3 Qrcode "),k.Ub())}function jo(e,t){if(1&e&&(k.Vb(0,"span"),k.Rc(1,"X\xe1c nh\u1eadn \u0111\u0103ng nh\u1eadp t\xe0i kho\u1ea3n"),k.Qb(2,"br"),k.Rc(3),k.Ub()),2&e){var n=k.gc(2);k.Db(3),k.Tc("v\u1edbi m\xe3 QR \u0111\xe3 ph\xe1t hi\u1ec7n: ",n.nameSessionConfirm,"")}}function Lo(e,t){1&e&&(k.Vb(0,"div"),k.Qb(1,"span",33),k.Rc(2,"\xa0 "),k.Vb(3,"span",40),k.Rc(4,"\u0110ang ch\u1edd x\u1eed l\xfd"),k.Ub(),k.Ub())}function Qo(e,t){if(1&e&&(k.Vb(0,"div",41),k.Rc(1),k.Ub()),2&e){var n=k.gc(2);k.Db(1),k.Sc(n.textResultErr)}}function To(e,t){if(1&e&&(k.Vb(0,"div",42),k.Rc(1),k.Ub()),2&e){var n=k.gc(2);k.Db(1),k.Sc(n.textResultSuss)}}function Eo(e,t){1&e&&(k.Vb(0,"span"),k.Qb(1,"span",33),k.Rc(2,"\xa0"),k.Ub())}function Fo(e,t){1&e&&(k.Vb(0,"span"),k.Qb(1,"span",33),k.Rc(2,"\xa0"),k.Ub())}function zo(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div"),k.Vb(1,"button",43),k.cc("click",function(){return k.Dc(n),k.gc(2).confContentPendingLogin(1)}),k.Pc(2,Eo,3,0,"span",37),k.Rc(3," Ch\u1ea5p nh\u1eadn "),k.Ub(),k.Vb(4,"button",44),k.cc("click",function(){return k.Dc(n),k.gc(2).confContentPendingLogin(2)}),k.Pc(5,Fo,3,0,"span",37),k.Rc(6," T\u1eeb ch\u1ed1i "),k.Ub(),k.Ub()}if(2&e){var o=k.gc(2);k.Db(1),k.nc("disabled",o.isLoadingBtn||!1!==o.textResultErr),k.Db(1),k.nc("ngIf",o.isLoadingBtn),k.Db(2),k.nc("disabled",o.isLoadingBtn||!1!==o.textResultErr),k.Db(1),k.nc("ngIf",o.isLoadingBtn)}}function qo(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div"),k.Vb(1,"button",45),k.cc("click",function(){return k.Dc(n),k.gc(2).backScanActionWithIsLogin()}),k.Rc(2,"Quay l\u1ea1i "),k.Ub(),k.Ub()}}function Bo(e,t){if(1&e&&(k.Vb(0,"div",34),k.Vb(1,"div",35),k.Vb(2,"div",36),k.Pc(3,jo,4,1,"span",37),k.Ub(),k.Pc(4,Lo,5,0,"div",37),k.Pc(5,Qo,2,1,"div",38),k.Pc(6,To,2,1,"div",39),k.Pc(7,zo,7,4,"div",37),k.Pc(8,qo,3,0,"div",37),k.Ub(),k.Ub()),2&e){var n=k.gc();k.Db(3),k.nc("ngIf",n.nameSessionConfirm),k.Db(1),k.nc("ngIf",n.isLoadingBtn),k.Db(1),k.nc("ngIf",!1!==n.textResultErr),k.Db(1),k.nc("ngIf",!1!==n.textResultSuss),k.Db(1),k.nc("ngIf",!1===n.textResultSuss||!1===n.isConfirmBtn),k.Db(1),k.nc("ngIf",n.isLogin&&!1===n.isLoadingBtn&&!0===n.isConfirmBtn)}}function No(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div",49),k.cc("click",function(){return k.Dc(n),k.gc(2).createRequestLoginHashCodeAction()}),k.Vb(1,"div",50),k.Vb(2,"div"),k.Vb(3,"mat-icon"),k.Rc(4,"sync"),k.Ub(),k.Ub(),k.Vb(5,"div"),k.Rc(6,"T\u1ea1o m\u1edbi m\xe3"),k.Ub(),k.Ub(),k.Ub()}}function Wo(e,t){if(1&e){var n=k.Wb();k.Vb(0,"azt-create-qr-image",51,52),k.cc("expiredAction",function(){return k.Dc(n),k.gc(2).expiredQrcodeAction()}),k.Ub()}if(2&e){var o=k.gc(2);k.nc("content",o.contentCreateQrcode)("expired",o.durationQrcodeExpire)}}function Ho(e,t){if(1&e&&(k.Vb(0,"div",46),k.Pc(1,No,7,0,"div",47),k.Pc(2,Wo,2,2,"azt-create-qr-image",48),k.Ub()),2&e){var n=k.gc();k.Db(1),k.nc("ngIf",!1===n.isLogin&&!1===n.contentCreateQrcode),k.Db(1),k.nc("ngIf",!1!==n.contentCreateQrcode)}}function Go(e,t){if(1&e){var n=k.Wb();k.Vb(0,"a",53),k.cc("click",function(){return k.Dc(n),k.gc().downloadQrCode()}),k.Vb(1,"mat-icon"),k.Rc(2,"download"),k.Ub(),k.Rc(3," T\u1ea3i xu\u1ed1ng m\xe3"),k.Ub()}}function Yo(e,t){1&e&&(k.Vb(0,"div",18),k.Vb(1,"span"),k.Rc(2,"- HO\u1eb6C B\u1ea0N C\xd3 TH\u1ec2 -"),k.Ub(),k.Ub())}function $o(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div",18),k.Vb(1,"a",54),k.cc("click",function(){return k.Dc(n),k.gc().switchModeView()}),k.Vb(2,"span",55),k.Vb(3,"mat-icon",56),k.Rc(4,"center_focus_strong"),k.Ub(),k.Rc(5," Qu\xe9t m\xe3 QR c\xf3 s\u1eb5n"),k.Ub(),k.Ub(),k.Ub()}}function Ko(e,t){if(1&e&&(k.Vb(0,"div",41),k.Rc(1),k.Ub()),2&e){var n=k.gc(2);k.Db(1),k.Sc(n.textResultErr)}}function Jo(e,t){if(1&e&&(k.Vb(0,"div",42),k.Rc(1),k.Ub()),2&e){var n=k.gc(2);k.Db(1),k.Sc(n.textResultSuss)}}function Zo(e,t){1&e&&(k.Vb(0,"span"),k.Qb(1,"span",33),k.Rc(2,"\xa0"),k.Ub())}function Xo(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div"),k.Vb(1,"button",43),k.cc("click",function(){return k.Dc(n),k.gc(2).confContentLogin()}),k.Pc(2,Zo,3,0,"span",37),k.Rc(3," \u0110\u0103ng nh\u1eadp "),k.Ub(),k.Vb(4,"button",44),k.cc("click",function(){return k.Dc(n),k.gc(2).reopenScanCamInit()}),k.Rc(5,"Th\u1eed l\u1ea1i"),k.Ub(),k.Ub()}if(2&e){var o=k.gc(2);k.Db(1),k.nc("disabled",o.isLoadingBtn||!1!==o.textResultErr),k.Db(1),k.nc("ngIf",o.isLoadingBtn),k.Db(2),k.nc("disabled",o.isLoadingBtn)}}function ei(e,t){if(1&e&&(k.Vb(0,"div",34),k.Vb(1,"div",35),k.Vb(2,"div",36),k.Rc(3,"X\xe1c nh\u1eadn \u0111\u0103ng nh\u1eadp t\xe0i kho\u1ea3n"),k.Qb(4,"br"),k.Rc(5,"v\u1edbi m\xe3 QR \u0111\xe3 ph\xe1t hi\u1ec7n"),k.Ub(),k.Pc(6,Ko,2,1,"div",38),k.Pc(7,Jo,2,1,"div",39),k.Pc(8,Xo,6,3,"div",37),k.Ub(),k.Ub()),2&e){var n=k.gc();k.Db(6),k.nc("ngIf",!1!==n.textResultErr),k.Db(1),k.nc("ngIf",!1!==n.textResultSuss),k.Db(1),k.nc("ngIf",!1===n.textResultSuss)}}function ti(e,t){if(1&e&&(k.Vb(0,"span"),k.Rc(1,"\u0110\u0103ng nh\u1eadp t\xe0i kho\u1ea3n"),k.Qb(2,"br"),k.Rc(3),k.Ub()),2&e){var n=k.gc(2);k.Db(3),k.Tc("v\u1edbi m\xe3 QR \u0111\xe3 ph\xe1t hi\u1ec7n: ",n.nameSessionConfirm,"")}}function ni(e,t){1&e&&(k.Vb(0,"div"),k.Qb(1,"span",33),k.Rc(2,"\xa0 "),k.Vb(3,"span",40),k.Rc(4,"\u0110ang ch\u1edd x\u1eed l\xfd"),k.Ub(),k.Ub())}function oi(e,t){if(1&e&&k.Qb(0,"div",60),2&e){var n=k.gc(2);k.nc("innerHTML",n.textResultErr,k.Ec)}}function ii(e,t){1&e&&(k.Vb(0,"span"),k.Qb(1,"span",33),k.Rc(2,"\xa0"),k.Ub())}function ri(e,t){if(1&e&&(k.Vb(0,"button",61),k.Pc(1,ii,3,0,"span",37),k.Rc(2),k.Ub()),2&e){var n=k.gc(2);k.nc("disabled",!1!==n.textResultSuss),k.Db(1),k.nc("ngIf",n.isLoadingBtn),k.Db(1),k.Tc(" ",n.textResultSuss," ")}}function ci(e,t){if(1&e){var n=k.Wb();k.Vb(0,"button",44),k.cc("click",function(){return k.Dc(n),k.gc(2).reopenScanCamInit()}),k.Rc(1,"Th\u1eed l\u1ea1i"),k.Ub()}if(2&e){var o=k.gc(2);k.nc("disabled",o.isLoadingBtn)}}function ai(e,t){if(1&e&&(k.Vb(0,"div",34),k.Vb(1,"div",35),k.Vb(2,"div",36),k.Pc(3,ti,4,1,"span",37),k.Ub(),k.Pc(4,ni,5,0,"div",37),k.Pc(5,oi,1,1,"div",57),k.Vb(6,"div"),k.Pc(7,ri,3,3,"button",58),k.Pc(8,ci,2,1,"button",59),k.Ub(),k.Ub(),k.Ub()),2&e){var n=k.gc();k.Db(3),k.nc("ngIf",n.nameSessionConfirm),k.Db(1),k.nc("ngIf",n.isLoadingBtn),k.Db(1),k.nc("ngIf",!1!==n.textResultErr),k.Db(2),k.nc("ngIf",!1!==n.textResultSuss),k.Db(1),k.nc("ngIf",!1!==n.textResultErr)}}var si,li=function(e){return{"d-none":e}},di=((si=function(){function e(t,n,o){b(this,e),this.commonService=t,this.apiAuthService=n,this.localStorageObjetct=o,this.subscriptions=new v.a,this.isLogin=!1,this.status_obj={form_loading:!0,loading:!1,error:!1,error_obj:{message:""}},this.modeShowInit="create",this.contentCreateQrcode=!1,this.sussScanNextConf=!1,this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss=!1,this.textResultErr=!1,this.pendingDuration=!1}return h(e,[{key:"ngOnInit",value:function(){this.apiAuthService.isLogin()&&this.apiAuthService.isAnonymousRole()&&this.commonService.myNavigation("/auth/login"),this.isLogin=this.apiAuthService.isLogin(),this.isLogin&&(this.userLogin=this.commonService.getUserObj(),this.createQrCodeWithUser()),this.commonService.translateMetaData({title:"lang_cms_auth_login_title",description:"lang_cms_auth_login_description",image:"lang_cms_test_image"})}},{key:"createQrCodeWithUser",value:function(){var e=this;this.status_obj.form_loading=!0,this.subscriptions.add(this.apiAuthService.CreateLoginQrCode().subscribe(function(t){1==t.success?(e.status_obj.form_loading=!1,e.contentCreateQrcode=t.data.qrCode,e.durationQrcodeExpire=t.data.duration,e.initPendingLoadingConfirm()):e.commonService.snackError("Kh\xf4ng t\u1ea3i \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u","")}))}},{key:"downloadQrCode",value:function(){this.elementCreateQr&&this.elementCreateQr.downloadQrcode("azota-login")}},{key:"switchModeView",value:function(){this.modeShowInit="create"===this.modeShowInit?"scan":"create",this.elementaztScanQrcode&&("scan"===this.modeShowInit?(this.elementaztScanQrcode.initScanCam(),this.clearLoopRefLogin(),this.clearLoopPendingLogin()):(this.elementaztScanQrcode.unInitSscanCam(),this.initLoopRefLogin(),this.initPendingLoadingConfirm()))}},{key:"outContentScan",value:function(e){var t,n=this;null!==e?(this.scanQrContent=e,this.sussScanNextConf=!0,this.isLogin||(null===(t=this.elementaztScanQrcode)||void 0===t||t.pauseScanQrcode(),this.isLoadingBtn=!0,this.textResultSuss=!1,this.apiAuthService.CreateLoginQrCodeRequest({QrCode:this.scanQrContent}).subscribe(function(e){n.isLoadingBtn=!1,1==e.success?(n.isLoadingBtn=!0,n.scanQrContentConfirm=e.data.qrCode,n.nameSessionConfirm=e.data.name,n.textResultSuss=!1,n.initLoopPendingLogin()):(n.textResultSuss=!1,n.textResultErr="G\u1eedi y\xeau c\u1ea7u \u0111\u0103ng nh\u1eadp th\u1ea5t b\u1ea1i")}))):(this.sussScanNextConf=!0,this.textResultErr="M\xe3 \u0111\u0103ng nh\u1eadp kh\xf4ng h\u1ee3p l\u1ec7. Vui l\xf2ng t\u1ea1o m\u1edbi v\xe0 th\u1eed l\u1ea1i.",this.commonService.snackError("M\xe3 Qr kh\xf4ng h\u1ee3p l\u1ec7.",""))}},{key:"reloadLogin",value:function(){this.isLogin&&this.commonService.redirectToDashboard()}},{key:"initLoopPendingLogin",value:function(){var e=this;this.loopPendingLogin=setInterval(function(){e.apiAuthService.CheckLoginQrCodeRequestConfirmed(e.scanQrContentConfirm).subscribe(function(t){1==t.success&&(t.hasOwnProperty("new_user")?(e.clearLoopPendingLogin(),e.commonService.gaEvent("sign_in_login_in"),e.isLoadingBtn=!1,e.commonService.snackSuccess("\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng.",null),e.textResultSuss=!1,e.localStorageObjetct.clearAllCache(),e.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},e.apiAuthService.redirectLoginByRole(e.commonService.getMyQueryParam("return_url"))):t.data&&2===t.data.status&&(e.clearLoopPendingLogin(),e.commonService.snackError("X\xe1c nh\u1eadn \u0111\u0103ng nh\u1eadp th\u1ea5t b\u1ea1i",null),e.textResultErr="X\xe1c nh\u1eadn \u0111\u0103ng nh\u1eadp th\u1ea5t b\u1ea1i.<br/> M\xe3 Qr kh\xf4ng c\xf2n ho\u1ea1t \u0111\u1ed9ng.<br/> Vui l\xf2ng t\u1ea1o m\xe3 Qrcode m\u1edbi \u0111\u1ec3 \u0111\u0103ng nh\u1eadp l\u1ea1i.",e.textResultSuss=!1))})},3e3)}},{key:"clearLoopPendingLogin",value:function(){this.loopPendingLogin&&clearInterval(this.loopPendingLogin)}},{key:"initPendingLoadingConfirm",value:function(){var e=this;this.isLogin&&(this.loopPendingLogin=setInterval(function(){e.apiAuthService.GetFirstQrCodeLoginRequest().subscribe(function(t){1==t.success&&t.data&&""!==t.data.qrCode&&(e.pendingDuration=!0,e.scanQrContentConfirm=t.data.qrCode,e.nameSessionConfirm=t.data.name,e.clearLoopPendingLogin())})},3e3))}},{key:"confContentPendingLogin",value:function(e){var t=this;this.isLogin&&(this.isLoadingBtn=!0,this.apiAuthService.ConfirmLoginQrCodeRequest({qrCode:this.scanQrContentConfirm,status:e}).subscribe(function(n){1==n.success?t.textResultSuss=1==e?"X\xe1c nh\u1eadn th\xe0nh c\xf4ng":"T\u1eeb ch\u1ed1i th\xe0nh c\xf4ng":t.textResultErr="H\u1ec7 th\u1ed1ng kh\xf4ng ph\u1ea3n h\u1ed3i. Vui l\xf2ng t\u1ea3i l\u1ea1i trang \u0111\u1ec3 th\u1eed l\u1ea1i.",t.isConfirmBtn=!0,t.isLoadingBtn=!1}))}},{key:"createRequestLoginHashCodeAction",value:function(){var e=this;this.isLogin||this.apiAuthService.AnonymousCreateLoginQrCode().subscribe(function(t){1==t.success&&(e.contentCreateQrcode=t.data.qrcode,e.nameSessionConfirm=t.data.name,e.durationQrcodeExpire=t.data.duration,e.initLoopRefLogin())})}},{key:"initLoopRefLogin",value:function(){var e=this;0==this.isLogin&&(this.loopRefCheckQrcodeLogin=setInterval(function(){e.apiAuthService.AnonymousCheckLoginQrCodeRequestConfimed(e.contentCreateQrcode).subscribe(function(t){1===t.success&&404!=t.data.status&&(e.commonService.gaEvent("sign_in_login_in"),e.commonService.snackSuccess("\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng.",null),e.apiAuthService.redirectLoginByRole(e.commonService.getMyQueryParam("return_url")))})},3e3))}},{key:"clearLoopRefLogin",value:function(){this.loopRefCheckQrcodeLogin&&clearInterval(this.loopRefCheckQrcodeLogin)}},{key:"confContentLogin",value:function(){var e=this;this.isLoadingBtn=!0,this.isLogin&&this.apiAuthService.AnonymousConfirmLoginQrCodeRequest(this.scanQrContent).subscribe(function(t){e.isLoadingBtn=!1,1===t.success?e.textResultSuss="X\xe1c nh\u1eadn th\xe0nh c\xf4ng. Phi\xean \u0111\u0103ng nh\u1eadp \u0111\xe3 \u0111\u01b0\u1ee3c ph\xea duy\u1ec7t":e.textResultErr="M\xe3 \u0111\u0103ng nh\u1eadp kh\xf4ng h\u1ee3p l\u1ec7. Vui l\xf2ng thao t\xe1c l\u1ea1i"})}},{key:"reopenScanCamInit",value:function(){this.textResultErr=!1,this.textResultSuss=!1,this.elementaztScanQrcode&&(this.elementaztScanQrcode.initScanCam(),this.sussScanNextConf=!1)}},{key:"backScanActionWithIsLogin",value:function(){this.isLogin&&(this.clearLoopRefLogin(),this.clearLoopPendingLogin(),this.status_obj={form_loading:!0,loading:!1,error:!1,error_obj:{message:""}},this.contentCreateQrcode=!1,this.sussScanNextConf=!1,this.scanQrContent=null,this.scanQrContentConfirm=null,this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss=!1,this.textResultErr=!1,this.nameSessionConfirm=null,this.durationQrcodeExpire=null,this.createQrCodeWithUser())}},{key:"expiredQrcodeAction",value:function(){this.pendingDuration||(this.clearLoopRefLogin(),this.clearLoopPendingLogin(),this.status_obj={form_loading:!0,loading:!1,error:!1,error_obj:{message:""}},this.contentCreateQrcode=!1,this.sussScanNextConf=!1,this.scanQrContent=null,this.scanQrContentConfirm=null,this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss=!1,this.textResultErr=!1,this.nameSessionConfirm=null,this.durationQrcodeExpire=null,this.isLogin?(this.createQrCodeWithUser(),this.commonService.snackError("M\xe3 Qrcode \u0111\xe3 h\u1ebft h\u1ea1n, \u0111\xe3 t\u1ea1o m\xe3 qrcode m\u1edbi. Vui l\xf2ng thao t\xe1c l\u1ea1i.",null)):this.commonService.snackError("M\xe3 Qrcode \u0111\xe3 h\u1ebft h\u1ea1n, vui l\xf2ng t\u1ea1o m\u1edbi v\xe0 thao t\xe1c l\u1ea1i.",null))}},{key:"forgotPassword",value:function(){this.commonService.gaEvent("sign_in_forgot_password"),this.commonService.myNavigation("/auth/confirm_forgot_password")}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe(),this.clearLoopRefLogin(),this.clearLoopPendingLogin()}}]),e}()).\u0275fac=function(e){return new(e||si)(k.Pb(U.a),k.Pb(ge.a),k.Pb(Et.a))},si.\u0275cmp=k.Jb({type:si,selectors:[["app-login"]],viewQuery:function(e,t){var n;1&e&&(k.Yc(Vo,!0),k.Yc(xo,!0)),2&e&&(k.yc(n=k.dc())&&(t.elementCreateQr=n.first),k.yc(n=k.dc())&&(t.elementaztScanQrcode=n.first))},decls:38,vars:32,consts:[[3,"headerTitle","back_link",4,"ngIf"],[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","6vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6","mb-5"],["class","text-center",4,"ngIf"],[1,"card"],[1,"text-center","loginscan__card-header"],["style","font-size: 16px; color: #6d6d6d;","class","back-btn",3,"routerLink","queryParams",4,"ngIf"],["style","font-size: 16px; color: #6d6d6d;","class","back-btn",3,"click",4,"ngIf"],[2,"font-size","16px","color","#6d6d6d","font-weight","500"],[1,"loginscan__card-body"],[1,"loginscan_createmode",3,"ngClass"],["class","text-center mb-3",4,"ngIf"],["class","text-center mb-3 block-inline-center",4,"ngIf"],["class","loginscan_scanmode_conf",4,"ngIf"],["class","loginscan__card-img",4,"ngIf"],[1,"text-center","mt-3"],["class","link-center",3,"click",4,"ngIf"],["class","text-center mt-3",4,"ngIf"],[1,"loginscan_scanmode",3,"ngClass"],[1,"text-center","mb-3"],[3,"routerLink","queryParams"],[1,"loginscan_scanmode_cam",3,"ngClass"],[3,"outContentScan"],["aztScanQrcode",""],[3,"headerTitle","back_link"],[1,"text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],[1,"back-btn",2,"font-size","16px","color","#6d6d6d",3,"routerLink","queryParams"],[1,"back-btn",2,"font-size","16px","color","#6d6d6d",3,"click"],[1,"text-center","mb-3","block-inline-center"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"loginscan_scanmode_conf"],[1,"loginscan_scanmode_conf--box"],[1,"boxtext"],[4,"ngIf"],["class","boxtext-err","style","font-size: 20px; margin-bottom: 20px; color: #f44336;",4,"ngIf"],["class","boxtext-suss","style","font-size: 20px; margin-bottom: 20px; color: #009688;",4,"ngIf"],[2,"font-size","18px"],[1,"boxtext-err",2,"font-size","20px","margin-bottom","20px","color","#f44336"],[1,"boxtext-suss",2,"font-size","20px","margin-bottom","20px","color","#009688"],["type","button",1,"btn","btn-primary","mr-3",3,"disabled","click"],["type","button",1,"btn","btn-warning",3,"disabled","click"],["type","button",1,"btn","btn-primary","mr-3",3,"click"],[1,"loginscan__card-img"],["class","box-create-login-img",3,"click",4,"ngIf"],["width","350","height","350",3,"content","expired","expiredAction",4,"ngIf"],[1,"box-create-login-img",3,"click"],[1,"box-create-login-content"],["width","350","height","350",3,"content","expired","expiredAction"],["elementCreateQr",""],[1,"link-center",3,"click"],[1,"btn","btn-outline-primary","mt-2",3,"click"],[1,"link-center"],[1,"mr-1"],["class","boxtext-err","style","font-size: 20px; margin-bottom: 20px; color: #f44336; line-height: 30px;",3,"innerHTML",4,"ngIf"],["type","button","class","btn btn-primary mr-3",3,"disabled",4,"ngIf"],["type","button","class","btn btn-warning",3,"disabled","click",4,"ngIf"],[1,"boxtext-err",2,"font-size","20px","margin-bottom","20px","color","#f44336","line-height","30px",3,"innerHTML"],["type","button",1,"btn","btn-primary","mr-3",3,"disabled"]],template:function(e,t){1&e&&(k.Pc(0,wo,1,2,"header-backend",0),k.Vb(1,"div",1),k.Vb(2,"div",2),k.Vb(3,"div",3),k.Qb(4,"div",4),k.Vb(5,"div",5),k.Pc(6,Co,2,0,"h2",6),k.Vb(7,"div",7),k.Vb(8,"div",8),k.Pc(9,Oo,4,8,"a",9),k.Pc(10,Do,3,0,"span",10),k.Vb(11,"span",11),k.Rc(12,"\u0110\u0103ng nh\u1eadp v\u1edbi m\xe3 qr code"),k.Ub(),k.Ub(),k.Vb(13,"div",12),k.Vb(14,"div",13),k.Pc(15,Mo,2,0,"div",14),k.Pc(16,Ro,2,0,"div",14),k.Pc(17,Io,3,1,"div",15),k.Pc(18,Ao,3,0,"div",15),k.Pc(19,Bo,9,6,"div",16),k.Pc(20,Ho,3,2,"div",17),k.Vb(21,"div",18),k.Pc(22,Go,4,0,"a",19),k.Ub(),k.Pc(23,Yo,3,0,"div",20),k.Pc(24,$o,6,0,"div",20),k.Ub(),k.Vb(25,"div",21),k.Vb(26,"div",22),k.Rc(27," Di chuy\u1ec3n camera t\u1edbi m\xe3 qrcode \u0111\u0103ng nh\u1eadp ( "),k.Vb(28,"a",23),k.hc(29,"localize"),k.Rc(30,"H\u01b0\u1edbng d\u1eabn"),k.Ub(),k.Rc(31," ) "),k.Ub(),k.Vb(32,"div",24),k.Vb(33,"azt-scan-qrcode",25,26),k.cc("outContentScan",function(e){return t.outContentScan(e)}),k.Ub(),k.Ub(),k.Pc(35,ei,9,3,"div",16),k.Pc(36,ai,9,5,"div",16),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Qb(37,"div",4),k.Ub(),k.Ub(),k.Ub()),2&e&&(k.nc("ngIf",t.isLogin),k.Db(6),k.nc("ngIf",!t.isLogin),k.Db(3),k.nc("ngIf",!t.isLogin&&"create"===t.modeShowInit),k.Db(1),k.nc("ngIf",!t.isLogin&&"scan"===t.modeShowInit),k.Db(4),k.nc("ngClass",k.sc(22,li,"create"!==t.modeShowInit)),k.Db(1),k.nc("ngIf",!t.isLogin),k.Db(1),k.nc("ngIf",t.isLogin),k.Db(1),k.nc("ngIf",!t.isLogin&&t.contentCreateQrcode),k.Db(1),k.nc("ngIf",t.isLogin&&t.contentCreateQrcode&&!t.scanQrContentConfirm),k.Db(1),k.nc("ngIf",t.scanQrContentConfirm&&t.isLogin),k.Db(1),k.nc("ngIf",!t.scanQrContentConfirm),k.Db(2),k.nc("ngIf",!1!==t.contentCreateQrcode&&!t.scanQrContentConfirm),k.Db(1),k.nc("ngIf",!t.scanQrContentConfirm),k.Db(1),k.nc("ngIf",!t.scanQrContentConfirm),k.Db(1),k.nc("ngClass",k.sc(24,li,"scan"!==t.modeShowInit)),k.Db(3),k.nc("routerLink",k.sc(26,Po,k.ic(29,20,"/auth/register")))("queryParams",k.sc(28,So,t.returnUrl)),k.Db(4),k.nc("ngClass",k.sc(30,li,!1!==t.sussScanNextConf)),k.Db(3),k.nc("ngIf",!0===t.sussScanNextConf&&t.isLogin),k.Db(1),k.nc("ngIf",!0===t.sussScanNextConf&&!t.isLogin))},directives:[s.m,s.k,d.k,Kt,w.a,Re.a,hn],pipes:[f.d],styles:[".loginscan__card-header[_ngcontent-%COMP%]{padding:15px;text-transform:uppercase;border-bottom:1px solid rgba(0,0,0,.125);display:flex;justify-content:center;align-items:center;position:relative}.loginscan__card-body[_ngcontent-%COMP%]{padding:15px}.loginscan__card-img[_ngcontent-%COMP%], .loginscan__card-video[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.loginscan__card-video[_ngcontent-%COMP%]{position:relative}.loginscan__card-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%}.loginscan__card-control--switch[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:rgba(36,98,174,.43137254901960786);color:#fff;padding:5px;border-right:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0;cursor:pointer}.box-create-login-img[_ngcontent-%COMP%], .link-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.box-create-login-img[_ngcontent-%COMP%]{height:100px;background:#f5f5f5;border:1px solid #e0e0e0;padding:10px;cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.box-create-login-img[_ngcontent-%COMP%]:hover{background:#eceff1}.box-create-login-content[_ngcontent-%COMP%]{text-align:center}.loginscan_scanmode_conf[_ngcontent-%COMP%]{width:100%;background:#e0f2f1;padding:10px;display:flex;align-items:center;justify-content:center;height:300px}.loginscan_scanmode_conf--box[_ngcontent-%COMP%]{text-align:center}.loginscan_scanmode_conf--box[_ngcontent-%COMP%]   .boxtext[_ngcontent-%COMP%]{font-size:20px;line-height:30px;margin-bottom:20px}.block-inline-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.back-btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:14px}.back-btn[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),si);function bi(e,t){1&e&&(k.Vb(0,"div"),k.Vb(1,"div",12),k.Vb(2,"div",13),k.Vb(3,"span",14),k.Rc(4),k.hc(5,"mytranslate"),k.Ub(),k.Ub(),k.Ub(),k.Ub()),2&e&&(k.Db(4),k.Tc("",k.ic(5,1,"lang_cms_common_loading"),"..."))}function ui(e,t){if(1&e&&(k.Vb(0,"div",19),k.Vb(1,"label",34),k.Rc(2),k.hc(3,"mytranslate"),k.Ub(),k.Ub()),2&e){var n=k.gc(2);k.Db(2),k.Tc("*** ",k.ic(3,1,n.status_obj.error_obj.message),"")}}function hi(e,t){1&e&&(k.Vb(0,"span"),k.Qb(1,"span",35),k.Rc(2,"\xa0"),k.Ub())}var gi=function(e){return[e]};function mi(e,t){1&e&&(k.Vb(0,"a",36),k.hc(1,"mylocalize"),k.Vb(2,"mat-icon",37),k.Rc(3,"center_focus_strong"),k.Ub(),k.Vb(4,"span"),k.Rc(5,"\u0110\u0103ng nh\u1eadp b\u1eb1ng m\xe3 Qrcode"),k.Ub(),k.Ub()),2&e&&k.nc("routerLink",k.sc(3,gi,k.ic(1,1,"/auth/login-scan")))}var pi=function(e){return{return_url:e}};function fi(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div"),k.Vb(1,"div",15),k.Vb(2,"a",16),k.cc("click",function(){return k.Dc(n),k.gc().loginZalo()}),k.Qb(3,"img",17),k.Vb(4,"span"),k.Rc(5,"\u0110\u0103ng nh\u1eadp b\u1eb1ng Zalo"),k.Ub(),k.Ub(),k.Qb(6,"br"),k.Qb(7,"br"),k.Vb(8,"div",5),k.Vb(9,"span",18),k.Rc(10,"- HO\u1eb6C -"),k.Ub(),k.Ub(),k.Qb(11,"br"),k.Ub(),k.Vb(12,"div",19),k.Vb(13,"div",20),k.Vb(14,"div",21),k.Qb(15,"input",22),k.Vb(16,"div",23),k.Vb(17,"span",24),k.Vb(18,"mat-icon"),k.Rc(19,"phone_enabled"),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Vb(20,"div",19),k.Vb(21,"div",20),k.Vb(22,"div",21),k.Qb(23,"input",25),k.Vb(24,"div",23),k.Vb(25,"span",24),k.Vb(26,"mat-icon"),k.Rc(27,"lock"),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Pc(28,ui,4,3,"div",26),k.Vb(29,"div",19),k.Vb(30,"div",27),k.Vb(31,"div",15),k.Vb(32,"button",28),k.cc("click",function(){k.Dc(n);var e=k.gc();return e.form.invalid||e.status_obj.loading||e.login()}),k.Pc(33,hi,3,0,"span",11),k.Rc(34,"\u0110\u0103ng nh\u1eadp "),k.Ub(),k.Pc(35,mi,6,5,"a",29),k.Ub(),k.Ub(),k.Ub(),k.Vb(36,"div",30),k.Vb(37,"a",31),k.hc(38,"localize"),k.Rc(39,"\u0110\u0103ng k\xfd th\xe0nh vi\xean m\u1edbi"),k.Ub(),k.Ub(),k.Vb(40,"div",32),k.Vb(41,"a",33),k.cc("click",function(){return k.Dc(n),k.gc().forgotPassword()}),k.Rc(42,"Qu\xean m\u1eadt kh\u1ea9u?"),k.Ub(),k.Ub(),k.Ub()}if(2&e){var o=k.gc();k.Db(28),k.nc("ngIf",o.status_obj.error_obj.message),k.Db(4),k.nc("disabled",o.form.invalid||o.status_obj.loading),k.Db(1),k.nc("ngIf",!0===o.status_obj.loading),k.Db(2),k.nc("ngIf",!o.isSessionAnonymousRole),k.Db(2),k.nc("routerLink",k.sc(8,gi,k.ic(38,6,"/auth/register")))("queryParams",k.sc(10,pi,o.returnUrl))}}var vi,_i,yi=((_i=function(){function e(t,n,o,i,r,c){b(this,e),this.formBuilder=t,this.activeRoute=n,this.router=o,this.commonService=i,this.apiAuthService=r,this.localStorageObjetct=c,this.subscriptions=new v.a,this.form=new l.k({}),this.zaloAccessTkn="",this.returnUrl="",this.zaloLoginUrl="",this.isSessionAnonymousRole=!1,this.status_obj={form_loading:!0,loading:!1,error:!1,error_obj:{message:""}}}return h(e,[{key:"getError",value:function(e){return!(!this.form.controls[e]||!this.form.controls[e].errors)&&this.form.controls[e].errors}},{key:"login",value:function(){var e=this;if(this.form.valid){this.commonService.gaEvent("sign_in_login_in");var t=this.commonService.getFormObj(this.form);this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiAuthService.login(t.phone,t.password).subscribe(function(t){1==t.success?(e.localStorageObjetct.clearAllCache(),e.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},e.apiAuthService.redirectLoginByRole(e.commonService.getMyQueryParam("return_url"))):e.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t}}))}}},{key:"loginAnonymous",value:function(){var e=this;this.commonService.gaEvent("sign_in_login_anonymous"),this.status_obj={form_loading:!0,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiAuthService.loginAnonymous().subscribe(function(t){1==t.success?(e.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},e.apiAuthService.redirectLoginByRole(e.commonService.getMyQueryParam("return_url"))):e.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t}}))}},{key:"loginWithZaloAccessToken",value:function(e){var t=this;this.commonService.gaEvent("sign_in_login_by_zalo"),this.status_obj={form_loading:!0,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiAuthService.loginWithZalo(e).subscribe(function(e){1==e.success?(t.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},t.apiAuthService.redirectLoginByRole(t.commonService.getMyQueryParam("return_url"))):t.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:e}}))}},{key:"loginZalo",value:function(){this.commonService.gaEvent("sign_in_click_sign_in_by_zalo"),window.location.href=this.zaloLoginUrl}},{key:"forgotPassword",value:function(){this.commonService.gaEvent("sign_in_forgot_password"),this.commonService.myNavigation("/auth/confirm_forgot_password")}},{key:"ngOnInit",value:function(){this.form=this.formBuilder.group({phone:["",l.z.required],password:["",l.z.required]}),this.zaloAccessTkn=this.commonService.getMyQueryParam("access_token"),this.commonService.getMyQueryParam("not_register")?this.commonService.myNavigation("/auth/register"):this.zaloAccessTkn?(this.commonService.getMyQueryParam("register")&&this.commonService.gaEvent("sign_in_sign_up_by_zalo"),this.loginWithZaloAccessToken(this.zaloAccessTkn)):this.apiAuthService.isLogin()&&!this.apiAuthService.isAnonymousRole()?this.apiAuthService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")):(this.returnUrl=this.commonService.getMyQueryParam("return_url")||"",-1===this.returnUrl.indexOf("/test/")&&-1===this.returnUrl.indexOf("/de-thi/")&&-1===this.returnUrl.indexOf("/bai-tap/")||"register"==this.commonService.getMyQueryParam("from")?(this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.zaloLoginUrl=tt.a.main_api+"Auth/LoginZalo?callback_uri="+encodeURIComponent(this.commonService.getLocalRouter("/auth/login")+"?return_url="+this.returnUrl+"&is_login=1")):this.apiAuthService.isLogin()?this.apiAuthService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")):this.loginAnonymous()),this.isSessionAnonymousRole=this.apiAuthService.isLogin()&&this.apiAuthService.isAnonymousRole(),this.commonService.translateMetaData({title:"lang_cms_auth_login_title",description:"lang_cms_auth_login_description",image:"lang_cms_test_image"})}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||_i)(k.Pb(l.g),k.Pb(d.a),k.Pb(d.i),k.Pb(U.a),k.Pb(ge.a),k.Pb(Et.a))},_i.\u0275cmp=k.Jb({type:_i,selectors:[["app-login"]],decls:15,vars:3,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"col-md-12"],[1,"btn","btn-outline-primary","mt-2",2,"width","100%",3,"click"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/zaloicon.png","alt","Zalo Icon",1,"img-responsive","zalo-icon"],[1,"h6","mute-text"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","tel","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","formControlName","phone",1,"form-control"],[1,"input-group-append"],["id","basic-addon2",1,"input-group-text"],["type","password","placeholder","M\u1eadt kh\u1ea9u","formControlName","password",1,"form-control"],["class","form-group",4,"ngIf"],[2,"display","flex"],["mat-raised-button","","color","primary",2,"width","100%",3,"disabled","click"],["class","btn btn-outline-primary mt-3","style","width:100%; display: flex; align-items: center; justify-content: center;",3,"routerLink",4,"ngIf"],[1,"text-center","mt-3"],[3,"routerLink","queryParams"],[1,"text-center","mt-1"],[2,"color","rgb(216, 2, 2)",3,"click"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"btn","btn-outline-primary","mt-3",2,"width","100%","display","flex","align-items","center","justify-content","center",3,"routerLink"],[2,"margin-right","10px"]],template:function(e,t){1&e&&(k.Vb(0,"div",0),k.Vb(1,"form",1),k.Vb(2,"div",2),k.Qb(3,"div",3),k.Vb(4,"div",4),k.Vb(5,"h2",5),k.Qb(6,"img",6),k.Ub(),k.Vb(7,"div",7),k.Vb(8,"div",8),k.Vb(9,"span",9),k.Rc(10,"\u0110\u0103ng nh\u1eadp"),k.Ub(),k.Ub(),k.Vb(11,"div",10),k.Pc(12,bi,6,3,"div",11),k.Pc(13,fi,43,12,"div",11),k.Ub(),k.Ub(),k.Ub(),k.Qb(14,"div",3),k.Ub(),k.Ub(),k.Ub()),2&e&&(k.Db(1),k.nc("formGroup",t.form),k.Db(11),k.nc("ngIf",1==t.status_obj.form_loading),k.Db(1),k.nc("ngIf",1!=t.status_obj.form_loading))},directives:[l.B,l.s,l.l,s.m,l.d,l.r,l.j,Re.a,me.b,d.k],pipes:[pe.q,f.d,pe.p],styles:[".checkboxInput[_ngcontent-%COMP%]{padding:5px 15px;font-size:1rem;font-weight:400;line-height:2}.zalo-icon[_ngcontent-%COMP%]{height:30px;margin-right:10px}"]}),_i),ki=((vi=function(){function e(t,n){b(this,e),this.commonService=t,this.apiAuthService=n}return h(e,[{key:"ngOnInit",value:function(){this.apiAuthService.logout();var e=this.commonService.getMyQueryParam("return_url")||null;e?this.commonService.redirectSimpleLoginWithReturnUrl(e):this.commonService.redirectSimpleLogin()}},{key:"ngOnDestroy",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||vi)(k.Pb(U.a),k.Pb(ge.a))},vi.\u0275cmp=k.Jb({type:vi,selectors:[["app-register"]],decls:0,vars:0,template:function(e,t){},encapsulation:2}),vi),Ui=a("1yaQ"),Vi=a("jCJ1");function xi(e,t){1&e&&(k.Vb(0,"div"),k.Vb(1,"div",13),k.Vb(2,"div",14),k.Vb(3,"span",15),k.Rc(4),k.hc(5,"mytranslate"),k.Ub(),k.Ub(),k.Ub(),k.Ub()),2&e&&(k.Db(4),k.Tc("",k.ic(5,1,"lang_cms_common_loading"),"..."))}function wi(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div",16),k.Vb(1,"div",17),k.cc("click",function(){return k.Dc(n),k.gc().changeRegisterType(1)}),k.Vb(2,"div",18),k.Qb(3,"i",19),k.Vb(4,"p"),k.Rc(5,"T\xf4i l\xe0 h\u1ecdc sinh"),k.Ub(),k.Ub(),k.Ub(),k.Vb(6,"div",17),k.cc("click",function(){return k.Dc(n),k.gc().changeRegisterType(2)}),k.Vb(7,"div",18),k.Qb(8,"img",20),k.Vb(9,"p"),k.Rc(10,"T\xf4i l\xe0 gi\xe1o vi\xean"),k.Ub(),k.Ub(),k.Ub(),k.Ub()}}function Ci(e,t){1&e&&(k.Vb(0,"div"),k.Rc(1," Y\xeau c\u1ea7u nh\u1eadp h\u1ecd t\xean \u0111\u1ea7y \u0111\u1ee7! "),k.Ub())}function Pi(e,t){if(1&e&&(k.Vb(0,"div",53),k.Pc(1,Ci,2,0,"div",10),k.Ub()),2&e){var n=k.gc(3);k.Db(1),k.nc("ngIf",n.getErrorType("fullName","required"))}}function Si(e,t){1&e&&(k.Vb(0,"div"),k.Rc(1," Y\xeau c\u1ea7u nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i! "),k.Ub())}function Oi(e,t){1&e&&(k.Vb(0,"div"),k.Rc(1," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ch\u1ec9 g\u1ed3m c\xe1c ch\u1eef s\u1ed1 v\xe0 d\xe0i 10 k\xfd t\u1ef1! "),k.Ub())}function Di(e,t){if(1&e&&(k.Vb(0,"div",53),k.Pc(1,Si,2,0,"div",10),k.Pc(2,Oi,2,0,"div",10),k.Ub()),2&e){var n=k.gc(3);k.Db(1),k.nc("ngIf",n.getErrorType("phone","required")),k.Db(1),k.nc("ngIf",n.getErrorType("phone","pattern")||n.getErrorType("phone","minlength")||n.getErrorType("phone","maxlength"))}}function Mi(e,t){1&e&&(k.Vb(0,"div"),k.Rc(1," M\u1eadt kh\u1ea9u ph\u1ea3i d\xe0i t\u1ed1i thi\u1ec3u l\xe0 6! "),k.Ub())}function Ri(e,t){if(1&e&&(k.Vb(0,"div",53),k.Pc(1,Mi,2,0,"div",10),k.Ub()),2&e){var n=k.gc(3);k.Db(1),k.nc("ngIf",n.getErrorType("password","required")||n.getErrorType("password","minlength"))}}function Ii(e,t){1&e&&(k.Vb(0,"div"),k.Rc(1," Email b\u1ea1n nh\u1eadp sai \u0111\u1ecbnh d\u1ea1ng! "),k.Ub())}function Ai(e,t){if(1&e&&(k.Vb(0,"div",53),k.Pc(1,Ii,2,0,"div",10),k.Ub()),2&e){var n=k.gc(3);k.Db(1),k.nc("ngIf",n.getErrorType("email","email"))}}function ji(e,t){if(1&e&&(k.Vb(0,"div",39),k.Vb(1,"label",54),k.Rc(2),k.hc(3,"mytranslate"),k.Ub(),k.Ub()),2&e){var n=k.gc(3);k.Db(2),k.Tc("*** ",k.ic(3,1,n.status_obj.error_obj.message),"")}}function Li(e,t){1&e&&(k.Vb(0,"span"),k.Qb(1,"span",55),k.Rc(2,"\xa0"),k.Ub())}function Qi(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div",36),k.Vb(1,"form",37),k.Vb(2,"div",27),k.Vb(3,"div",38),k.Vb(4,"div",39),k.Vb(5,"div",40),k.Vb(6,"div",41),k.Qb(7,"input",42),k.Vb(8,"div",43),k.Vb(9,"span",44),k.Vb(10,"mat-icon"),k.Rc(11,"account_box"),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Pc(12,Pi,2,1,"div",45),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Vb(13,"div",27),k.Vb(14,"div",38),k.Vb(15,"div",39),k.Vb(16,"div",40),k.Vb(17,"div",41),k.Qb(18,"input",46),k.Vb(19,"div",43),k.Vb(20,"span",47),k.Vb(21,"mat-icon"),k.Rc(22,"phone_enabled"),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Pc(23,Di,3,2,"div",45),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Vb(24,"div",27),k.Vb(25,"div",38),k.Vb(26,"div",39),k.Vb(27,"div",40),k.Vb(28,"div",41),k.Qb(29,"input",48),k.Vb(30,"div",43),k.Vb(31,"span",49),k.Vb(32,"mat-icon"),k.Rc(33,"lock"),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Pc(34,Ri,2,1,"div",45),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Vb(35,"div",27),k.Vb(36,"div",38),k.Vb(37,"div",39),k.Vb(38,"div",40),k.Vb(39,"div",41),k.Qb(40,"input",50),k.Vb(41,"div",43),k.Vb(42,"span",47),k.Vb(43,"mat-icon"),k.Rc(44,"email"),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Pc(45,Ai,2,1,"div",45),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Pc(46,ji,4,3,"div",51),k.Vb(47,"div",39),k.Vb(48,"div",27),k.Vb(49,"div",38),k.Vb(50,"button",52),k.cc("click",function(){k.Dc(n);var e=k.gc(2);return e.form.invalid||e.status_obj.loading||e.registerForTeacher()}),k.Pc(51,Li,3,0,"span",10),k.Rc(52,"\u0110\u0103ng k\xfd "),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub()}if(2&e){var o=k.gc(2);k.Db(1),k.nc("formGroup",o.form),k.Db(11),k.nc("ngIf",o.form.controls.fullName.invalid&&(o.form.controls.fullName.dirty||o.form.controls.fullName.touched)),k.Db(11),k.nc("ngIf",o.form.controls.phone.invalid&&(o.form.controls.phone.dirty||o.form.controls.phone.touched)),k.Db(11),k.nc("ngIf",o.form.controls.password.invalid&&(o.form.controls.password.dirty||o.form.controls.password.touched)),k.Db(11),k.nc("ngIf",o.form.controls.email.invalid&&(o.form.controls.email.dirty||o.form.controls.email.touched)),k.Db(1),k.nc("ngIf",o.status_obj.error_obj.message),k.Db(4),k.nc("disabled",o.form.invalid||o.status_obj.loading),k.Db(1),k.nc("ngIf",!0===o.status_obj.loading)}}function Ti(e,t){1&e&&(k.Vb(0,"div",63),k.Rc(1," B\u1ea1n ph\u1ea3i nh\u1eadp h\u1ecd v\xe0 t\xean c\u1ee7a b\u1ea1n. "),k.Ub())}function Ei(e,t){1&e&&(k.Vb(0,"div"),k.Rc(1," B\u1ea1n ph\u1ea3i nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i. "),k.Ub())}function Fi(e,t){1&e&&(k.Vb(0,"div"),k.Rc(1," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ph\u1ea3i l\xe0 10 s\u1ed1. "),k.Ub())}function zi(e,t){if(1&e&&(k.Vb(0,"div",63),k.Pc(1,Ei,2,0,"div",10),k.Pc(2,Fi,2,0,"div",10),k.Ub()),2&e){var n=k.gc(3);k.Db(1),k.nc("ngIf",n.getErrorForm("studentPhone","required")),k.Db(1),k.nc("ngIf",n.getErrorForm("studentPhone","minlength")||n.getErrorForm("studentPhone","maxlength"))}}function qi(e,t){1&e&&(k.Vb(0,"div"),k.Rc(1," B\u1ea1n ph\u1ea3i nh\u1eadp m\u1eadt kh\u1ea9u. "),k.Ub())}function Bi(e,t){1&e&&(k.Vb(0,"div"),k.Rc(1," M\u1eadt kh\u1ea9u bao g\u1ed3m 6 k\xfd t\u1ef1. "),k.Ub())}function Ni(e,t){if(1&e&&(k.Vb(0,"div",63),k.Pc(1,qi,2,0,"div",10),k.Pc(2,Bi,2,0,"div",10),k.Ub()),2&e){var n=k.gc(3);k.Db(1),k.nc("ngIf",n.getErrorForm("passWord","required")),k.Db(1),k.nc("ngIf",n.getErrorForm("passWord","minlength"))}}function Wi(e,t){if(1&e&&(k.Vb(0,"div",39),k.Vb(1,"label",54),k.Rc(2),k.hc(3,"mytranslate"),k.Ub(),k.Ub()),2&e){var n=k.gc(3);k.Db(2),k.Tc("*** ",k.ic(3,1,n.status_obj.error_obj.message),"")}}function Hi(e,t){1&e&&(k.Vb(0,"span"),k.Qb(1,"span",55),k.Rc(2,"\xa0"),k.Ub())}function Gi(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div",56),k.Vb(1,"form",57),k.Vb(2,"div",39),k.Qb(3,"input",58),k.Pc(4,Ti,2,0,"div",59),k.Ub(),k.Vb(5,"div",39),k.Qb(6,"input",60),k.Pc(7,zi,3,2,"div",59),k.Ub(),k.Vb(8,"div",39),k.Qb(9,"input",61),k.Pc(10,Ni,3,2,"div",59),k.Ub(),k.Ub(),k.Pc(11,Wi,4,3,"div",51),k.Qb(12,"br"),k.Vb(13,"button",62),k.cc("click",function(){k.Dc(n);var e=k.gc(2);return e.formRegister.invalid||e.status_obj.loading||e.registerForStudent()}),k.Pc(14,Hi,3,0,"span",10),k.Rc(15," Ho\xe0n Th\xe0nh \u0110\u0103ng K\xfd "),k.Ub(),k.Ub()}if(2&e){var o=k.gc(2);k.Db(1),k.nc("formGroup",o.formRegister),k.Db(3),k.nc("ngIf",o.formRegister.controls.studentFullName.invalid&&(o.formRegister.controls.studentFullName.dirty||o.formRegister.controls.studentFullName.touched)),k.Db(3),k.nc("ngIf",o.formRegister.controls.studentPhone.invalid&&(o.formRegister.controls.studentPhone.dirty||o.formRegister.controls.studentPhone.touched)),k.Db(3),k.nc("ngIf",o.formRegister.controls.passWord.invalid&&(o.formRegister.controls.passWord.dirty||o.formRegister.controls.passWord.touched)),k.Db(1),k.nc("ngIf",o.status_obj.error_obj.message),k.Db(2),k.nc("disabled",o.formRegister.invalid||o.status_obj.loading),k.Db(1),k.nc("ngIf",!0===o.status_obj.loading)}}var Yi=function(e){return[e]},$i=function(e){return{return_url:e,from:"register"}};function Ki(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div",21),k.Vb(1,"div",22),k.Vb(2,"div",23),k.Vb(3,"a",24),k.cc("click",function(){return k.Dc(n),k.gc().changeRegisterType(1)}),k.Qb(4,"i",25),k.Rc(5,"\xa0 T\xf4i l\xe0 h\u1ecdc sinh"),k.Ub(),k.Ub(),k.Vb(6,"div",23),k.Vb(7,"a",24),k.cc("click",function(){return k.Dc(n),k.gc().changeRegisterType(2)}),k.Qb(8,"i",26),k.Rc(9,"\xa0 T\xf4i l\xe0 gi\xe1o vi\xean"),k.Ub(),k.Ub(),k.Ub(),k.Vb(10,"div",27),k.Vb(11,"div",28),k.Qb(12,"hr"),k.Ub(),k.Ub(),k.Pc(13,Qi,53,8,"div",29),k.Pc(14,Gi,16,7,"div",30),k.Vb(15,"div",31),k.Rc(16,' B\u1eb1ng c\xe1ch \u1ea5n v\xe0o n\xfat "\u0110\u0102NG K\xdd", t\xf4i \u0111\u1ed3ng \xfd v\u1edbi '),k.Vb(17,"a",32),k.Rc(18," \u0110i\u1ec1u Kho\u1ea3n S\u1eed D\u1ee5ng "),k.Ub(),k.Rc(19," v\xe0 "),k.Vb(20,"a",32),k.Rc(21," Ch\xednh S\xe1ch B\u1ea3o M\u1eadt c\u1ee7a AZOTA."),k.Ub(),k.Ub(),k.Vb(22,"div",33),k.Vb(23,"p",34),k.Rc(24,"B\u1ea1n \u0111\xe3 c\xf3 t\xe0i kho\u1ea3n?"),k.Ub(),k.Vb(25,"p"),k.Vb(26,"a",35),k.hc(27,"localize"),k.Rc(28,"\u0110\u0103ng nh\u1eadp"),k.Ub(),k.Ub(),k.Ub(),k.Ub()}if(2&e){var o=k.gc();k.nc("hidden",o.isShowOption),k.Db(3),k.Hb("select-style-active",o.isStudent),k.Db(4),k.Hb("select-style-active",o.isTeacher),k.Db(6),k.nc("ngIf",1==o.isTeacher),k.Db(1),k.nc("ngIf",1==o.isStudent),k.Db(12),k.nc("routerLink",k.sc(11,Yi,k.ic(27,9,"/auth/login")))("queryParams",k.sc(13,$i,o.returnUrl))}}var Ji,Zi={parse:{dateInput:"LL"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"YYYY"}},Xi=((Ji=function(){function e(t,n,o,i,r,c,a){b(this,e),this.formBuilder=t,this.activeRoute=n,this.titleCasePipe=o,this.commonService=i,this.apiAuthService=r,this.router=c,this.recaptchaV3Service=a,this.subscriptions=new v.a,this.form=new l.k({}),this.formClass=new l.k({}),this.formRegister=new l.k({}),this.returnUrl="",this.zaloLoginUrl="",this.status_obj={form_loading:!0,loading:!1,error:!1,error_obj:{message:""}},this.isHiddenFormRegister=!0,this.isTeacher=!1,this.isStudent=!1,this.hashId="",this.teacherName="",this.isShowAlert=!0,this.classObjs="",this.teacherObjs="",this.isOnClick=!1,this.yesterday=new Date,this.isShowOption=!0,this.isShowRegisterForStudent=!1,this.isShowRegisterForTeacher=!1}return h(e,[{key:"getError",value:function(e){return!(!this.form.controls[e]||!this.form.controls[e].errors)&&this.form.controls[e].errors}},{key:"getErrorType",value:function(e,t){return!!(this.form.controls[e]&&this.form.controls[e].errors&&this.form.controls[e].errors[t])&&this.form.controls[e].errors[t]}},{key:"getErrorForm",value:function(e,t){return!!(this.formRegister.controls[e]&&this.formRegister.controls[e].errors&&this.formRegister.controls[e].errors[t])&&this.formRegister.controls[e].errors[t]}},{key:"onlyNumber",value:function(e){var t=e.which?e.which:e.keyCode;return!(t>31&&(t<48||t>57))}},{key:"goToConfirm",value:function(){this.returnUrl=this.commonService.getMyQueryParam("return_url");var e="?return_url="+encodeURIComponent(this.returnUrl)+"&confirm_type=confirm_phone_register";this.commonService.myNavigationWithQueryString("/auth/checking_service",e)}},{key:"changeRegisterType",value:function(e){this.isShowOption=!1,1==e?(this.commonService.gaEvent("sign_up_switch_to_student"),this.isTeacher=!1,this.isStudent=!0):(this.commonService.gaEvent("sign_up_switch_to_teacher"),this.isTeacher=!0,this.isStudent=!1)}},{key:"registerForTeacher",value:function(){var e=this;this.form.valid&&this.executeImportantAction().then(function(t){var n=e.commonService.getFormObj(e.form);e.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},e.subscriptions.add(e.apiAuthService.register(n.fullName,n.phone,n.password,n.email,t).subscribe(function(t){1==t.success?(e.commonService.gaEvent("sign_up_teacher"),e.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},e.apiAuthService.redirectLoginByRoleForRegister(e.commonService.getMyQueryParam("return_url"))):e.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t}}))})}},{key:"registerForStudent",value:function(){var e=this;this.executeImportantAction().then(function(t){e.commonService.gaEvent("sign_up_student");var n=e.commonService.getFormObj(e.formRegister);e.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},e.subscriptions.add(e.apiAuthService.registerStudent(n.studentPhone,n.studentFullName,n.passWord,t).subscribe(function(t){1==t.success?(e.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},e.apiAuthService.redirectLoginByRole(e.commonService.getMyQueryParam("return_url"))):e.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t}}))})}},{key:"loginZalo",value:function(){this.commonService.gaEvent("sign_up_teacher_by_zalo"),window.location.href=this.zaloLoginUrl}},{key:"ngOnInit",value:function(){var e=this;if(this.apiAuthService.isLogin()&&!this.apiAuthService.isAnonymousRole())this.apiAuthService.redirectLoginByRole(!1);else{var t=this.commonService.getMyParam(this.activeRoute,"type");if(null!=t){var n=parseInt(null==t?void 0:t.toString());this.changeRegisterType(0==n?0:1)}this.yesterday.setDate(this.yesterday.getDate()-1),this.form=this.formBuilder.group({fullName:["",l.z.required],phone:["",[l.z.required,l.z.pattern("^[0-9]*$"),l.z.minLength(10),l.z.maxLength(10)]],password:["",[l.z.required,l.z.minLength(6)]],email:["",l.z.email]}),this.formRegister=this.formBuilder.group({studentPhone:["",[l.z.required,l.z.pattern("^[0-9]*$"),l.z.minLength(10),l.z.maxLength(10)]],studentFullName:["",l.z.required],passWord:["",[l.z.required,l.z.minLength(6)]]}),this.formClass=this.formBuilder.group({hashId:["",l.z.required]}),this.form.get("fullName").valueChanges.subscribe(function(t){var n=e.titleCasePipe.transform(t);t!=n&&e.form.controls.fullName.setValue(n)}),this.returnUrl=this.commonService.getMyQueryParam("return_url")||this.commonService.getLocalRouter("/admin/testbank/dashboard"),this.zaloLoginUrl=tt.a.main_api+"Auth/LoginZalo?callback_uri="+encodeURIComponent(this.commonService.getLocalRouter("/auth/login")+"?return_url="+this.returnUrl+"&is_register=1"),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.commonService.translateMetaData({title:"lang_cms_auth_register_title",description:"lang_cms_auth_register_description",image:"lang_cms_test_image"})}}},{key:"executeImportantAction",value:function(){var e=this;return new Promise(function(t){e.recaptchaV3Service.execute("importantAction").subscribe(function(e){t(e)})})}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Ji)(k.Pb(l.g),k.Pb(d.a),k.Pb(s.v),k.Pb(U.a),k.Pb(ge.a),k.Pb(d.i),k.Pb(Vi.b))},Ji.\u0275cmp=k.Jb({type:Ji,selectors:[["app-register"]],features:[k.Cb([s.v,{provide:E.c,useClass:Ui.b,deps:[E.f]},{provide:E.e,useValue:Zi}])],decls:15,vars:3,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"row","py-5"],[1,"col-sm-3"],[1,"col-sm-6"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"text-center","p-0"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],[1,"p-0","m-0"],[1,"card-body"],[4,"ngIf"],["class","row","style","justify-content: space-around;",4,"ngIf"],[3,"hidden",4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"row",2,"justify-content","space-around"],[1,"col-sm-4","border-card","mb-3",3,"click"],[1,"df-logo"],[1,"fas","fa-graduation-cap","pb-3",2,"font-size","36px"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/teacher.png","width","36px","height","45px",1,"mb-3"],[3,"hidden"],[1,"row","justify-content-center","pt-3"],[1,"col-sm-6","text-center","mb-3"],[1,"clickable","select-style",3,"click"],[1,"fas","fa-graduation-cap"],[1,"fas","fa-user-alt"],[1,"row"],[1,"col-12"],["id","teacher",4,"ngIf"],["id","chilren",4,"ngIf"],[1,"mt-2",2,"text-align","justify","font-size","13px"],["href","/privacy/index.html","target","_blank"],[1,"text-center","mt-3"],[1,"text-normal"],[3,"routerLink","queryParams"],["id","teacher"],[1,"form-horizontal",3,"formGroup"],[1,"col-sm-12"],[1,"form-group"],[1,"col-sm-12","p-0"],[1,"input-group","mb-3"],["type","text","placeholder","H\u1ecd t\xean","formControlName","fullName","autocomplete","new-password",1,"form-control"],[1,"input-group-append"],["id","basic-addon1",1,"input-group-text"],["class","alert alert-danger",4,"ngIf"],["type","phone","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","formControlName","phone","autocomplete","new-password",1,"form-control"],["id","basic-addon2",1,"input-group-text"],["type","password","placeholder","M\u1eadt kh\u1ea9u","formControlName","password","autocomplete","new-password",1,"form-control"],["id","basic-addon3",1,"input-group-text"],["type","phone","placeholder","Email (kh\xf4ng b\u1eaft bu\u1ed9c nh\u1eadp)","formControlName","email","autocomplete","new-password",1,"form-control"],["class","form-group",4,"ngIf"],["mat-raised-button","","color","primary",2,"width","100%",3,"disabled","click"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"],["id","chilren"],["autocomplete","off",1,"form-horinzal",3,"formGroup"],["type","text","placeholder","H\u1ecd v\xe0 t\xean","formControlName","studentFullName","autocomplete","new-password",1,"form-control"],["class","alert alert-danger mt-3",4,"ngIf"],["type","text","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","formControlName","studentPhone","autocomplete","new-password",1,"form-control"],["type","password","placeholder","M\u1eadt Kh\u1ea9u","formControlName","passWord","autocomplete","new-password",1,"form-control"],["mat-raised-button","",1,"button-color","text-uppercase",2,"width","100%",3,"disabled","click"],[1,"alert","alert-danger","mt-3"]],template:function(e,t){1&e&&(k.Vb(0,"div",0),k.Vb(1,"div",1),k.Qb(2,"div",2),k.Vb(3,"div",3),k.Vb(4,"div",4),k.Vb(5,"div",5),k.Vb(6,"h2",6),k.Qb(7,"img",7),k.Ub(),k.Vb(8,"h3",8),k.Rc(9,"N\u1ec1n t\u1ea3ng gi\xe1o d\u1ee5c s\u1ed1"),k.Ub(),k.Ub(),k.Vb(10,"div",9),k.Pc(11,xi,6,3,"div",10),k.Pc(12,wi,11,0,"div",11),k.Pc(13,Ki,29,15,"div",12),k.Ub(),k.Ub(),k.Ub(),k.Qb(14,"div",2),k.Ub(),k.Ub()),2&e&&(k.Db(11),k.nc("ngIf",1==t.status_obj.form_loading),k.Db(1),k.nc("ngIf",1==t.isShowOption),k.Db(1),k.nc("ngIf",1!=t.status_obj.form_loading))},directives:[s.m,d.k,l.B,l.s,l.l,l.d,l.r,l.j,Re.a,me.b],pipes:[pe.q,f.d],styles:['.zalo-icon[_ngcontent-%COMP%]{height:40px;margin-right:10px}.select-style[_ngcontent-%COMP%]{color:#868686!important}.select-style[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.select-style[_ngcontent-%COMP%]:hover{color:#0eafc0!important}.select-style-active[_ngcontent-%COMP%]{color:#0eafc0!important}.df-logo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.register--login[_ngcontent-%COMP%]{width:88px;height:88px}.two-button[_ngcontent-%COMP%]{width:80%;margin:auto}.register-button[_ngcontent-%COMP%], .two-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;height:100vh}.register-button[_ngcontent-%COMP%]{width:100%}.btn-max-width[_ngcontent-%COMP%]{width:100%;padding-top:1.25rem;padding-bottom:1.25rem;font-size:1.5rem}.responsive__text[_ngcontent-%COMP%]{width:90%;margin-left:auto;margin-right:auto}.btn-outline-primary[_ngcontent-%COMP%]{color:#0eafc0!important;border-color:#0eafc0!important}.btn-primary[_ngcontent-%COMP%]{color:#fff!important;border-color:#0eafc0!important;background-color:#0eafc0!important}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0b818e!important}.btn-outline-primary[_ngcontent-%COMP%]:hover{color:#0eafc0!important;border-color:#0eafc0!important;background-color:rgba(14,172,190,.15)}.btn-border-fix[_ngcontent-%COMP%]{border-radius:10px!important}.border-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid hsla(0,0%,86.3%,.8);border-radius:8px;cursor:pointer;padding:12px;align-items:center;text-align:center}.border-card[_ngcontent-%COMP%]:hover{box-shadow:10px 10px 20px rgba(0,0,0,.07),-10px -10px 20px hsla(0,0%,100%,.8)}.button-color[_ngcontent-%COMP%]{background-color:#0eafc0!important;color:#fff!important}.text-line[_ngcontent-%COMP%]{position:relative;text-align:center}.text-line[_ngcontent-%COMP%]:before{content:"";display:block;width:45%;height:.5px;position:absolute;right:0;background-color:#868686;top:50%}.text-line[_ngcontent-%COMP%]:after{content:"";display:block;width:45%;height:.5px;position:absolute;left:0;background-color:#868686;top:50%}.border-select-box[_ngcontent-%COMP%]{border:1px solid #ccd0d5;border-radius:4px;padding:8px 16px}  .mat-radio-label{margin-bottom:0!important}  .mat-radio-label-content{padding-left:16px!important}.mat-radio-button.mat-accent.mat-radio-checked[_ngcontent-%COMP%]   .mat-radio-persistent-ripple[_ngcontent-%COMP%], .mat-radio-button.mat-accent[_ngcontent-%COMP%]   .mat-radio-ripple[_ngcontent-%COMP%]   .mat-ripple-element[_ngcontent-%COMP%]:not(.mat-radio-persistent-ripple), .mat-radio-button.mat-accent[_ngcontent-%COMP%]:active   .mat-radio-persistent-ripple[_ngcontent-%COMP%],   .mat-radio-button.mat-accent .mat-radio-inner-circle{background-color:#0eafc0!important}  .mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle{border-color:#0eafc0!important}  .mat-input-element{font-size:18px!important;caret-color:#0eafc0!important}.mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-form-field-suffix[_ngcontent-%COMP%]   .mat-datepicker-toggle-default-icon[_ngcontent-%COMP%],   .mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon{width:1.5em!important}button[_ngcontent-%COMP%]:disabled{background-color:rgba(0,0,0,.12)!important}@media only screen and (max-width:424px){.btn-max-width[_ngcontent-%COMP%]{font-size:1rem}}@media only screen and (max-width:364px){.text-line[_ngcontent-%COMP%]:after, .text-line[_ngcontent-%COMP%]:before{width:40%}}']}),Ji);function er(e,t){1&e&&(k.Vb(0,"div"),k.Vb(1,"div",12),k.Vb(2,"div",13),k.Vb(3,"span",14),k.Rc(4),k.hc(5,"mytranslate"),k.Ub(),k.Ub(),k.Ub(),k.Ub()),2&e&&(k.Db(4),k.Tc("",k.ic(5,1,"lang_cms_common_loading"),"..."))}function tr(e,t){1&e&&(k.Vb(0,"div"),k.Rc(1," M\u1eadt kh\u1ea9u ph\u1ea3i d\xe0i t\u1ed1i thi\u1ec3u l\xe0 6! "),k.Ub())}function nr(e,t){if(1&e&&(k.Vb(0,"div",28),k.Pc(1,tr,2,0,"div",11),k.Ub()),2&e){var n=k.gc(2);k.Db(1),k.nc("ngIf",n.getErrorType("password","required")||n.getErrorType("password","minlength"))}}function or(e,t){if(1&e&&(k.Vb(0,"div",15),k.Vb(1,"label",29),k.Rc(2),k.hc(3,"mytranslate"),k.Ub(),k.Ub()),2&e){var n=k.gc(2);k.Db(2),k.Tc("*** ",k.ic(3,1,n.status_obj.error_obj.message),"")}}function ir(e,t){1&e&&(k.Vb(0,"span"),k.Qb(1,"span",30),k.Rc(2,"\xa0"),k.Ub())}var rr=function(e){return[e]};function cr(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div"),k.Vb(1,"div",15),k.Vb(2,"div",16),k.Vb(3,"div",17),k.Qb(4,"input",18),k.Vb(5,"div",19),k.Vb(6,"span",20),k.Vb(7,"mat-icon"),k.Rc(8,"lock"),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Vb(9,"div",17),k.Qb(10,"input",21),k.Vb(11,"div",19),k.Vb(12,"span",20),k.Vb(13,"mat-icon"),k.Rc(14,"lock"),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Pc(15,nr,2,1,"div",22),k.Ub(),k.Ub(),k.Pc(16,or,4,3,"div",23),k.Vb(17,"div",15),k.Vb(18,"div",16),k.Vb(19,"div",24),k.Vb(20,"button",25),k.cc("click",function(){k.Dc(n);var e=k.gc();return e.form.invalid||e.status_obj.loading||e.changePassword()}),k.Pc(21,ir,3,0,"span",11),k.Rc(22,"\u0110\u1ed5i m\u1eadt kh\u1ea9u "),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Qb(23,"hr"),k.Vb(24,"div",26),k.Vb(25,"a",27),k.hc(26,"localize"),k.Rc(27,"\u0110\u0103ng nh\u1eadp t\xe0i kho\u1ea3n"),k.Ub(),k.Ub(),k.Ub()}if(2&e){var o=k.gc();k.Db(15),k.nc("ngIf",o.form.controls.password.invalid&&(o.form.controls.password.dirty||o.form.controls.password.touched)),k.Db(1),k.nc("ngIf",o.status_obj.error_obj.message),k.Db(4),k.nc("disabled",o.form.invalid||o.status_obj.loading),k.Db(1),k.nc("ngIf",!0===o.status_obj.loading),k.Db(4),k.nc("routerLink",k.sc(7,rr,k.ic(26,5,"/auth/login")))}}var ar,sr=((ar=function(){function e(t,n,o,i){b(this,e),this.formBuilder=t,this.activeRoute=n,this.commonService=o,this.apiAuthService=i,this.subscriptions=new v.a,this.form=new l.k({}),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}}}return h(e,[{key:"getError",value:function(e){return!(!this.form.controls[e]||!this.form.controls[e].errors)&&this.form.controls[e].errors}},{key:"getErrorType",value:function(e,t){return!!(this.form.controls[e]&&this.form.controls[e].errors&&this.form.controls[e].errors[t])&&this.form.controls[e].errors[t]}},{key:"changePassword",value:function(){var e=this;if(this.form.valid)if(this.form.value.password!=this.form.value.confirm_password)this.commonService.snackError("X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u kh\xf4ng kh\u1edbp","");else{var t=this.commonService.getFormObj(this.form),n=this.commonService.getMyQueryParam("token");this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}};var o=this.commonService.getMyQueryParam("app_name");this.subscriptions.add(this.apiAuthService.changePasswordWithFirebase(n,t.password,o).subscribe(function(t){1==t.success?(e.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},e.apiAuthService.redirectLoginByRole(!1)):e.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t}}))}}},{key:"ngOnInit",value:function(){this.form=this.formBuilder.group({password:["",[l.z.required,l.z.minLength(6)]],confirm_password:""}),this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"})}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||ar)(k.Pb(l.g),k.Pb(d.a),k.Pb(U.a),k.Pb(ge.a))},ar.\u0275cmp=k.Jb({type:ar,selectors:[["app-confirm-forgot-password"]],decls:15,vars:3,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","password","placeholder","M\u1eadt kh\u1ea9u m\u1edbi","formControlName","password","autocomplete","off",1,"form-control"],[1,"input-group-append"],["id","basic-addon3",1,"input-group-text"],["type","password","placeholder","X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u","formControlName","confirm_password","autocomplete","off",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"text-right"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"text-center","mt-3"],[1,"text-normal",3,"routerLink"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&(k.Vb(0,"div",0),k.Vb(1,"form",1),k.Vb(2,"div",2),k.Qb(3,"div",3),k.Vb(4,"div",4),k.Vb(5,"h2",5),k.Qb(6,"img",6),k.Ub(),k.Vb(7,"div",7),k.Vb(8,"div",8),k.Vb(9,"span",9),k.Rc(10,"\u0110\u1ed5i m\u1eadt kh\u1ea9u m\u1edbi"),k.Ub(),k.Ub(),k.Vb(11,"div",10),k.Pc(12,er,6,3,"div",11),k.Pc(13,cr,28,9,"div",11),k.Ub(),k.Ub(),k.Ub(),k.Qb(14,"div",3),k.Ub(),k.Ub(),k.Ub()),2&e&&(k.Db(1),k.nc("formGroup",t.form),k.Db(11),k.nc("ngIf",1==t.status_obj.form_loading),k.Db(1),k.nc("ngIf",1!=t.status_obj.form_loading))},directives:[l.B,l.s,l.l,s.m,l.d,l.r,l.j,Re.a,me.b,d.k],pipes:[pe.q,f.d],encapsulation:2}),ar);function lr(e,t){1&e&&(k.Vb(0,"span"),k.Qb(1,"span",28),k.Rc(2,"\xa0"),k.Ub())}function dr(e,t){if(1&e){var n=k.Wb();k.Vb(0,"span"),k.Vb(1,"button",33),k.cc("click",function(){k.Dc(n);var e=k.gc(2);return e.copyExamByHashId(e.examObj.hashId)}),k.Rc(2,"Copy Exam"),k.Ub(),k.Rc(3,"\xa0\xa0"),k.Ub()}}function br(e,t){if(1&e&&(k.Vb(0,"a",34),k.hc(1,"mycdn"),k.Rc(2,"T\u1ea3i xu\u1ed1ng file \u0111\u1ec1"),k.Ub()),2&e){var n=k.gc(2);k.oc("href",k.ic(1,1,n.examFileObj.path),k.Hc)}}function ur(e,t){if(1&e){var n=k.Wb();k.Vb(0,"span"),k.Vb(1,"button",31),k.cc("click",function(){k.Dc(n);var e=k.gc().$implicit;return k.gc().redirectToHomeworkAndLogin(e.id)}),k.Rc(2,"Link xem \u0111i\u1ec3m b\xe0i t\u1eadp"),k.Ub(),k.Rc(3,"\xa0\xa0"),k.Ub()}}function hr(e,t){if(1&e){var n=k.Wb();k.Vb(0,"span"),k.Vb(1,"button",31),k.cc("click",function(){k.Dc(n);var e=k.gc().$implicit;return k.gc().redirectToExamAndLogin(e.id)}),k.Rc(2,"Link xem \u0111i\u1ec3m \u0111\u1ec1 thi"),k.Ub(),k.Rc(3,"\xa0\xa0"),k.Ub()}}function gr(e,t){if(1&e){var n=k.Wb();k.Vb(0,"tr"),k.Vb(1,"td"),k.Rc(2),k.Ub(),k.Vb(3,"td"),k.Rc(4),k.Ub(),k.Vb(5,"td"),k.Rc(6),k.Ub(),k.Vb(7,"td"),k.Rc(8),k.Ub(),k.Vb(9,"td",29),k.Pc(10,dr,4,0,"span",21),k.Pc(11,br,3,3,"a",30),k.Pc(12,ur,4,0,"span",21),k.Pc(13,hr,4,0,"span",21),k.Vb(14,"button",31),k.cc("click",function(){k.Dc(n);var e=t.$implicit;return k.gc().loginToThisAccount(e.id)}),k.Rc(15,"\u0110\u0103ng nh\u1eadp"),k.Ub(),k.Rc(16,"\xa0 "),k.Vb(17,"button",31),k.cc("click",function(){k.Dc(n);var e=t.$implicit;return k.gc().getForgotPasswordLink(e.id)}),k.Rc(18,"L\u1ea5y link qu\xean m\u1eadt kh\u1ea9u"),k.Ub(),k.Rc(19,"\xa0 "),k.Vb(20,"button",32),k.cc("click",function(){k.Dc(n);var e=t.$implicit;return k.gc().blockPhoneAccount(e.id)}),k.Rc(21,"Kh\xf3a s\u1ed1 phone n\xe0y"),k.Ub(),k.Ub(),k.Ub()}if(2&e){var o=t.$implicit,i=k.gc();k.Db(2),k.Sc(o.fullName),k.Db(2),k.Sc(o.email),k.Db(2),k.Sc(o.phone),k.Db(2),k.Sc(o.zalo_id),k.Db(2),k.nc("ngIf",0!=i.examObj.id),k.Db(1),k.nc("ngIf",i.examFileObj&&-1!=i.examFileObj.id),k.Db(1),k.nc("ngIf",0!=i.homeworkObj.id),k.Db(1),k.nc("ngIf",0!=i.examObj.id)}}var mr,pr=((mr=function(){function e(t,n,o){b(this,e),this.formBuilder=t,this.commonService=n,this.apiAuthService=o,this.subscriptions=new v.a,this.form=new l.k({}),this.status_obj={loading:!1,error:!1},this.forgotpassword_link="",this.objs=[],this.homeworkObj={id:0},this.examObj={id:0},this.examFileObj={},this.homeworkAnswerObj={id:0},this.checkRedirect=""}return h(e,[{key:"search",value:function(){var e=this;this.status_obj={loading:!0,error:!1};var t=this.commonService.getFormObj(this.form);this.subscriptions.add(this.apiAuthService.searchUser(t.full_name,t.phone,t.email,t.user_id,t.classroom_id,t.homework_hashid,t.exam_hashid,t.homework_id,t.exam_id,t.homework_answer_id,t.test_answer_id).subscribe(function(t){1==t.success?(e.objs=t.data.objs,e.homeworkObj=t.data.hasOwnProperty("homeworkObj")?t.data.homeworkObj:{id:0},e.examObj=t.data.hasOwnProperty("examObj")?t.data.examObj:{id:0},e.examFileObj=t.data.hasOwnProperty("examFileObj")?t.data.examFileObj:{id:-1},e.homeworkAnswerObj=t.data.hasOwnProperty("homeworkAnswerObj")?t.data.homeworkAnswerObj:{id:0},e.status_obj={loading:!1,error:!1}):(e.status_obj={loading:!1,error:!0},e.commonService.myTranslate([t.message]).subscribe(function(n){e.commonService.snackError(n[t.message],"")}))}))}},{key:"loginToThisAccount",value:function(e){var t=this;this.subscriptions.add(this.apiAuthService.getTokenByUser(e).subscribe(function(e){if(1==e.success)switch(t.status_obj={loading:!1,error:!1},t.apiAuthService.redirectLoginByRole(!1),t.checkRedirect){case"Homwork":t.commonService.myNavigation("/admin/homework/score-list/".concat(t.homeworkObj.classroomId,"/").concat(t.homeworkObj.id,"/").concat(t.homeworkObj.hashId));break;case"Exam":t.commonService.myNavigation("/admin/testbank/tested-list/".concat(null!=t.examObj.categoryId?t.examObj.categoryId:0,"/").concat(t.examObj.id,"/0"))}else t.status_obj={loading:!1,error:!0},t.commonService.myTranslate([e.message]).subscribe(function(n){t.commonService.snackError(n[e.message],"")})}))}},{key:"getForgotPasswordLink",value:function(e){var t=this;this.subscriptions.add(this.apiAuthService.getForgotPasswordCode(e).subscribe(function(e){1==e.success?(t.status_obj={loading:!1,error:!1},t.forgotpassword_link=t.commonService.getHostUrl()+t.commonService.getLocalRouter("/auth/confirm_forgot_password_old?token=")+e.data,t.commonService.snackSuccess("T\u1ea1o link th\xe0nh c\xf4ng","")):(t.status_obj={loading:!1,error:!0},t.commonService.myTranslate([e.message]).subscribe(function(n){t.commonService.snackError(n[e.message],"")}))}))}},{key:"blockPhoneAccount",value:function(e){var t=this;this.subscriptions.add(this.apiAuthService.disablePhoneAccount(e).subscribe(function(e){1==e.success?(t.status_obj={loading:!1,error:!1},t.commonService.snackSuccess("Kh\xf3a s\u1ed1 phone th\xe0nh c\xf4ng","")):(t.status_obj={loading:!1,error:!0},t.commonService.myTranslate([e.message]).subscribe(function(n){t.commonService.snackError(n[e.message],"")}))}))}},{key:"redirectToHomeworkAndLogin",value:function(e){this.checkRedirect="Homwork",this.loginToThisAccount(e)}},{key:"redirectToExamAndLogin",value:function(e){this.checkRedirect="Exam",this.loginToThisAccount(e)}},{key:"copyExamByHashId",value:function(e){var t=this;this.subscriptions.add(this.apiAuthService.copyExamByHashId(e).subscribe(function(e){if(1==e.success){t.status_obj={loading:!1,error:!1};var n=e.data.obj;t.commonService.myNavigation("/admin/testbank/tested-list/".concat(null!=n.categoryId?n.categoryId:0,"/").concat(n.id,"/0"))}else t.status_obj={loading:!1,error:!0},t.commonService.myTranslate([e.message]).subscribe(function(n){t.commonService.snackError(n[e.message],"")})}))}},{key:"ngOnInit",value:function(){this.form=this.formBuilder.group({full_name:[""],phone:[""],email:[""],user_id:[""],classroom_id:[""],homework_hashid:[""],exam_hashid:[""],homework_id:[""],exam_id:[""],homework_answer_id:[""],test_answer_id:[""]}),this.commonService.translateMetaData({title:"lang_cms_auth_support_title",description:"lang_cms_auth_support_description",image:"lang_cms_test_image"})}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||mr)(k.Pb(l.g),k.Pb(U.a),k.Pb(ge.a))},mr.\u0275cmp=k.Jb({type:mr,selectors:[["app-support"]],decls:95,vars:7,consts:[[3,"headerTitle","back_link"],[1,"container-fluid","component-wrap","centerBoth","hasBg","mt-3"],[1,"card"],[1,"card-body"],[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"row"],[1,"col-sm-12"],[1,"form-group"],[1,"col-sm-12","control-label"],["type","text","formControlName","full_name",1,"form-control"],["type","text","formControlName","phone",1,"form-control"],["type","text","formControlName","email",1,"form-control"],["type","text","formControlName","user_id",1,"form-control"],["type","text","formControlName","classroom_id",1,"form-control"],["type","text","formControlName","homework_id",1,"form-control"],["type","text","formControlName","homework_hashid",1,"form-control"],["type","text","formControlName","homework_answer_id",1,"form-control"],["type","text","formControlName","exam_id",1,"form-control"],["type","text","formControlName","exam_hashid",1,"form-control"],["type","text","formControlName","test_answer_id",1,"form-control"],["mat-raised-button","","color","primary",2,"width","100%",3,"disabled","click"],[4,"ngIf"],["type","text",1,"form-control",3,"value"],[1,"table-responsive"],[1,"table"],["scope","col"],["scope","col",1,"text-right"],[4,"ngFor","ngForOf"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"text-right"],["mat-raised-button","","class","mx-2 mb-1","download","proposed_file_name","style","text-transform: uppercase;","target","_black",3,"href",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","",3,"click"],["mat-raised-button","","download","proposed_file_name","target","_black",1,"mx-2","mb-1",2,"text-transform","uppercase",3,"href"]],template:function(e,t){1&e&&(k.Qb(0,"header-backend",0),k.Vb(1,"div",1),k.Vb(2,"div",2),k.Vb(3,"div",3),k.Vb(4,"h3"),k.Vb(5,"b"),k.Rc(6,"M\xe0n h\xecnh h\u1ed7 tr\u1ee3 vi\xean"),k.Ub(),k.Ub(),k.Qb(7,"hr"),k.Vb(8,"form",4),k.Vb(9,"div",5),k.Vb(10,"div",6),k.Vb(11,"div",7),k.Vb(12,"label",8),k.Rc(13,"User: T\xecm theo T\xean"),k.Ub(),k.Vb(14,"div",6),k.Qb(15,"input",9),k.Ub(),k.Ub(),k.Vb(16,"div",7),k.Vb(17,"label",8),k.Rc(18,"User: T\xecm theo Phone"),k.Ub(),k.Vb(19,"div",6),k.Qb(20,"input",10),k.Ub(),k.Ub(),k.Vb(21,"div",7),k.Vb(22,"label",8),k.Rc(23,"User: T\xecm theo Email"),k.Ub(),k.Vb(24,"div",6),k.Qb(25,"input",11),k.Ub(),k.Ub(),k.Vb(26,"div",7),k.Vb(27,"label",8),k.Rc(28,"User: T\xecm theo ID"),k.Ub(),k.Vb(29,"div",6),k.Qb(30,"input",12),k.Ub(),k.Ub(),k.Vb(31,"div",7),k.Vb(32,"label",8),k.Rc(33,"Classroom: T\xecm theo Id l\u1edbp h\u1ecdc"),k.Ub(),k.Vb(34,"div",6),k.Qb(35,"input",13),k.Ub(),k.Ub(),k.Vb(36,"div",7),k.Vb(37,"label",8),k.Rc(38,"B\xe0i t\u1eadp: T\xecm theo Id"),k.Ub(),k.Vb(39,"div",6),k.Qb(40,"input",14),k.Ub(),k.Ub(),k.Vb(41,"div",7),k.Vb(42,"label",8),k.Rc(43,"B\xe0i t\u1eadp: T\xecm theo M\xe3 b\xe0i t\u1eadp"),k.Ub(),k.Vb(44,"div",6),k.Qb(45,"input",15),k.Ub(),k.Ub(),k.Vb(46,"div",7),k.Vb(47,"label",8),k.Rc(48,"B\xe0i t\u1eadp: T\xecm theo Id k\u1ebft qu\u1ea3"),k.Ub(),k.Vb(49,"div",6),k.Qb(50,"input",16),k.Ub(),k.Ub(),k.Vb(51,"div",7),k.Vb(52,"label",8),k.Rc(53,"\u0110\u1ec1 thi: T\xecm theo Id"),k.Ub(),k.Vb(54,"div",6),k.Qb(55,"input",17),k.Ub(),k.Ub(),k.Vb(56,"div",7),k.Vb(57,"label",8),k.Rc(58,"\u0110\u1ec1 thi: T\xecm theo M\xe3 \u0111\u1ec1"),k.Ub(),k.Vb(59,"div",6),k.Qb(60,"input",18),k.Ub(),k.Ub(),k.Vb(61,"div",7),k.Vb(62,"label",8),k.Rc(63,"\u0110\u1ec1 thi: T\xecm theo Id k\u1ebft qu\u1ea3"),k.Ub(),k.Vb(64,"div",6),k.Qb(65,"input",19),k.Ub(),k.Ub(),k.Vb(66,"div",7),k.Vb(67,"div",6),k.Vb(68,"button",20),k.cc("click",function(){return t.form.invalid||t.status_obj.loading||t.search()}),k.Pc(69,lr,3,0,"span",21),k.Rc(70,"T\xecm ki\u1ebfm "),k.Ub(),k.Ub(),k.Ub(),k.Qb(71,"hr"),k.Vb(72,"div",7),k.Vb(73,"label",8),k.Rc(74,"Link qu\xean m\u1eadt kh\u1ea9u"),k.Ub(),k.Vb(75,"div",6),k.Qb(76,"input",22),k.Ub(),k.Ub(),k.Vb(77,"div",7),k.Vb(78,"div",6),k.Vb(79,"div",23),k.Vb(80,"table",24),k.Vb(81,"thead"),k.Vb(82,"tr"),k.Vb(83,"th",25),k.Rc(84,"T\xean"),k.Ub(),k.Vb(85,"th",25),k.Rc(86,"Email"),k.Ub(),k.Vb(87,"th",25),k.Rc(88,"Phone"),k.Ub(),k.Vb(89,"th",25),k.Rc(90,"Zalo ID"),k.Ub(),k.Vb(91,"th",26),k.Rc(92,"H\xe0nh \u0111\u1ed9ng"),k.Ub(),k.Ub(),k.Ub(),k.Vb(93,"tbody"),k.Pc(94,gr,22,8,"tr",27),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub()),2&e&&(k.nc("headerTitle","H\u1ed7 tr\u1ee3 kh\xe1ch h\xe0ng")("back_link","/admin/testbank/dashboard"),k.Db(8),k.nc("formGroup",t.form),k.Db(60),k.nc("disabled",t.form.invalid||t.status_obj.loading),k.Db(1),k.nc("ngIf",!0===t.status_obj.loading),k.Db(7),k.oc("value",t.forgotpassword_link),k.Db(18),k.nc("ngForOf",t.objs))},directives:[w.a,l.B,l.s,l.l,l.d,l.r,l.j,me.b,s.m,s.l,me.a],pipes:[pe.o],encapsulation:2}),mr);function fr(e,t){1&e&&(k.Vb(0,"div"),k.Vb(1,"div",13),k.Vb(2,"div",14),k.Vb(3,"span",15),k.Rc(4),k.hc(5,"mytranslate"),k.Ub(),k.Ub(),k.Ub(),k.Ub()),2&e&&(k.Db(4),k.Tc("",k.ic(5,1,"lang_cms_common_loading"),"..."))}function vr(e,t){1&e&&(k.Vb(0,"span"),k.Qb(1,"span",21),k.Rc(2,"\xa0"),k.Ub())}function _r(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div"),k.Vb(1,"div",16),k.Vb(2,"div",17),k.Vb(3,"button",18),k.cc("click",function(){k.Dc(n);var e=k.gc(2);return e.status_obj.loading||e.becomeTeacher()}),k.Pc(4,vr,3,0,"span",12),k.Rc(5,"Click v\xe0o \u0111\xe2y \u0111\u1ec3 tr\u1edf th\xe0nh gi\xe1o vi\xean "),k.Ub(),k.Ub(),k.Ub(),k.Vb(6,"div",19),k.Vb(7,"a",20),k.cc("click",function(){return k.Dc(n),k.gc(2).goBack()}),k.Rc(8,"Quay l\u1ea1i trang ch\u1ee7"),k.Ub(),k.Ub(),k.Ub()}if(2&e){var o=k.gc(2);k.Db(3),k.nc("disabled",o.status_obj.loading),k.Db(1),k.nc("ngIf",!0===o.status_obj.loading)}}function yr(e,t){if(1&e&&(k.Vb(0,"div",5),k.Vb(1,"h2",6),k.Qb(2,"img",7),k.Ub(),k.Vb(3,"div",8),k.Vb(4,"div",9),k.Vb(5,"span",10),k.Rc(6,"T\xf4i mu\u1ed1n th\xe0nh gi\xe1o vi\xean"),k.Ub(),k.Ub(),k.Vb(7,"div",11),k.Pc(8,fr,6,3,"div",12),k.Pc(9,_r,9,2,"div",12),k.Ub(),k.Ub(),k.Ub()),2&e){var n=k.gc();k.Db(8),k.nc("ngIf",1==n.status_obj.form_loading),k.Db(1),k.nc("ngIf",1!=n.status_obj.form_loading)}}function kr(e,t){1&e&&(k.Vb(0,"div"),k.Vb(1,"div",13),k.Vb(2,"div",14),k.Vb(3,"span",15),k.Rc(4),k.hc(5,"mytranslate"),k.Ub(),k.Ub(),k.Ub(),k.Ub()),2&e&&(k.Db(4),k.Tc("",k.ic(5,1,"lang_cms_common_loading"),"..."))}function Ur(e,t){1&e&&(k.Vb(0,"span"),k.Qb(1,"span",21),k.Rc(2,"\xa0"),k.Ub())}function Vr(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div"),k.Vb(1,"div",16),k.Vb(2,"div",17),k.Vb(3,"button",18),k.cc("click",function(){k.Dc(n);var e=k.gc(2);return e.status_obj.loading||e.becomeStudent()}),k.Pc(4,Ur,3,0,"span",12),k.Rc(5,"Click v\xe0o \u0111\xe2y \u0111\u1ec3 b\u1ecf quy\u1ec1n gi\xe1o vi\xean "),k.Ub(),k.Ub(),k.Ub(),k.Vb(6,"div",19),k.Vb(7,"a",20),k.cc("click",function(){return k.Dc(n),k.gc(2).goBack()}),k.Rc(8,"Quay l\u1ea1i trang ch\u1ee7"),k.Ub(),k.Ub(),k.Ub()}if(2&e){var o=k.gc(2);k.Db(3),k.nc("disabled",o.status_obj.loading),k.Db(1),k.nc("ngIf",!0===o.status_obj.loading)}}function xr(e,t){if(1&e&&(k.Vb(0,"div",5),k.Vb(1,"h2",6),k.Qb(2,"img",7),k.Ub(),k.Vb(3,"div",8),k.Vb(4,"div",9),k.Vb(5,"span",10),k.Rc(6,"T\xf4i mu\u1ed1n b\u1ecf quy\u1ec1n gi\xe1o vi\xean"),k.Ub(),k.Ub(),k.Vb(7,"div",11),k.Pc(8,kr,6,3,"div",12),k.Pc(9,Vr,9,2,"div",12),k.Ub(),k.Ub(),k.Ub()),2&e){var n=k.gc();k.Db(8),k.nc("ngIf",1==n.status_obj.form_loading),k.Db(1),k.nc("ngIf",1!=n.status_obj.form_loading)}}var wr,Cr=((wr=function(){function e(t,n){b(this,e),this.apiAuthService=t,this.commonService=n,this.subscriptions=new v.a,this.status_obj={form_loading:!0,loading:!1,error:!1,error_obj:{message:""}},this.isTeacher=!1,this.isStudent=!1}return h(e,[{key:"goBack",value:function(){this.apiAuthService.redirectLoginByRole(!1)}},{key:"becomeTeacher",value:function(){var e=this;this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiAuthService.becomeTeacher().subscribe(function(t){1==t.success?(e.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},e.apiAuthService.redirectLoginByRole(!1)):(e.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t},e.commonService.myTranslate([t.message]).subscribe(function(n){e.commonService.snackError(n[t.message],"")}))}))}},{key:"becomeStudent",value:function(){var e=this;this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiAuthService.removeTeacherRole().subscribe(function(t){1==t.success?(e.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},e.apiAuthService.redirectLoginByRole(e.commonService.getLocalRouter("/student/dashboard/0"))):(e.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t},e.commonService.myTranslate([t.message]).subscribe(function(n){e.commonService.snackError(n[t.message],"")}))}))}},{key:"ngOnInit",value:function(){this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.commonService.translateMetaData({title:"\u0110\u1ed5i Vai Tr\xf2",description:"\u0110\u1ed5i Vai Tr\xf2",image:"lang_cms_test_image"}),this.isTeacher=this.apiAuthService.isTeacherRole()}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||wr)(k.Pb(ge.a),k.Pb(U.a))},wr.\u0275cmp=k.Jb({type:wr,selectors:[["app-switch-teacher-student"]],decls:7,vars:2,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[2,"margin-top","6vh"],[1,"row"],[1,"col-sm-3"],["class","col-sm-6",4,"ngIf"],[1,"col-sm-6"],[1,"text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-md-12","text-center"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"text-center","mt-3"],[1,"clickable",3,"click"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&(k.Vb(0,"div",0),k.Vb(1,"div",1),k.Vb(2,"div",2),k.Qb(3,"div",3),k.Pc(4,yr,10,2,"div",4),k.Pc(5,xr,10,2,"div",4),k.Qb(6,"div",3),k.Ub(),k.Ub(),k.Ub()),2&e&&(k.Db(4),k.nc("ngIf",0==t.isTeacher),k.Db(1),k.nc("ngIf",1==t.isTeacher))},directives:[s.m,me.b],pipes:[pe.q],styles:[""]}),wr);function Pr(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div",8),k.Vb(1,"div",9),k.Vb(2,"label",10),k.Rc(3),k.Ub(),k.Vb(4,"div",11),k.Qb(5,"textarea",12),k.Ub(),k.Vb(6,"div",13),k.Vb(7,"button",14),k.cc("click",function(){k.Dc(n);var e=t.$implicit;return k.gc().saveConfig(e.controls.id.value)}),k.Rc(8,"C\u1eadp nh\u1eadt"),k.Ub(),k.Rc(9,"\xa0 "),k.Ub(),k.Ub(),k.Ub()}if(2&e){var o=t.$implicit;k.Db(1),k.nc("formGroup",o),k.Db(2),k.Sc(o.controls.name.value)}}var Sr,Or,Dr=((Or=function(){function e(t,n,o){b(this,e),this.fb=t,this.commonService=n,this.apiAuthService=o,this.subscriptions=new v.a,this.form=new l.k({}),this.status_obj={loading:!1,error:!1},this.objs=[]}return h(e,[{key:"ngOnInit",value:function(){this.form=this.fb.group({config_objs:this.fb.array([])}),this.getConfigObjs(),this.commonService.translateMetaData({title:"lang_cms_auth_update_config_title",description:"lang_cms_auth_update_config_description",image:"lang_cms_test_image"})}},{key:"saveConfig",value:function(e){for(var t=this,n=this.commonService.getFormObj(this.form),o=!1,i="",r=0;r<n.config_objs.length;r++)if(n.config_objs[r].id==e){o=!0,i=n.config_objs[r].value;break}o?(this.status_obj={loading:!0,error:!1},this.subscriptions.add(this.apiAuthService.updateConfigObj(e,i).subscribe(function(e){1==e.success?(t.status_obj={loading:!1,error:!1},t.commonService.snackSuccess("L\u01b0u d\u1eef li\u1ec7u th\xe0nh c\xf4ng","")):(t.status_obj={loading:!1,error:!0},t.commonService.myTranslate([e.message]).subscribe(function(n){t.commonService.snackError(n[e.message],"")}))}))):this.commonService.snackError("Kh\xf4ng t\xecm th\u1ea5y d\u1eef li\u1ec7u","")}},{key:"getConfigObjs",value:function(){var e=this;this.status_obj={loading:!0,error:!1},this.subscriptions.add(this.apiAuthService.getConfigObjs().subscribe(function(t){if(1==t.success){e.objs=t.data;for(var n=e.fb.array([]),o=0;o<e.objs.length;o++){var i=e.fb.group({id:[e.objs[o].id,[l.z.required]],name:[e.objs[o].name,[l.z.required]],value:[e.objs[o].value,[l.z.required]]});n.push(i)}e.form.setControl("config_objs",n),e.status_obj={loading:!1,error:!1}}else e.status_obj={loading:!1,error:!0},e.commonService.myTranslate([t.message]).subscribe(function(n){e.commonService.snackError(n[t.message],"")})}))}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Or)(k.Pb(l.g),k.Pb(U.a),k.Pb(ge.a))},Or.\u0275cmp=k.Jb({type:Or,selectors:[["app-update-config"]],decls:12,vars:4,consts:[[3,"headerTitle","back_link"],[1,"container-fluid","component-wrap","centerBoth","hasBg","mt-3"],[1,"card"],[1,"card-body"],[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"row"],[1,"col-sm-12"],["class","form-group",4,"ngFor","ngForOf"],[1,"form-group"],[1,"row",3,"formGroup"],[1,"col-sm-2","control-label"],[1,"col-sm-6"],["type","text","formControlName","value",1,"form-control"],[1,"col-sm-3"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(k.Qb(0,"header-backend",0),k.Vb(1,"div",1),k.Vb(2,"div",2),k.Vb(3,"div",3),k.Vb(4,"h3"),k.Vb(5,"b"),k.Rc(6,"C\u1eadp nh\u1eadt c\u1ea5u h\xecnh"),k.Ub(),k.Ub(),k.Qb(7,"hr"),k.Vb(8,"form",4),k.Vb(9,"div",5),k.Vb(10,"div",6),k.Pc(11,Pr,10,2,"div",7),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub()),2&e&&(k.nc("headerTitle","C\u1eadp nh\u1eadt c\u1ea5u h\xecnh")("back_link","/admin/testbank/dashboard"),k.Db(8),k.nc("formGroup",t.form),k.Db(3),k.nc("ngForOf",t.form.controls.config_objs.controls))},directives:[w.a,l.B,l.s,l.l,s.l,l.d,l.r,l.j,me.b],encapsulation:2}),Or),Mr=((Sr=function(){function e(t,n,o,i,r){b(this,e),this.activeRoute=t,this.router=n,this.fb=o,this.commonService=i,this.apiCommonService=r,this.subscriptions=new v.a,this.form=new l.k({}),this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.returnUrl=""}return h(e,[{key:"checkCorrectVersion",value:function(){this.apiCommonService.isCorrectVersion()&&this.commonService.redirectByUrl(this.returnUrl)}},{key:"ngOnInit",value:function(){var e=this;Object(_.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(function(t){r(t),e.returnUrl=e.commonService.getMyQueryParam("return_url"),e.checkCorrectVersion()})}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Sr)(k.Pb(d.a),k.Pb(d.i),k.Pb(l.g),k.Pb(U.a),k.Pb(V.a))},Sr.\u0275cmp=k.Jb({type:Sr,selectors:[["app-update-version"]],decls:18,vars:1,consts:[[3,"headerTitle"],[1,"container","py-5","bg-white","mt-3","rounded"],[1,"row"],[1,"col-12"],[1,"font-weight-bold"]],template:function(e,t){1&e&&(k.Qb(0,"header-backend",0),k.Vb(1,"div",1),k.Vb(2,"div",2),k.Vb(3,"div",3),k.Vb(4,"h3",4),k.Rc(5,"N\u1ebfu b\u1ea1n s\u1eed d\u1ee5ng m\xe1y t\xednh th\xec h\xe3y l\xe0m theo h\u01b0\u1edbng d\u1eabn sau:"),k.Ub(),k.Vb(6,"p"),k.Rc(7,'- Nh\u1ea5n t\u1ed5 h\u1ee3p ph\xedm "Ctrl + F5" ho\u1eb7c "Ctrl + Shift + R" (\u0111\u1ed1i v\u1edbi m\xe1y s\u1eed d\u1ee5ng h\u1ec7 \u0111i\u1ec1u h\xe0nh Windows) ho\u1eb7c "Command + Shift + R" (\u0111\u1ed1i v\u1edbi m\xe1y s\u1eed d\u1ee5ng h\u1ec7 \u0111i\u1ec1u h\xe0nh Mac OS) \u0111\u1ec3 t\u1ea3i l\u1ea1i trang \u0111\u1ed3ng th\u1eddi x\xf3a cache tr\xecnh duy\u1ec7t. Sau \u0111\xf3 \u0111\u0103ng nh\u1eadp l\u1ea1i.'),k.Ub(),k.Ub(),k.Ub(),k.Vb(8,"div",2),k.Vb(9,"div",3),k.Vb(10,"h3",4),k.Rc(11,"N\u1ebfu b\u1ea3n s\u1eed d\u1ee5ng \u0111i\u1ec7n tho\u1ea1i th\xec h\xe3y l\xe0m theo h\u01b0\u1edbng d\u1eabn sau:"),k.Ub(),k.Vb(12,"p"),k.Rc(13,"- Truy c\u1eadp v\xe0o thanh menu v\xe0 nh\u1ea5n n\xfat History."),k.Ub(),k.Vb(14,"p"),k.Rc(15,"- Click ch\u1ecdn Clear Browsing Data. V\xe0 ch\u1ecdn th\u1eddi gian. \u0110\u1ec3 x\xf3a m\u1ecdi th\u1ee9, ch\u1ecdn All Time."),k.Ub(),k.Vb(16,"p"),k.Rc(17,"- Ch\u1ecdn y\u1ebfu t\u1ed1 b\u1ea1n mu\u1ed1n x\xf3a \u2013 history, cookies, cache."),k.Ub(),k.Ub(),k.Ub(),k.Ub()),2&e&&k.nc("headerTitle","Th\xf4ng b\xe1o c\u1eadp nh\u1eadt phi\xean b\u1ea3n m\u1edbi")},directives:[w.a],styles:[""]}),Sr);function Rr(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div",15),k.Qb(1,"img",16),k.hc(2,"mycdn"),k.hc(3,"mycdn"),k.Vb(4,"span",17),k.cc("click",function(){k.Dc(n);var e=t.index;return k.gc(2).removeFile(e)}),k.Vb(5,"mat-icon"),k.Rc(6,"cancel"),k.Ub(),k.Ub(),k.Ub()}if(2&e){var o=t.$implicit;k.Db(1),k.oc("src",k.ic(2,2,o.thumb.url),k.Hc),k.oc("alt",k.ic(3,4,o.thumb.url))}}function Ir(e,t){if(1&e&&(k.Vb(0,"div",13),k.Pc(1,Rr,7,6,"div",14),k.Ub()),2&e){var n=k.gc();k.Db(1),k.nc("ngForOf",n.answerFiles)}}function Ar(e,t){1&e&&(k.Vb(0,"span"),k.Qb(1,"span",18),k.Rc(2,"\xa0"),k.Ub())}var jr,Lr=((jr=function(){function e(t,n,o){var i=this;b(this,e),this.fb=t,this.commonService=n,this.apiCommonService=o,this.subscriptions=new v.a,this.form=new l.k({}),this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.answerFiles=[],this.selectFile=function(e){var t=e.target.files;try{for(var n in t)"length"!=n&&"item"!=n&&(i.answerFile=t?t[n]:i.answerFile,i.answerFile&&(i.status_obj={loading:!0,error:!1,error_obj:{message:""}},i.uploadPPT(i.answerFile)))}catch(o){alert("\u0110\xe3 x\u1ea3y ra l\u1ed7i:"+o)}},this.uploadPPT=function(e){i.apiCommonService.uploadPptThumbnail(e).subscribe(function(t){1==t.success?i.apiCommonService.uploadToCdnForPptFile(e).subscribe(function(e){1==e.success?(Array.isArray(i.answerFiles)||(i.answerFiles=[]),i.answerFiles.push({thumb:t.data,ppt:e.data}),i.status_obj={loading:!1,error:!1,error_obj:{message:""}}):(i.status_obj={loading:!1,error:!1,error_obj:{message:""}},i.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c file PowerPoint! Vui l\xf2ng th\u1eed l\u1ea1i sau!",""))}):(i.status_obj={loading:!1,error:!1,error_obj:{message:""}},i.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c file Thumbnail! Vui l\xf2ng th\u1eed l\u1ea1i sau!",""))})},this.answerFile=null}return h(e,[{key:"saveObj",value:function(){var e=this;this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.apiCommonService.saveContentObjs(this.answerFiles).subscribe(function(t){e.status_obj={loading:!1,error:!1,error_obj:{message:""}},1==t.success?e.commonService.snackSuccess("T\u1ea1o n\u1ed9i dung th\xe0nh c\xf4ng",""):e.commonService.snackError("T\u1ea1o n\u1ed9i dung b\u1ecb l\u1ed7i!","")})}},{key:"removeFile",value:function(e){this.answerFiles[e]&&delete this.answerFiles[e]}},{key:"ngOnInit",value:function(){this.form=this.fb.group({file:new l.h("",l.z.required)})}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||jr)(k.Pb(l.g),k.Pb(U.a),k.Pb(V.a))},jr.\u0275cmp=k.Jb({type:jr,selectors:[["app-upload-file"]],decls:19,vars:4,consts:[[1,"container-fluid","mt-5","mb-5"],["enctype","multipart/form-data",1,"form-horizontal","text-center",3,"formGroup"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","text-center","v-dragndrop","dropzone","dz-started"],["id","dropzone-3404",1,"px-4","py-3","rounded",2,"cursor","pointer",3,"click"],[1,"file"],["id","select-upload-file",1,"align-self-center","select","dz-clickable"],["type","file","id","file_select","multiple","","formControlName","file",1,"form-control","file-input",3,"change"],["fileSelect",""],["class","row ml-0 mr-0 mt-4 attach-container",4,"ngIf"],[1,"mt-20"],[1,"col-sm-12"],["mat-raised-button","","color","primary",2,"margin-top","20px",3,"disabled","click"],[4,"ngIf"],[1,"row","ml-0","mr-0","mt-4","attach-container"],["class","img-container",4,"ngFor","ngForOf"],[1,"img-container"],[1,"img-fluid","item",3,"src","alt"],[1,"notify-badge",3,"click"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,t){if(1&e){var n=k.Wb();k.Vb(0,"div",0),k.Vb(1,"form",1),k.Vb(2,"div",2),k.Vb(3,"div",3),k.cc("click",function(){return k.Dc(n),k.zc(12).click()}),k.Vb(4,"div",4),k.Vb(5,"a",5),k.Vb(6,"mat-icon"),k.Rc(7,"attach_file"),k.Ub(),k.Ub(),k.Qb(8,"br"),k.Vb(9,"span"),k.Rc(10,"Ch\u1ecdn file t\u1ea3i l\xean"),k.Ub(),k.Vb(11,"input",6,7),k.cc("change",function(e){return t.selectFile(e)}),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Pc(13,Ir,2,1,"div",8),k.Vb(14,"div",9),k.Vb(15,"div",10),k.Vb(16,"button",11),k.cc("click",function(){return t.saveObj()}),k.Pc(17,Ar,3,0,"span",12),k.Rc(18,"L\u01b0u file Powerpoint "),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub()}2&e&&(k.Db(1),k.nc("formGroup",t.form),k.Db(12),k.nc("ngIf",t.answerFiles.length>0),k.Db(3),k.nc("disabled",t.status_obj.loading),k.Db(1),k.nc("ngIf",!0===t.status_obj.loading))},directives:[l.B,l.s,l.l,Re.a,l.d,l.r,l.j,s.m,me.b,s.l],pipes:[pe.o],styles:[".v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;line-height:1.5}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}@media (max-width:768px){.dropzone[_ngcontent-%COMP%]{min-width:100px}._col-left[_ngcontent-%COMP%]{margin-bottom:20px}}"]}),jr),Qr=a("tk/3"),Tr=a("Qu3c");function Er(e,t){1&e&&(k.Vb(0,"div",19),k.Vb(1,"span"),k.Qb(2,"span",20),k.Ub(),k.Qb(3,"br"),k.Vb(4,"p",21),k.Rc(5,"B\xe0i l\xe0m \u0111ang \u0111\u01b0\u1ee3c t\u1ea3i l\xean. Vui l\xf2ng \u0111\u1ee3i trong gi\xe2y l\xe1t!"),k.Ub(),k.Ub())}var Fr=function(e){return{"width.%":e}};function zr(e,t){if(1&e&&(k.Vb(0,"div",24),k.Vb(1,"p",25),k.Rc(2),k.Ub(),k.Vb(3,"div",26),k.Qb(4,"div",27),k.Ub(),k.Ub()),2&e){var n=t.$implicit;k.Db(2),k.Sc(n.fileName),k.Db(2),k.nc("ngStyle",k.sc(2,Fr,n.uploadProgress))}}function qr(e,t){if(1&e&&(k.Vb(0,"div",22),k.Pc(1,zr,5,4,"div",23),k.Ub()),2&e){var n=k.gc();k.Db(1),k.nc("ngForOf",n.convertObjToArray(n.fileUploadQueue))}}function Br(e,t){if(1&e){var n=k.Wb();k.Vb(0,"span",35),k.cc("click",function(){k.Dc(n);var e=k.gc().$implicit;return k.gc(2).removeImg(e.url)}),k.Vb(1,"mat-icon"),k.Rc(2,"cancel"),k.Ub(),k.Ub()}}function Nr(e,t){1&e&&(k.Vb(0,"span",36),k.Vb(1,"mat-icon",37),k.Rc(2,"check_box_outline"),k.Ub(),k.Ub())}function Wr(e,t){if(1&e&&(k.Vb(0,"div",29),k.Vb(1,"a",30),k.Vb(2,"mat-icon",31),k.Rc(3,"attach_file"),k.Ub(),k.Vb(4,"span",32),k.Rc(5),k.Ub(),k.Ub(),k.Pc(6,Br,3,0,"span",33),k.Pc(7,Nr,3,0,"span",34),k.Ub()),2&e){var n=t.$implicit,o=k.gc(2);k.Db(4),k.nc("matTooltip",n.name),k.Db(1),k.Sc(n.name),k.Db(1),k.nc("ngIf",1!=o.isSuccess),k.Db(1),k.nc("ngIf",o.isSuccess)}}function Hr(e,t){if(1&e&&(k.Vb(0,"div",22),k.Pc(1,Wr,8,4,"div",28),k.Ub()),2&e){var n=k.gc();k.Db(1),k.nc("ngForOf",n.uploadFiles)}}function Gr(e,t){1&e&&(k.Vb(0,"div",19),k.Vb(1,"span"),k.Qb(2,"span",20),k.Ub(),k.Qb(3,"br"),k.Vb(4,"p",21),k.Rc(5,"B\xe0i l\xe0m \u0111ang \u0111\u01b0\u1ee3c t\u1ea3i l\xean. Vui l\xf2ng \u0111\u1ee3i trong gi\xe2y l\xe1t!"),k.Ub(),k.Ub())}var Yr=function(e){return{"width.%":e}};function $r(e,t){if(1&e&&(k.Vb(0,"div",24),k.Vb(1,"p",25),k.Rc(2),k.Ub(),k.Vb(3,"div",26),k.Qb(4,"div",27),k.Ub(),k.Ub()),2&e){var n=t.$implicit;k.Db(2),k.Sc(n.fileName),k.Db(2),k.nc("ngStyle",k.sc(2,Yr,n.uploadProgress))}}function Kr(e,t){if(1&e&&(k.Vb(0,"div",22),k.Pc(1,$r,5,4,"div",23),k.Ub()),2&e){var n=k.gc();k.Db(1),k.nc("ngForOf",n.convertObjToArray(n.fileUploadQueue))}}function Jr(e,t){if(1&e){var n=k.Wb();k.Vb(0,"span",35),k.cc("click",function(){k.Dc(n);var e=k.gc().$implicit;return k.gc(2).removeImg(e.url)}),k.Vb(1,"mat-icon"),k.Rc(2,"cancel"),k.Ub(),k.Ub()}}function Zr(e,t){1&e&&(k.Vb(0,"span",36),k.Vb(1,"mat-icon",37),k.Rc(2,"check_box_outline"),k.Ub(),k.Ub())}function Xr(e,t){if(1&e&&(k.Vb(0,"div",29),k.Vb(1,"a",30),k.Vb(2,"mat-icon",31),k.Rc(3,"attach_file"),k.Ub(),k.Vb(4,"span",32),k.Rc(5),k.Ub(),k.Ub(),k.Pc(6,Jr,3,0,"span",33),k.Pc(7,Zr,3,0,"span",34),k.Ub()),2&e){var n=t.$implicit,o=k.gc(2);k.Db(4),k.nc("matTooltip",n.name),k.Db(1),k.Sc(n.name),k.Db(1),k.nc("ngIf",1!=o.isSuccess),k.Db(1),k.nc("ngIf",o.isSuccess)}}function ec(e,t){if(1&e&&(k.Vb(0,"div",22),k.Pc(1,Xr,8,4,"div",28),k.Ub()),2&e){var n=k.gc();k.Db(1),k.nc("ngForOf",n.uploadFiles)}}var tc,nc,oc,ic,rc=[{path:"",children:[{path:"",children:[{path:"login",component:yi},{path:"login-scan",component:di},{path:"register",component:Xi},{path:"register/:type",component:Xi},{path:"logout",component:ki},{path:"confirm_forgot_password",component:Ot},{path:"forgot_password_susscess",component:co},{path:"confirm_forgot_password_qr",component:ln},{path:"confirm_forgot_password_old",component:Tt},{path:"confirm_account",component:dt},{path:"checking_service",component:Je},{path:"set_new_password",component:sr},{path:"change-info",component:Ke},{path:"become-teacher",component:ke},{path:"update-new-version",component:Mr},{path:"switch-teacher-student",component:Cr},{path:"support",component:pr},{path:"report_error",component:io},{path:"report_exception",component:Tn},{path:"upload_assets",component:(nc=function(){function e(t,n,o){var i=this;b(this,e),this.formBuilder=t,this.commonService=n,this.apiCommonService=o,this.subscriptions=new v.a,this.form=new l.k({}),this.isLoading=!1,this.logs=[],this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.isSuccess=!1,this.uploadCount=0,this.uploadFiles=[],this.fileUploadQueue={},this.uploadFile=function(e,t){var n=i.commonService.getFormObj(i.form);i.apiCommonService.uploadAssetsToCdnProgress(n.folder_name,e).subscribe(function(n){if(0==n.success)i.status_obj={loading:!1,error:!1,error_obj:{message:""}},i.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau! L\u1ed7i: "+n.message,"");else if(n.type&&n.type==Qr.c.UploadProgress){var o=Math.round(n.loaded/n.total*100);i.fileUploadQueue.hasOwnProperty(t)?(i.fileUploadQueue[t].uploadProgress=o,i.fileUploadQueue[t].fileName=e.name):i.fileUploadQueue[t]={uploadProgress:0,fileName:e.name}}else n.successUpload&&1==n.successUpload&&(delete i.fileUploadQueue[t],Array.isArray(i.uploadFiles)||(i.uploadFiles=[]),i.uploadFiles.push(Object.assign({},n.data)),i.status_obj={loading:!1,error:!1,error_obj:{message:""}})},function(e){i.logs.push("Err:"+e),i.commonService.snackWarning("L\u1ed7i: "+e.subString(0,50),"")})},this.answerFile=null}return h(e,[{key:"selectFile",value:function(e){var t=e.target.files;try{for(var n in t)"length"!=n&&"item"!=n&&(this.answerFile=t?t[n]:this.answerFile,this.answerFile&&(this.isSuccess=!1,this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.uploadFile(this.answerFile,this.uploadCount),this.uploadCount+=1));e.target.value=""}catch(o){alert("\u0110\xe3 x\u1ea3y ra l\u1ed7i:"+o)}}},{key:"convertObjToArray",value:function(e){var t=[];for(var n in e)t.push(e[n]);return t}},{key:"removeImg",value:function(e){var t=this.uploadFiles.filter(function(t){return t.url!==e});this.uploadFiles=t}},{key:"ngOnInit",value:function(){this.form=this.formBuilder.group({folder_name:[""]})}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}(),nc.\u0275fac=function(e){return new(e||nc)(k.Pb(l.g),k.Pb(U.a),k.Pb(V.a))},nc.\u0275cmp=k.Jb({type:nc,selectors:[["app-upload-assets"]],decls:26,vars:4,consts:[[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"rowr"],[1,"form-group"],[1,"col-sm-12","control-label"],[1,"col-sm-12"],["type","text","formControlName","folder_name",1,"form-control"],["id","component-upload-image-mobile"],[1,"card-box"],[1,"description"],["class","text-center m-4",4,"ngIf"],["class","row ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container",4,"ngIf"],[1,"summitForm","pt-5","pb-5"],[1,"row","pl-3","pr-3"],[1,"col-12","text-center","v-dragndrop"],[1,"px-4","py-3","rounded",2,"cursor","pointer",3,"click"],[1,"file"],["id","select-upload-file",1,"align-self-center","select","dz-clickable"],["type","file","id","file_select","multiple","",1,"form-control","d-none",3,"change"],["fileSelect",""],[1,"text-center","m-4"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"h5"],[1,"row","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container"],["class","col-6 col-sm-6 col-md-4 col-xl-2 col-lg-2",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-4","col-xl-2","col-lg-2"],[1,"h5","truncate"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngStyle"],["class","col-12 box-file mt-2",4,"ngFor","ngForOf"],[1,"col-12","box-file","mt-2"],["target","_blank",1,"clickable",2,"display","flex","margin-top","3px","font-size","14px"],[2,"font-size","20px","vertical-align","sub"],[1,"truncate",2,"line-height","1.6","max-width","75%",3,"matTooltip"],["class","notify-badge",3,"click",4,"ngIf"],["class","notify-badge",4,"ngIf"],[1,"notify-badge",3,"click"],[1,"notify-badge"],[2,"color","rgb(26,188,0)"]],template:function(e,t){if(1&e){var n=k.Wb();k.Vb(0,"form",0),k.Vb(1,"div",1),k.Vb(2,"div",2),k.Vb(3,"label",3),k.Rc(4,"Folder"),k.Ub(),k.Vb(5,"div",4),k.Qb(6,"input",5),k.Ub(),k.Ub(),k.Ub(),k.Vb(7,"div",6),k.Vb(8,"div",7),k.Vb(9,"div",8),k.Pc(10,Er,6,0,"div",9),k.Pc(11,qr,2,1,"div",10),k.Pc(12,Hr,2,1,"div",10),k.Ub(),k.Vb(13,"div",11),k.Vb(14,"div",12),k.Vb(15,"div",13),k.Vb(16,"div",14),k.cc("click",function(){return k.Dc(n),k.zc(22).click()}),k.Vb(17,"div",15),k.Vb(18,"a",16),k.Vb(19,"mat-icon"),k.Rc(20,"attach_file"),k.Ub(),k.Vb(21,"input",17,18),k.cc("change",function(e){return t.selectFile(e)}),k.Ub(),k.Ub(),k.Qb(23,"br"),k.Vb(24,"span"),k.Rc(25,"Ch\u1ecdn file"),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub()}2&e&&(k.nc("formGroup",t.form),k.Db(10),k.nc("ngIf",t.status_obj.loading),k.Db(1),k.nc("ngIf",t.convertObjToArray(t.fileUploadQueue).length>0),k.Db(1),k.nc("ngIf",t.uploadFiles.length>0))},directives:[l.B,l.s,l.l,l.d,l.r,l.j,s.m,Re.a,s.l,s.n,Tr.a],styles:[".card-box[_ngcontent-%COMP%]{width:100%;border:1px solid #00a7d0}.top-row[_ngcontent-%COMP%]{background-color:#00a7d0;margin:0;padding:10px}.text-white[_ngcontent-%COMP%]{color:#fff}.text-white[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.description[_ngcontent-%COMP%], .files[_ngcontent-%COMP%]{background:inherit;background-color:#f2f2f2;box-sizing:border-box;border:1px solid #e5e5e5;border-left:0;border-right:0;border-radius:0;border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:0;box-shadow:none;padding:0 10px}.description[_ngcontent-%COMP%]{padding:10px 10px 0}.files[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:10px 20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.students[_ngcontent-%COMP%]{border-width:0;background:inherit;background-color:#fff;box-sizing:border-box;border-radius:3px;box-shadow:0 0 5px rgba(0,0,0,.062745098)}.list-student[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;background:inherit;background-color:#fafafa;box-sizing:border-box;padding:10px 15px;border:1px solid #e0e0e0;border-radius:3px;box-shadow:none;font-weight:400;font-style:bold;display:block}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:100px}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;line-height:1.5}.pl-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.pr-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pb-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pt-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-top:1rem!important}.btn-warm-orange[_ngcontent-%COMP%]{background:#ff7f45;border:1px solid #ff7f45}.btn[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:hover{color:#fff}.btn[_ngcontent-%COMP%]{cursor:pointer;transition:0s}.text-dark-green[_ngcontent-%COMP%]{color:#1caba0!important}.d-block[_ngcontent-%COMP%]{display:block!important}.small[_ngcontent-%COMP%], small[_ngcontent-%COMP%]{font-size:80%;font-weight:400}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.item[_ngcontent-%COMP%]{position:relative;display:inline-block}.notify-badge[_ngcontent-%COMP%]{color:#afafaf;font-size:20px;cursor:pointer}.description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.flex-title[_ngcontent-%COMP%]{display:flex;align-items:center}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00a7d0;cursor:pointer;margin-left:5px}.flex-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;line-height:1.4;font-weight:500}.img-container[_ngcontent-%COMP%]{overflow:hidden;position:relative;height:90px;width:90px;margin:0 0 10px 10px;border-radius:7px}.img-responsive[_ngcontent-%COMP%]{position:absolute;width:100%;height:auto;left:50%;top:50%;transform:translate(-50%,-50%)}.attach-container[_ngcontent-%COMP%]{padding:10px 0 0}.maxW1200[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}@font-face{font-family:handwriting_font;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/HP0015HB.ttf)}._col-left[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:35px}._col-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:5rem;color:#ff0024}._col-right[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;line-height:1.4;font-size:20px;font-family:handwriting_font!important}._col-left_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:10px}._col-left_result[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:3rem;color:#ff0024}._col-right_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right_result[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right_result[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;font-size:16px;line-height:1.4;font-family:handwriting_font!important}.files[_ngcontent-%COMP%]{cursor:pointer}.testbank[_ngcontent-%COMP%]{padding-top:40px;text-align:left}.testbank__title[_ngcontent-%COMP%]{font-size:large;font-weight:500}.testbank_fileitem[_ngcontent-%COMP%]{display:flex;color:#00a7d0;margin-top:15px}.testbank_fileitem_icon[_ngcontent-%COMP%]{margin-right:5px}.testbank_fileitem_name[_ngcontent-%COMP%]{margin-right:10px}.testbank_fileitem_info_resualt[_ngcontent-%COMP%]{color:#000;font-weight:500;font-size:small;margin-right:15px}.testbank_fileitem_info_time[_ngcontent-%COMP%]{color:#9d9d9d}.testbank_fileitem_info_btn_submit[_ngcontent-%COMP%]{text-transform:uppercase;cursor:pointer;font-weight:500}@media (max-width:768px){.dropzone[_ngcontent-%COMP%]{min-width:100px}._col-left[_ngcontent-%COMP%], ._col-left_result[_ngcontent-%COMP%]{margin-bottom:20px}.testbank_fileitem[_ngcontent-%COMP%]{flex-wrap:wrap}}@media (max-width:576px){.flex-title[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:5px;margin-left:0}}.box-file[_ngcontent-%COMP%]{padding:10px;display:flex;justify-content:space-between;align-items:center;border:1px solid #e0e0e0;border-radius:5px}"]}),nc)},{path:"upload_mnote",component:(tc=function(){function e(t,n,o){var i=this;b(this,e),this.formBuilder=t,this.commonService=n,this.apiCommonService=o,this.subscriptions=new v.a,this.form=new l.k({}),this.isLoading=!1,this.logs=[],this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.isSuccess=!1,this.uploadCount=0,this.uploadFiles=[],this.fileUploadQueue={},this.uploadFile=function(e,t){var n=i.commonService.getFormObj(i.form);i.apiCommonService.uploadMnoteToCdnProgress(n.folder_name,e).subscribe(function(n){if(0==n.success)i.status_obj={loading:!1,error:!1,error_obj:{message:""}},i.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau! L\u1ed7i: "+n.message,"");else if(n.type&&n.type==Qr.c.UploadProgress){var o=Math.round(n.loaded/n.total*100);i.fileUploadQueue.hasOwnProperty(t)?(i.fileUploadQueue[t].uploadProgress=o,i.fileUploadQueue[t].fileName=e.name):i.fileUploadQueue[t]={uploadProgress:0,fileName:e.name}}else n.successUpload&&1==n.successUpload&&(delete i.fileUploadQueue[t],Array.isArray(i.uploadFiles)||(i.uploadFiles=[]),i.uploadFiles.push(Object.assign({},n.data)),i.status_obj={loading:!1,error:!1,error_obj:{message:""}})},function(e){i.logs.push("Err:"+e),i.commonService.snackWarning("L\u1ed7i: "+e.subString(0,50),"")})},this.answerFile=null}return h(e,[{key:"selectFile",value:function(e){var t=e.target.files;try{for(var n in t)"length"!=n&&"item"!=n&&(this.answerFile=t?t[n]:this.answerFile,this.answerFile&&(this.isSuccess=!1,this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.uploadFile(this.answerFile,this.uploadCount),this.uploadCount+=1));e.target.value=""}catch(o){alert("\u0110\xe3 x\u1ea3y ra l\u1ed7i:"+o)}}},{key:"convertObjToArray",value:function(e){var t=[];for(var n in e)t.push(e[n]);return t}},{key:"removeImg",value:function(e){var t=this.uploadFiles.filter(function(t){return t.url!==e});this.uploadFiles=t}},{key:"ngOnInit",value:function(){this.form=this.formBuilder.group({folder_name:[""]})}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),e}(),tc.\u0275fac=function(e){return new(e||tc)(k.Pb(l.g),k.Pb(U.a),k.Pb(V.a))},tc.\u0275cmp=k.Jb({type:tc,selectors:[["app-upload-mnote"]],decls:26,vars:4,consts:[[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"rowr"],[1,"form-group"],[1,"col-sm-12","control-label"],[1,"col-sm-12"],["type","text","formControlName","folder_name",1,"form-control"],["id","component-upload-image-mobile"],[1,"card-box"],[1,"description"],["class","text-center m-4",4,"ngIf"],["class","row ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container",4,"ngIf"],[1,"summitForm","pt-5","pb-5"],[1,"row","pl-3","pr-3"],[1,"col-12","text-center","v-dragndrop"],[1,"px-4","py-3","rounded",2,"cursor","pointer",3,"click"],[1,"file"],["id","select-upload-file",1,"align-self-center","select","dz-clickable"],["type","file","id","file_select","multiple","",1,"form-control","d-none",3,"change"],["fileSelect",""],[1,"text-center","m-4"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"h5"],[1,"row","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container"],["class","col-6 col-sm-6 col-md-4 col-xl-2 col-lg-2",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-4","col-xl-2","col-lg-2"],[1,"h5","truncate"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngStyle"],["class","col-12 box-file mt-2",4,"ngFor","ngForOf"],[1,"col-12","box-file","mt-2"],["target","_blank",1,"clickable",2,"display","flex","margin-top","3px","font-size","14px"],[2,"font-size","20px","vertical-align","sub"],[1,"truncate",2,"line-height","1.6","max-width","75%",3,"matTooltip"],["class","notify-badge",3,"click",4,"ngIf"],["class","notify-badge",4,"ngIf"],[1,"notify-badge",3,"click"],[1,"notify-badge"],[2,"color","rgb(26,188,0)"]],template:function(e,t){if(1&e){var n=k.Wb();k.Vb(0,"form",0),k.Vb(1,"div",1),k.Vb(2,"div",2),k.Vb(3,"label",3),k.Rc(4,"Folder (V\xed d\u1ee5 images)"),k.Ub(),k.Vb(5,"div",4),k.Qb(6,"input",5),k.Ub(),k.Ub(),k.Ub(),k.Vb(7,"div",6),k.Vb(8,"div",7),k.Vb(9,"div",8),k.Pc(10,Gr,6,0,"div",9),k.Pc(11,Kr,2,1,"div",10),k.Pc(12,ec,2,1,"div",10),k.Ub(),k.Vb(13,"div",11),k.Vb(14,"div",12),k.Vb(15,"div",13),k.Vb(16,"div",14),k.cc("click",function(){return k.Dc(n),k.zc(22).click()}),k.Vb(17,"div",15),k.Vb(18,"a",16),k.Vb(19,"mat-icon"),k.Rc(20,"attach_file"),k.Ub(),k.Vb(21,"input",17,18),k.cc("change",function(e){return t.selectFile(e)}),k.Ub(),k.Ub(),k.Qb(23,"br"),k.Vb(24,"span"),k.Rc(25,"Ch\u1ecdn file"),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub(),k.Ub()}2&e&&(k.nc("formGroup",t.form),k.Db(10),k.nc("ngIf",t.status_obj.loading),k.Db(1),k.nc("ngIf",t.convertObjToArray(t.fileUploadQueue).length>0),k.Db(1),k.nc("ngIf",t.uploadFiles.length>0))},directives:[l.B,l.s,l.l,l.d,l.r,l.j,s.m,Re.a,s.l,s.n,Tr.a],styles:[".card-box[_ngcontent-%COMP%]{width:100%;border:1px solid #00a7d0}.top-row[_ngcontent-%COMP%]{background-color:#00a7d0;margin:0;padding:10px}.text-white[_ngcontent-%COMP%]{color:#fff}.text-white[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.description[_ngcontent-%COMP%], .files[_ngcontent-%COMP%]{background:inherit;background-color:#f2f2f2;box-sizing:border-box;border:1px solid #e5e5e5;border-left:0;border-right:0;border-radius:0;border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:0;box-shadow:none;padding:0 10px}.description[_ngcontent-%COMP%]{padding:10px 10px 0}.files[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:10px 20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.students[_ngcontent-%COMP%]{border-width:0;background:inherit;background-color:#fff;box-sizing:border-box;border-radius:3px;box-shadow:0 0 5px rgba(0,0,0,.062745098)}.list-student[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;background:inherit;background-color:#fafafa;box-sizing:border-box;padding:10px 15px;border:1px solid #e0e0e0;border-radius:3px;box-shadow:none;font-weight:400;font-style:bold;display:block}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:100px}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;line-height:1.5}.pl-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.pr-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pb-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pt-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-top:1rem!important}.btn-warm-orange[_ngcontent-%COMP%]{background:#ff7f45;border:1px solid #ff7f45}.btn[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:hover{color:#fff}.btn[_ngcontent-%COMP%]{cursor:pointer;transition:0s}.text-dark-green[_ngcontent-%COMP%]{color:#1caba0!important}.d-block[_ngcontent-%COMP%]{display:block!important}.small[_ngcontent-%COMP%], small[_ngcontent-%COMP%]{font-size:80%;font-weight:400}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.item[_ngcontent-%COMP%]{position:relative;display:inline-block}.notify-badge[_ngcontent-%COMP%]{color:#afafaf;font-size:20px;cursor:pointer}.description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.flex-title[_ngcontent-%COMP%]{display:flex;align-items:center}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00a7d0;cursor:pointer;margin-left:5px}.flex-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;line-height:1.4;font-weight:500}.img-container[_ngcontent-%COMP%]{overflow:hidden;position:relative;height:90px;width:90px;margin:0 0 10px 10px;border-radius:7px}.img-responsive[_ngcontent-%COMP%]{position:absolute;width:100%;height:auto;left:50%;top:50%;transform:translate(-50%,-50%)}.attach-container[_ngcontent-%COMP%]{padding:10px 0 0}.maxW1200[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}@font-face{font-family:handwriting_font;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/HP0015HB.ttf)}._col-left[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:35px}._col-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:5rem;color:#ff0024}._col-right[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;line-height:1.4;font-size:20px;font-family:handwriting_font!important}._col-left_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:10px}._col-left_result[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:3rem;color:#ff0024}._col-right_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right_result[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right_result[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;font-size:16px;line-height:1.4;font-family:handwriting_font!important}.files[_ngcontent-%COMP%]{cursor:pointer}.testbank[_ngcontent-%COMP%]{padding-top:40px;text-align:left}.testbank__title[_ngcontent-%COMP%]{font-size:large;font-weight:500}.testbank_fileitem[_ngcontent-%COMP%]{display:flex;color:#00a7d0;margin-top:15px}.testbank_fileitem_icon[_ngcontent-%COMP%]{margin-right:5px}.testbank_fileitem_name[_ngcontent-%COMP%]{margin-right:10px}.testbank_fileitem_info_resualt[_ngcontent-%COMP%]{color:#000;font-weight:500;font-size:small;margin-right:15px}.testbank_fileitem_info_time[_ngcontent-%COMP%]{color:#9d9d9d}.testbank_fileitem_info_btn_submit[_ngcontent-%COMP%]{text-transform:uppercase;cursor:pointer;font-weight:500}@media (max-width:768px){.dropzone[_ngcontent-%COMP%]{min-width:100px}._col-left[_ngcontent-%COMP%], ._col-left_result[_ngcontent-%COMP%]{margin-bottom:20px}.testbank_fileitem[_ngcontent-%COMP%]{flex-wrap:wrap}}@media (max-width:576px){.flex-title[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:5px;margin-left:0}}.box-file[_ngcontent-%COMP%]{padding:10px;display:flex;justify-content:space-between;align-items:center;border:1px solid #e0e0e0;border-radius:5px}"]}),tc)},{path:"upload-file",component:Lr},{path:"add_school",component:he},{path:"add-faq",component:A},{path:"add-faq/:id",component:A},{path:"list-faq",component:Uo},{path:"category-faq",component:Oe},{path:"category-faq/:id",component:Oe},{path:"update-config",component:Dr},{path:"gzip-tool",component:ao},{path:"json-tool",component:wn},{path:"create-qr-forgot-pass",component:Un}]}]}],cc=((ic=function e(){b(this,e)}).\u0275mod=k.Nb({type:ic}),ic.\u0275inj=k.Mb({factory:function(e){return new(e||ic)},imports:[[d.l.forChild(rc)],d.l,f.c]}),ic),ac=((oc=function e(){b(this,e)}).\u0275mod=k.Nb({type:oc}),oc.\u0275inj=k.Mb({factory:function(e){return new(e||oc)},imports:[[d.l,s.c,l.m,u.b,m.a,l.x,cc,g.a,p.a]]}),oc)}}])}();