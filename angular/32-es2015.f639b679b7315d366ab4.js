(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{JZA2:function(t,e,n){"use strict";n.r(e),n.d(e,"AuthModule",function(){return Or});var o=n("ofXK"),i=n("3Pt+"),r=n("tyNb"),c=n("fB2i"),s=n("Zhhu"),a=n("vvyD"),l=n("mYPf"),d=n("Avyq"),b=n("quSY"),h=n("itXk"),g=n("BTbT"),m=n("fXoL"),u=n("gbi4"),p=n("pMRa"),f=n("nzN9"),v=n("hZBc");function _(t,e){1&t&&m.Qb(0,"azt-loading-effect")}function U(t,e){if(1&t&&(m.Vb(0,"option",20),m.Sc(1),m.Ub()),2&t){const t=e.$implicit;m.nc("value",t.id),m.Db(1),m.Tc(t.name)}}function S(t,e){1&t&&(m.Vb(0,"div",21),m.Vb(1,"div",22),m.Vb(2,"span",23),m.Sc(3,"Loading..."),m.Ub(),m.Ub(),m.Ub())}function y(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div"),m.Vb(1,"button",24),m.cc("click",function(){return m.Ec(t),m.gc(2).saveFaq()}),m.Sc(2,"L\u01b0u"),m.Ub(),m.Vb(3,"a",25),m.cc("click",function(){return m.Ec(t),m.gc(2).redirectToListFaq()}),m.Sc(4,"H\u1ee7y"),m.Ub(),m.Ub()}}function V(t,e){if(1&t){const t=m.Wb();m.Vb(0,"button",24),m.cc("click",function(){return m.Ec(t),m.gc(2).updateFaq()}),m.Sc(1,"C\u1eadp nh\u1eadt"),m.Ub(),m.Vb(2,"a",25),m.cc("click",function(){return m.Ec(t),m.gc(2).redirectToListFaq()}),m.Sc(3,"H\u1ee7y"),m.Ub()}}const k=function(){return{standalone:!0}};function x(t,e){if(1&t){const t=m.Wb();m.Qb(0,"header-backend",2),m.Vb(1,"div",3),m.Vb(2,"form",4),m.Vb(3,"div",5),m.Vb(4,"div",6),m.Vb(5,"h3",7),m.Sc(6,"Danh m\u1ee5c"),m.Ub(),m.Ub(),m.Vb(7,"div",6),m.Vb(8,"select",8),m.Qc(9,U,2,2,"option",9),m.Ub(),m.Ub(),m.Ub(),m.Vb(10,"div",5),m.Vb(11,"div",6),m.Vb(12,"h3",7),m.Sc(13,"T\xean c\xe2u h\u1ecfi"),m.Ub(),m.Ub(),m.Vb(14,"div",6),m.Qb(15,"input",10),m.Ub(),m.Ub(),m.Vb(16,"div",5),m.Vb(17,"div",6),m.Vb(18,"h3",7),m.Sc(19,"C\xe2u tr\u1ea3 l\u1eddi"),m.Ub(),m.Ub(),m.Vb(20,"div",6),m.Vb(21,"input",11,12),m.cc("change",function(e){return m.Ec(t),m.gc().onFileSelected(e)}),m.Ub(),m.Vb(23,"a",13),m.cc("click",function(){return m.Ec(t),m.Ac(22).click()}),m.Vb(24,"span"),m.Sc(25,"+ Th\xeam \u1ea3nh"),m.Ub(),m.Ub(),m.Qc(26,S,4,0,"div",14),m.Ub(),m.Vb(27,"div",6),m.Vb(28,"editor",15),m.cc("ngModelChange",function(e){return m.Ec(t),m.gc().formFaq.content=e}),m.Ub(),m.Ub(),m.Ub(),m.Vb(29,"div",5),m.Vb(30,"div",6),m.Vb(31,"h3",7),m.Sc(32,"V\u1ecb tr\xed"),m.Ub(),m.Ub(),m.Vb(33,"div",6),m.Qb(34,"input",16),m.Ub(),m.Ub(),m.Vb(35,"div",5),m.Vb(36,"div",6),m.Vb(37,"h3",7),m.Sc(38,"Nh\xfang link video"),m.Ub(),m.Ub(),m.Vb(39,"div",6),m.Qb(40,"input",17),m.Ub(),m.Ub(),m.Vb(41,"div",5),m.Vb(42,"div",18),m.Qc(43,y,5,0,"div",0),m.Qc(44,V,4,0,"ng-template",null,19,m.Rc),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=m.Ac(45),e=m.gc();m.nc("headerTitle","Th\xeam Faq")("back_link","/auth/list-faq"),m.Db(2),m.nc("formGroup",e.form),m.Db(7),m.nc("ngForOf",e.categoryObjs),m.Db(12),m.nc("ngModelOptions",m.sc(11,k)),m.Db(5),m.nc("ngIf",e.loadingUpload),m.Db(2),m.nc("ngModel",e.formFaq.content)("ngModelOptions",m.sc(12,k))("init",e.tinymceInit),m.Db(15),m.nc("ngIf",0==e.checkUpdate)("ngIfElse",t)}}let w=(()=>{class t{constructor(t,e,n,o,r){this.activeRoute=t,this.commonService=e,this.apiConmonService=n,this.router=o,this.fb=r,this.form=new i.k({}),this.formFaq={},this.isLoading=!1,this.subscriptions=new b.a,this.tinymceInit={},this.categoryObjs=[],this.faqId=0,this.checkUpdate=!1,this.loadingUpload=!1,this.LogErrorsRequest=!1,this.contentEditor=""}getCategoryFaq(){this.isLoading=!0,this.apiConmonService.getCategoryFaqObjs().subscribe(t=>{1==t.success?this.categoryObjs=t.data.objs:this.commonService.snackError("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoading=!1})}saveFaq(){this.isLoading=!0;let t=this.commonService.getFormObj(this.form);null!=JSON.stringify(this.formFaq.content)&&null!=JSON.stringify(this.formFaq.content)||(this.formFaq.content=""),this.apiConmonService.saveFaqObj({supporttype:t.categoryFaq,title:t.questionFaq,content:this.formFaq.content,videoUrl:t.videoUrl,position:t.positionFaq}).subscribe(t=>{1==t.success?this.commonService.snackSuccess("T\u1ea1o faq th\xe0nh c\xf4ng.",""):this.commonService.snackError("T\u1ea1o faq kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoading=!1})}getDetailFaq(t){this.checkUpdate=null!=t&&0!=t&&null!=t,this.checkUpdate&&(this.isLoading=!0,this.apiConmonService.getDetailFaqObj(t).subscribe(t=>{if(1==t.success){let e=t.data.obj;this.formFaq.content=t.data.obj.content,this.form.patchValue({categoryFaq:e.supportType,questionFaq:e.title,videoUrl:e.videoUrl,positionFaq:e.position})}else this.commonService.snackError("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng","")}))}onFileSelected(t){let e=t.target.files,n=!!e&&e[0];0!=n&&(this.loadingUpload=!0,Object(g.a)(n).then(t=>{this.apiConmonService.uploadAssetsToCdnProgress("Images/support",t).subscribe(t=>{0==t.successUpload?(this.loadingUpload=!1,this.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau! L\u1ed7i: "+t.message,"")):1==t.successUpload&&t.successUpload&&1==t.successUpload&&(this.contentEditor.insertContent(`<img width="50%" class="card-img-bottom img-custom my-3" src="${t.url}" alt="">`),this.loadingUpload=!1)},t=>{this.LogErrorsRequest=JSON.stringify(t),this.commonService.snackWarning("L\u1ed7i: "+t.subString(0,50),"")})}))}updateFaq(){this.isLoading=!0;let t=this.commonService.getFormObj(this.form);null!=JSON.stringify(this.formFaq.content)&&null!=JSON.stringify(this.formFaq.content)||(this.formFaq.content=""),this.apiConmonService.updateFaqObj({id:this.faqId,supporttype:t.categoryFaq,title:t.questionFaq,content:this.formFaq.content,videoUrl:t.videoUrl,position:t.positionFaq}).subscribe(t=>{1==t.success?this.commonService.snackSuccess("C\u1eadp nh\u1eadt faq th\xe0nh c\xf4ng.",""):this.commonService.snackError("C\u1eadp nh\u1eadt faq kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoading=!1})}redirectToListFaq(){this.commonService.myNavigation("/auth/list-faq")}ngOnInit(){this.formFaq.content="",this.form=this.fb.group({categoryFaq:new i.h(1,i.z.required),questionFaq:new i.h("",i.z.required),positionFaq:new i.h(0),videoUrl:new i.h("")}),Object(h.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.faqId=this.commonService.getMyParam(this.activeRoute,"id"),this.getDetailFaq(this.faqId),this.getCategoryFaq()}),this.tinymceInit={branding:!1,height:400,image_advtab:!0,imagetools_toolbar:"\n                rotateleft rotateright |\n                flipv fliph | \n                editimage imageoptions",importcss_append:!0,inline:!1,menubar:!0,paste_data_images:!0,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"\n                undo redo | formatselect | bold italic backcolor |                 alignleft aligncenter alignright alignjustify |                 bullist numlist outdent indent | removeformat | help",setup:t=>{this.contentEditor=t,t.ui.registry.addButton("insertText",{text:"Press Me To Insert Text!",onAction:()=>{t.insertContent("<strong>Hello World!</strong>")}})}}}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(r.a),m.Pb(u.a),m.Pb(p.a),m.Pb(r.i),m.Pb(i.g))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-add-faq"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"headerTitle","back_link"],[1,"container-fluid","my-3","pb-80"],[1,"px-3",3,"formGroup"],[1,"row","py-3"],[1,"col-md-12"],[1,"text-feild"],["formControlName","categoryFaq","id","exampleFormControlSelect1",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","questionFaq","placeholder","",1,"form-control","questionFaq"],["type","file","name","fileHomework",2,"display","none",3,"ngModelOptions","change"],["formChoseFile",""],[1,"d-flex","align-items-center",2,"color","#3C8DBC",3,"click"],["class","d-flex justify-content-center my-2",4,"ngIf"],["apiKey","ldij13v1886vlrnk42g9bvngyqdc6gxpe8l0n9mo8gdjpg9d",3,"ngModel","ngModelOptions","init","ngModelChange"],["type","number","formControlName","positionFaq","placeholder","",1,"form-control","questionFaq"],["type","text","formControlName","videoUrl","placeholder","",1,"form-control","questionFaq"],[1,"col-md-12","text-right"],["button",""],[3,"value"],[1,"d-flex","justify-content-center","my-2"],["role","status",1,"spinner-border","text-secondary"],[1,"sr-only"],[1,"button-save",3,"click"],[1,"button-cancel",3,"click"]],template:function(t,e){if(1&t&&(m.Qc(0,_,1,0,"azt-loading-effect",0),m.Qc(1,x,46,13,"ng-template",null,1,m.Rc)),2&t){const t=m.Ac(2);m.nc("ngIf",e.isLoading)("ngIfElse",t)}},directives:[o.m,f.a,v.a,i.B,i.s,i.l,i.y,i.r,i.j,o.l,i.d,c.a,i.u,i.w,i.v,i.A],styles:[".text-feild[_ngcontent-%COMP%]{margin-bottom:5px}.button-save[_ngcontent-%COMP%]{background-color:#169bd5;color:#fff;padding:8px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:14px;margin-right:16px;cursor:pointer;border-radius:5px;border:1px solid #169bd5;text-transform:uppercase}.button-save[_ngcontent-%COMP%]:hover{background-color:#0069d9;border-color:#0069d9}.pb-80[_ngcontent-%COMP%]{padding-bottom:80px}.button-cancel[_ngcontent-%COMP%]{background-color:#fff!important;color:#333;padding:8px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:14px;cursor:pointer;border:1px solid #797979;border-radius:5px;text-transform:uppercase}.button-cancel[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.02)!important}"]}),t})();var C=n("jhN1"),P=n("wZkO"),O=n("kmnG"),M=n("d3UM"),D=n("FKr1");function Q(t,e){1&t&&m.Qb(0,"azt-loading-effect")}function I(t,e){if(1&t&&(m.Vb(0,"mat-option",31),m.Sc(1),m.Ub()),2&t){const t=e.$implicit;m.nc("value",t.id),m.Db(1),m.Uc(" ",t.name," ")}}function A(t,e){1&t&&(m.Vb(0,"div",32),m.Sc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn t\u1ec9nh th\xe0nh. "),m.Ub())}function j(t,e){1&t&&(m.Vb(0,"div",32),m.Sc(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng t\xean huy\u1ec7n. "),m.Ub())}function L(t,e){if(1&t&&(m.Vb(0,"mat-option",31),m.Sc(1),m.Ub()),2&t){const t=e.$implicit;m.nc("value",t.id),m.Db(1),m.Uc(" ",t.name," ")}}function E(t,e){1&t&&(m.Vb(0,"div",32),m.Sc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn t\u1ec9nh th\xe0nh. "),m.Ub())}function T(t,e){if(1&t&&(m.Vb(0,"mat-option",31),m.Sc(1),m.Ub()),2&t){const t=e.$implicit;m.nc("value",t.id),m.Db(1),m.Uc(" ",t.name," ")}}function F(t,e){1&t&&(m.Vb(0,"div",32),m.Sc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn huy\u1ec7n. "),m.Ub())}function q(t,e){if(1&t&&(m.Vb(0,"mat-option",31),m.Sc(1),m.Ub()),2&t){const t=e.$implicit;m.nc("value",t.id),m.Db(1),m.Uc(" ",t.name," ")}}function z(t,e){1&t&&(m.Vb(0,"div",32),m.Sc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn c\u1ea5p h\u1ecdc. "),m.Ub())}function R(t,e){1&t&&(m.Vb(0,"div",32),m.Sc(1," B\u1ea1n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng t\xean tr\u01b0\u1eddng. "),m.Ub())}function B(t,e){if(1&t&&(m.Vb(0,"mat-option",31),m.Sc(1),m.Ub()),2&t){const t=e.$implicit;m.nc("value",t.id),m.Db(1),m.Uc(" ",t.name," ")}}function N(t,e){1&t&&(m.Vb(0,"div",32),m.Sc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn t\u1ec9nh th\xe0nh. "),m.Ub())}function W(t,e){if(1&t&&(m.Vb(0,"mat-option",31),m.Sc(1),m.Ub()),2&t){const t=e.$implicit;m.nc("value",t.id),m.Db(1),m.Uc(" ",t.name," ")}}function H(t,e){1&t&&(m.Vb(0,"div",32),m.Sc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn huy\u1ec7n. "),m.Ub())}function G(t,e){1&t&&(m.Vb(0,"div",32),m.Sc(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng t\xean huy\u1ec7n. "),m.Ub())}function $(t,e){if(1&t&&(m.Vb(0,"mat-option",31),m.Sc(1),m.Ub()),2&t){const t=e.$implicit;m.nc("value",t.id),m.Db(1),m.Uc(" ",t.name," ")}}function Z(t,e){1&t&&(m.Vb(0,"div",32),m.Sc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn t\u1ec9nh th\xe0nh. "),m.Ub())}function K(t,e){if(1&t&&(m.Vb(0,"mat-option",31),m.Sc(1),m.Ub()),2&t){const t=e.$implicit;m.nc("value",t.id),m.Db(1),m.Uc(" ",t.name," ")}}function J(t,e){1&t&&(m.Vb(0,"div",32),m.Sc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn huy\u1ec7n. "),m.Ub())}function Y(t,e){if(1&t&&(m.Vb(0,"mat-option",31),m.Sc(1),m.Ub()),2&t){const t=e.$implicit;m.nc("value",t.id),m.Db(1),m.Uc(" ",t.name," ")}}function X(t,e){1&t&&(m.Vb(0,"div",32),m.Sc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn c\u1ea5p h\u1ecdc. "),m.Ub())}function tt(t,e){if(1&t&&(m.Vb(0,"mat-option",31),m.Sc(1),m.Ub()),2&t){const t=e.$implicit;m.nc("value",t.id),m.Db(1),m.Uc(" ",t.name," ")}}function et(t,e){1&t&&(m.Vb(0,"div",32),m.Sc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn tr\u01b0\u1eddng. "),m.Ub())}function nt(t,e){1&t&&(m.Vb(0,"div",32),m.Sc(1," B\u1ea1n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng t\xean tr\u01b0\u1eddng. "),m.Ub())}function ot(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",3),m.Vb(1,"div",4),m.Vb(2,"div",5),m.Vb(3,"mat-tab-group",6),m.cc("selectedIndexChange",function(e){return m.Ec(t),m.gc().selectedIndexChange(e)}),m.Vb(4,"mat-tab",7),m.Vb(5,"form",8),m.Vb(6,"div",9),m.Vb(7,"label",10),m.Sc(8,"Ch\u1ecdn t\u1ec9nh th\xe0nh"),m.Ub(),m.Vb(9,"mat-form-field",11),m.Vb(10,"mat-select",12),m.Qc(11,I,2,2,"mat-option",13),m.Ub(),m.Ub(),m.Qc(12,A,2,0,"div",14),m.Ub(),m.Vb(13,"div",9),m.Vb(14,"label",10),m.Sc(15,"Th\xeam t\xean huy\u1ec7n"),m.Ub(),m.Vb(16,"div",15),m.Qb(17,"textarea",16),m.Qc(18,j,2,0,"div",14),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(19,"mat-tab",17),m.Vb(20,"form",8),m.Vb(21,"div",9),m.Vb(22,"label",10),m.Sc(23,"Ch\u1ecdn t\u1ec9nh th\xe0nh"),m.Ub(),m.Vb(24,"mat-form-field",11),m.Vb(25,"mat-select",18),m.cc("selectionChange",function(e){return m.Ec(t),m.gc().selectLocation(e.value)}),m.Qc(26,L,2,2,"mat-option",13),m.Ub(),m.Ub(),m.Qc(27,E,2,0,"div",14),m.Ub(),m.Vb(28,"div",9),m.Vb(29,"label",10),m.Sc(30,"Ch\u1ecdn huy\u1ec7n"),m.Ub(),m.Vb(31,"mat-form-field",11),m.Vb(32,"mat-select",19),m.cc("valueChange",function(e){return m.Ec(t),m.gc().department_select=e}),m.Qc(33,T,2,2,"mat-option",13),m.Ub(),m.Ub(),m.Qc(34,F,2,0,"div",14),m.Ub(),m.Vb(35,"div",9),m.Vb(36,"label",10),m.Sc(37,"Ch\u1ecdn c\u1ea5p h\u1ecdc"),m.Ub(),m.Vb(38,"mat-form-field",11),m.Vb(39,"mat-select",20),m.Qc(40,q,2,2,"mat-option",13),m.Ub(),m.Ub(),m.Qc(41,z,2,0,"div",14),m.Ub(),m.Vb(42,"div",9),m.Vb(43,"label",10),m.Sc(44,"Th\xeam t\xean tr\u01b0\u1eddng"),m.Ub(),m.Vb(45,"div",15),m.Qb(46,"textarea",21),m.Ub(),m.Qc(47,R,2,0,"div",14),m.Ub(),m.Ub(),m.Ub(),m.Vb(48,"mat-tab",22),m.Vb(49,"form",8),m.Vb(50,"div",9),m.Vb(51,"label",10),m.Sc(52,"Ch\u1ecdn t\u1ec9nh th\xe0nh"),m.Ub(),m.Vb(53,"mat-form-field",11),m.Vb(54,"mat-select",18),m.cc("selectionChange",function(e){return m.Ec(t),m.gc().selectLocation(e.value)}),m.Qc(55,B,2,2,"mat-option",13),m.Ub(),m.Ub(),m.Qc(56,N,2,0,"div",14),m.Ub(),m.Vb(57,"div",9),m.Vb(58,"label",10),m.Sc(59,"Ch\u1ecdn huy\u1ec7n"),m.Ub(),m.Vb(60,"mat-form-field",11),m.Vb(61,"mat-select",19),m.cc("valueChange",function(e){return m.Ec(t),m.gc().department_select=e}),m.Qc(62,W,2,2,"mat-option",13),m.Ub(),m.Ub(),m.Qc(63,H,2,0,"div",14),m.Ub(),m.Vb(64,"div",9),m.Vb(65,"label",10),m.Sc(66,"S\u1eeda t\xean huy\u1ec7n"),m.Ub(),m.Vb(67,"div",15),m.Qb(68,"input",23),m.Ub(),m.Qc(69,G,2,0,"div",14),m.Ub(),m.Ub(),m.Ub(),m.Vb(70,"mat-tab",24),m.Vb(71,"form",8),m.Vb(72,"div",9),m.Vb(73,"label",10),m.Sc(74,"Ch\u1ecdn t\u1ec9nh th\xe0nh"),m.Ub(),m.Vb(75,"mat-form-field",11),m.Vb(76,"mat-select",18),m.cc("selectionChange",function(e){return m.Ec(t),m.gc().selectLocation(e.value)}),m.Qc(77,$,2,2,"mat-option",13),m.Ub(),m.Ub(),m.Qc(78,Z,2,0,"div",14),m.Ub(),m.Vb(79,"div",9),m.Vb(80,"label",10),m.Sc(81,"Ch\u1ecdn huy\u1ec7n"),m.Ub(),m.Vb(82,"mat-form-field",11),m.Vb(83,"mat-select",19),m.cc("valueChange",function(e){return m.Ec(t),m.gc().department_select=e}),m.Qc(84,K,2,2,"mat-option",13),m.Ub(),m.Ub(),m.Qc(85,J,2,0,"div",14),m.Ub(),m.Vb(86,"div",9),m.Vb(87,"label",10),m.Sc(88,"Ch\u1ecdn c\u1ea5p h\u1ecdc"),m.Ub(),m.Vb(89,"mat-form-field",11),m.Vb(90,"mat-select",25),m.cc("valueChange",function(e){return m.Ec(t),m.gc().level_select=e})("selectionChange",function(e){return m.Ec(t),m.gc().selectLevel(e.value)}),m.Qc(91,Y,2,2,"mat-option",13),m.Ub(),m.Ub(),m.Qc(92,X,2,0,"div",14),m.Ub(),m.Vb(93,"div",9),m.Vb(94,"label",10),m.Sc(95,"Ch\u1ecdn tr\u01b0\u1eddng"),m.Ub(),m.Vb(96,"mat-form-field",11),m.Vb(97,"mat-select",26),m.cc("valueChange",function(e){return m.Ec(t),m.gc().school_select=e})("selectionChange",function(e){return m.Ec(t),m.gc().selectSchool(e.value)}),m.Qc(98,tt,2,2,"mat-option",13),m.Ub(),m.Ub(),m.Qc(99,et,2,0,"div",14),m.Ub(),m.Vb(100,"div",9),m.Vb(101,"label",10),m.Sc(102,"S\u1eeda t\xean tr\u01b0\u1eddng"),m.Ub(),m.Vb(103,"div",15),m.Qb(104,"input",27),m.Ub(),m.Qc(105,nt,2,0,"div",14),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(106,"div",28),m.Vb(107,"button",29),m.cc("click",function(){return m.Ec(t),m.gc().removeDataOld()}),m.Sc(108,"reset"),m.Ub(),m.Vb(109,"button",30),m.cc("click",function(){return m.Ec(t),m.gc().SaveDataApi()}),m.Sc(110,"L\u01b0u"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=m.gc();m.Db(3),m.nc("selectedIndex",t.selected.value),m.Db(2),m.nc("formGroup",t.form),m.Db(6),m.nc("ngForOf",t.locations),m.Db(1),m.nc("ngIf",t.form.controls.LocationId.invalid&&(t.form.controls.LocationId.dirty||t.form.controls.LocationId.touched||0==t.checkValidateLocationId)),m.Db(6),m.nc("ngIf",t.form.controls.NameDistrict.invalid&&(t.form.controls.NameDistrict.dirty||t.form.controls.NameDistrict.touched||0==t.checkValidateNameDistrict)),m.Db(2),m.nc("formGroup",t.form),m.Db(6),m.nc("ngForOf",t.locations),m.Db(1),m.nc("ngIf",t.form.controls.LocationId.invalid&&(t.form.controls.LocationId.dirty||t.form.controls.LocationId.touched||0==t.checkValidateLocationId)),m.Db(5),m.nc("value",t.department_select),m.Db(1),m.nc("ngForOf",t.departments),m.Db(1),m.nc("ngIf",t.form.controls.DistrictId.invalid&&(t.form.controls.DistrictId.dirty||t.form.controls.DistrictId.touched||0==t.checkValidateDistrictId)),m.Db(6),m.nc("ngForOf",t.levels),m.Db(1),m.nc("ngIf",t.form.controls.LevelId.invalid&&(t.form.controls.LevelId.dirty||t.form.controls.LevelId.touched||0==t.checkValidateLevelId)),m.Db(6),m.nc("ngIf",t.form.controls.NameSchool.invalid&&(t.form.controls.NameSchool.dirty||t.form.controls.NameSchool.touched||0==t.checkValidateNameSchool)),m.Db(2),m.nc("formGroup",t.form),m.Db(6),m.nc("ngForOf",t.locations),m.Db(1),m.nc("ngIf",t.form.controls.LocationId.invalid&&(t.form.controls.LocationId.dirty||t.form.controls.LocationId.touched||0==t.checkValidateLocationId)),m.Db(5),m.nc("value",t.department_select),m.Db(1),m.nc("ngForOf",t.departments),m.Db(1),m.nc("ngIf",t.form.controls.DistrictId.invalid&&(t.form.controls.DistrictId.dirty||t.form.controls.DistrictId.touched||0==t.checkValidateDistrictId)),m.Db(6),m.nc("ngIf",t.form.controls.NameDistrict.invalid&&(t.form.controls.NameDistrict.dirty||t.form.controls.NameDistrict.touched||0==t.checkValidateNameDistrict)),m.Db(2),m.nc("formGroup",t.form),m.Db(6),m.nc("ngForOf",t.locations),m.Db(1),m.nc("ngIf",t.form.controls.LocationId.invalid&&(t.form.controls.LocationId.dirty||t.form.controls.LocationId.touched||0==t.checkValidateLocationId)),m.Db(5),m.nc("value",t.department_select),m.Db(1),m.nc("ngForOf",t.departments),m.Db(1),m.nc("ngIf",t.form.controls.DistrictId.invalid&&(t.form.controls.DistrictId.dirty||t.form.controls.DistrictId.touched||0==t.checkValidateDistrictId)),m.Db(5),m.nc("value",t.level_select),m.Db(1),m.nc("ngForOf",t.levels),m.Db(1),m.nc("ngIf",t.form.controls.LevelId.invalid&&(t.form.controls.LevelId.dirty||t.form.controls.LevelId.touched||0==t.checkValidateLevelId)),m.Db(5),m.nc("value",t.school_select),m.Db(1),m.nc("ngForOf",t.schools),m.Db(1),m.nc("ngIf",t.form.controls.SchoolId.invalid&&(t.form.controls.SchoolId.dirty||t.form.controls.SchoolId.touched||0==t.checkValidateSchoolId)),m.Db(6),m.nc("ngIf",t.form.controls.NameSchool.invalid&&(t.form.controls.NameSchool.dirty||t.form.controls.NameSchool.touched||0==t.checkValidateNameSchool)),m.Db(4),m.nc("disabled",t.loading)}}let it=(()=>{class t{constructor(t,e,n,o,r){this.commonService=t,this.dom=e,this.sanitizer=n,this.formBuilder=o,this.apiCommonService=r,this.form=new i.k({}),this.selected=new i.h(0),this.loading=!1,this.checkValidateNameDistrict=!0,this.checkValidateLevelId=!0,this.checkValidateNameSchool=!0,this.checkValidateLocationId=!0,this.checkValidateDistrictId=!0,this.checkValidateSchoolId=!0,this.location_select=null,this.department_select=null,this.school_select=null,this.schools=[],this.level_select=null}initData(){this.GetProvinces(),this.GetTypeSchool()}GetTypeSchool(){this.apiCommonService.getListTypeSchool().subscribe(t=>{t&&(this.levels=t.data)})}GetProvinces(){this.apiCommonService.getListProvinces().subscribe(t=>{t&&(this.locations=t.data,this.locations=this.sortName(this.locations))})}sortName(t){return t.sort(function(t,e){return t.name.trim().localeCompare(e.name.trim())}),t}AddSchool(){this.loading=!0;var t=""==this.form.value.NameSchool?"":{names:this.form.value.NameSchool.split("\n")};this.apiCommonService.AddSchool(this.form.value.LevelId,this.form.value.LocationId,this.form.value.DistrictId,t).subscribe(t=>{1==t.success?(this.commonService.snackSuccess("Th\xeam tr\u01b0\u1eddng th\xe0nh c\xf4ng.",""),this.removeDataOld(),this.loading=!1):(""==this.form.value.LevelId||""==this.form.value.DistrictId||""==this.form.value.LocationId||""==this.form.value.NameSchool?(this.checkValidateLocationId=!1,this.checkValidateDistrictId=!1,this.checkValidateLevelId=!1,this.checkValidateNameSchool=!1):this.commonService.snackError("L\u1ed7i: Th\xeam tr\u01b0\u1eddng kh\xf4ng th\xe0nh c\xf4ng.","\u0110\xf3ng"),this.loading=!1)})}EditSchool(){this.loading=!0,this.apiCommonService.EditSchool(this.school_select,this.form.value.NameSchool).subscribe(t=>{1==t.success?(this.commonService.snackSuccess("S\u1eeda tr\u01b0\u1eddng th\xe0nh c\xf4ng.",""),this.removeDataOld(),this.loading=!1):((this.form.value.LocationId=""==this.form.value.DistrictId||""==this.form.value.LevelId||""==this.form.value.NameSchool||""==this.form.value.SchoolId)?(this.checkValidateLocationId=!1,this.checkValidateDistrictId=!1,this.checkValidateLevelId=!1,this.checkValidateNameSchool=!1,this.checkValidateSchoolId=!1):this.commonService.snackError("L\u1ed7i: S\u1eeda tr\u01b0\u1eddng kh\xf4ng th\xe0nh c\xf4ng.","\u0110\xf3ng"),this.loading=!1)})}selectSchool(t){this.school_select=t}AddDistrict(){var t=""==this.form.value.NameDistrict?"":{names:this.form.value.NameDistrict.split("\n")};this.loading=!0,this.apiCommonService.AddDistrict(this.form.value.LocationId,t).subscribe(t=>{1==t.success?(this.commonService.snackSuccess("Th\xeam huy\u1ec7n th\xe0nh c\xf4ng.",""),this.loading=!1,this.removeDataOld()):((this.form.value.LocationId=""==this.form.value.NameDistrict)?(this.checkValidateNameDistrict=!1,this.checkValidateLocationId=!1):this.commonService.snackError("L\u1ed7i: Th\xeam huy\u1ec7n kh\xf4ng th\xe0nh c\xf4ng.","\u0110\xf3ng"),this.loading=!1)})}EditDistrict(){this.loading=!0,this.apiCommonService.EditDistrict(this.department_select,this.form.value.NameDistrict).subscribe(t=>{1==t.success?(this.removeDataOld(),this.commonService.snackSuccess("S\u1eeda huy\u1ec7n th\xe0nh c\xf4ng.",""),this.loading=!1):((this.form.value.LocationId=""==this.form.value.NameDistrict||""==this.form.value.DistrictId)?(this.checkValidateNameDistrict=!1,this.checkValidateLocationId=!1,this.checkValidateDistrictId=!1):this.commonService.snackError("L\u1ed7i: S\u1eeda huy\u1ec7n kh\xf4ng th\xe0nh c\xf4ng.","\u0110\xf3ng"),this.loading=!1)})}selectDepartment(t){this.schools=[],this.school_select=null,this.department_select=t}selectLevel(t){this.schools=[],this.school_select=null,this.level_select=t,this.getListSchool()}getListSchool(t=(()=>{})){this.department_select&&this.level_select&&this.apiCommonService.getListSchoolsByDistrict(this.department_select,this.level_select).subscribe(e=>{e&&(this.schools=e.data,this.schools=this.sortName(this.schools),this.schools.push({id:-1,name:"Kh\xe1c",districtId:this.department_select,typeId:this.level_select}),t())})}selectLocation(t){this.location_select=t,this.department_select=null,this.departments=[],this.GetDistrictsByProvince()}GetDistrictsByProvince(t=(()=>{})){this.apiCommonService.getListDistrictsByProvince(this.location_select).subscribe(e=>{e&&(this.departments=e.data,this.departments=this.sortName(this.departments),t())})}removeDataOld(){this.form=this.formBuilder.group({NameDistrict:new i.h("",i.z.required),LevelId:new i.h("",i.z.required),NameSchool:new i.h("",i.z.required),LocationId:new i.h("",i.z.required),DistrictId:new i.h("",i.z.required),SchoolId:new i.h("",i.z.required)}),this.checkValidateNameDistrict=!0,this.checkValidateLocationId=!0,this.checkValidateDistrictId=!0,this.checkValidateLevelId=!0,this.checkValidateNameSchool=!0,this.checkValidateSchoolId=!0}SaveDataApi(){0==this.selected.value?this.AddDistrict():1==this.selected.value?this.AddSchool():2==this.selected.value?this.EditDistrict():3==this.selected.value&&this.EditSchool()}selectedIndexChange(t){this.selected.setValue(t),this.removeDataOld()}ngOnInit(){this.removeDataOld(),this.initData()}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(u.a),m.Pb(C.b),m.Pb(C.b),m.Pb(i.g),m.Pb(p.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-ad-school"]],decls:3,vars:4,consts:[[3,"headerTitle","back_link"],[4,"ngIf"],["class","container-fluid component-wrap centerBoth hasBg mt-3 mb-3",4,"ngIf"],[1,"container-fluid","component-wrap","centerBoth","hasBg","mt-3","mb-3"],[1,"card"],[1,"card-body"],[3,"selectedIndex","selectedIndexChange"],["label","Th\xeam huy\u1ec7n"],[2,"margin-top","20px",3,"formGroup"],[1,"form-group"],[1,"control-label"],["appearance","fill"],["placeholder","Ch\u1ecdn t\u1ec9nh","formControlName","LocationId"],[3,"value",4,"ngFor","ngForOf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,""],["type","text","cols","5","rows","5","placeholder","Nh\u1eadp t\xean huy\u1ec7n","formControlName","NameDistrict",1,"form-control"],["label","Th\xeam tr\u01b0\u1eddng"],["placeholder","Ch\u1ecdn t\u1ec9nh","formControlName","LocationId",3,"selectionChange"],["placeholder","Ch\u1ecdn huy\u1ec7n","name","DepartmentName","formControlName","DistrictId",3,"value","valueChange"],["placeholder","Ch\u1ecdn c\u1ea5p h\u1ecdc","name","LevelId","formControlName","LevelId"],["placeholder","Nh\u1eadp t\xean tr\u01b0\u1eddng","name","","id","","cols","5","rows","5","formControlName","NameSchool",1,"form-control"],["label","S\u1eeda huy\u1ec7n"],["placeholder","Nh\u1eadp t\xean huy\u1ec7n","formControlName","NameDistrict",1,"form-control"],["label","S\u1eeda tr\u01b0\u1eddng"],["placeholder","Ch\u1ecdn c\u1ea5p h\u1ecdc","name","LevelId","formControlName","LevelId",3,"value","valueChange","selectionChange"],["placeholder","Ch\u1ecdn tr\u01b0\u1eddng","name","SchoolName","formControlName","SchoolId",3,"value","valueChange","selectionChange"],["placeholder","Nh\u1eadp t\xean tr\u01b0\u1eddng","formControlName","NameSchool",1,"form-control"],[2,"float","right"],["type","button",1,"btn","btn-danger","mr-3",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[3,"value"],[1,"alert","alert-danger","mt-3"]],template:function(t,e){1&t&&(m.Qb(0,"header-backend",0),m.Qc(1,Q,1,0,"azt-loading-effect",1),m.Qc(2,ot,111,35,"div",2)),2&t&&(m.nc("headerTitle","Th\xeam tr\u01b0\u1eddng")("back_link","/admin/testbank/dashboard"),m.Db(1),m.nc("ngIf",1==e.loading),m.Db(1),m.nc("ngIf",0==e.loading))},directives:[v.a,o.m,f.a,P.b,P.a,i.B,i.s,i.l,O.d,M.a,i.r,i.j,o.l,i.d,D.n],encapsulation:2}),t})();var rt=n("Z2k6"),ct=n("bTqV"),st=n("gaSO");function at(t,e){1&t&&(m.Vb(0,"div"),m.Vb(1,"div",12),m.Vb(2,"div",13),m.Vb(3,"span",14),m.Sc(4),m.hc(5,"mytranslate"),m.Ub(),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.Db(4),m.Uc("",m.ic(5,1,"lang_cms_common_loading"),"..."))}function lt(t,e){1&t&&(m.Vb(0,"span"),m.Qb(1,"span",20),m.Sc(2,"\xa0"),m.Ub())}function dt(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div"),m.Vb(1,"div",15),m.Vb(2,"div",16),m.Vb(3,"button",17),m.cc("click",function(){m.Ec(t);const e=m.gc();return e.status_obj.loading||e.becomeTeacher()}),m.Qc(4,lt,3,0,"span",11),m.Sc(5,"Click v\xe0o \u0111\xe2y \u0111\u1ec3 tr\u1edf th\xe0nh gi\xe1o vi\xean "),m.Ub(),m.Ub(),m.Ub(),m.Vb(6,"div",18),m.Vb(7,"a",19),m.cc("click",function(){return m.Ec(t),m.gc().goBack()}),m.Sc(8,"Quay l\u1ea1i trang ch\u1ee7"),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=m.gc();m.Db(3),m.nc("disabled",t.status_obj.loading),m.Db(1),m.nc("ngIf",!0===t.status_obj.loading)}}let bt=(()=>{class t{constructor(t,e){this.apiAuthService=t,this.commonService=e,this.subscriptions=new b.a,this.status_obj={form_loading:!0,loading:!1,error:!1,error_obj:{message:""}}}goBack(){this.apiAuthService.redirectLoginByRole(!1)}becomeTeacher(){this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiAuthService.becomeTeacher().subscribe(t=>{1==t.success?(this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.apiAuthService.redirectLoginByRole(!1)):(this.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t},this.commonService.myTranslate([t.message]).subscribe(e=>{this.commonService.snackError(e[t.message],"")}))}))}ngOnInit(){this.apiAuthService.isAnonymousRole()?this.commonService.redirectSimpleRegister():(this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.commonService.translateMetaData({title:"lang_cms_auth_become_teacher_title",description:"lang_cms_auth_become_teacher_description",image:"lang_cms_test_image"}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(rt.a),m.Pb(u.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-become-teacher"]],decls:15,vars:2,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[2,"margin-top","6vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-md-12","text-center"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"text-center","mt-3"],[1,"clickable",3,"click"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&(m.Vb(0,"div",0),m.Vb(1,"div",1),m.Vb(2,"div",2),m.Qb(3,"div",3),m.Vb(4,"div",4),m.Vb(5,"h2",5),m.Qb(6,"img",6),m.Ub(),m.Vb(7,"div",7),m.Vb(8,"div",8),m.Vb(9,"span",9),m.Sc(10,"T\xf4i mu\u1ed1n th\xe0nh gi\xe1o vi\xean"),m.Ub(),m.Ub(),m.Vb(11,"div",10),m.Qc(12,at,6,3,"div",11),m.Qc(13,dt,9,2,"div",11),m.Ub(),m.Ub(),m.Ub(),m.Qb(14,"div",3),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.Db(12),m.nc("ngIf",1==e.status_obj.form_loading),m.Db(1),m.nc("ngIf",1!=e.status_obj.form_loading))},directives:[o.m,ct.b],pipes:[st.q],styles:[".checkboxInput[_ngcontent-%COMP%]{padding:5px 15px;font-size:1rem;font-weight:400;line-height:2}.zalo-icon[_ngcontent-%COMP%]{height:30px;margin-right:10px}"]}),t})();function ht(t,e){1&t&&m.Qb(0,"azt-loading-effect")}function gt(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div"),m.Vb(1,"button",15),m.cc("click",function(){return m.Ec(t),m.gc(2).saveCategoryFaq()}),m.Sc(2,"L\u01b0u"),m.Ub(),m.Ub()}}function mt(t,e){if(1&t){const t=m.Wb();m.Vb(0,"button",15),m.cc("click",function(){return m.Ec(t),m.gc(2).updateCategoryFaq()}),m.Sc(1,"C\u1eadp nh\u1eadt"),m.Ub()}}const ut=function(t){return[t]};function pt(t,e){if(1&t&&(m.Vb(0,"tr"),m.Vb(1,"td"),m.Sc(2),m.Ub(),m.Vb(3,"td",16),m.Vb(4,"a",17),m.hc(5,"mylocalize"),m.Sc(6,"S\u1eeda"),m.Ub(),m.Ub(),m.Ub()),2&t){const t=e.$implicit;m.Db(2),m.Tc(t.name),m.Db(2),m.nc("routerLink",m.tc(4,ut,m.ic(5,2,"/auth/category-faq/"+t.id)))}}function ft(t,e){if(1&t&&(m.Qb(0,"header-backend",2),m.Vb(1,"div",3),m.Vb(2,"form",4),m.Vb(3,"div",5),m.Vb(4,"div",6),m.Vb(5,"h3",7),m.Sc(6,"T\xean Danh m\u1ee5c"),m.Ub(),m.Ub(),m.Vb(7,"div",6),m.Qb(8,"input",8),m.Ub(),m.Ub(),m.Vb(9,"div",5),m.Vb(10,"div",6),m.Vb(11,"h3",7),m.Sc(12,"V\u1ecb tr\xed"),m.Ub(),m.Ub(),m.Vb(13,"div",6),m.Qb(14,"input",9),m.Ub(),m.Ub(),m.Vb(15,"div",5),m.Vb(16,"div",10),m.Qc(17,gt,3,0,"div",0),m.Qc(18,mt,2,0,"ng-template",null,11,m.Rc),m.Ub(),m.Ub(),m.Ub(),m.Vb(20,"div",12),m.Vb(21,"table",13),m.Qc(22,pt,7,6,"tr",14),m.Ub(),m.Ub(),m.Ub()),2&t){const t=m.Ac(19),e=m.gc();m.nc("headerTitle","Danh m\u1ee5c Faq")("back_link","/auth/list-faq"),m.Db(2),m.nc("formGroup",e.form),m.Db(15),m.nc("ngIf",0==e.checkUpdate)("ngIfElse",t),m.Db(5),m.nc("ngForOf",e.categoryObjs)}}let vt=(()=>{class t{constructor(t,e,n,o,r){this.activeRoute=t,this.commonService=e,this.apiCommonService=n,this.router=o,this.fb=r,this.form=new i.k({}),this.isLoading=!1,this.subscriptions=new b.a,this.categoryObjs=[],this.checkUpdate=!1,this.cateId=0}getCategoryFaq(){this.isLoading=!0,this.apiCommonService.getCategoryFaqObjs().subscribe(t=>{1==t.success?this.categoryObjs=t.data.objs:this.commonService.snackError("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoading=!1})}saveCategoryFaq(){this.isLoading=!0;let t=this.commonService.getFormObj(this.form);this.apiCommonService.saveCategoryFaqObj({name:t.categoryFaq,position:t.categoryPosFaq}).subscribe(t=>{1==t.success?(this.getCategoryFaq(),this.commonService.snackSuccess("T\u1ea1o danh m\u1ee5c faq th\xe0nh c\xf4ng.","")):this.commonService.snackError("T\u1ea1o danh m\u1ee5c faq kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoading=!1})}updateCategoryFaq(){this.isLoading=!0;let t=this.commonService.getFormObj(this.form);this.apiCommonService.updateCategoryFaqObj({id:this.cateId,name:t.categoryFaq,position:t.categoryPosFaq}).subscribe(t=>{1==t.success?(this.getCategoryFaq(),this.commonService.snackSuccess("C\u1eadp nh\u1eadt danh m\u1ee5c faq th\xe0nh c\xf4ng.","")):this.commonService.snackError("C\u1eadp nh\u1eadt danh m\u1ee5c faq kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoading=!1})}getDetailCategoryFaq(t){this.checkUpdate=null!=t&&0!=t&&null!=t,this.checkUpdate&&(this.isLoading=!0,this.apiCommonService.getDetailCategoryFaqObj(t).subscribe(t=>{if(1==t.success){let e=t.data.obj;this.form.patchValue({categoryFaq:e.name,categoryPosFaq:e.position})}else this.commonService.snackError("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng","")}))}ngOnInit(){this.form=this.fb.group({categoryFaq:new i.h("",i.z.required),categoryPosFaq:new i.h(0,i.z.required)}),Object(h.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.getCategoryFaq(),this.cateId=this.commonService.getMyParam(this.activeRoute,"id"),this.getDetailCategoryFaq(this.cateId)})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(r.a),m.Pb(u.a),m.Pb(p.a),m.Pb(r.i),m.Pb(i.g))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-add-faq"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"headerTitle","back_link"],[1,"container-fluid","my-3"],[1,"px-3",3,"formGroup"],[1,"row","py-3"],[1,"col-md-12"],[1,"text-feild"],["type","text","formControlName","categoryFaq","placeholder","",1,"form-control","questionFaq"],["type","number","formControlName","categoryPosFaq","placeholder","",1,"form-control","questionFaq"],[1,"col-md-12","text-right"],["button",""],[1,"row","col-md-12"],[1,"table"],[4,"ngFor","ngForOf"],[1,"button-save",3,"click"],[1,"text-right"],["mat-flat-button","","color","primary",3,"routerLink"]],template:function(t,e){if(1&t&&(m.Qc(0,ht,1,0,"azt-loading-effect",0),m.Qc(1,ft,23,6,"ng-template",null,1,m.Rc)),2&t){const t=m.Ac(2);m.nc("ngIf",e.isLoading)("ngIfElse",t)}},directives:[o.m,f.a,v.a,i.B,i.s,i.l,i.d,i.r,i.j,i.w,o.l,ct.a,r.k],pipes:[st.p],styles:[".text-feild[_ngcontent-%COMP%]{margin-bottom:5px}.button-save[_ngcontent-%COMP%]{background-color:#169bd5;color:#fff;padding:8px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:14px;margin-right:16px;cursor:pointer;border-radius:5px;border:1px solid #169bd5;text-transform:uppercase}.button-save[_ngcontent-%COMP%]:hover{background-color:#0069d9;border-color:#0069d9}.pb-80[_ngcontent-%COMP%]{padding-bottom:80px}.button-cancel[_ngcontent-%COMP%]{background-color:#fff!important;color:#333;padding:8px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:14px;cursor:pointer;border:1px solid #797979;border-radius:5px;text-transform:uppercase}.button-cancel[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.02)!important}"]}),t})();var _t=n("n1FK"),Ut=n("3eqI"),St=n("NFeN"),yt=n("QibW"),Vt=n("qFsG");function kt(t,e){1&t&&(m.Vb(0,"div"),m.Vb(1,"div",12),m.Vb(2,"div",13),m.Vb(3,"span",14),m.Sc(4),m.hc(5,"mytranslate"),m.Ub(),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.Db(4),m.Uc("",m.ic(5,1,"lang_cms_common_loading"),"..."))}function xt(t,e){1&t&&(m.Vb(0,"div"),m.Sc(1," Email ph\u1ea3i nh\u1eadp \u0111\xfang \u0111\u1ecbnh d\u1ea1ng! "),m.Ub())}function wt(t,e){if(1&t&&(m.Vb(0,"div",41),m.Qc(1,xt,2,0,"div",11),m.Ub()),2&t){const t=m.gc(2);m.Db(1),m.nc("ngIf",t.getErrorType("email","email"))}}function Ct(t,e){1&t&&(m.Vb(0,"div"),m.Sc(1," M\u1eadt kh\u1ea9u ph\u1ea3i d\xe0i t\u1ed1i thi\u1ec3u l\xe0 6! "),m.Ub())}function Pt(t,e){if(1&t&&(m.Vb(0,"div",41),m.Qc(1,Ct,2,0,"div",11),m.Ub()),2&t){const t=m.gc(2);m.Db(1),m.nc("ngIf",t.getErrorType("password","required")||t.getErrorType("password","minlength"))}}function Ot(t,e){1&t&&(m.Vb(0,"div"),m.Sc(1," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ch\u1ec9 g\u1ed3m c\xe1c ch\u1eef s\u1ed1 v\xe0 d\xe0i 10 k\xfd t\u1ef1! "),m.Ub())}function Mt(t,e){if(1&t&&(m.Vb(0,"div",41),m.Qc(1,Ot,2,0,"div",11),m.Ub()),2&t){const t=m.gc(2);m.Db(1),m.nc("ngIf",t.getErrorType("phone","pattern")||t.getErrorType("phone","minlength")||t.getErrorType("phone","maxlength"))}}function Dt(t,e){1&t&&(m.Vb(0,"span"),m.Sc(1,"OK"),m.Ub())}function Qt(t,e){if(1&t&&(m.Vb(0,"div",15),m.Vb(1,"label",42),m.Sc(2),m.hc(3,"mytranslate"),m.Ub(),m.Ub()),2&t){const t=m.gc(2);m.Db(2),m.Uc("*** ",m.ic(3,1,t.status_obj.error_obj.message),"")}}function It(t,e){1&t&&(m.Vb(0,"span"),m.Qb(1,"span",43),m.Sc(2,"\xa0"),m.Ub())}function At(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div"),m.Vb(1,"div",15),m.Vb(2,"div",16),m.Vb(3,"div",17),m.Qb(4,"input",18),m.Vb(5,"div",19),m.Vb(6,"span",20),m.Vb(7,"mat-icon"),m.Sc(8,"account_box"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(9,"div",15),m.Vb(10,"div",16),m.Vb(11,"div",17),m.Qb(12,"input",21),m.Vb(13,"div",19),m.Vb(14,"span",20),m.Vb(15,"mat-icon"),m.Sc(16,"email"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Qc(17,wt,2,1,"div",22),m.Ub(),m.Ub(),m.Vb(18,"div",15),m.Vb(19,"div",16),m.Vb(20,"div",17),m.Qb(21,"input",23),m.Vb(22,"div",19),m.Vb(23,"span",20),m.Vb(24,"mat-icon"),m.Sc(25,"lock"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Qc(26,Pt,2,1,"div",22),m.Ub(),m.Ub(),m.Vb(27,"div",15),m.Vb(28,"div",16),m.Vb(29,"div",24),m.Qb(30,"input",25),m.Vb(31,"div",19),m.Vb(32,"span",20),m.Vb(33,"mat-icon"),m.Sc(34,"phone_enabled"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(35,"a",26),m.cc("click",function(){return m.Ec(t),m.gc().goToConfirm()}),m.Sc(36,"Click v\xe0o \u0111\xe2y n\u1ebfu b\u1ea1n mu\u1ed1n \u0111\u1ed5i s\u1ed1 \u0111i\u1ec7n tho\u1ea1i!"),m.Ub(),m.Qc(37,Mt,2,1,"div",22),m.Ub(),m.Ub(),m.Vb(38,"div",15),m.Vb(39,"div",16),m.Vb(40,"div",27),m.Vb(41,"mat-radio-group",28),m.Vb(42,"mat-radio-button",29),m.Sc(43,"Nam"),m.Ub(),m.Vb(44,"mat-radio-button",30),m.Sc(45,"N\u1eef"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(46,"div",15),m.Vb(47,"div",16),m.Vb(48,"mat-form-field",31),m.Vb(49,"input",32),m.cc("click",function(){return m.Ec(t),m.Ac(54).open()}),m.Ub(),m.Vb(50,"button",33),m.cc("click",function(e){return m.Ec(t),m.Ac(54).open(),e.stopPropagation()}),m.Vb(51,"mat-icon"),m.Sc(52,"today"),m.Ub(),m.Ub(),m.Vb(53,"ngx-mat-datetime-picker",34,35),m.Qc(55,Dt,2,0,"ng-template"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Qc(56,Qt,4,3,"div",36),m.Vb(57,"div",15),m.Vb(58,"div",37),m.Vb(59,"button",38),m.cc("click",function(){m.Ec(t);const e=m.gc();return e.form.invalid||e.status_obj.loading||e.changeInfo()}),m.Qc(60,It,3,0,"span",11),m.Sc(61,"C\u1eadp nh\u1eadt "),m.Ub(),m.Ub(),m.Ub(),m.Vb(62,"div",39),m.Vb(63,"a",40),m.cc("click",function(){return m.Ec(t),m.gc().goBack()}),m.Sc(64,"Quay l\u1ea1i trang ch\u1ee7"),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=m.Ac(54),e=m.gc();m.Db(17),m.nc("ngIf",e.form.controls.email.invalid&&e.form.controls.email.dirty),m.Db(9),m.nc("ngIf",e.form.controls.password.invalid&&(e.form.controls.password.dirty||e.form.controls.password.touched)),m.Db(4),m.Eb("disabled",e.disablePhone),m.Db(7),m.nc("ngIf",e.form.controls.phone.invalid&&(e.form.controls.phone.dirty||e.form.controls.phone.touched)),m.Db(12),m.nc("ngxMatDatetimePicker",t),m.Db(4),m.nc("hideTime",e.hideTime),m.Db(3),m.nc("ngIf",e.status_obj.error_obj.message),m.Db(3),m.nc("disabled",e.form.invalid||e.status_obj.loading),m.Db(1),m.nc("ngIf",!0===e.status_obj.loading)}}const jt={parse:{dateInput:"l, LTS"},display:{dateInput:"DD-MM-YYYY",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let Lt=(()=>{class t{constructor(t,e,n,o,r){this.formBuilder=t,this.activeRoute=e,this.router=n,this.commonService=o,this.apiAuthService=r,this.subscriptions=new b.a,this.form=new i.k({}),this.startDate=new Date(1990,1,1),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.gender=0,this.prevData=0,this.disablePhone=!0,this.returnUrl="",this.hideTime=!0}getError(t){return!(!this.form.controls[t]||!this.form.controls[t].errors)&&this.form.controls[t].errors}getErrorType(t,e){return!!(this.form.controls[t]&&this.form.controls[t].errors&&this.form.controls[t].errors[e])&&this.form.controls[t].errors[e]}goToConfirm(){this.returnUrl="/auth/change-info";var t="?return_url="+encodeURIComponent(this.returnUrl)+"&confirm_type=change_phone";this.commonService.myNavigationWithQueryString("/auth/checking_service",t)}allowChangePhone(){var t=this.apiAuthService.getUserObj(),e=t.zaloId?t.zaloId:"";return""!=e&&e==(t.phone?t.phone:"")}changeInfo(){if(this.form.valid){var t=this.commonService.getFormObj(this.form),e=t.birthday?new Date(Date.parse(t.birthday)):this.startDate,n={fullName:t.fullName,email:t.email,phone:t.phone,gender:t.gender,birthday:Object(o.x)(e,"yyyy-MM-ddTHH:mm:ss","en_vn"),password:t.password};this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiAuthService.changeInfo(n).subscribe(t=>{1==t.success?(this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.commonService.snackSuccess("C\u1eadp nh\u1eadt th\xf4ng tin th\xe0nh c\xf4ng!","OK"),this.getInfo()):(this.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t},this.commonService.snackError("C\u1eadp nh\u1eadt th\xf4ng tin kh\xf4ng th\xe0nh c\xf4ng!","OK"))}))}}goBack(){this.apiAuthService.redirectLoginByRole(!1)}getInfo(){this.status_obj={form_loading:!0,loading:!1,error:!1,error_obj:{message:""}};var t=this.apiAuthService.getUserObj(),e=t.birthday?new Date(t.birthday):new Date(1990,1,1);this.startDate=e,this.gender=t.gender,this.form.patchValue({fullName:this.commonService.isAnonymousName(t)?"":t.fullName,email:t.email?t.email:"",phone:t.phone?t.phone:"",gender:1!=this.gender?"0":"1"}),this.form.controls.birthday.setValue(e),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}}}ngOnInit(){this.form=this.formBuilder.group({fullName:new i.h(""),email:new i.h("",i.z.email),phone:new i.h("",[i.z.pattern("^[0-9]*$")]),gender:new i.h(""),birthday:new i.h(""),password:new i.h("",[i.z.minLength(6)])}),this.apiAuthService.isAnonymousRole()?this.commonService.redirectSimpleRegister():(this.getInfo(),this.form.valueChanges.subscribe(t=>{let e=JSON.stringify(t);e!=this.prevData&&(this.prevData=e,this.form.patchValue(t))}),this.commonService.translateMetaData({title:"lang_cms_auth_change_info_title",description:"lang_cms_auth_change_info_description",image:"lang_cms_test_image"}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(i.g),m.Pb(r.a),m.Pb(r.i),m.Pb(u.a),m.Pb(rt.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-change-info"]],features:[m.Cb([{provide:_t.b,useClass:Ut.a,deps:[D.f,Ut.b]},{provide:_t.a,useValue:jt},{provide:O.b,useValue:{floatLabel:"never"}}])],decls:15,vars:3,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","text","placeholder","H\u1ecd v\xe0 t\xean","formControlName","fullName",1,"form-control"],[1,"input-group-append"],["id","basic-addon3",1,"input-group-text"],["type","text","placeholder","Email","formControlName","email",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["type","password","placeholder","M\u1eadt kh\u1ea9u m\u1edbi","formControlName","password","autocomplete","new-password",1,"form-control"],[1,"input-group","mb-1"],["type","text","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","formControlName","phone",1,"form-control"],[1,"clickable","text-info",2,"font-size","13px","padding-left","5px",3,"click"],[1,"input-group","justify-content-around",2,"border","1px solid  #e2e2e2","border-radius","3px","padding",".8rem 0 .3rem 0"],["formControlName","gender"],["value","1",1,"col-6","p-0"],["value","0",1,"col-6"],[1,"myTimePicker",2,"border","1px solid #ced4da","border-radius","3px","padding-top","2px"],["matInput","","placeholder","Ng\xe0y sinh","formControlName","birthday",1,"form-control",3,"ngxMatDatetimePicker","click"],["mat-icon-button","","matSuffix","",3,"click"],[3,"hideTime"],["birthDay",""],["class","form-group",4,"ngIf"],[1,"col-sm-12","text-center"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"text-center","mt-3"],[1,"clickable",3,"click"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&(m.Vb(0,"div",0),m.Vb(1,"form",1),m.Vb(2,"div",2),m.Qb(3,"div",3),m.Vb(4,"div",4),m.Vb(5,"h2",5),m.Qb(6,"img",6),m.Ub(),m.Vb(7,"div",7),m.Vb(8,"div",8),m.Vb(9,"span",9),m.Sc(10,"\u0110\u1ed5i m\u1eadt kh\u1ea9u m\u1edbi"),m.Ub(),m.Ub(),m.Vb(11,"div",10),m.Qc(12,kt,6,3,"div",11),m.Qc(13,At,65,9,"div",11),m.Ub(),m.Ub(),m.Ub(),m.Qb(14,"div",3),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.Db(1),m.nc("formGroup",e.form),m.Db(11),m.nc("ngIf",1==e.status_obj.form_loading),m.Db(1),m.nc("ngIf",1!=e.status_obj.form_loading))},directives:[i.B,i.s,i.l,o.m,i.d,i.r,i.j,St.a,yt.b,yt.a,O.d,Vt.b,_t.c,ct.b,O.h,_t.d],pipes:[st.q],encapsulation:2}),t})(),Et=(()=>{class t{constructor(t,e){this.commonService=t,this.apiAuthService=e}get returnUrl(){return this.commonService.getMyQueryParam("return_url")}get confirm_type(){return this.commonService.getMyQueryParam("confirm_type")}ngOnInit(){this.apiAuthService.getFirebaseConfig().subscribe(t=>{if(1==t.success){let e=this.commonService.getLocalRouter("/auth/confirm_account")+"?return_url="+this.returnUrl+"&confirm_type="+this.confirm_type+"&app_name="+t.data.app;window.location.href=e.toString()}else this.commonService.snackError("C\xf3 l\u1ed7i khi ki\u1ec3m tra d\u1ecbch v\u1ee5","")})}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(u.a),m.Pb(rt.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-checking-service"]],decls:3,vars:0,consts:[[1,"mt-5","text-center"],["role","status",1,"spinner-border","spinner-border-md",2,"color","#2361ae"]],template:function(t,e){1&t&&(m.Vb(0,"h2",0),m.Qb(1,"span",1),m.Sc(2,"\xa0 \u0110ang ki\u1ec3m tra d\u1ecbch v\u1ee5..."),m.Ub())},encapsulation:2}),t})();var Tt=n("Jgta"),Ft=n("6nsN");let qt=(()=>{class t{get windowRef(){return window}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=m.Lb({token:t,factory:t.\u0275fac}),t})();var zt=n("AytR");const Rt=["verifyCode"];function Bt(t,e){1&t&&(m.Vb(0,"div"),m.Sc(1," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ph\u1ea3i d\xe0i t\u1ed1i thi\u1ec3u l\xe0 10 k\xfd t\u1ef1! "),m.Ub())}function Nt(t,e){if(1&t&&(m.Vb(0,"div",34),m.Qc(1,Bt,2,0,"div",31),m.Ub()),2&t){const t=m.gc();m.Db(1),m.nc("ngIf",t.getErrorType("phone","required")||t.getErrorType("phone","minlength"))}}function Wt(t,e){if(1&t&&(m.Vb(0,"div",13),m.Vb(1,"label",35),m.Sc(2),m.hc(3,"mytranslate"),m.Ub(),m.Ub()),2&t){const t=m.gc();m.Db(2),m.Uc("*** ",m.ic(3,1,t.status_obj.error_obj.message),"")}}function Ht(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",36),m.Sc(1," Kh\xf4ng nh\u1eadn \u0111\u01b0\u1ee3c m\xe3 x\xe1c th\u1ef1c? "),m.Vb(2,"b",21),m.cc("click",function(){return m.Ec(t),m.gc().resendCode()}),m.Sc(3,"G\u1eedi l\u1ea1i!"),m.Ub(),m.Ub()}}function Gt(t,e){1&t&&(m.Vb(0,"span"),m.Qb(1,"span",37),m.Sc(2,"\xa0"),m.Ub())}const $t=function(t){return{"margin-left":t}};let Zt=(()=>{class t{constructor(t,e,n,o,r,c,s,a){this.formBuilder=t,this.router=e,this.localizeService=n,this.activeRoute=o,this.commonService=r,this.window=c,this.apiAuthService=s,this.apiCommonService=a,this.confirm_type="forgot_password",this.subscriptions=new b.a,this.form=new i.k({}),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.isVerifying=!1,this.smsSent=!1,this.timeOut=60,this.captchaWidgetId="",this.myCountDown="interval",this.appObj="",this.isLoading=!0}skipVerifyPhone(){var t=Math.round((new Date).getTime()/1e3);this.commonService.saveSimpleStorage("skip_verify_phone",t.toString()),this.apiCommonService.redirectLoginByRole(!1);let e=this.getConfirmType();this.commonService.myNavigation("confirm_phone_register"==e?"/admin/student/manage-class/0":"/admin/testbank/dashboard")}getError(t){return!(!this.form.controls[t]||!this.form.controls[t].errors)&&this.form.controls[t].errors}getErrorType(t,e){return!!(this.form.controls[t]&&this.form.controls[t].errors&&this.form.controls[t].errors[e])&&this.form.controls[t].errors[e]}getConfirmType(){return this.commonService.getMyQueryParam("confirm_type")}get firebaseApp(){return this.commonService.getMyQueryParam("app_name")}get returnUrl(){return this.commonService.getMyQueryParam("return_url")}handleConfirmUsage(){const t=this.form.value.phone;let e=this.getConfirmType();if(""!=t)switch(e){case"forgot_password":this.commonService.gaEvent("confirm_event_forgot_password"),this.apiAuthService.checkPhoneExist(t).subscribe(e=>{1==e.success?this.sendLoginCode("+84"+t.slice(1)):(this.commonService.snackError("S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ch\u01b0a t\u1ed3n t\u1ea1i tr\xean h\u1ec7 th\u1ed1ng",""),this.reRenderCaptcha())});break;case"change_phone":this.commonService.gaEvent("confirm_event_change_phone"),this.apiAuthService.checkPhoneExist(t).subscribe(e=>{1!=e.success?this.sendLoginCode("+84"+t.slice(1)):(this.commonService.snackError("S\u1ed1 \u0111i\u1ec7n tho\u1ea1i \u0111\xe3 t\u1ed3n t\u1ea1i tr\xean h\u1ec7 th\u1ed1ng",""),this.reRenderCaptcha())});break;default:this.commonService.gaEvent("confirm_event_confirm_phone"),this.apiAuthService.CheckUpdatePhoneExists(t).subscribe(e=>{1!=e.success?this.sendLoginCode("+84"+t.slice(1)):(this.commonService.snackError("S\u1ed1 \u0111i\u1ec7n tho\u1ea1i \u0111\xe3 t\u1ed3n t\u1ea1i tr\xean h\u1ec7 th\u1ed1ng",""),this.reRenderCaptcha())})}else this.commonService.snackError("Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i!",""),this.reRenderCaptcha()}sendLoginCode(t){const e=this.windowRef.recaptchaVerifier,n=Object(Ft.b)();Object(Ft.d)(n,t,e).then(t=>{this.windowRef.confirmationResult=t,this.smsSent=!0,this.timeOut=60,this.countDownTime()}).catch(t=>{console.log(t),"auth/quota-exceeded"==t.code?this.apiAuthService.setFirebaseExceed(this.firebaseApp).subscribe(t=>{1==t.success?this.apiAuthService.getFirebaseConfig().subscribe(t=>{if(1==t.success)if(t.data.app!==this.firebaseApp){var e=this.commonService.getMyQueryParam("interval_app");if(e&&e!=t.data.app){e=e||t.data.app;let n=this.commonService.getLocalRouter("/auth/confirm_account")+"?return_url="+this.returnUrl+"&confirm_type="+this.confirm_type+"&app_name="+t.data.app+"&interval_app="+e;window.location.href=n.toString()}else this.commonService.snackError("OUT OF QUOTA FIREBASE, CONTACT ADMIN","")}else this.commonService.snackError("OUT OF QUOTA FIREBASE, CONTACT ADMIN","");else this.commonService.snackError("Kh\xf4ng l\u1ea5y \u0111\u01b0\u1ee3c th\xf4ng tin FirebaseApp","")}):this.commonService.snackError("Kh\xf4ng \u0111\xe1nh d\u1ea5u \u0111\u01b0\u1ee3c firebase h\u1ebft quoata","")}):(this.commonService.gaEvent("confirm_event_error_send_code"),this.smsSent=!1,this.commonService.myTranslate([t.code]).subscribe(e=>{this.commonService.snackError("C\xf3 l\u1ed7i x\u1ea3y ra: "+e[t.code],"")}))})}verify_code(t){this.windowRef.confirmationResult?(this.isVerifying=!0,this.windowRef.confirmationResult.confirm(t).then(t=>{this.isVerifying=!1;const e=t.user;let n=this.getConfirmType();switch(n){case"forgot_password":this.commonService.myNavigationWithQueryString("/auth/set_new_password","?app_name="+this.firebaseApp+"&token="+encodeURIComponent(e.za));break;default:this.apiAuthService.UpdatePhoneOrPasswordByFirebase({firebaseToken:e.accessToken,password:"",appName:this.firebaseApp}).subscribe(t=>{1==t.success?(this.commonService.snackSuccess("C\u1eadp nh\u1eadt s\u1ed1 \u0111i\u1ec7n tho\u1ea1i th\xe0nh c\xf4ng!",""),"confirm_phone_register"==n?this.commonService.myNavigation("/admin/student/manage-class/0"):this.apiAuthService.redirectLoginByRole(!1)):this.commonService.myTranslate([t.message]).subscribe(e=>{this.commonService.snackError("C\xf3 l\u1ed7i x\u1ea3y ra: "+e[t.message],"")})})}}).catch(t=>{this.isVerifying=!1,console.log(t),this.commonService.gaEvent("confirm_event_error_verify_code"),this.commonService.myTranslate([t.code]).subscribe(e=>{this.commonService.snackError("C\xf3 l\u1ed7i x\u1ea3y ra: "+e[t.code],"")})})):(this.isVerifying=!1,this.commonService.snackError("M\xe3 x\xe1c th\u1ef1c kh\xf4ng \u0111\xfang, vui l\xf2ng ki\u1ec3m tra l\u1ea1i",""))}resendCode(){var t;this.reRenderCaptcha(),null===(t=document.getElementById("recaptcha-container"))||void 0===t||t.click()}countDownTime(){this.myCountDown=setInterval(()=>{this.timeOut>0&&this.timeOut--},1e3)}initForm(){this.form=this.formBuilder.group({phone:["",[i.z.required,i.z.minLength(10)]]})}handleClickLogout(){"forgot_password"==this.confirm_type||"change_phone"==this.confirm_type?this.apiAuthService.redirectLoginByRole(!1):(this.apiAuthService.logout(),this.commonService.redirectSimpleLogin())}reRenderCaptcha(){this.windowRef.recaptchaVerifier.reset(this.windowRef.recaptchaWidgetId)}handleEnterVerify(t,e){"Enter"==t.key&&(this.commonService.gaEvent("confirm_event_verify_code_by_press_enter"),this.verify_code(e))}ngOnInit(){this.initForm(),Object(Tt.a)(zt.a["firebaseConfig_"+this.firebaseApp]),Object(Ft.b)().useDeviceLanguage();let t=this.getConfirmType();switch(this.confirm_type=this.getConfirmType(),"forgot_password"!=t&&this.apiAuthService.getInfo().subscribe(e=>{1==e.success?1==e.data.isVerifyPhone?"change_phone"!=t&&this.apiCommonService.redirectLoginByRole(!1):e.data.phone&&""==e.data.phone?console.log("enter phone plz"):this.form.setValue(e.data.phone&&e.data.phone.length>10?{phone:""}:{phone:e.data.phone}):this.commonService.myTranslate([e.message]).subscribe(t=>{this.commonService.snackError("C\xf3 l\u1ed7i x\u1ea3y ra: "+t[e.message],"")})}),t){case"forgot_password":this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"});break;case"change_phone":this.commonService.translateMetaData({title:"lang_cms_auth_confirm_change_phone_title",description:"lang_cms_auth_confirm_change_phone_description",image:"lang_cms_test_image"});break;default:this.commonService.translateMetaData({title:"lang_cms_auth_confirm_confirm_phone_title",description:"lang_cms_auth_confirm_confirm_phone_description",image:"lang_cms_test_image"})}}ngAfterViewInit(){this.countDownTime(),this.windowRef=this.window.windowRef;const t=Object(Ft.b)();if(this.windowRef.recaptchaVerifier=new Ft.a("recaptcha-container",{size:"invisible",callback:t=>{this.handleConfirmUsage()}},t),this.windowRef.recaptchaVerifier.render().then(t=>{this.windowRef.recaptchaWidgetId=t}),this.verifyCode&&""!=this.verifyCode.nativeElement.value){let t=this.verifyCode.nativeElement.value;this.verifyCode.nativeElement.addEventListener("keyup",e=>this.handleEnterVerify(e,t))}}ngOnDestroy(){if(this.subscriptions.unsubscribe(),clearInterval(this.myCountDown),this.verifyCode){let t=this.verifyCode.nativeElement.value;this.verifyCode.nativeElement.removeEventListener("keyup",e=>this.handleEnterVerify(e,t))}}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(i.g),m.Pb(r.i),m.Pb(d.e),m.Pb(r.a),m.Pb(u.a),m.Pb(qt),m.Pb(rt.a),m.Pb(p.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-confirm-account"]],viewQuery:function(t,e){if(1&t&&m.Zc(Rt,!0),2&t){let t;m.zc(t=m.dc())&&(e.verifyCode=t.first)}},features:[m.Cb([qt])],decls:50,vars:13,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[2,"margin-top","4vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["id","authForm",1,"card"],[1,"card-body"],["id","verify_wrap"],["id","enter_phone_area",3,"ngStyle"],["id","enter_phone_wrap"],[1,"form-horizontal",3,"formGroup"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["id","phoneInput","type","text","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","formControlName","phone","autocomplete","off",1,"form-control"],["phoneInput",""],["class","alert alert-danger",4,"ngIf"],["id","recaptcha-container","color","primary","mat-raised-button",""],[1,"mt-3","text-center"],[1,"clickable",3,"click"],["class","form-group",4,"ngIf"],["id","verify_area",1,"form-group"],[1,"sms-info"],[2,"text-align","right","font-size","12px","margin-bottom","3px"],["class","mb-2 mt-2 resend-code",4,"ngIf"],["type","string","placeholder","M\xe3 x\xe1c th\u1ef1c","autocomplete","off",1,"form-control"],["verifyCode",""],[1,"input-group-append","ml-1"],["id","buttonVerify","mat-raised-button","","color","primary",3,"disabled","click"],[4,"ngIf"],[1,"text-center","mt-3"],[1,"text-normal","clickable",3,"click"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],[1,"mb-2","mt-2","resend-code"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",0),m.Vb(1,"div",1),m.Vb(2,"div",2),m.Qb(3,"div",3),m.Vb(4,"div",4),m.Vb(5,"h2",5),m.Qb(6,"img",6),m.Ub(),m.Vb(7,"div",7),m.Vb(8,"div",8),m.Vb(9,"h2"),m.Sc(10),m.Ub(),m.Vb(11,"div"),m.Vb(12,"div",9),m.Vb(13,"div",10),m.Vb(14,"div",11),m.Vb(15,"form",12),m.Vb(16,"div",13),m.Vb(17,"div",14),m.Vb(18,"div",15),m.Qb(19,"input",16,17),m.Ub(),m.Qc(21,Nt,2,1,"div",18),m.Vb(22,"button",19),m.Sc(23,"Ti\u1ebfp t\u1ee5c"),m.Ub(),m.Vb(24,"div",20),m.Vb(25,"a",21),m.cc("click",function(){return e.skipVerifyPhone()}),m.Sc(26,"B\u1ecf qua"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Qc(27,Wt,4,3,"div",22),m.Ub(),m.Ub(),m.Vb(28,"div",23),m.Vb(29,"div",14),m.Vb(30,"div",24),m.Sc(31," M\u1ed9t tin nh\u1eafn ch\u1ee9a m\xe3 x\xe1c th\u1ef1c v\u1eeba \u0111\u01b0\u1ee3c g\u1eedi t\u1edbi s\u1ed1 \u0111i\u1ec7n tho\u1ea1i "),m.Vb(32,"b"),m.Sc(33),m.Ub(),m.Sc(34,". Vui l\xf2ng nh\u1eadp m\xe3 n\xe0y v\xe0o \xf4 d\u01b0\u1edbi \u0111\xe2y r\u1ed3i \u1ea5n x\xe1c th\u1ef1c "),m.Ub(),m.Vb(35,"div",25),m.Sc(36),m.Ub(),m.Qc(37,Ht,4,0,"div",26),m.Vb(38,"div",15),m.Qb(39,"input",27,28),m.Vb(41,"div",29),m.Vb(42,"button",30),m.cc("click",function(){m.Ec(t);const n=m.Ac(40);return e.verify_code(n.value)}),m.Qc(43,Gt,3,0,"span",31),m.Sc(44,"X\xe1c th\u1ef1c "),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Qb(45,"hr"),m.Vb(46,"div",32),m.Vb(47,"a",33),m.cc("click",function(){return e.handleClickLogout()}),m.Sc(48),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Qb(49,"div",3),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=m.Ac(40);m.Db(10),m.Tc("change_phone"==e.confirm_type?"Nh\u1eadp v\xe0o s\u1ed1 \u0111i\u1ec7n tho\u1ea1i m\u1edbi":"X\xe1c th\u1ef1c s\u1ed1 \u0111i\u1ec7n tho\u1ea1i c\u1ee7a b\u1ea1n"),m.Db(3),m.nc("ngStyle",m.tc(11,$t,e.smsSent?"-100%":"0")),m.Db(2),m.nc("formGroup",e.form),m.Db(6),m.nc("ngIf",e.form.controls.phone.invalid&&(e.form.controls.phone.dirty||e.form.controls.phone.touched)),m.Db(6),m.nc("ngIf",e.status_obj.error_obj.message),m.Db(6),m.Tc(e.form.value.phone),m.Db(3),m.Uc("",e.timeOut," s"),m.Db(1),m.nc("ngIf",0==e.timeOut),m.Db(5),m.nc("disabled",""==t.value||e.isVerifying),m.Db(1),m.nc("ngIf",!0===e.status_obj.loading),m.Db(5),m.Tc("forgot_password"==e.confirm_type?"\u0110\u0103ng nh\u1eadp t\xe0i kho\u1ea3n":"change_phone"==e.confirm_type?"Quay l\u1ea1i m\xe0n h\xecnh ch\xednh":"\u0110\u0103ng xu\u1ea5t")}},directives:[o.n,i.B,i.s,i.l,i.d,i.r,i.j,o.m,ct.b],pipes:[st.q],styles:["#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin .5s ease}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}"]}),t})();function Kt(t,e){if(1&t&&(m.Vb(0,"div",13),m.Vb(1,"div",14),m.Vb(2,"div",15),m.Qb(3,"div",16),m.Qb(4,"div",16),m.Qb(5,"div",16),m.Ub(),m.Ub(),m.Ub()),2&t){const t=m.gc();m.Db(3),m.nc("ngClass",1==t.step_by_step?"active":t.step_by_step>1?"active pro":""),m.Db(1),m.nc("ngClass",2==t.step_by_step?"active":t.step_by_step>2?"active pro":""),m.Db(1),m.nc("ngClass",3==t.step_by_step?"active":t.step_by_step>3?"active pro":"")}}function Jt(t,e){1&t&&(m.Vb(0,"div"),m.Vb(1,"div",17),m.Vb(2,"div",18),m.Vb(3,"span",19),m.Sc(4),m.hc(5,"mytranslate"),m.Ub(),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.Db(4),m.Uc("",m.ic(5,1,"lang_cms_common_loading"),"..."))}function Yt(t,e){1&t&&(m.Vb(0,"div"),m.Sc(1," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),m.Ub())}function Xt(t,e){if(1&t&&(m.Vb(0,"div",41),m.Qc(1,Yt,2,0,"div",12),m.Ub()),2&t){const t=m.gc(2);m.Db(1),m.nc("ngIf",t.getErrorType("phone","required"))}}function te(t,e){1&t&&(m.Vb(0,"div"),m.Sc(1," M\u1eadt kh\u1ea9u ph\u1ea3i d\xe0i t\u1ed1i thi\u1ec3u l\xe0 6! "),m.Ub())}function ee(t,e){if(1&t&&(m.Vb(0,"div",41),m.Qc(1,te,2,0,"div",12),m.Ub()),2&t){const t=m.gc(2);m.Db(1),m.nc("ngIf",t.getErrorType("password","required")||t.getErrorType("password","minlength"))}}function ne(t,e){1&t&&(m.Vb(0,"div"),m.Sc(1," M\u1eadt kh\u1ea9u kh\xf4ng tr\xf9ng kh\u1edbp! "),m.Ub())}function oe(t,e){if(1&t&&(m.Vb(0,"div",41),m.Qc(1,ne,2,0,"div",12),m.Ub()),2&t){const t=m.gc(2);m.Db(1),m.nc("ngIf",t.getErrorType("repassword","confirm_pass"))}}function ie(t,e){if(1&t&&(m.Vb(0,"div",20),m.Vb(1,"label",42),m.Sc(2),m.hc(3,"mytranslate"),m.Ub(),m.Ub()),2&t){const t=m.gc(2);m.Db(2),m.Uc("*** ",m.ic(3,1,t.status_obj.error_obj.message),"")}}function re(t,e){1&t&&(m.Vb(0,"span"),m.Qb(1,"span",43),m.Sc(2,"\xa0"),m.Ub())}const ce=function(t){return[t]};function se(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div"),m.Vb(1,"div",20),m.Vb(2,"div",21),m.Vb(3,"div",22),m.Qb(4,"input",23),m.Vb(5,"div",24),m.Vb(6,"span",25),m.Vb(7,"mat-icon"),m.Sc(8,"phone"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Qc(9,Xt,2,1,"div",26),m.Ub(),m.Ub(),m.Vb(10,"div",20),m.Vb(11,"div",21),m.Vb(12,"div",22),m.Qb(13,"input",27),m.Vb(14,"div",24),m.Vb(15,"span",25),m.Vb(16,"mat-icon"),m.Sc(17,"lock"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Qc(18,ee,2,1,"div",26),m.Ub(),m.Ub(),m.Vb(19,"div",20),m.Vb(20,"div",21),m.Vb(21,"div",22),m.Qb(22,"input",28),m.Vb(23,"div",24),m.Vb(24,"span",25),m.Vb(25,"mat-icon"),m.Sc(26,"lock"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Qc(27,oe,2,1,"div",26),m.Ub(),m.Ub(),m.Qc(28,ie,4,3,"div",29),m.Vb(29,"div",20),m.Vb(30,"div",21),m.Vb(31,"div",30),m.Vb(32,"button",31),m.cc("click",function(){m.Ec(t);const e=m.gc();return e.form.invalid||e.status_obj.loading||e.changePassword()}),m.Qc(33,re,3,0,"span",12),m.Sc(34,"Ti\u1ebfp t\u1ee5c "),m.Ub(),m.Vb(35,"div",32),m.Vb(36,"span",33),m.Sc(37,"Ho\u1eb7c"),m.Ub(),m.Ub(),m.Vb(38,"div",5),m.Vb(39,"a",34),m.hc(40,"localize"),m.Vb(41,"span",35),m.Vb(42,"mat-icon",36),m.Sc(43,"center_focus_strong"),m.Ub(),m.Sc(44," S\u1eed d\u1ee5ng m\xe3 QR qu\xean m\u1eadt kh\u1ea9u"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Qb(45,"hr"),m.Vb(46,"div",37),m.Vb(47,"div",38),m.Vb(48,"a",39),m.Sc(49,"H\u01b0\u1edbng d\u1eabn \u0111\u1ed5i m\u1eadt kh\u1ea9u tr\xean Azota"),m.Ub(),m.Ub(),m.Vb(50,"div"),m.Vb(51,"a",40),m.hc(52,"localize"),m.Sc(53,"\u0110\u0103ng nh\u1eadp t\xe0i kho\u1ea3n"),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=m.gc();m.Db(9),m.nc("ngIf",t.form.controls.phone.invalid&&(t.form.controls.phone.dirty||t.form.controls.phone.touched)),m.Db(9),m.nc("ngIf",t.form.controls.password.invalid&&t.form.controls.password.dirty),m.Db(9),m.nc("ngIf",t.getErrorType("repassword","confirm_pass")&&t.form.controls.repassword.touched),m.Db(1),m.nc("ngIf",t.status_obj.error_obj.message),m.Db(4),m.nc("disabled",t.form.invalid||t.status_obj.loading||t.is_load_get_phone||t.getErrorType("repassword","confirm_pass")),m.Db(1),m.nc("ngIf",!0===t.status_obj.loading),m.Db(6),m.nc("routerLink",m.tc(12,ce,m.ic(40,8,"/auth/confirm_forgot_password_qr"))),m.Db(12),m.nc("routerLink",m.tc(14,ce,m.ic(52,10,"/auth/login")))}}function ae(t,e){if(1&t&&(m.Vb(0,"div",47),m.Vb(1,"a"),m.Sc(2,"( Click v\xe0o \u0111\xe2y \u0111\u1ec3 g\u1eedi ngay )"),m.Ub(),m.Ub()),2&t){const t=m.gc(2);m.Db(1),m.Eb("href","sms:"+t.phone_send+"?body=MK "+t.response_change_pass.otp,m.Ic)}}function le(t,e){if(1&t){const t=m.Wb();m.Vb(0,"button",50),m.cc("click",function(){return m.Ec(t),m.gc(2).changeStepByNext()}),m.Sc(1," Ti\u1ebfp t\u1ee5c "),m.Ub()}}function de(t,e){if(1&t&&(m.Vb(0,"div",51),m.Vb(1,"div",52),m.Qb(2,"span",43),m.Ub(),m.Vb(3,"div",53),m.Sc(4),m.Ub(),m.Ub()),2&t){const t=m.gc(2);m.Db(4),m.Tc(t.messg)}}function be(t,e){if(1&t&&(m.Vb(0,"div"),m.Vb(1,"div",21),m.Vb(2,"div",44),m.Sc(3," Th\xf4ng tin m\u1eadt kh\u1ea9u m\u1edbi c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c ghi nh\u1eadn. \u0110\u1ec3 k\xedch ho\u1ea1t m\u1eadt kh\u1ea9u v\u1eeba t\u1ea1o vui l\xf2ng s\u1eed d\u1ee5ng s\u1ed1 \u0111i\u1ec7n tho\u1ea1i "),m.Vb(4,"strong"),m.Sc(5),m.Ub(),m.Sc(6," v\xe0 so\u1ea1n tin nh\u1eafn: "),m.Ub(),m.Vb(7,"div",45),m.Vb(8,"strong"),m.Sc(9),m.Ub(),m.Sc(10," g\u1eedi "),m.Vb(11,"strong"),m.Sc(12),m.Ub(),m.Ub(),m.Qc(13,ae,3,1,"div",46),m.Vb(14,"div",47),m.Sc(15,' "C\u01b0\u1edbc ph\xed tin nh\u1eafn \u0111\u01b0\u1ee3c t\xednh theo gi\xe1 c\u01b0\u1edbc ph\xed th\xf4ng th\u01b0\u1eddng c\u1ee7a nh\xe0 m\u1ea1ng" '),m.Ub(),m.Vb(16,"div",47),m.Sc(17," Sau khi g\u1eedi tin nh\u1eafn vui l\xf2ng b\u1ea5m n\xfat b\xean d\u01b0\u1edbi \u0111\u1ec3 ti\u1ebfp t\u1ee5c "),m.Ub(),m.Vb(18,"div",22),m.Qc(19,le,2,0,"button",48),m.Qc(20,de,5,1,"div",49),m.Ub(),m.Ub(),m.Ub()),2&t){const t=m.gc();m.Db(5),m.Tc(t.data_change_pass.phone),m.Db(4),m.Uc("MK ",t.response_change_pass.otp,""),m.Db(3),m.Tc(t.phone_send),m.Db(1),m.nc("ngIf",t.is_mobile),m.Db(6),m.nc("ngIf",2==t.step_by_step),m.Db(1),m.nc("ngIf",3==t.step_by_step)}}function he(t,e){1&t&&(m.Vb(0,"div"),m.Vb(1,"div",21),m.Vb(2,"div",44),m.Sc(3," M\u1eadt kh\u1ea9u m\u1edbi c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c k\xedch ho\u1ea1t th\xe0nh c\xf4ng. "),m.Ub(),m.Vb(4,"div",37),m.Vb(5,"div",38),m.Vb(6,"a",54),m.hc(7,"localize"),m.Sc(8,"\u0110\u0103ng nh\u1eadp t\xe0i kho\u1ea3n"),m.Ub(),m.Ub(),m.Vb(9,"div"),m.Vb(10,"a",55),m.Sc(11,"H\u01b0\u1edbng d\u1eabn \u0111\u1ed5i m\u1eadt kh\u1ea9u tr\xean Azota"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.Db(6),m.nc("routerLink",m.tc(3,ce,m.ic(7,1,"/auth/login"))))}let ge=(()=>{class t{constructor(t,e,n,o){this.formBuilder=t,this.activeRoute=e,this.commonService=n,this.apiAuthService=o,this.subscriptions=new b.a,this.form=new i.k({}),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.response_change_pass=null,this.data_change_pass=null,this.step_by_step=1,this.loop_check=!1,this.messg="",this.is_load_get_phone=!1,this.phone_send="",this.is_mobile=/Android|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.is_mobile_ios=/webOS|iPhone|iPad|iPod/i.test(navigator.userAgent)}getError(t){return!(!this.form.controls[t]||!this.form.controls[t].errors)&&this.form.controls[t].errors}getErrorType(t,e){return"repassword"===t&&"confirm_pass"===e?this.form.controls.repassword.value!=this.form.controls.password.value:!!(this.form.controls[t]&&this.form.controls[t].errors&&this.form.controls[t].errors[e])&&this.form.controls[t].errors[e]}changePassword(){if(this.form.valid){this.status_obj.loading=!0;var t=this.commonService.getFormObj(this.form);this.apiAuthService.suportChangePassword({phone:t.phone,password:t.password}).subscribe(e=>{1==e.success?(this.status_obj.loading=!1,this.step_by_step=2,this.response_change_pass=e.data,this.data_change_pass=t):this.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:e}})}}getPhone(){this.is_load_get_phone=!0,this.apiAuthService.suportgetPhoneChangePass().subscribe(t=>{1==t.success?(this.is_load_get_phone=!1,this.phone_send=this.randomPhone(t.data.phone)):this.commonService.snackError("Ch\u1ee9c n\u0103ng qu\xean m\u1eadt kh\u1ea9u \u0111ang trong th\u1eddi gian b\u1ea3o tr\xec !",null)})}randomPhone(t){if(t.includes(",")){let e=t.split(",");return e[this.commonService.getRandomNumber(0,e.length-1)]}return t}changeStepByNext(){this.status_obj.loading=!0,this.messg="\u0110ang x\u1eed l\xfd d\u1eef li\u1ec7u",this.step_by_step=3,this.loop_check=setInterval(()=>{this.apiAuthService.suportCheckStatusPassword(this.data_change_pass.phone).subscribe(t=>{1==t.success?(this.status_obj.loading=!1,1==t.data.status&&(this.step_by_step=4,clearInterval(this.loop_check))):(this.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t},this.messg="H\u1ec7 th\u1ed1ng t\u1ea1m th\u1eddi kh\xf4ng th\u1ec3 x\u1eed l\xfd, vui l\xf2ng th\u1eed l\u1ea1i sau.",clearInterval(this.loop_check))})},1e3)}ngOnInit(){this.form=this.formBuilder.group({phone:["",[i.z.required]],password:["",[i.z.required,i.z.minLength(6)]],repassword:["",[i.z.required,i.z.minLength(6)]]}),this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),this.getPhone()}ngOnDestroy(){this.subscriptions.unsubscribe(),!1!==this.loop_check&&clearInterval(this.loop_check)}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(i.g),m.Pb(r.a),m.Pb(u.a),m.Pb(rt.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-confirm-forgot-password"]],decls:18,vars:6,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://azotacdn.studybymusic.com/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["class","row m-0",4,"ngIf"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"row","m-0"],[1,"wrapper-progressBar"],[1,"progressBar"],[1,"progressBar-li",3,"ngClass"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","text","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","formControlName","phone","autocomplete","new-phone",1,"form-control"],[1,"input-group-append"],["id","basic-addon3",1,"input-group-text"],["class","alert alert-danger",4,"ngIf"],["type","password","placeholder","M\u1eadt kh\u1ea9u m\u1edbi","formControlName","password","autocomplete","new-password",1,"form-control"],["type","password","placeholder","Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u m\u1edbi","formControlName","repassword","autocomplete","new-repassword",1,"form-control"],["class","form-group",4,"ngIf"],[1,"text-right"],["mat-raised-button","","color","primary",1,"btn","btn-block",3,"disabled","click"],[1,"text-center","mt-2"],[1,"text-mute"],[1,"btn","btn-outline-primary","mt-2","w-100",3,"routerLink"],[1,"link-center"],[1,"mr-1"],[1,"text-center","mt-3"],[1,"mb-1"],["href","https://docs.azota.vn/#quen-mat-khau","target","blank"],[1,"text-normal",3,"routerLink"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"sms-info"],[2,"text-align","right","font-size","15px","margin","10px 0","text-align","center"],["class","sms-info text-center mb-3",4,"ngIf"],[1,"sms-info","text-center","mb-3"],["class","btn btn-block","mat-raised-button","","color","primary",3,"click",4,"ngIf"],["class","loading",4,"ngIf"],["mat-raised-button","","color","primary",1,"btn","btn-block",3,"click"],[1,"loading"],[1,"icon"],[1,"text"],[3,"routerLink"],["href","https://docs.azota.vn/#quen-mat-khau","target","blank",1,"text-normal"]],template:function(t,e){1&t&&(m.Vb(0,"div",0),m.Vb(1,"form",1),m.Vb(2,"div",2),m.Qb(3,"div",3),m.Vb(4,"div",4),m.Vb(5,"h2",5),m.Qb(6,"img",6),m.Ub(),m.Qc(7,Kt,6,3,"div",7),m.Vb(8,"div",8),m.Vb(9,"div",9),m.Vb(10,"span",10),m.Sc(11,"\u0110\u1ed5i m\u1eadt kh\u1ea9u m\u1edbi"),m.Ub(),m.Ub(),m.Vb(12,"div",11),m.Qc(13,Jt,6,3,"div",12),m.Qc(14,se,54,16,"div",12),m.Qc(15,be,21,6,"div",12),m.Qc(16,he,12,5,"div",12),m.Ub(),m.Ub(),m.Ub(),m.Qb(17,"div",3),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.Db(1),m.nc("formGroup",e.form),m.Db(6),m.nc("ngIf",1!=e.status_obj.form_loading),m.Db(6),m.nc("ngIf",1==e.status_obj.form_loading),m.Db(1),m.nc("ngIf",1!=e.status_obj.form_loading&&1==e.step_by_step),m.Db(1),m.nc("ngIf",1!=e.status_obj.form_loading&&(2==e.step_by_step||3==e.step_by_step)),m.Db(1),m.nc("ngIf",1!=e.status_obj.form_loading&&4==e.step_by_step))},directives:[i.B,i.s,i.l,o.m,o.k,i.d,i.r,i.j,St.a,ct.b,r.k],pipes:[st.q,d.d],styles:['@charset "UTF-8";#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin .5s ease}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\uf00c"!important;font-family:Font Awesome\\ 5 Free!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}']}),t})();function me(t,e){1&t&&(m.Vb(0,"div"),m.Vb(1,"div",12),m.Vb(2,"div",13),m.Vb(3,"span",14),m.Sc(4),m.hc(5,"mytranslate"),m.Ub(),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.Db(4),m.Uc("",m.ic(5,1,"lang_cms_common_loading"),"..."))}function ue(t,e){1&t&&(m.Vb(0,"div"),m.Sc(1," M\u1eadt kh\u1ea9u ph\u1ea3i d\xe0i t\u1ed1i thi\u1ec3u l\xe0 6! "),m.Ub())}function pe(t,e){if(1&t&&(m.Vb(0,"div",27),m.Qc(1,ue,2,0,"div",11),m.Ub()),2&t){const t=m.gc(2);m.Db(1),m.nc("ngIf",t.getErrorType("password","required")||t.getErrorType("password","minlength"))}}function fe(t,e){if(1&t&&(m.Vb(0,"div",15),m.Vb(1,"label",28),m.Sc(2),m.hc(3,"mytranslate"),m.Ub(),m.Ub()),2&t){const t=m.gc(2);m.Db(2),m.Uc("*** ",m.ic(3,1,t.status_obj.error_obj.message),"")}}function ve(t,e){1&t&&(m.Vb(0,"span"),m.Qb(1,"span",29),m.Sc(2,"\xa0"),m.Ub())}const _e=function(t){return[t]};function Ue(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div"),m.Vb(1,"div",15),m.Vb(2,"div",16),m.Vb(3,"div",17),m.Qb(4,"input",18),m.Vb(5,"div",19),m.Vb(6,"span",20),m.Vb(7,"mat-icon"),m.Sc(8,"lock"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Qc(9,pe,2,1,"div",21),m.Ub(),m.Ub(),m.Qc(10,fe,4,3,"div",22),m.Vb(11,"div",15),m.Vb(12,"div",16),m.Vb(13,"div",23),m.Vb(14,"button",24),m.cc("click",function(){m.Ec(t);const e=m.gc();return e.form.invalid||e.status_obj.loading||e.changePassword()}),m.Qc(15,ve,3,0,"span",11),m.Sc(16,"\u0110\u1ed5i m\u1eadt kh\u1ea9u "),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Qb(17,"hr"),m.Vb(18,"div",25),m.Vb(19,"a",26),m.hc(20,"localize"),m.Sc(21,"\u0110\u0103ng nh\u1eadp t\xe0i kho\u1ea3n"),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=m.gc();m.Db(9),m.nc("ngIf",t.form.controls.password.invalid&&(t.form.controls.password.dirty||t.form.controls.password.touched)),m.Db(1),m.nc("ngIf",t.status_obj.error_obj.message),m.Db(4),m.nc("disabled",t.form.invalid||t.status_obj.loading),m.Db(1),m.nc("ngIf",!0===t.status_obj.loading),m.Db(4),m.nc("routerLink",m.tc(7,_e,m.ic(20,5,"/auth/login")))}}let Se=(()=>{class t{constructor(t,e,n,o){this.formBuilder=t,this.activeRoute=e,this.commonService=n,this.ApiAuthService=o,this.subscriptions=new b.a,this.form=new i.k({}),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}}}getError(t){return!(!this.form.controls[t]||!this.form.controls[t].errors)&&this.form.controls[t].errors}getErrorType(t,e){return!!(this.form.controls[t]&&this.form.controls[t].errors&&this.form.controls[t].errors[e])&&this.form.controls[t].errors[e]}changePassword(){if(this.form.valid){var t=this.commonService.getFormObj(this.form),e=this.commonService.getMyQueryParam("token");this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.ApiAuthService.confirmForgotPassword(e,t.password).subscribe(t=>{1==t.success?(this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.ApiAuthService.redirectLoginByRole(!1)):this.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t}}))}}ngOnInit(){this.form=this.formBuilder.group({password:["",[i.z.required,i.z.minLength(6)]]}),this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(i.g),m.Pb(r.a),m.Pb(u.a),m.Pb(rt.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-confirm-forgot-password-admin"]],decls:15,vars:3,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","password","placeholder","M\u1eadt kh\u1ea9u m\u1edbi","formControlName","password","autocomplete","new-password",1,"form-control"],[1,"input-group-append"],["id","basic-addon3",1,"input-group-text"],["class","alert alert-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"text-right"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"text-center","mt-3"],[1,"text-normal",3,"routerLink"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&(m.Vb(0,"div",0),m.Vb(1,"form",1),m.Vb(2,"div",2),m.Qb(3,"div",3),m.Vb(4,"div",4),m.Vb(5,"h2",5),m.Qb(6,"img",6),m.Ub(),m.Vb(7,"div",7),m.Vb(8,"div",8),m.Vb(9,"span",9),m.Sc(10,"\u0110\u1ed5i m\u1eadt kh\u1ea9u m\u1edbi"),m.Ub(),m.Ub(),m.Vb(11,"div",10),m.Qc(12,me,6,3,"div",11),m.Qc(13,Ue,22,9,"div",11),m.Ub(),m.Ub(),m.Ub(),m.Qb(14,"div",3),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.Db(1),m.nc("formGroup",e.form),m.Db(11),m.nc("ngIf",1==e.status_obj.form_loading),m.Db(1),m.nc("ngIf",1!=e.status_obj.form_loading))},directives:[i.B,i.s,i.l,o.m,i.d,i.r,i.j,St.a,ct.b,r.k],pipes:[st.q,d.d],encapsulation:2}),t})();var ye=n("0pw4"),Ve=n("2Vo4"),ke=n("Zmss");class xe{constructor(t,e,n,o,i){this._legacyCanvasSize=xe.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=t,this.$canvas=document.createElement("canvas"),n&&"object"==typeof n?this._onDecode=e:(n||o||i?console.warn("You're using a deprecated version of the QrScanner constructor which will be removed in the future"):console.warn("Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=e),this._onDecodeError=(e="object"==typeof n?n:{}).onDecodeError||("function"==typeof n?n:this._onDecodeError),this._calculateScanRegion=e.calculateScanRegion||("function"==typeof o?o:this._calculateScanRegion),this._preferredCamera=e.preferredCamera||i||this._preferredCamera,this._legacyCanvasSize="number"==typeof n?n:"number"==typeof o?o:this._legacyCanvasSize,this._maxScansPerSecond=e.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),t.disablePictureInPicture=!0,t.playsInline=!0,t.muted=!0;let r=!1;if(t.hidden&&(t.hidden=!1,r=!0),document.body.contains(t)||(document.body.appendChild(t),r=!0),n=t.parentElement,e.highlightScanRegion||e.highlightCodeOutline){if(o=!!e.overlay,this.$overlay=e.overlay||document.createElement("div"),(i=this.$overlay.style).position="absolute",i.display="none",i.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!o&&e.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch(c){}n.insertBefore(this.$overlay,this.$video.nextSibling)}e.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(t),requestAnimationFrame(()=>{let e=window.getComputedStyle(t);"none"===e.display&&(t.style.setProperty("display","block","important"),r=!0),"visible"!==e.visibility&&(t.style.setProperty("visibility","visible","important"),r=!0),r&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),t.style.opacity="0",t.style.width="0",t.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),t.addEventListener("play",this._onPlay),t.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=xe.createQrEngine()}static set WORKER_PATH(t){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await xe.listCameras(!1)).length}catch(t){return!1}}static async listCameras(t=!1){if(!navigator.mediaDevices)return[];let e,n=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(t=>"videoinput"===t.kind);try{t&&(await n()).every(t=>!t.label)&&(e=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch(o){}try{return(await n()).map((t,e)=>({id:t.deviceId,label:t.label||(0===e?"Default Camera":"Camera "+(e+1))}))}finally{e&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),xe._stopVideoStream(e))}}async hasFlash(){let t;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;t=this.$video.srcObject}else t=(await this._getCameraStream()).stream;return"torch"in t.getVideoTracks()[0].getSettings()}catch(e){return!1}finally{t&&t!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),xe._stopVideoStream(t))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!(await this.hasFlash()))throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(t){throw this._flashOn=!1,t}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),xe._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&("https:"!==window.location.protocol&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:t,facingMode:e}=await this._getCameraStream();!this._active||this._paused?xe._stopVideoStream(t):(this._setVideoMirror(e),this.$video.srcObject=t,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(t){if(!this._paused)throw this._active=!1,t}}stop(){this.pause(),this._active=!1}async pause(t=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let e=()=>{this.$video.srcObject instanceof MediaStream&&(xe._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return t?(e(),!0):(await new Promise(t=>setTimeout(t,300)),!!this._paused&&(e(),!0))}async setCamera(t){t!==this._preferredCamera&&(this._preferredCamera=t,await this._restartVideoStream())}static async scanImage(t,e,n,o,i=!1,r=!1){let c,s=!1;e&&("scanRegion"in e||"qrEngine"in e||"canvas"in e||"disallowCanvasResizing"in e||"alsoTryWithoutScanRegion"in e||"returnDetailedScanResult"in e)?(c=e.scanRegion,n=e.qrEngine,o=e.canvas,i=e.disallowCanvasResizing||!1,r=e.alsoTryWithoutScanRegion||!1,s=!0):e||n||o||i||r?console.warn("You're using a deprecated api for scanImage which will be removed in the future."):console.warn("Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),e=!!n;try{let a,l,d;if([n,a]=await Promise.all([n||xe.createQrEngine(),xe._loadImage(t)]),[o,l]=xe._drawToCanvas(a,c,o,i),n instanceof Worker){let t=n;e||xe._postWorkerMessageSync(t,"inversionMode","both"),d=await new Promise((e,n)=>{let i,r,s,a=-1;r=o=>{o.data.id===a&&(t.removeEventListener("message",r),t.removeEventListener("error",s),clearTimeout(i),null!==o.data.data?e({data:o.data.data,cornerPoints:xe._convertPoints(o.data.cornerPoints,c)}):n(xe.NO_QR_CODE_FOUND))},s=e=>{t.removeEventListener("message",r),t.removeEventListener("error",s),clearTimeout(i),n("Scanner error: "+(e?e.message||e:"Unknown Error"))},t.addEventListener("message",r),t.addEventListener("error",s),i=setTimeout(()=>s("timeout"),1e4);let d=l.getImageData(0,0,o.width,o.height);a=xe._postWorkerMessageSync(t,"decode",d,[d.data.buffer])})}else d=await Promise.race([new Promise((t,e)=>window.setTimeout(()=>e("Scanner error: timeout"),1e4)),(async()=>{try{var[e]=await n.detect(o);if(!e)throw xe.NO_QR_CODE_FOUND;return{data:e.rawValue,cornerPoints:xe._convertPoints(e.cornerPoints,c)}}catch(s){if(/not implemented|service unavailable/.test(e=s.message||s))return xe._disableBarcodeDetector=!0,xe.scanImage(t,{scanRegion:c,canvas:o,disallowCanvasResizing:i,alsoTryWithoutScanRegion:r});throw"Scanner error: "+e}})()]);return s?d:d.data}catch(a){if(!c||!r)throw a;let e=await xe.scanImage(t,{qrEngine:n,canvas:o,disallowCanvasResizing:i});return s?e:e.data}finally{e||xe._postWorkerMessage(n,"close")}}setGrayscaleWeights(t,e,n,o=!0){xe._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:t,green:e,blue:n,useIntegerApproximation:o})}setInversionMode(t){xe._postWorkerMessage(this._qrEnginePromise,"inversionMode",t)}static async createQrEngine(t){return t&&console.warn("Specifying a worker path is not required and not supported anymore."),!xe._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")?new BarcodeDetector({formats:["qr_code"]}):n.e(35).then(n.bind(null,"hyQ9")).then(t=>t.createWorker())}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(t){let e=Math.round(2/3*Math.min(t.videoWidth,t.videoHeight));return{x:Math.round((t.videoWidth-e)/2),y:Math.round((t.videoHeight-e)/2),width:e,height:e,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var t=this.$video,e=t.videoWidth,n=t.videoHeight,o=t.offsetWidth,i=t.offsetHeight,r=t.offsetLeft,c=t.offsetTop,s=window.getComputedStyle(t),a=s.objectFit,l=e/n,d=o/i;switch(a){case"none":var b=e,h=n;break;case"fill":b=o,h=i;break;default:("cover"===a?l>d:l<d)?b=(h=i)*l:h=(b=o)/l,"scale-down"===a&&(b=Math.min(b,e),h=Math.min(h,n))}var[g,m]=s.objectPosition.split(" ").map((t,e)=>{const n=parseFloat(t);return t.endsWith("%")?(e?i-h:o-b)*n/100:n});d=this._scanRegion.height||n,a=this._scanRegion.x||0;var u=this._scanRegion.y||0;(l=this.$overlay.style).width=(s=this._scanRegion.width||e)/e*b+"px",l.height=d/n*h+"px",l.top=c+m+u/n*h+"px",n=/scaleX\(-1\)/.test(t.style.transform),l.left=r+(n?o-g-b:g)+(n?e-a-s:a)/e*b+"px",l.transform=t.style.transform}})}static _convertPoints(t,e){if(!e)return t;let n=e.x||0,o=e.y||0,i=e.width&&e.downScaledWidth?e.width/e.downScaledWidth:1;e=e.height&&e.downScaledHeight?e.height/e.downScaledHeight:1;for(let r of t)r.x=r.x*i+n,r.y=r.y*e+o;return t}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var t=Date.now()-this._lastScanTimestamp,e=1e3/this._maxScansPerSecond;t<e&&await new Promise(n=>setTimeout(n,e-t)),this._lastScanTimestamp=Date.now();try{var n=await xe.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(o){if(!this._active)return;this._onDecodeError(o)}!xe._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=xe.createQrEngine()),n?(this._onDecode?this._onDecode(n):this._legacyOnDecode&&this._legacyOnDecode(n.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",(this._scanRegion.x||0)+" "+(this._scanRegion.y||0)+" "+(this._scanRegion.width||this.$video.videoWidth)+" "+(this._scanRegion.height||this.$video.videoHeight)),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",n.cornerPoints.map(({x:t,y:e})=>`${t},${e}`).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(t){t!==xe.NO_QR_CODE_FOUND&&console.log(t)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let t=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",e=[{width:{min:1024}},{width:{min:768}},{}],n=e.map(e=>Object.assign({},e,{[t]:{exact:this._preferredCamera}}));for(let i of[...n,...e])try{let t=await navigator.mediaDevices.getUserMedia({video:i,audio:!1});return{stream:t,facingMode:this._getFacingMode(t)||(i.facingMode?this._preferredCamera:"environment"===this._preferredCamera?"user":"environment")}}catch(o){}throw"Camera not found."}async _restartVideoStream(){let t=this._paused;await this.pause(!0)&&!t&&this._active&&await this.start()}static _stopVideoStream(t){for(let e of t.getTracks())e.stop(),t.removeTrack(e)}_setVideoMirror(t){this.$video.style.transform="scaleX("+("user"===t?-1:1)+")"}_getFacingMode(t){return(t=t.getVideoTracks()[0])?/rear|back|environment/i.test(t.label)?"environment":/front|user|face/i.test(t.label)?"user":null:null}static _drawToCanvas(t,e,n,o=!1){n=n||document.createElement("canvas");let i=e&&e.x?e.x:0,r=e&&e.y?e.y:0,c=e&&e.width?e.width:t.videoWidth||t.width,s=e&&e.height?e.height:t.videoHeight||t.height;return o||(o=e&&e.downScaledWidth?e.downScaledWidth:c,e=e&&e.downScaledHeight?e.downScaledHeight:s,n.width!==o&&(n.width=o),n.height!==e&&(n.height=e)),(e=n.getContext("2d",{alpha:!1})).imageSmoothingEnabled=!1,e.drawImage(t,i,r,c,s,0,0,n.width,n.height),[n,e]}static async _loadImage(t){if(t instanceof Image)return await xe._awaitImageLoad(t),t;if(t instanceof HTMLVideoElement||t instanceof HTMLCanvasElement||t instanceof SVGImageElement||"OffscreenCanvas"in window&&t instanceof OffscreenCanvas||"ImageBitmap"in window&&t instanceof ImageBitmap)return t;if(!(t instanceof File||t instanceof Blob||t instanceof URL||"string"==typeof t))throw"Unsupported image type.";{let e=new Image;e.src=t instanceof File||t instanceof Blob?URL.createObjectURL(t):t.toString();try{return await xe._awaitImageLoad(e),e}finally{(t instanceof File||t instanceof Blob)&&URL.revokeObjectURL(e.src)}}}static async _awaitImageLoad(t){t.complete&&0!==t.naturalWidth||await new Promise((e,n)=>{let o=i=>{t.removeEventListener("load",o),t.removeEventListener("error",o),i instanceof ErrorEvent?n("Image load error"):e()};t.addEventListener("load",o),t.addEventListener("error",o)})}static async _postWorkerMessage(t,e,n,o){return xe._postWorkerMessageSync(await t,e,n,o)}static _postWorkerMessageSync(t,e,n,o){if(!(t instanceof Worker))return-1;let i=xe._workerMessageId++;return t.postMessage({id:i,type:e,data:n},o),i}}xe.DEFAULT_CANVAS_SIZE=400,xe.NO_QR_CODE_FOUND="No QR code found",xe._disableBarcodeDetector=!1,xe._workerMessageId=0;var we=xe,Ce=n("Ik8O"),Pe=n("IyRd");function Oe(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",8),m.Vb(1,"div",9),m.cc("click",function(){return m.Ec(t),m.gc().switchVideoScan()}),m.Vb(2,"mat-icon"),m.Sc(3,"loop"),m.Ub(),m.Ub(),m.Ub()}}function Me(t,e){if(1&t){const t=m.Wb();m.Vb(0,"zxing-scanner",10),m.cc("deviceChange",function(e){return m.Ec(t),m.gc().currentDevice=e})("scanSuccess",function(e){return m.Ec(t),m.gc().onCodeResult(e)})("permissionResponse",function(e){return m.Ec(t),m.gc().onHasPermission(e)})("camerasFound",function(e){return m.Ec(t),m.gc().onCamerasFound(e)})("torchCompatible",function(e){return m.Ec(t),m.gc().onTorchCompatible(e)}),m.Ub()}if(2&t){const t=m.gc();m.nc("torch",t.torchEnabled)("device",t.currentDevice)("tryHarder",t.tryHarder)("formats",t.formatsEnabled)}}function De(t,e){if(1&t&&(m.Vb(0,"span",11),m.Sc(1),m.Ub()),2&t){const t=m.gc();m.Db(1),m.Uc("( ",t.contentResult," )")}}let Qe=(()=>{class t{constructor(){this.outContentScan=new m.o,this.outNotCamAllow=new m.o,this.isShowDebugLog=!1,this.isShowScanner=!1,this.availableDevices=[],this.currentDevice=void 0,this.hasDevices=!1,this.hasPermission=!1,this.qrResultString="",this.torchEnabled=!1,this.torchAvailable$=new Ve.a(!1),this.tryHarder=!1,this.formatsEnabled=[Ce.BarcodeFormat.CODE_128,Ce.BarcodeFormat.DATA_MATRIX,Ce.BarcodeFormat.EAN_13,Ce.BarcodeFormat.QR_CODE],this.deviceCams=[],this.deviceCamSelect=0,this.isShowLog=!1,this.snd=new Audio("data:audio/wav;base64,//uQRAAAAWMSLwUIYAAsYkXgoQwAEaYLWfkWgAI0wWs/ItAAAGDgYtAgAyN+QWaAAihwMWm4G8QQRDiMcCBcH3Cc+CDv/7xA4Tvh9Rz/y8QADBwMWgQAZG/ILNAARQ4GLTcDeIIIhxGOBAuD7hOfBB3/94gcJ3w+o5/5eIAIAAAVwWgQAVQ2ORaIQwEMAJiDg95G4nQL7mQVWI6GwRcfsZAcsKkJvxgxEjzFUgfHoSQ9Qq7KNwqHwuB13MA4a1q/DmBrHgPcmjiGoh//EwC5nGPEmS4RcfkVKOhJf+WOgoxJclFz3kgn//dBA+ya1GhurNn8zb//9NNutNuhz31f////9vt///z+IdAEAAAK4LQIAKobHItEIYCGAExBwe8jcToF9zIKrEdDYIuP2MgOWFSE34wYiR5iqQPj0JIeoVdlG4VD4XA67mAcNa1fhzA1jwHuTRxDUQ//iYBczjHiTJcIuPyKlHQkv/LHQUYkuSi57yQT//uggfZNajQ3Vmz+Zt//+mm3Wm3Q576v////+32///5/EOgAAADVghQAAAAA//uQZAUAB1WI0PZugAAAAAoQwAAAEk3nRd2qAAAAACiDgAAAAAAABCqEEQRLCgwpBGMlJkIz8jKhGvj4k6jzRnqasNKIeoh5gI7BJaC1A1AoNBjJgbyApVS4IDlZgDU5WUAxEKDNmmALHzZp0Fkz1FMTmGFl1FMEyodIavcCAUHDWrKAIA4aa2oCgILEBupZgHvAhEBcZ6joQBxS76AgccrFlczBvKLC0QI2cBoCFvfTDAo7eoOQInqDPBtvrDEZBNYN5xwNwxQRfw8ZQ5wQVLvO8OYU+mHvFLlDh05Mdg7BT6YrRPpCBznMB2r//xKJjyyOh+cImr2/4doscwD6neZjuZR4AgAABYAAAABy1xcdQtxYBYYZdifkUDgzzXaXn98Z0oi9ILU5mBjFANmRwlVJ3/6jYDAmxaiDG3/6xjQQCCKkRb/6kg/wW+kSJ5//rLobkLSiKmqP/0ikJuDaSaSf/6JiLYLEYnW/+kXg1WRVJL/9EmQ1YZIsv/6Qzwy5qk7/+tEU0nkls3/zIUMPKNX/6yZLf+kFgAfgGyLFAUwY//uQZAUABcd5UiNPVXAAAApAAAAAE0VZQKw9ISAAACgAAAAAVQIygIElVrFkBS+Jhi+EAuu+lKAkYUEIsmEAEoMeDmCETMvfSHTGkF5RWH7kz/ESHWPAq/kcCRhqBtMdokPdM7vil7RG98A2sc7zO6ZvTdM7pmOUAZTnJW+NXxqmd41dqJ6mLTXxrPpnV8avaIf5SvL7pndPvPpndJR9Kuu8fePvuiuhorgWjp7Mf/PRjxcFCPDkW31srioCExivv9lcwKEaHsf/7ow2Fl1T/9RkXgEhYElAoCLFtMArxwivDJJ+bR1HTKJdlEoTELCIqgEwVGSQ+hIm0NbK8WXcTEI0UPoa2NbG4y2K00JEWbZavJXkYaqo9CRHS55FcZTjKEk3NKoCYUnSQ0rWxrZbFKbKIhOKPZe1cJKzZSaQrIyULHDZmV5K4xySsDRKWOruanGtjLJXFEmwaIbDLX0hIPBUQPVFVkQkDoUNfSoDgQGKPekoxeGzA4DUvnn4bxzcZrtJyipKfPNy5w+9lnXwgqsiyHNeSVpemw4bWb9psYeq//uQZBoABQt4yMVxYAIAAAkQoAAAHvYpL5m6AAgAACXDAAAAD59jblTirQe9upFsmZbpMudy7Lz1X1DYsxOOSWpfPqNX2WqktK0DMvuGwlbNj44TleLPQ+Gsfb+GOWOKJoIrWb3cIMeeON6lz2umTqMXV8Mj30yWPpjoSa9ujK8SyeJP5y5mOW1D6hvLepeveEAEDo0mgCRClOEgANv3B9a6fikgUSu/DmAMATrGx7nng5p5iimPNZsfQLYB2sDLIkzRKZOHGAaUyDcpFBSLG9MCQALgAIgQs2YunOszLSAyQYPVC2YdGGeHD2dTdJk1pAHGAWDjnkcLKFymS3RQZTInzySoBwMG0QueC3gMsCEYxUqlrcxK6k1LQQcsmyYeQPdC2YfuGPASCBkcVMQQqpVJshui1tkXQJQV0OXGAZMXSOEEBRirXbVRQW7ugq7IM7rPWSZyDlM3IuNEkxzCOJ0ny2ThNkyRai1b6ev//3dzNGzNb//4uAvHT5sURcZCFcuKLhOFs8mLAAEAt4UWAAIABAAAAAB4qbHo0tIjVkUU//uQZAwABfSFz3ZqQAAAAAngwAAAE1HjMp2qAAAAACZDgAAAD5UkTE1UgZEUExqYynN1qZvqIOREEFmBcJQkwdxiFtw0qEOkGYfRDifBui9MQg4QAHAqWtAWHoCxu1Yf4VfWLPIM2mHDFsbQEVGwyqQoQcwnfHeIkNt9YnkiaS1oizycqJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=")}clearResult(){this.qrResultString=""}onCamerasFound(t){this.availableDevices=t,this.hasDevices=Boolean(t&&t.length)}onCodeResult(t){this.qrResultString=t,ke.a.isEncode(t)?this.switchChangeContent(ke.a.decode(t)):this.switchChangeContent(null)}onDeviceSelectChange(t){const e=this.availableDevices.find(e=>e.deviceId===t);this.currentDevice=e||void 0}onHasPermission(t){this.hasPermission=t}onTorchCompatible(t){this.torchAvailable$.next(t||!1)}toggleTorch(){this.torchEnabled=!this.torchEnabled}toggleTryHarder(){this.tryHarder=!this.tryHarder}scanErrorHandler(t){console.log(t)}scanFailureHandler(t){console.log(t)}scanCompleteHandler(t){console.log(t)}ngOnInit(){}switchVideoScan(){this.deviceCamSelect++,this.deviceCamSelect>=this.availableDevices.length&&(this.deviceCamSelect=0),this.currentDevice=this.availableDevices[this.deviceCamSelect]}unInitSscanCam(){this.isShowScanner=!1}initVideoScan(){this.isShowScanner=!0}initScanCam(){this.isShowScanner=!0}onFileSelected(t){if(t.target.files.length>0){var e=t.target.files[0];if(!e)return;this.scanProcessSelectFile(t,e,0)}else this.switchChangeContent(null)}scanProcessSelectFile(t,e,n){we.scanImage(e,{returnDetailedScanResult:!0}).then(e=>{this.thatLog("onFileSelected: 0 "+JSON.stringify(e)),t.target.value=null;var n=e.data;this.thatLog("onFileSelected: 1 "+n),ke.a.isEncode(n)?this.switchChangeContent(ke.a.decode(n)):this.switchChangeContent(null)}).catch(o=>{n>=2?(t.target.value=null,this.thatLog("onFileSelected: 2 "+JSON.stringify(o)),this.switchChangeContent(null)):this.scanProcessSelectFile(t,e,n++)})}pauseScanQrcode(){this.isShowScanner=!1}switchChangeContent(t){this.contentResult=t,this.pauseScanQrcode(),this.beep(),navigator&&navigator.vibrate&&navigator.vibrate(200),this.thatLog("switchChangeContent: "+t),this.outContentScan.emit(this.contentResult)}thatLog(t){!0===this.isShowDebugLog&&console.log("__AZT SCAN__ :: "+t)}beep(){this.snd&&this.snd.play()}ngOnDestroy(){this.unInitSscanCam()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m.Jb({type:t,selectors:[["azt-scan-qrcode"]],outputs:{outContentScan:"outContentScan",outNotCamAllow:"outNotCamAllow"},decls:11,vars:3,consts:[[1,"scan__card-video"],["class","scan__card-control",4,"ngIf"],[3,"torch","device","tryHarder","formats","deviceChange","scanSuccess","permissionResponse","camerasFound","torchCompatible",4,"ngIf"],[1,"text-center","mt-3"],["class","text-center",4,"ngIf"],["type","file","name","fileQrcode",2,"display","none",3,"change"],["formChoseFile",""],[1,"link-center",3,"click"],[1,"scan__card-control"],[1,"scan__card-control--switch",3,"click"],[3,"torch","device","tryHarder","formats","deviceChange","scanSuccess","permissionResponse","camerasFound","torchCompatible"],[1,"text-center"]],template:function(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",0),m.Qc(1,Oe,4,0,"div",1),m.Qc(2,Me,1,4,"zxing-scanner",2),m.Ub(),m.Vb(3,"div",3),m.Qc(4,De,2,1,"span",4),m.Vb(5,"input",5,6),m.cc("change",function(t){return e.onFileSelected(t)}),m.Ub(),m.Vb(7,"a",7),m.cc("click",function(){return m.Ec(t),m.Ac(6).click()}),m.Vb(8,"mat-icon"),m.Sc(9,"upload"),m.Ub(),m.Sc(10," T\u1ea3i l\xean m\xe3 c\xf3 s\u1eb5n"),m.Ub(),m.Ub()}2&t&&(m.Db(1),m.nc("ngIf",e.deviceCams.length>1),m.Db(1),m.nc("ngIf",e.isShowScanner),m.Db(2),m.nc("ngIf",e.isShowLog))},directives:[o.m,St.a,Pe.a],styles:[".scan__card-img[_ngcontent-%COMP%], .scan__card-video[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.scan__card-video[_ngcontent-%COMP%]{position:relative}.scan__card-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%}.scan__card-control--switch[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:rgba(36,98,174,.43137254901960786);color:#fff;padding:5px;border-right:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0;cursor:pointer}.link-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),t})();const Ie=["aztScanQrcode"];function Ae(t,e){1&t&&(m.Vb(0,"div"),m.Sc(1," M\u1eadt kh\u1ea9u ph\u1ea3i d\xe0i t\u1ed1i thi\u1ec3u l\xe0 6! "),m.Ub())}function je(t,e){if(1&t&&(m.Vb(0,"div",36),m.Qc(1,Ae,2,0,"div",34),m.Ub()),2&t){const t=m.gc(2);m.Db(1),m.nc("ngIf",t.getErrorType("password","required")||t.getErrorType("password","minlength"))}}function Le(t,e){1&t&&(m.Vb(0,"div"),m.Sc(1," M\u1eadt kh\u1ea9u kh\xf4ng tr\xf9ng kh\u1edbp! "),m.Ub())}function Ee(t,e){if(1&t&&(m.Vb(0,"div",36),m.Qc(1,Le,2,0,"div",34),m.Ub()),2&t){const t=m.gc(2);m.Db(1),m.nc("ngIf",t.getErrorType("repassword","confirm_pass"))}}function Te(t,e){1&t&&(m.Vb(0,"span"),m.Qb(1,"span",37),m.Sc(2,"\xa0"),m.Ub())}function Fe(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",38),m.Vb(1,"p",39),m.Sc(2,"Kh\xf4ng th\u1ec3 x\xe1c nh\u1eadn y\xeau c\u1ea7u \u0111\u1ed5i m\u1eadt kh\u1ea9u. M\xe3 Qrcode v\xe0 s\u1ed1 \u0111i\u1ec7n tho\u1ea1i \u0111\u0103ng nh\u1eadp kh\xf4ng tr\xf9ng kh\u1edbp. Vui l\xf2ng th\u1eed l\u1ea1i."),m.Ub(),m.Vb(3,"button",40),m.cc("click",function(){return m.Ec(t),m.gc(2).reloadProcessForgot()}),m.Sc(4,"Th\u1eed l\u1ea1i"),m.Ub(),m.Ub()}}function qe(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",22),m.Vb(1,"div",23),m.Vb(2,"div",24),m.Vb(3,"div",25),m.Qb(4,"input",26),m.Vb(5,"div",27),m.Vb(6,"span",28),m.Vb(7,"mat-icon"),m.Sc(8,"qr_code"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(9,"div",23),m.Vb(10,"div",24),m.Vb(11,"div",25),m.Qb(12,"input",29),m.Vb(13,"div",27),m.Vb(14,"span",28),m.Vb(15,"mat-icon"),m.Sc(16,"lock"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Qc(17,je,2,1,"div",30),m.Ub(),m.Ub(),m.Vb(18,"div",23),m.Vb(19,"div",24),m.Vb(20,"div",25),m.Qb(21,"input",31),m.Vb(22,"div",27),m.Vb(23,"span",28),m.Vb(24,"mat-icon"),m.Sc(25,"lock"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Qc(26,Ee,2,1,"div",30),m.Ub(),m.Ub(),m.Vb(27,"div",23),m.Vb(28,"div",24),m.Vb(29,"div",32),m.Vb(30,"button",33),m.cc("click",function(){m.Ec(t);const e=m.gc();return e.form.invalid||e.status_obj.loading||e.changePassword()}),m.Qc(31,Te,3,0,"span",34),m.Sc(32,"Ti\u1ebfp t\u1ee5c "),m.Ub(),m.Ub(),m.Ub(),m.Qc(33,Fe,5,0,"div",35),m.Ub(),m.Ub()}if(2&t){const t=m.gc();m.Db(4),m.Eb("disabled",!0),m.Db(13),m.nc("ngIf",t.form.controls.password.invalid&&t.form.controls.password.dirty),m.Db(9),m.nc("ngIf",t.getErrorType("repassword","confirm_pass")&&t.form.controls.repassword.touched),m.Db(4),m.nc("disabled",t.status_obj.error||t.form.invalid||t.status_obj.loading||t.getErrorType("repassword","confirm_pass")),m.Db(1),m.nc("ngIf",!0===t.status_obj.loading),m.Db(2),m.nc("ngIf",!0===t.status_obj.error)}}const ze=function(t){return{"d-none":t}},Re=function(t){return[t]};let Be=(()=>{class t{constructor(t,e,n,o){this.commonService=t,this.apiAuthService=e,this.localStorageObjetct=n,this.formBuilder=o,this.subscriptions=new b.a,this.form=new i.k({}),this.step_by_step=0,this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.qrcode_status_obj={sussScanNextConf:!1,textResultErr:!1,textResultSuss:!1}}getError(t){return!(!this.form.controls[t]||!this.form.controls[t].errors)&&this.form.controls[t].errors}getErrorType(t,e){return"repassword"===t&&"confirm_pass"===e?this.form.controls.repassword.value!=this.form.controls.password.value:!!(this.form.controls[t]&&this.form.controls[t].errors&&this.form.controls[t].errors[e])&&this.form.controls[t].errors[e]}ngAfterViewInit(){setTimeout(()=>{this.elementaztScanQrcode&&this.elementaztScanQrcode.initScanCam()},0)}outContentScan(t){null!==t?this.apiAuthService.anonymousCheckForgotPasswordQrCode(t).subscribe(e=>{1==e.success&&e.data&&1==e.data.status?(this.step_by_step=1,this.form.controls.hash.setValue(t),this.qrcode_status_obj.sussScanNextConf=!0):(this.commonService.snackError("Ph\xe2n t\xedch m\xe3 qrcode th\u1ea5t b\u1ea1i. Vui l\xf2ng th\u1eed l\u1ea1i",null),this.reloadProcessForgot())}):(this.commonService.snackError("Ph\xe2n t\xedch m\xe3 qrcode th\u1ea5t b\u1ea1i. Vui l\xf2ng th\u1eed l\u1ea1i",null),this.reloadProcessForgot())}changePassword(){this.status_obj.loading=!0,this.apiAuthService.changePasswordByQrcode(this.form.value).subscribe(t=>{0==t.success?(this.commonService.snackError("Y\xeau c\u1ea7u \u0111\u1ed5i m\u1eadt kh\u1ea9u th\u1ea5t b\u1ea1i.",null),this.status_obj.loading=!1,this.status_obj.error=!0):(this.commonService.snackSuccess("\u0110\u1eb7t l\u1ea1i m\u1eadt kh\u1ea9u th\xe0nh c\xf4ng.",null),this.localStorageObjetct.clearAllCache(),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.commonService.myNavigation("/auth/forgot_password_susscess"))})}reloadProcessForgot(){this.elementaztScanQrcode&&this.elementaztScanQrcode.initScanCam(),this.step_by_step=0,this.form.reset(),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.qrcode_status_obj={sussScanNextConf:!1,textResultErr:!1,textResultSuss:!1}}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),this.form=this.formBuilder.group({hash:["",[i.z.required]],password:["",[i.z.required,i.z.minLength(6)]],repassword:["",[i.z.required,i.z.minLength(6)]]})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(u.a),m.Pb(rt.a),m.Pb(ye.a),m.Pb(i.g))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-confirm-forgot-password"]],viewQuery:function(t,e){if(1&t&&m.Zc(Ie,!0),2&t){let t;m.zc(t=m.dc())&&(e.elementaztScanQrcode=t.first)}},decls:33,vars:13,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://azotacdn.studybymusic.com/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],[1,"wrapper-progressBar"],[1,"progressBar"],[1,"progressBar-li",3,"ngClass"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[1,"loginscan_scanmode_cam",3,"ngClass"],[1,"text-center","mb-3"],[3,"outContentScan"],["aztScanQrcode",""],["class","loginscan_scanmode_conf",4,"ngIf"],[1,"mb-1"],["href","https://docs.azota.vn/#quen-mat-khau","target","blank"],[1,"text-normal","mt-1",3,"routerLink"],[1,"loginscan_scanmode_conf"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","password","placeholder","M\xe3 x\xe1c th\u1ef1c","formControlName","hash",1,"form-control"],[1,"input-group-append"],["id","basic-addon3",1,"input-group-text"],["type","password","placeholder","M\u1eadt kh\u1ea9u m\u1edbi","formControlName","password","autocomplete","new-password",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["type","password","placeholder","Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u m\u1edbi","formControlName","repassword","autocomplete","new-repassword",1,"form-control"],[1,"text-right"],["mat-raised-button","","color","primary",1,"btn","btn-block",3,"disabled","click"],[4,"ngIf"],["class","col-sm-12 mt-2",4,"ngIf"],[1,"alert","alert-danger"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"col-sm-12","mt-2"],[1,"text-danger"],[1,"btn","btn-outline-primary","w-100",3,"click"]],template:function(t,e){1&t&&(m.Vb(0,"div",0),m.Vb(1,"form",1),m.Vb(2,"div",2),m.Qb(3,"div",3),m.Vb(4,"div",4),m.Vb(5,"h2",5),m.Qb(6,"img",6),m.Ub(),m.Vb(7,"div",7),m.Vb(8,"div",8),m.Qb(9,"div",9),m.Qb(10,"div",9),m.Qb(11,"div",9),m.Ub(),m.Ub(),m.Vb(12,"div",10),m.Vb(13,"div",11),m.Vb(14,"span",12),m.Sc(15,"\u0110\u1ed5i m\u1eadt kh\u1ea9u m\u1edbi b\u1eb1ng m\xe3 QRCode"),m.Ub(),m.Ub(),m.Vb(16,"div",13),m.Vb(17,"div",14),m.Vb(18,"div",15),m.Sc(19," Di chuy\u1ec3n camera t\u1edbi m\xe3 qrcode "),m.Ub(),m.Vb(20,"azt-scan-qrcode",16,17),m.cc("outContentScan",function(t){return e.outContentScan(t)}),m.Ub(),m.Ub(),m.Qc(22,qe,34,6,"div",18),m.Ub(),m.Qb(23,"hr"),m.Vb(24,"div",15),m.Vb(25,"div",19),m.Vb(26,"a",20),m.Sc(27,"H\u01b0\u1edbng d\u1eabn \u0111\u1ed5i m\u1eadt kh\u1ea9u tr\xean Azota"),m.Ub(),m.Ub(),m.Vb(28,"div"),m.Vb(29,"a",21),m.hc(30,"localize"),m.Sc(31,"\u0110\u0103ng nh\u1eadp t\xe0i kho\u1ea3n"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Qb(32,"div",3),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.Db(1),m.nc("formGroup",e.form),m.Db(8),m.nc("ngClass",e.step_by_step+2==1?"active":e.step_by_step+2>1?"active pro":""),m.Db(1),m.nc("ngClass",e.step_by_step+2==2?"active":e.step_by_step+2>2?"active pro":""),m.Db(1),m.nc("ngClass",e.step_by_step+2==3?"active":e.step_by_step+2>3?"active pro":""),m.Db(6),m.nc("ngClass",m.tc(9,ze,!1!==e.qrcode_status_obj.sussScanNextConf)),m.Db(5),m.nc("ngIf",!0===e.qrcode_status_obj.sussScanNextConf),m.Db(7),m.nc("routerLink",m.tc(11,Re,m.ic(30,7,"/auth/login"))))},directives:[i.B,i.s,i.l,o.k,Qe,o.m,r.k,i.d,i.r,i.j,St.a,ct.b],pipes:[d.d],styles:['@charset "UTF-8";#authForm[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(0,0,0,.125);max-width:550px;margin:0 auto}#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin .5s ease}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\uf00c"!important;font-family:Font Awesome\\ 5 Free!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}']}),t})();var Ne=n("i680");let We=(()=>{class t{constructor(){this.WRAPPER_SIZE_WIDTH=2379,this.WRAPPER_SIZE_HEIGHT=3369,this.WRAPPER_SIZE_PADDING=20,this.RANGE_OUTER_PADDING=10,this.CONST_ROWS=25,this.LIMIT_COLUMNS=25,this.colorBackgroundRange="#f5f5f5"}initAnswerSheetWithNumberQuestion(t){return new Promise((e,n)=>{try{const n=this.calculatorWrapperLayoutQuestion(t),s=document.createElement("canvas"),a=s.getContext("2d");if(a){s.width=this.WRAPPER_SIZE_WIDTH,s.height=this.WRAPPER_SIZE_HEIGHT,a.fillStyle="white",a.fillRect(0,0,s.width,s.height),this.stockRectContext(a,n.x_range,n.y_range,n.w_range,n.h_range,"black"),t-=n.surplus_question;for(let e=1;e<=t;e++)this.drawingBoxQuestion(a,n,e);var o=s.toDataURL("image/jpeg",1),i=new Ne.a,r=i.internal.pageSize.getWidth(),c=i.internal.pageSize.getHeight();i.addImage(o,"JPEG",0,0,r,c),i.save("download_answer_sheet_"+t+"_question.pdf"),e(!0)}}catch(s){n(s)}})}switchColorBackgroundRange(){this.colorBackgroundRange="white"===this.colorBackgroundRange?"#f5f5f5":"white"}calculatorWrapperLayoutQuestion(t){const e={count_questions:0,w_range:0,h_range:0,x_range:0,y_range:0,num_column:0,num_row:0,w_question:0,h_question:0,surplus_question:0};e.x_range=0+this.WRAPPER_SIZE_PADDING,e.y_range=0+this.WRAPPER_SIZE_PADDING,e.w_range=this.WRAPPER_SIZE_WIDTH-2*this.WRAPPER_SIZE_PADDING,e.h_range=this.WRAPPER_SIZE_HEIGHT-2*this.WRAPPER_SIZE_PADDING;let n=Math.ceil(t/this.CONST_ROWS);return n>this.LIMIT_COLUMNS&&(n=this.LIMIT_COLUMNS,e.surplus_question=t-n*this.CONST_ROWS),e.count_questions=t-e.surplus_question,e.num_column=n,e.num_row=this.CONST_ROWS,e.w_question=Math.floor(e.w_range/e.num_column),e.h_question=Math.floor(e.h_range/e.num_row),e}drawingBoxQuestion(t,e,n){const o=Math.ceil(n/e.num_row),i=n<=e.num_row?n:n-e.num_row*(o-1),r=e.x_range+(o-1)*e.w_question,c=e.y_range+(i-1)*e.h_question,s=e.w_question,a=e.h_question;1===i&&(this.colorBackgroundRange="#f5f5f5"),this.fillBackgroundBox(t,r,c,s,a,this.colorBackgroundRange),i%5==0&&this.switchColorBackgroundRange();const l=Math.floor(s/6),d=c+Math.floor((a-l)/2);for(let h=1;h<=5;h++){var b=r+l*h;h>1?this.drawingBoxAnswer(t,b,d,Math.floor(l/2),"black",String.fromCharCode(h-2+65)):this.drawingBoxNumberQuestion(t,b,d,l,l,"black",n)}}stockRectContext(t,e,n,o,i,r){t.beginPath(),t.strokeStyle=r,t.rect(e,n,o,i),t.stroke(),t.closePath()}drawingBoxAnswer(t,e,n,o,i,r){e+=o,n+=o,o-=3,t.beginPath(),t.strokeStyle=i,t.arc(e,n,o,0,2*Math.PI),t.stroke(),t.closePath(),t.beginPath(),t.font=2*o-5+"px Calibri",t.textAlign="center",t.textBaseline="middle",t.fillStyle=i,t.fillText(r,e,n),t.closePath()}drawingBoxNumberQuestion(t,e,n,o,i,r,c){e=e+o-5,n+=Math.floor(i/2),t.beginPath(),t.font=2*Math.floor(i/2-3)-3+"px Calibri",t.textAlign="right",t.textBaseline="middle",t.fillStyle=r,t.fillText(c.toString(),e,n),t.closePath()}fillBackgroundBox(t,e,n,o,i,r){t.beginPath(),t.fillStyle=r,t.fillRect(e,n,o,i),t.closePath()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=m.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var He=n("unp7");let Ge=(()=>{class t{constructor(t,e,n,o){this.formBuilder=t,this.answerSheetHelper=e,this.exportPdfService=n,this.commonService=o,this.form=new i.k({}),this.isLoading=!1}ngOnInit(){this.form=this.formBuilder.group({number_question:["number_question",[i.z.required]]}),this.exportPdfService.isSupportedBrowswer()&&this.commonService.loadScriptPromises([{source:"https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/js/html2pdf.bundle.js?v=28092021",name:"html2pdf.bundle.js"}]).then(()=>{this.isLoading=!0})}ngOnDestroy(){}createAction(){if(this.isLoading){var t=Number(this.form.controls.number_question.value);this.answerSheetHelper.initAnswerSheetWithNumberQuestion(t).then(t=>{console.log(t)})}else this.commonService.snackError("Ch\u01b0a load xong th\u01b0 vi\u1ec7n",null)}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(i.g),m.Pb(We),m.Pb(He.a),m.Pb(u.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-create-answer-sheet"]],decls:20,vars:3,consts:[[3,"headerTitle","back_link"],[1,"container-fluid","component-wrap","centerBoth","hasBg","mt-3"],[1,"card"],[1,"card-body"],[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"row"],[1,"col-sm-10"],[1,"row","mb-3"],[1,"col-sm-2","control-label"],["type","number","formControlName","number_question",1,"form-control"],[1,"col-sm-2"],[1,"mb-3"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(m.Qb(0,"header-backend",0),m.Vb(1,"div",1),m.Vb(2,"div",2),m.Vb(3,"div",3),m.Vb(4,"h3"),m.Vb(5,"b"),m.Sc(6,"C\xf4ng c\u1ee5 t\u1ea1o answer sheet"),m.Ub(),m.Ub(),m.Qb(7,"hr"),m.Vb(8,"form",4),m.Vb(9,"div",5),m.Vb(10,"div",6),m.Vb(11,"div",7),m.Vb(12,"label",8),m.Sc(13,"S\u1ed1 l\u01b0\u1ee3ng c\xe2u h\u1ecfi"),m.Ub(),m.Vb(14,"div",6),m.Qb(15,"input",9),m.Ub(),m.Ub(),m.Ub(),m.Vb(16,"div",10),m.Vb(17,"div",11),m.Vb(18,"button",12),m.cc("click",function(){return e.createAction()}),m.Sc(19,"Create"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.nc("headerTitle","C\xf4ng c\u1ee5 t\u1ea1o answer sheet")("back_link","/admin/testbank/dashboard"),m.Db(8),m.nc("formGroup",e.form))},directives:[v.a,i.B,i.s,i.l,i.w,i.d,i.r,i.j,ct.b],encapsulation:2}),t})();var $e=n("0IaG"),Ze=n("k3bj");function Ke(t,e){if(1&t&&(m.Vb(0,"div",3),m.Vb(1,"mat-icon",4),m.Sc(2,"access_time"),m.Ub(),m.Sc(3),m.Ub()),2&t){const t=m.gc();m.Db(3),m.Uc(" ",t.stringDuration,"")}}let Je=(()=>{class t{constructor(t){this.commonService=t,this.expiredAction=new m.o,this.isDuration=!1,this.stringDuration="__ : __"}ngOnInit(){}ngAfterViewInit(){console.log("Change"),setTimeout(()=>{this.reInitComponent()},0)}reInitComponent(){this.bindUrlToQrCode(),0!=this.expired&&(this.isDuration=!0,this.startDuration=Math.floor(Date.now()/1e3),this.initLoopDuration())}initLoopDuration(){this.loopDuration=setInterval(()=>{var t=Math.floor(Date.now()/1e3),e=this.expired-(t-this.startDuration);if(e<0)this.clearLoopDuration(),this.qrcode.clear(),this.expiredAction.emit();else{var n=Math.floor(e/60),o=e-60*n;this.stringDuration=(n<10?"0"+n:""+n)+" : "+(o<10?"0"+o:""+o)}},1e3)}clearLoopDuration(){this.loopDuration&&clearInterval(this.loopDuration)}bindUrlToQrCode(){this.qrcode=this.commonService.createObjectQrcode(this.content,this.width,this.height,"text",!0,"image-qrcode-created"),this.qrcode._oDrawing._elCanvas.style.width="100%",this.qrcode._oDrawing._elCanvas.style.opacity=".9"}downloadQrcode(t){t||(t="azota-qr"),t=this.getTimeSaveQrcode()+"_"+t+".jpg";var e=this.createFrameQrcodeSaveLocal(this.qrcode._oDrawing._elCanvas),n=document.createElement("a");document.body.appendChild(n),n.setAttribute("href",e),n.setAttribute("download",t),n.click()}getTimeSaveQrcode(){var t=new Date,e=t.getMonth()+1,n=t.getDate();return[t.getFullYear(),(e>9?"":"0")+e,(n>9?"":"0")+n].join("_")}createFrameQrcodeSaveLocal(t){var e=document.createElement("canvas");const n=e.getContext("2d");return e.width=420,e.height=420,n&&(n.fillStyle="white",n.fillRect(0,0,e.width,e.height),n.drawImage(t,0,0,t.width,t.height,Math.floor((e.height-t.height)/2),(e.width-t.width)/2,t.width,t.height)),e.toDataURL("image/jpeg",1)}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(u.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["azt-create-qr-image"]],inputs:{content:"content",width:"width",height:"height",expired:"expired"},outputs:{expiredAction:"expiredAction"},decls:3,vars:1,consts:[[1,"qr-scan-box"],["class","duration",4,"ngIf"],["id","image-qrcode-created"],[1,"duration"],[2,"font-size","18px"]],template:function(t,e){1&t&&(m.Vb(0,"div",0),m.Qc(1,Ke,4,1,"div",1),m.Qb(2,"div",2),m.Ub()),2&t&&(m.Db(1),m.nc("ngIf",e.isDuration))},directives:[o.m,St.a],styles:[".qr-scan-box[_ngcontent-%COMP%]{border:1px solid #e0e0e0}#image-qrcode-created[_ngcontent-%COMP%]{margin:20px}.duration[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:10px;font-weight:500}"]}),t})();const Ye=["elementCreateQr"];function Xe(t,e){1&t&&m.Qb(0,"header-backend",13),2&t&&m.nc("headerTitle","")("back_link","/admin/testbank/dashboard")}function tn(t,e){1&t&&m.Qb(0,"header-frontend",14),2&t&&m.nc("headerTitle","")("back_link","/student/dashboard/0")}function en(t,e){if(1&t&&(m.Vb(0,"div",15),m.Qb(1,"azt-create-qr-image",16,17),m.Ub()),2&t){const t=m.gc();m.Db(1),m.nc("content",t.contentQrcodeHash)("expired",0)}}function nn(t,e){if(1&t&&(m.Vb(0,"div",18),m.Vb(1,"div",19),m.Vb(2,"mat-icon"),m.Sc(3,"visibility_off"),m.Ub(),m.Ub(),m.Vb(4,"div",20),m.Sc(5),m.Ub(),m.Ub()),2&t){const t=m.gc();m.Db(5),m.Uc(" ",t.notiContentString," ")}}function on(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",7),m.Vb(1,"button",21),m.cc("click",function(){return m.Ec(t),m.gc().downloadQrCode()}),m.Vb(2,"mat-icon",22),m.Sc(3,"download"),m.Ub(),m.Sc(4," T\u1ea3i xu\u1ed1ng m\xe3"),m.Ub(),m.Ub()}}function rn(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",7),m.Vb(1,"button",21),m.cc("click",function(){return m.Ec(t),m.gc().openDialog()}),m.Vb(2,"mat-icon",22),m.Sc(3,"add_photo_alternate"),m.Ub(),m.Sc(4," T\u1ea1o m\xe3 qu\xean m\u1eadt kh\u1ea9u m\u1edbi"),m.Ub(),m.Ub()}}let cn=(()=>{class t{constructor(t,e,n,o){this.commonService=t,this.apiAuthService=e,this.dialog=n,this.activeRoute=o,this.subscriptions=new b.a,this.notiContentString="",this.contentQrcodeHash=!1,this.role=0}ngOnInit(){this.role=+this.commonService.getMyParam(this.activeRoute,"role"),this.checkQrThisMe()}checkQrThisMe(){this.apiAuthService.checkForgotPasswordQrCode().subscribe(t=>{1==t.success?(this.statusQrcodeThat=t.data.status,this.notiContentString=0==t.data.status?"B\u1ea1n ch\u01b0a t\u1ea1o m\xe3 Qrcode d\xf9ng trong tr\u01b0\u1eddng h\u1ee3p qu\xean m\u1eadt kh\u1ea9u. Vui l\xf2ng t\u1ea1o m\xe3 Qrcode m\u1edbi.":"M\xe3 Qrcode \u0111\xe3 t\u1ed3n t\u1ea1i. B\u1ea1n kh\xf4ng th\u1ec3 xem m\xe3 hi\u1ec7n t\u1ea1i. T\u1ea1o m\xe3 m\u1edbi trong tr\u01b0\u1eddng h\u1ee3p b\u1ea1n \u0111\xe3 m\u1ea5t m\xe3 Qrcode."):this.commonService.snackError("Kh\xf4ng c\xf3 k\u1ebft qu\u1ea3 ph\u1ea3n h\u1ed3i.",null)})}createQrcodeForgot(){this.apiAuthService.createForgotPasswordQrCode().subscribe(t=>{1==t.success?this.contentQrcodeHash=t.data.qrCode:this.commonService.snackError("Kh\xf4ng c\xf3 k\u1ebft qu\u1ea3 ph\u1ea3n h\u1ed3i.",null)})}openDialog(){this.dialog.open(sn).afterClosed().subscribe(t=>{!0===t&&this.createQrcodeForgot()})}downloadQrCode(){this.elementCreateQr&&this.elementCreateQr.downloadQrcode("azota-forgot")}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(u.a),m.Pb(rt.a),m.Pb($e.b),m.Pb(r.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-gzip-tool"]],viewQuery:function(t,e){if(1&t&&m.Zc(Ye,!0),2&t){let t;m.zc(t=m.dc())&&(e.elementCreateQr=t.first)}},decls:16,vars:6,consts:[["class","mb-3",3,"headerTitle","back_link",4,"ngIf"],[3,"headerTitle","back_link",4,"ngIf"],[1,"container","component-wrap","centerBoth","hasBg","mt-3"],[1,"card","mb-5"],[1,"card-body"],[1,"text-center"],[1,"card-content","mt-3","text-center"],[1,"card-center-row"],[1,"qrcode-block","card-center-row"],[1,"qrcode-block-fake","card-center-row"],["class","qrcode-block-real",4,"ngIf"],["class","qrcode-block-fake-content",4,"ngIf"],["class","card-center-row",4,"ngIf"],[1,"mb-3",3,"headerTitle","back_link"],[3,"headerTitle","back_link"],[1,"qrcode-block-real"],["width","350","height","350",3,"content","expired"],["elementCreateQr",""],[1,"qrcode-block-fake-content"],[1,"qrcode-block-icon"],[1,"qrcode-block-note"],[1,"card-center-row","btn","btn-outline-primary",3,"click"],[2,"margin-right","10px"]],template:function(t,e){1&t&&(m.Qc(0,Xe,1,2,"header-backend",0),m.Qc(1,tn,1,2,"header-frontend",1),m.Vb(2,"div",2),m.Vb(3,"div",3),m.Vb(4,"div",4),m.Vb(5,"h3",5),m.Vb(6,"b"),m.Sc(7,"Tr\xecnh t\u1ea1o m\xe3 QRCode Qu\xean m\u1eadt kh\u1ea9u"),m.Ub(),m.Ub(),m.Vb(8,"div",6),m.Vb(9,"div",7),m.Vb(10,"div",8),m.Vb(11,"div",9),m.Qc(12,en,3,2,"div",10),m.Qc(13,nn,6,1,"div",11),m.Ub(),m.Ub(),m.Ub(),m.Qc(14,on,5,0,"div",12),m.Qc(15,rn,5,0,"div",12),m.Ub(),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.nc("ngIf",0==e.role),m.Db(1),m.nc("ngIf",1==e.role),m.Db(11),m.nc("ngIf",!1!==e.contentQrcodeHash),m.Db(1),m.nc("ngIf",!1===e.contentQrcodeHash),m.Db(1),m.nc("ngIf",!1!==e.contentQrcodeHash),m.Db(1),m.nc("ngIf",!1===e.contentQrcodeHash))},directives:[o.m,v.a,Ze.a,Je,St.a],styles:[".card-center-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.qrcode-block[_ngcontent-%COMP%]{padding:10px;border:1px solid #e0e0e0;margin-bottom:20px;max-width:400px;max-height:400px;min-width:300px;min-height:300px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.qrcode-block-fake[_ngcontent-%COMP%]{width:100%;height:100%}.qrcode-block-fake-content[_ngcontent-%COMP%]{padding:10px}.qrcode-block-note[_ngcontent-%COMP%]{line-height:30px}"]}),t})(),sn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m.Jb({type:t,selectors:[["dialog-conf-content-qrcode-dialog"]],decls:16,vars:1,consts:[["mat-dialog-title",""],[1,"mat-typography"],["align","end"],["mat-dialog-close","",1,"btn","btn-default","mr-3"],["cdkFocusInitial","",1,"btn","btn-outline-primary",3,"mat-dialog-close"]],template:function(t,e){1&t&&(m.Vb(0,"h2",0),m.Sc(1,"Tr\xecnh t\u1ea1o m\xe3 QRCode Qu\xean m\u1eadt kh\u1ea9u"),m.Ub(),m.Vb(2,"mat-dialog-content",1),m.Vb(3,"h3"),m.Sc(4,'B\u1ea5m "X\xe1c nh\u1eadn" \u0111\u1ed3ng ngh\u0129a v\u1edbi vi\u1ec7c b\u1ea1n \u0111\xe3 hi\u1ec3u v\u1ec1 c\xe1c \u0111i\u1ec1u sau'),m.Ub(),m.Vb(5,"p"),m.Sc(6,"1. M\xe3 Qrcode qu\xean m\u1eadt kh\u1ea9u l\xe0 duy nh\u1ea5t. Khi b\u1ea1n t\u1ea1o m\u1edbi m\xe3, m\xe3 c\u0169 s\u1ebd kh\xf4ng c\xf2n gi\xe1 tr\u1ecb s\u1eed d\u1ee5ng."),m.Ub(),m.Vb(7,"p"),m.Sc(8,"2. M\xe3 Qrcode qu\xean m\u1eadt kh\u1ea9u l\xe0 ch\xeca kho\xe1. Vui l\xf2ng kh\xf4ng chia s\u1ebb hay \u0111\u1ec3 ng\u01b0\u1eddi kh\xe1c c\xf3 \u0111\u01b0\u1ee3c m\xe3 qrcode c\u1ee7a b\u1ea1n."),m.Qb(9,"br"),m.Sc(10,"Sau khi t\u1ea1o th\xe0nh c\xf4ng, vui l\xf2ng t\u1ea3i xu\u1ed1ng m\xe3 Qrcode \u0111\u1ec3 s\u1eed d\u1ee5ng cho m\u1ee5c \u0111\xedch qu\xean m\u1eadt kh\u1ea9u sau n\xe0y."),m.Ub(),m.Ub(),m.Vb(11,"mat-dialog-actions",2),m.Vb(12,"button",3),m.Sc(13,"Hu\u1ef7"),m.Ub(),m.Vb(14,"button",4),m.Sc(15,"X\xe1c nh\u1eadn"),m.Ub(),m.Ub()),2&t&&(m.Db(14),m.nc("mat-dialog-close",!0))},directives:[$e.h,$e.e,$e.c,$e.d],encapsulation:2}),t})();var an=n("T5ib");let ln=(()=>{class t{constructor(t,e,n){this.formBuilder=t,this.commonService=e,this.resultJsonHelper=n,this.subscriptions=new b.a,this.form=new i.k({})}ngOnInit(){this.form=this.formBuilder.group({content:["",[i.z.required]],result:["",[i.z.required]]})}decodeAction(){var t=this.form.controls.content.value;try{this.form.controls.result.setValue(JSON.stringify(this.resultJsonHelper.decode(JSON.parse(t))))}catch(e){this.form.controls.result.setValue(null)}}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(i.g),m.Pb(u.a),m.Pb(an.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-decode-json-tool"]],decls:25,vars:3,consts:[[3,"headerTitle","back_link"],[1,"container-fluid","component-wrap","centerBoth","hasBg","mt-3"],[1,"card"],[1,"card-body"],[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"row"],[1,"col-sm-10"],[1,"row","mb-3"],[1,"col-sm-2","control-label"],["type","text","formControlName","content",1,"form-control"],["type","text","readonly","","formControlName","result",1,"form-control"],[1,"col-sm-2"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(m.Qb(0,"header-backend",0),m.Vb(1,"div",1),m.Vb(2,"div",2),m.Vb(3,"div",3),m.Vb(4,"h3"),m.Vb(5,"b"),m.Sc(6,"C\xf4ng c\u1ee5 gi\u1ea3i m\xe3 json"),m.Ub(),m.Ub(),m.Qb(7,"hr"),m.Vb(8,"form",4),m.Vb(9,"div",5),m.Vb(10,"div",6),m.Vb(11,"div",7),m.Vb(12,"label",8),m.Sc(13,"N\u1ed9i dung"),m.Ub(),m.Vb(14,"div",6),m.Qb(15,"textarea",9),m.Ub(),m.Ub(),m.Vb(16,"div",5),m.Vb(17,"label",8),m.Sc(18,"K\u1ebft qu\u1ea3"),m.Ub(),m.Vb(19,"div",6),m.Qb(20,"textarea",10),m.Ub(),m.Ub(),m.Ub(),m.Vb(21,"div",11),m.Vb(22,"div"),m.Vb(23,"button",12),m.cc("click",function(){return e.decodeAction()}),m.Sc(24,"Gi\u1ea3i m\xe3"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.nc("headerTitle","C\xf4ng c\u1ee5 gi\u1ea3i m\xe3 json")("back_link","/admin/testbank/dashboard"),m.Db(8),m.nc("formGroup",e.form))},directives:[v.a,i.B,i.s,i.l,i.d,i.r,i.j,ct.b],encapsulation:2}),t})();var dn=n("uZ1F");const bn=["searchUrl"],hn=["searchContent"];function gn(t,e){1&t&&m.Qb(0,"div",15)}function mn(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",16),m.cc("click",function(){return m.Ec(t),m.gc().search(1)}),m.Sc(1," view all "),m.Ub()}}function un(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",17),m.cc("click",function(){return m.Ec(t),m.gc().EmptyTrackLog()}),m.Sc(1," X\xf3a t\u1ea5t c\u1ea3 l\u1ed7i exception "),m.Ub()}}function pn(t,e){1&t&&(m.Vb(0,"div",23),m.Sc(1,"Tuy\u1ec7t v\u1eddi, kh\xf4ng c\xf3 l\u1ed7i n\xe0o."),m.Ub())}function fn(t,e){if(1&t&&(m.Vb(0,"div",29),m.Vb(1,"a",30),m.Sc(2,"Show \u1ea2nh"),m.Ub(),m.Ub()),2&t){const t=m.gc().$implicit;m.Db(1),m.oc("href",t.screenshot,m.Ic)}}function vn(t,e){if(1&t&&(m.Qb(0,"img",31),m.hc(1,"mycdn")),2&t){const t=m.gc().$implicit;m.oc("src",m.ic(1,1,t.screenshot),m.Ic)}}function _n(t,e){if(1&t&&(m.Vb(0,"div",24),m.Vb(1,"div",25),m.Vb(2,"div"),m.Sc(3),m.Ub(),m.Vb(4,"div"),m.Sc(5),m.Ub(),m.Vb(6,"div"),m.Sc(7),m.Ub(),m.Vb(8,"div"),m.Sc(9),m.Ub(),m.Vb(10,"div"),m.Sc(11),m.Ub(),m.Vb(12,"div"),m.Sc(13),m.hc(14,"date"),m.Ub(),m.Vb(15,"div"),m.Sc(16,"Url:"),m.Vb(17,"a",26),m.Sc(18),m.Ub(),m.Ub(),m.Vb(19,"div"),m.Sc(20),m.Ub(),m.Vb(21,"div"),m.Sc(22),m.Ub(),m.Vb(23,"div"),m.Sc(24),m.Ub(),m.Ub(),m.Vb(25,"div"),m.Qc(26,fn,3,1,"div",27),m.Qc(27,vn,2,3,"img",28),m.Ub(),m.Ub()),2&t){const t=e.$implicit;m.Db(3),m.Uc("ID: ",t.id,""),m.Db(2),m.Uc("Name: ",t.name,""),m.Db(2),m.Uc("User Id: ",t.userId,""),m.Db(2),m.Uc("Track Key: ",t.trackKey,""),m.Db(2),m.Uc("Ip address: ",t.ipAddress,""),m.Db(2),m.Uc("Created at: ",m.jc(14,13,t.createdAt,"dd/MM/yyyy HH:mm:ss"),""),m.Db(4),m.oc("href",t.url,m.Ic),m.Db(1),m.Uc(" ",t.url," "),m.Db(2),m.Uc("User agent: ",t.useragent,""),m.Db(2),m.Uc("Content: ",t.content,""),m.Db(2),m.Uc("Error: ",t.error,""),m.Db(2),m.nc("ngIf",null!=t.screenshot),m.Db(1),m.nc("ngIf",null!=t.screenshot)}}function Un(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",18),m.Qc(1,pn,2,0,"div",19),m.Qc(2,_n,28,16,"div",20),m.Vb(3,"div",21),m.Vb(4,"azt-paging",22),m.cc("SendPage",function(e){return m.Ec(t),m.gc().clickPage(e)}),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=m.gc();m.Db(1),m.nc("ngIf",0==t.data.total),m.Db(1),m.nc("ngForOf",t.trackLogs),m.Db(2),m.nc("screen","report_error")("linkPage","/auth/report_exception")("eventSearch",t.sendEventSearchToPaging)("lengthPage",t.lengthPage)("paging",t.page)}}let Sn=(()=>{class t{constructor(t,e,n){this.commonService=t,this.apiCommonService=e,this.dialog=n,this.page=1,this.paramApiSeach="",this.form=new i.k({}),this.eventSearch="",this.pageSearch=1,this.showAllError=!1,this.loading=!1,this.statusShearch=!1,this.phone_search="",this.url_search="",this.user_id_search="",this.isMobile=!1,this.sendEventSearchToPaging=""}GetTrackLogObjs(){this.statusShearch=!1,this.loading=!0,this.apiCommonService.GetTrackLogObjsException(this.page,this.paramApiSeach).subscribe(t=>{1==t.success?(this.trackLogs=t.data.objs,this.data=t.data,this.lengthPage=Math.ceil(this.data.total/18),this.showAllError=!1,this.loading=!1):(this.loading=!1,this.commonService.snackError("L\u1ed7i: kh\xf4ng l\u1ea5y \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u","\u0110\xf3ng"))})}EmptyTrackLog(){this.apiCommonService.EmptyTrackLog().subscribe(t=>{1==t.success?(this.GetTrackLogObjs(),this.commonService.snackSuccess("X\xf3a l\u1ed7i exception th\xe0nh c\xf4ng","\u0110\xf3ng")):this.commonService.snackError("L\u1ed7i: x\xf3a kh\xf4ng th\xe0nh c\xf4ng","\u0110\xf3ng")})}clickPage(t){this.page=t,this.GetTrackLogObjs()}changeParamQuery(){this.commonService.myNavigationWithQueryString("/auth/report_exception","?page="+this.page+this.paramApiSeach)}search(t){0==t?(this.paramApiSeach=(""==this.searchUrl.nativeElement.value?"":"&urlTxt="+this.searchUrl.nativeElement.value)+(""==this.searchContent.nativeElement.value?"":"&contentTxt="+this.searchContent.nativeElement.value),this.GetTrackLogObjs()):(this.searchUrl.nativeElement.value="",this.searchContent.nativeElement.value="",this.paramApiSeach="",this.GetTrackLogObjs()),this.changeParamQuery()}checkDevice(){this.isMobile=window.innerWidth<768}ngOnInit(){var t=this.commonService.getMyQueryParam("page");this.page=parseInt(""==t?1:t),this.GetTrackLogObjs(),this.commonService.translateMetaData({title:"lang_cms_error_management_title",description:"lang_cms_error_management_description",image:"lang_cms_test_image"}),this.checkDevice()}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(u.a),m.Pb(p.a),m.Pb($e.b))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-error-exception"]],viewQuery:function(t,e){if(1&t&&(m.Zc(bn,!0),m.Zc(hn,!0)),2&t){let t;m.zc(t=m.dc())&&(e.searchUrl=t.first),m.zc(t=m.dc())&&(e.searchContent=t.first)}},decls:20,vars:8,consts:[[3,"headerTitle","back_link"],[1,"content","fluid-container","m-3",2,"padding","10px"],["class","spinner-border spinner-border-sm","role","status","style","margin: 20px 50%;",4,"ngIf"],[1,"row","pb-3","m-0"],[1,"col-12"],["type","text","placeholder","Nh\u1eadp n\u1ed9i dung",1,"input-search",3,"value","keyup.enter"],["searchContent",""],["type","text","placeholder","Nh\u1eadp url",1,"input-search",3,"value","keyup.enter"],["searchUrl",""],[1,"col-12","text-right"],[1,"search-icon","clickable",2,"position","unset",3,"click"],[1,"search-ver",2,"vertical-align","middle","font-size","27px","height","27px","width","27px",3,"click"],["class","row pb-3 ml-4 mr-4 clickable","style","color: blue;",3,"click",4,"ngIf"],["class","row pb-3 ml-4 mr-4 clickable","style","color: blue; float: right;",3,"click",4,"ngIf"],["class","ml-3 mr-3",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm",2,"margin","20px 50%"],[1,"row","pb-3","ml-4","mr-4","clickable",2,"color","blue",3,"click"],[1,"row","pb-3","ml-4","mr-4","clickable",2,"color","blue","float","right",3,"click"],[1,"ml-3","mr-3"],["class","text-center m-5",4,"ngIf"],["class","view-error",4,"ngFor","ngForOf"],[1,"mt-5"],[3,"screen","linkPage","eventSearch","lengthPage","paging","SendPage"],[1,"text-center","m-5"],[1,"view-error"],[1,"p-3"],["target","_blank","rel","noopener noreferrer",3,"href"],["class","click-show-image",4,"ngIf"],["class","pb-3","style","width: 100%","alt","",3,"src",4,"ngIf"],[1,"click-show-image"],["target","_blank","rel","noopener noreferrer",2,"color","white",3,"href"],["alt","",1,"pb-3",2,"width","100%",3,"src"]],template:function(t,e){1&t&&(m.Qb(0,"header-backend",0),m.Vb(1,"div",1),m.Qc(2,gn,1,0,"div",2),m.Vb(3,"div",3),m.Vb(4,"div",4),m.Vb(5,"input",5,6),m.cc("keyup.enter",function(){return e.search(0)}),m.Ub(),m.Ub(),m.Ub(),m.Vb(7,"div",3),m.Vb(8,"div",4),m.Vb(9,"input",7,8),m.cc("keyup.enter",function(){return e.search(0)}),m.Ub(),m.Ub(),m.Ub(),m.Vb(11,"div",3),m.Vb(12,"div",9),m.Vb(13,"div",10),m.cc("click",function(){return e.search(0)}),m.Sc(14," T\xecm ki\u1ebfm "),m.Vb(15,"mat-icon",11),m.cc("click",function(){return e.search(0)}),m.Sc(16," search "),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Qc(17,mn,2,0,"div",12),m.Qc(18,un,2,0,"div",13),m.Qc(19,Un,5,7,"div",14),m.Ub()),2&t&&(m.nc("headerTitle",e.data&&e.data.total?"L\u1ed7i exception ("+e.data.total+")":"L\u1ed7i exception")("back_link","/admin/testbank/dashboard"),m.Db(2),m.nc("ngIf",!0===e.loading),m.Db(3),m.oc("value",e.url_search),m.Db(4),m.oc("value",e.url_search),m.Db(8),m.nc("ngIf",""!=e.paramApiSeach),m.Db(1),m.nc("ngIf",""==e.paramApiSeach&&e.data&&0!=e.data.total),m.Db(1),m.nc("ngIf",e.data&&!1===e.loading))},directives:[v.a,o.m,St.a,o.l,dn.a],pipes:[o.e,st.o],styles:[".content[_ngcontent-%COMP%]{border-radius:5px}.search-icon[_ngcontent-%COMP%]{position:absolute;top:0;color:#0eafc0}.input-search[_ngcontent-%COMP%]{width:100%;border:2px solid rgba(204,201,201,.8901960784313725);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.icon_custom[_ngcontent-%COMP%]{vertical-align:middle;color:rgba(51,51,51,.5803921568627451);font-size:16px;height:20px;width:16px;margin-right:3px}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0eafc0;outline:none}.box[_ngcontent-%COMP%]:hover{background-color:#ecebeb}.buttom-done[_ngcontent-%COMP%]{float:right;color:#fff;max-width:87px;text-align:center;padding:4px 10px;border-radius:5px;background-color:#63d16f}.done[_ngcontent-%COMP%]{color:#fff!important;background-color:#63d16f!important}.buttom-slacking[_ngcontent-%COMP%]{float:right;color:#fff;max-width:87px;text-align:center;padding:4px 10px;border-radius:5px;background-color:#fd612c}.open[_ngcontent-%COMP%]{color:#fff!important;background-color:#fd612c!important}textarea[_ngcontent-%COMP%]{width:100%;border:1px solid #d4d4d4;overflow-y:hidden;padding:7px}.select-dropdown[_ngcontent-%COMP%]{float:right;background-color:#e6e6e6;width:105px;text-align:center;max-width:100%;border-radius:3px;padding:6px}.showFullImageScreen[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#1b2638;z-index:520;display:none;align-content:center;justify-content:center;align-items:center}.showFullImageScreen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:95%}.showFullImageScreen[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0;height:30px;width:30px;margin:10px;color:#f0f8ff;font-size:30px}.showFullImageScreen[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{background-color:#ccc;border-radius:3px}.view-error[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e4e4e4;border-radius:5px;margin-bottom:8px}.click-show-image[_ngcontent-%COMP%]{padding:5px;background:#3636ff;position:absolute;color:#fff;font-weight:500}"]}),t})();var yn=n("IU+r"),Vn=n("1jcm");const kn=["fondovalor1"],xn=["fondovalor2"],wn=["fondovalor3"];function Cn(t,e){if(1&t){const t=m.Wb();m.Vb(0,"a",17),m.cc("click",function(){return m.Ec(t),m.gc().AllErr()}),m.Sc(1,"All Error"),m.Ub()}}function Pn(t,e){1&t&&m.Qb(0,"div",18)}function On(t,e){1&t&&(m.Vb(0,"div",27),m.Sc(1,"Tuy\u1ec7t v\u1eddi, kh\xf4ng c\xf3 l\u1ed7i n\xe0o."),m.Qb(2,"img",28),m.Ub())}function Mn(t,e){if(1&t&&(m.Qb(0,"img",39),m.hc(1,"mycdn")),2&t){const t=m.gc().$implicit;m.oc("src",m.ic(1,1,t.avatar),m.Ic)}}function Dn(t,e){if(1&t&&m.Qb(0,"azt-create-avatar",40),2&t){const t=m.gc().$implicit;m.nc("nameCreateAvatar",t.fullname)("size",38)}}function Qn(t,e){if(1&t&&(m.Vb(0,"div",41),m.Sc(1," Url: "),m.Vb(2,"a",42),m.Sc(3),m.Ub(),m.Ub()),2&t){const t=m.gc().$implicit;m.Db(2),m.oc("href",t.screenshot,m.Ic),m.Db(1),m.Uc(" ",t.screenshot," ")}}function In(t,e){if(1&t&&(m.Qb(0,"img",43),m.hc(1,"mycdn")),2&t){const t=m.gc().$implicit;m.oc("src",m.ic(1,1,t.screenshot),m.Ic)}}function An(t,e){if(1&t&&(m.Vb(0,"div",29),m.Vb(1,"div",30),m.Vb(2,"div",31),m.Qc(3,Mn,2,3,"img",32),m.Qc(4,Dn,1,2,"azt-create-avatar",33),m.Vb(5,"div",34),m.Vb(6,"div",35),m.Sc(7),m.Ub(),m.Vb(8,"div"),m.Sc(9),m.hc(10,"date"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(11,"div",36),m.Sc(12),m.Ub(),m.Qc(13,Qn,4,2,"div",37),m.Vb(14,"div"),m.Qc(15,In,2,3,"img",38),m.Ub(),m.Ub()),2&t){const t=e.$implicit;m.Db(3),m.nc("ngIf",null!=t.avatar),m.Db(1),m.nc("ngIf",null==t.avatar),m.Db(3),m.Tc(t.fullname),m.Db(2),m.Uc(" ",m.jc(10,7,t.createdAt,"dd/MM/yyyy HH:mm:ss"),""),m.Db(3),m.Uc(" ",t.content," "),m.Db(1),m.nc("ngIf",null!=t.screenshot),m.Db(2),m.nc("ngIf",null!=t.screenshot)}}function jn(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",19),m.Vb(1,"div",20),m.Vb(2,"div",21),m.Sc(3,"L\u1ed7i t\u1eeb ng\u01b0\u1eddi d\xf9ng: "),m.Ub(),m.Vb(4,"div",22),m.Sc(5),m.Ub(),m.Ub(),m.Qc(6,On,3,0,"div",23),m.Qc(7,An,16,10,"div",24),m.Vb(8,"div",25),m.Vb(9,"azt-paging",26),m.cc("SendPage",function(e){return m.Ec(t),m.gc().clickPage(e)}),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=m.gc();m.Db(5),m.Uc("T\u1ed5ng s\u1ed1 l\u1ed7i: ",t.data.totalObjs,""),m.Db(1),m.nc("ngIf",0==t.data.totalObjs),m.Db(1),m.nc("ngForOf",t.trackLogs),m.Db(2),m.nc("screen","report_error")("linkPage","/auth/report_error")("eventSearch",t.sendEventSearchToPaging)("lengthPage",t.lengthPage)("paging",t.page)}}const Ln=".content[_ngcontent-%COMP%]{background-color:#e0e4eb;border-radius:5px}.search-icon[_ngcontent-%COMP%]{position:absolute;top:0;color:#0eafc0}.input-search[_ngcontent-%COMP%]{width:100%;border:2px solid rgba(204,201,201,.8901960784313725);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.icon_custom[_ngcontent-%COMP%]{vertical-align:middle;color:rgba(51,51,51,.5803921568627451);font-size:16px;height:20px;width:16px;margin-right:3px}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0eafc0;outline:none}.box[_ngcontent-%COMP%]:hover{background-color:#ecebeb}.buttom-done[_ngcontent-%COMP%]{float:right;color:#fff;max-width:87px;text-align:center;padding:4px 10px;border-radius:5px;background-color:#63d16f}.done[_ngcontent-%COMP%]{color:#fff!important;background-color:#63d16f!important}.buttom-slacking[_ngcontent-%COMP%]{float:right;color:#fff;max-width:87px;text-align:center;padding:4px 10px;border-radius:5px;background-color:#fd612c}.open[_ngcontent-%COMP%]{color:#fff!important;background-color:#fd612c!important}textarea[_ngcontent-%COMP%]{width:100%;border:1px solid #d4d4d4;overflow-y:hidden;padding:7px}.select-dropdown[_ngcontent-%COMP%]{float:right;background-color:#e6e6e6;width:105px;text-align:center;max-width:100%;border-radius:3px;padding:6px}.showFullImageScreen[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#1b2638;z-index:520;display:none;align-content:center;justify-content:center;align-items:center}.showFullImageScreen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:95%}.showFullImageScreen[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0;height:30px;width:30px;margin:10px;color:#f0f8ff;font-size:30px}.showFullImageScreen[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{background-color:#ccc;border-radius:3px}.view-error[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e4e4e4;border-radius:5px;margin-bottom:8px}.click-show-image[_ngcontent-%COMP%]{padding:5px;background:#3636ff;position:absolute;color:#fff;font-weight:500}";let En=(()=>{class t{constructor(t,e,n){this.commonService=t,this.apiCommonService=e,this.dialog=n,this.page=1,this.form=new i.k({}),this.eventSearch="",this.pageSearch=1,this.showAllError=!1,this.loading=!1,this.statusShearch=!1,this.phone_search="",this.url_search="",this.user_id_search="",this.isMobile=!1,this.sendEventSearchToPaging=""}AllErr(){this.commonService.myNavigationWithQueryString("/auth/report_error",""),this.getParamUrl("","",""),this.GetTrackLogObjs()}GetTrackLogObjs(){this.statusShearch=!1,this.loading=!0,this.apiCommonService.GetTrackLogObjs(this.page).subscribe(t=>{1==t.success?(this.trackLogs=t.data.trackLogs,this.data=t.data,this.lengthPage=Math.ceil(t.data.totalObjs/18),this.showAllError=!1,this.loading=!1):(this.loading=!1,this.commonService.snackError("L\u1ed7i: kh\xf4ng l\u1ea5y \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u","\u0110\xf3ng"))})}SearchTrackLogObjs(){this.loading=!0,this.apiCommonService.SearchTrackLogObjs(this.page,this.eventSearch).subscribe(t=>{1==t.success?(this.trackLogs=t.data.trackLogs,this.data=t.data,this.lengthPage=Math.ceil(t.data.totalObjs/18),this.showAllError=!0,this.loading=!1):(this.loading=!1,this.commonService.snackError("L\u1ed7i: th\xf4ng tin b\u1ea1n t\xecm kh\xf4ng t\u1ed3n t\u1ea1i","\u0110\xf3ng"))})}searchByEvent(t,e){this.statusShearch=!0,this.page=1,this.loading=!0,this.eventSearch=("userId"==t?"&userId="+e:"")+("url"==t?"&url="+e:""),this.changeLink(),this.getParamUrl("","userId"==t?e:"","url"==t?e:""),this.SearchTrackLogObjs()}search(){this.statusShearch=!0,this.page=1,this.loading=!0;var t=this.fondovalor1.nativeElement.value,e=this.fondovalor2.nativeElement.value,n=this.fondovalor3.nativeElement.value,o=""==t?"":"&userPhone="+t,i=""==e?"":"&userId="+e,r=""==n?"":"&url="+n;""!=e||""!=t||""!=n?(this.eventSearch=o+i+r,this.changeLink(),this.getParamUrl(t,e,n),this.SearchTrackLogObjs()):""!=e&&""!=t&&""!=n||(this.eventSearch=o+i+r,this.AllErr())}dataProcessing(t){for(var e=0;e<this.trackLogs.length;e++)this.trackLogs[e].id==t&&(this.sendDialog={id:this.trackLogs[e].id,fullname:this.trackLogs[e].fullname,createdAt:this.trackLogs[e].createdAt,content:this.trackLogs[e].content,avarta:this.trackLogs[e].avarta,status:this.trackLogs[e].status,url:this.trackLogs[e].url,screenshot:this.trackLogs[e].screenshot})}openDialog(t){this.dataProcessing(t),this.dialog.open(Tn,{width:"750px",height:"80%",data:this.sendDialog}).afterClosed().subscribe(t=>{"save"==t&&this.GetTrackLogObjs()})}clickPage(t){this.page=t,0==this.statusShearch?this.GetTrackLogObjs():1==this.statusShearch&&this.SearchTrackLogObjs(),this.changeLink()}changeLink(){this.commonService.myNavigationWithQueryString("/auth/report_error","?page="+this.page+this.eventSearch)}eventHandling(){var t=this.commonService.getMyQueryParam("page"),e=this.commonService.getMyQueryParam("userPhone"),n=this.commonService.getMyQueryParam("userId"),o=this.commonService.getMyQueryParam("url"),i=""==e?"":"&userPhone="+e,r=""==n?"":"&userId="+n,c=""==o?"":"&url="+o,s=""==e?"":e,a=""==n?"":n,l=""==o?"":o;this.getParamUrl(e,n,o),this.page=parseInt(""==t?1:t),""!=i||""!=r||""!=c?(this.statusShearch=!0,this.eventSearch=i+r+c,this.sendEventSearchToPaging={userPhone:s,userId:a,urls:l},this.SearchTrackLogObjs()):this.GetTrackLogObjs()}checkDevice(){this.isMobile=window.innerWidth<768}getParamUrl(t,e,n){this.phone_search=t,this.user_id_search=e,this.url_search=n}ngOnInit(){this.eventHandling(),this.commonService.translateMetaData({title:"lang_cms_error_management_title",description:"lang_cms_error_management_description",image:"lang_cms_test_image"}),this.checkDevice()}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(u.a),m.Pb(p.a),m.Pb($e.b))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-error-management"]],viewQuery:function(t,e){if(1&t&&(m.Zc(kn,!0),m.Zc(xn,!0),m.Zc(wn,!0)),2&t){let t;m.zc(t=m.dc())&&(e.fondovalor1=t.first),m.zc(t=m.dc())&&(e.fondovalor2=t.first),m.zc(t=m.dc())&&(e.fondovalor3=t.first)}},decls:26,vars:8,consts:[[3,"headerTitle","back_link"],[1,"content","fluid-container","m-3",2,"padding","10px"],[1,"row","pb-3","m-0"],[1,"col-12"],[3,"click",4,"ngIf"],["type","text","placeholder","Nh\u1eadp s\u1ed1 phone",1,"input-search",3,"value","keyup.enter"],["fondovalor1",""],[1,"search-icon","clickable"],["type","text","placeholder","Nh\u1eadp id ng\u01b0\u1eddi d\xf9ng",1,"input-search",3,"value","keyup.enter"],["fondovalor2",""],["type","text","placeholder","Nh\u1eadp url",1,"input-search",3,"value","keyup.enter"],["fondovalor3",""],[1,"col-12","text-right"],[1,"search-icon","clickable",2,"position","unset"],[1,"search-ver",2,"vertical-align","middle","font-size","27px","height","27px","width","27px",3,"click"],["class","spinner-border spinner-border-sm","role","status","style","margin: 20px 50%;",4,"ngIf"],["class","ml-4 mr-4",4,"ngIf"],[3,"click"],["role","status",1,"spinner-border","spinner-border-sm",2,"margin","20px 50%"],[1,"ml-4","mr-4"],[1,"row","m-0","pb-3"],[1,"col-6","p-0",2,"font-weight","bold","font-size","16px"],[1,"col-6","p-0","text-right"],["class","text-center m-5",4,"ngIf"],["class","view-error",4,"ngFor","ngForOf"],[1,"mt-5"],[3,"screen","linkPage","eventSearch","lengthPage","paging","SendPage"],[1,"text-center","m-5"],["src","https://classlive.stume.net/images/emoji/emoji4.gif","alt","","width","20"],[1,"view-error"],[2,"display","flex","padding","10px","justify-content","space-between"],[2,"display","flex"],["style","border-radius: 50%; margin: 0 5px","width","38","height","38",3,"src",4,"ngIf"],[3,"nameCreateAvatar","size",4,"ngIf"],[1,"view-name"],[2,"font-weight","500"],[1,"pl-3","pr-3","pb-3"],["class","pl-3 pr-3 pb-3","style","word-break: break-all;",4,"ngIf"],["class","pb-3","style","width: 100%","alt","",3,"src",4,"ngIf"],["width","38","height","38",2,"border-radius","50%","margin","0 5px",3,"src"],[3,"nameCreateAvatar","size"],[1,"pl-3","pr-3","pb-3",2,"word-break","break-all"],["target","_blank","rel","noopener noreferrer",3,"href"],["alt","",1,"pb-3",2,"width","100%",3,"src"]],template:function(t,e){1&t&&(m.Qb(0,"header-backend",0),m.Vb(1,"div",1),m.Vb(2,"div",2),m.Vb(3,"div",3),m.Qc(4,Cn,2,0,"a",4),m.Ub(),m.Ub(),m.Vb(5,"div",2),m.Vb(6,"div",3),m.Vb(7,"input",5,6),m.cc("keyup.enter",function(){return e.search()}),m.Ub(),m.Qb(9,"div",7),m.Ub(),m.Ub(),m.Vb(10,"div",2),m.Vb(11,"div",3),m.Vb(12,"input",8,9),m.cc("keyup.enter",function(){return e.search()}),m.Ub(),m.Ub(),m.Ub(),m.Vb(14,"div",2),m.Vb(15,"div",3),m.Vb(16,"input",10,11),m.cc("keyup.enter",function(){return e.search()}),m.Ub(),m.Ub(),m.Ub(),m.Vb(18,"div",2),m.Vb(19,"div",12),m.Vb(20,"div",13),m.Sc(21," T\xecm ki\u1ebfm "),m.Vb(22,"mat-icon",14),m.cc("click",function(){return e.search()}),m.Sc(23," search "),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Qc(24,Pn,1,0,"div",15),m.Qc(25,jn,10,8,"div",16),m.Ub()),2&t&&(m.nc("headerTitle","L\u1ed7i t\u1eeb ng\u01b0\u1eddi d\xf9ng")("back_link","/admin/testbank/dashboard"),m.Db(4),m.nc("ngIf",1==e.showAllError&&!1===e.loading),m.Db(3),m.oc("value",e.phone_search),m.Db(5),m.oc("value",e.user_id_search),m.Db(4),m.oc("value",e.url_search),m.Db(8),m.nc("ngIf",!0===e.loading),m.Db(1),m.nc("ngIf",e.data&&!1===e.loading))},directives:[v.a,o.m,St.a,o.l,dn.a,yn.a],pipes:[o.e,st.o],styles:[Ln]}),t})(),Tn=(()=>{class t{constructor(t,e,n,o){this.apiCommonService=t,this.commonService=e,this.dialogRef=n,this.data=o,this.isLoading=!1,this.status=!1}ngOnInit(){this.status="1"==this.data.status.toString()}onNoClick(){this.dialogRef.close("cancel")}toggleStatus(){1==this.status?this.status=!1:0==this.status&&(this.status=!0)}SaveStatusTrackLog(){this.apiCommonService.SaveStatusTrackLog({id:this.data.id,status:1==this.status?"1":"0",content:this.content}).subscribe(t=>{1==t.success?(this.dialogRef.close("save"),this.commonService.snackSuccess("\u0110\xe3 l\u01b0u th\xe0nh c\xf4ng","")):this.commonService.snackError("L\u1ed7i: kh\xf4ng l\u01b0u d\u01b0\u1ee3c d\u1eef li\u1ec7u","\u0110\xf3ng")})}autoResize(t,e){if(1==e){var n=document.getElementById("text");setTimeout(function(){n.style.cssText="height:auto;",n.style.cssText="height:"+n.scrollHeight+"px"},0)}else n=document.getElementById("text"),setTimeout(function(){n.style.cssText="height:auto;",n.style.cssText="height:"+n.scrollHeight+"px"},0)}resizeImage(){document.getElementById("imageResize").style.display="flex"}resizeImageRemove(){document.getElementById("imageResize").style.display="none"}MyTextarea(t){this.content=t.target.value}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(p.a),m.Pb(u.a),m.Pb($e.g),m.Pb($e.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["dialog-overview-example-dialog"]],decls:35,vars:17,consts:[[1,"row"],[1,"col-6"],[2,"float","right"],["color","primary",2,"vertical-align","middle",3,"checked","change"],[1,"m-0"],[2,"word-break","break-all",3,"href"],[1,"row","m-0","mb-3"],[1,"text-center","col-12",2,"height","150px"],["alt","","height","150",3,"src","click"],[1,"mb-3"],["placeholder","Nh\u1eadp n\u1ed9i dung","id","text",2,"overflow-y","none",3,"keyup","change"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-danger","mr-3",3,"mat-dialog-close","click"],["type","button",1,"btn","btn-primary",3,"click"],["id","imageResize",1,"showFullImageScreen"],["alt","",3,"src","click"],[1,"clickable",3,"click"]],template:function(t,e){1&t&&(m.Vb(0,"div"),m.Vb(1,"div",0),m.Vb(2,"h3",1),m.Sc(3),m.Ub(),m.Vb(4,"div",1),m.Vb(5,"div",2),m.Vb(6,"mat-slide-toggle",3),m.cc("change",function(){return e.toggleStatus()}),m.Ub(),m.Sc(7),m.Ub(),m.Ub(),m.Ub(),m.Vb(8,"h2",4),m.Sc(9),m.Ub(),m.Vb(10,"h4",4),m.Sc(11,"Url: "),m.Vb(12,"a",5),m.Sc(13),m.Ub(),m.Ub(),m.Vb(14,"h5"),m.Sc(15),m.hc(16,"date"),m.Ub(),m.Vb(17,"div",6),m.Vb(18,"div",7),m.Vb(19,"img",8),m.cc("click",function(){return e.resizeImage()}),m.hc(20,"mycdn"),m.Ub(),m.Ub(),m.Ub(),m.Vb(21,"div",9),m.Vb(22,"h4",4),m.Sc(23,"Comment"),m.Ub(),m.Vb(24,"textarea",10),m.cc("keyup",function(t){return e.autoResize(t,1)})("change",function(t){return e.MyTextarea(t)}),m.Ub(),m.Ub(),m.Vb(25,"div",11),m.Vb(26,"button",12),m.cc("click",function(){return e.onNoClick()}),m.Sc(27,"H\u1ee7y"),m.Ub(),m.Vb(28,"button",13),m.cc("click",function(){return e.SaveStatusTrackLog()}),m.Sc(29,"G\u1eedi"),m.Ub(),m.Ub(),m.Ub(),m.Vb(30,"div",14),m.Vb(31,"img",15),m.cc("click",function(){return e.resizeImage()}),m.hc(32,"mycdn"),m.Ub(),m.Vb(33,"mat-icon",16),m.cc("click",function(){return e.resizeImageRemove()}),m.Sc(34,"clear"),m.Ub(),m.Ub()),2&t&&(m.Db(3),m.Uc(" T\xe0i kho\u1ea3n: ",e.data.fullname," "),m.Db(3),m.nc("checked",1==e.status),m.Db(1),m.Uc(" ",1==e.status?" \u0110\xe3 xong":" Ch\u01b0a xong"," "),m.Db(2),m.Uc("L\u1ed7i: ",e.data.content,""),m.Db(3),m.oc("href",e.data.url,m.Ic),m.Db(1),m.Tc(e.data.url),m.Db(2),m.Uc("Ng\xe0y B\xe1o l\u1ed7i: ",m.jc(16,10,e.data.createdAt,"dd/MM/yyyy HH:mm:ss"),""),m.Db(4),m.oc("src",m.ic(20,13,e.data.screenshot),m.Ic),m.Db(7),m.nc("mat-dialog-close","cancel"),m.Db(5),m.oc("src",m.ic(32,15,e.data.screenshot),m.Ic))},directives:[Vn.a,$e.d,St.a],pipes:[o.e,st.o],styles:[Ln]}),t})();class Fn{parseModelObject(t){if(t)for(const e in t)void 0!==t[e]&&(this[e]=t[e])}}class qn extends Fn{constructor(t){super(),this.parseModelObject(t)}}class zn extends Fn{constructor(t){super(),this.parseModelObject(t)}}class Rn{constructor(t){this.tasks=new Array,this.count_task_root_done=0,this.limit_one_process=t,this.result_common={datas:[],errs:[]}}addTask(t,e){let n=new Array;if(this.tasks.length>0?n=this.tasks[this.tasks.length-1]:this.tasks.push(n),n.length<this.limit_one_process)n.push({obj:t,task:e});else{let n=new Array;n.push({obj:t,task:e}),this.tasks.push(n)}}start(){return new Promise(t=>{this.tasks.forEach(e=>{Promise.all(e.map(t=>t.task.call(t.obj))).then(e=>{this.count_task_root_done++,this.result_common.datas=this.result_common.datas.concat(e),this.count_task_root_done===this.tasks.length&&t(this.result_common)}).catch(e=>{this.count_task_root_done++,this.result_common.errs=this.result_common.errs.concat(e),this.count_task_root_done===this.tasks.length&&t(this.result_common)})})})}}class Bn extends class{constructor(t){this.answerConfig=t.answerConfig,this.answerMedia=t.answerMedia,this.questionContent=t.questionContent}createImageQuestionPrinter(){throw new Error("Method not implemented.")}loadImageElement(t){return new Promise(e=>{const n=new Image;n.onload=()=>{e(n)},n.src=t,n.onerror=()=>{n.src=t+"?t="+Date.now()}})}}{constructor(t){super(t)}createImageQuestionPrinter(){return new Promise(t=>{var e=JSON.parse(this.questionContent);this.loadImageElement(e[0].path).then(t=>{}),t({status:!0})})}}let Nn=(()=>{class t{initProcessPrintExam(t,e){return new Promise((t,n)=>{const o=[];e.forEach(t=>{let e=class{static createObject(t){if(1===t.isImage&&"2"==t.version&&1==t.answerType)return new Bn(t)}}.createObject(t);void 0!==e?o.push(e):n({msg:"Question "+t.id+" not support printing"})});const i=new Rn(3);o.forEach(t=>{i.addTask(t,t.createImageQuestionPrinter)}),i.start().then(t=>{}).catch(t=>{})})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=m.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Wn=n("R4VX");let Hn=(()=>{class t{constructor(t,e,n,o,r){this.formBuilder=t,this.exportPdfService=e,this.commonService=n,this.examPrinter=o,this.apiExamService=r,this.form=new i.k({}),this.isLoading=!0}ngOnInit(){this.form=this.formBuilder.group({exam_id:["exam_id",[i.z.required]]}),this.exportPdfService.isSupportedBrowswer()&&this.commonService.loadScriptPromises([{source:"https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/js/html2pdf.bundle.js?v=28092021",name:"html2pdf.bundle.js"}]).then(()=>{this.isLoading=!1,this.getData(15285)})}ngOnDestroy(){}createAction(){if(this.isLoading)this.commonService.snackError("Ch\u01b0a load xong th\u01b0 vi\u1ec7n",null);else{var t=Number(this.form.controls.exam_id.value);this.getData(t)}}getData(t){this.apiExamService.getExamWithQuestionObjs(t).subscribe(t=>{if(1===t.success){const e=new qn(t.data.examObj),n=new Array;t.data.questionObjs.forEach(t=>{n.push(new zn(t))}),this.examPrinter.initProcessPrintExam(e,n).then().catch(t=>{this.commonService.snackError(t.msg,null)})}else this.commonService.snackError("Kh\xf4ng t\xecm th\u1ea5y d\u1eef li\u1ec7u",null)})}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(i.g),m.Pb(He.a),m.Pb(u.a),m.Pb(Nn),m.Pb(Wn.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-exam-printer"]],decls:20,vars:3,consts:[[3,"headerTitle","back_link"],[1,"container-fluid","component-wrap","centerBoth","hasBg","mt-3"],[1,"card"],[1,"card-body"],[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"row"],[1,"col-sm-10"],[1,"row","mb-3"],[1,"col-sm-2","control-label"],["type","number","formControlName","exam_id",1,"form-control"],[1,"col-sm-2"],[1,"mb-3"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(m.Qb(0,"header-backend",0),m.Vb(1,"div",1),m.Vb(2,"div",2),m.Vb(3,"div",3),m.Vb(4,"h3"),m.Vb(5,"b"),m.Sc(6,"C\xf4ng c\u1ee5 in \u0111\u1ec1 thi"),m.Ub(),m.Ub(),m.Qb(7,"hr"),m.Vb(8,"form",4),m.Vb(9,"div",5),m.Vb(10,"div",6),m.Vb(11,"div",7),m.Vb(12,"label",8),m.Sc(13,"Exam ID"),m.Ub(),m.Vb(14,"div",6),m.Qb(15,"input",9),m.Ub(),m.Ub(),m.Ub(),m.Vb(16,"div",10),m.Vb(17,"div",11),m.Vb(18,"button",12),m.cc("click",function(){return e.createAction()}),m.Sc(19,"Print Action"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.nc("headerTitle","C\xf4ng c\u1ee5 in \u0111\u1ec1 thi")("back_link","/admin/testbank/dashboard"),m.Db(8),m.nc("formGroup",e.form))},directives:[v.a,i.B,i.s,i.l,i.w,i.d,i.r,i.j,ct.b],encapsulation:2}),t})(),Gn=(()=>{class t{constructor(t){this.commonService=t,this.step_by_step=3}ngOnInit(){}redirectToCreateQrCode(){this.commonService.myNavigation("/auth/create-qr-forgot-pass/0")}redirectToHome(){this.commonService.myNavigation("/admin/testbank/dashboard")}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(u.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-confirm-forgot-password"]],decls:25,vars:3,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://azotacdn.studybymusic.com/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],[1,"wrapper-progressBar"],[1,"progressBar"],[1,"progressBar-li",3,"ngClass"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[1,"btn-block-center"],[1,"btn","btn-outline-info","w-100","mr-3",3,"click"],[1,"btn","btn-outline-primary","w-100",3,"click"]],template:function(t,e){1&t&&(m.Vb(0,"div",0),m.Vb(1,"div",1),m.Vb(2,"div",2),m.Qb(3,"div",3),m.Vb(4,"div",4),m.Vb(5,"h2",5),m.Qb(6,"img",6),m.Ub(),m.Vb(7,"div",7),m.Vb(8,"div",8),m.Qb(9,"div",9),m.Qb(10,"div",9),m.Qb(11,"div",9),m.Ub(),m.Ub(),m.Vb(12,"div",10),m.Vb(13,"div",11),m.Vb(14,"span",12),m.Sc(15,"\u0110\u1ed5i m\u1eadt kh\u1ea9u m\u1edbi th\xe0nh c\xf4ng"),m.Ub(),m.Ub(),m.Vb(16,"div",13),m.Vb(17,"p"),m.Sc(18,"B\u1ea1n \u0111\xe3 \u0111\u1ed5i m\u1eadt kh\u1ea9u m\u1edbi th\xe0nh c\xf4ng. M\xe3 Qrcode \u0111\xe3 s\u1eed d\u1ee5ng c\xf3 th\u1ec3 s\u1eed d\u1ee5ng l\u1ea1i. \u0110\u1ec3 \u0111\u1ea3m b\u1ea3o an to\xe0n, b\u1ea1n n\xean t\u1ea1o l\u1ea1i m\xe3 Qrcode."),m.Ub(),m.Vb(19,"div",14),m.Vb(20,"a",15),m.cc("click",function(){return e.redirectToHome()}),m.Sc(21,"B\u1ecf qua v\xe0 v\u1ec1 trang ch\u1ee7"),m.Ub(),m.Vb(22,"a",16),m.cc("click",function(){return e.redirectToCreateQrCode()}),m.Sc(23,"T\u1ea1o l\u1ea1i m\xe3 Qrcode"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Qb(24,"div",3),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.Db(9),m.nc("ngClass",e.step_by_step+2==1?"active":e.step_by_step+2>1?"active pro":""),m.Db(1),m.nc("ngClass",e.step_by_step+2==2?"active":e.step_by_step+2>2?"active pro":""),m.Db(1),m.nc("ngClass",e.step_by_step+2==3?"active":e.step_by_step+2>3?"active pro":""))},directives:[o.k],styles:['@charset "UTF-8";#authForm[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(0,0,0,.125);max-width:550px;margin:0 auto}#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin .5s ease}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\uf00c"!important;font-family:Font Awesome\\ 5 Free!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.btn-block-center[_ngcontent-%COMP%], .link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}']}),t})(),$n=(()=>{class t{constructor(t,e){this.formBuilder=t,this.commonService=e,this.subscriptions=new b.a,this.form=new i.k({}),this.count_en=0,this.count_de=0}ngOnInit(){this.form=this.formBuilder.group({content:["",[i.z.required]],result:["",[i.z.required]]}),this.commonService.translateMetaData({title:"lang_cms_auth_gzip_tool_title",description:"lang_cms_auth_gzip_tool_description",image:"lang_cms_test_image"})}encodeAction(){var t=this.form.controls.content.value;this.form.controls.result.setValue(this.commonService.convertContentGzip(t)),this.count_en=t.length,this.count_de=this.form.controls.result.value.length}decodeAction(){var t=this.form.controls.content.value;this.form.controls.result.setValue(this.commonService.decodeContentGzip(t)),this.count_en=t.length,this.count_de=this.form.controls.result.value.length}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(i.g),m.Pb(u.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-gzip-tool"]],decls:30,vars:5,consts:[[3,"headerTitle","back_link"],[1,"container-fluid","component-wrap","centerBoth","hasBg","mt-3"],[1,"card"],[1,"card-body"],[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"row"],[1,"col-sm-10"],[1,"row","mb-3"],[1,"col-sm-2","control-label"],["type","text","formControlName","content",1,"form-control"],["type","text","readonly","","formControlName","result",1,"form-control"],[1,"col-sm-2"],[1,"mb-3"],["mat-raised-button","","color","primary",3,"click"],[1,"mt-3","text-center"]],template:function(t,e){1&t&&(m.Qb(0,"header-backend",0),m.Vb(1,"div",1),m.Vb(2,"div",2),m.Vb(3,"div",3),m.Vb(4,"h3"),m.Vb(5,"b"),m.Sc(6,"C\xf4ng c\u1ee5 m\xe3 ho\xe1 - gi\u1ea3i m\xe3"),m.Ub(),m.Ub(),m.Qb(7,"hr"),m.Vb(8,"form",4),m.Vb(9,"div",5),m.Vb(10,"div",6),m.Vb(11,"div",7),m.Vb(12,"label",8),m.Sc(13,"N\u1ed9i dung"),m.Ub(),m.Vb(14,"div",6),m.Qb(15,"textarea",9),m.Ub(),m.Ub(),m.Vb(16,"div",5),m.Vb(17,"label",8),m.Sc(18,"K\u1ebft qu\u1ea3"),m.Ub(),m.Vb(19,"div",6),m.Qb(20,"textarea",10),m.Ub(),m.Ub(),m.Ub(),m.Vb(21,"div",11),m.Vb(22,"div",12),m.Vb(23,"button",13),m.cc("click",function(){return e.encodeAction()}),m.Sc(24,"M\xe3 ho\xe1"),m.Ub(),m.Ub(),m.Vb(25,"div"),m.Vb(26,"button",13),m.cc("click",function(){return e.decodeAction()}),m.Sc(27,"Gi\u1ea3i m\xe3"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(28,"div",14),m.Sc(29),m.Ub(),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.nc("headerTitle","C\xf4ng c\u1ee5 h\u1ed7 tr\u1ee3 Gzip")("back_link","/admin/testbank/dashboard"),m.Db(8),m.nc("formGroup",e.form),m.Db(21),m.Vc("K\u1ebft qu\u1ea3 convert: chi\u1ec1u d\xe0i ban \u0111\u1ea7u: ",e.count_en," - chi\u1ec1u d\xe0i sau khi convert: ",e.count_de,""))},directives:[v.a,i.B,i.s,i.l,i.d,i.r,i.j,ct.b],encapsulation:2}),t})();var Zn=n("UXJo");function Kn(t,e){1&t&&m.Qb(0,"azt-loading-effect")}function Jn(t,e){if(1&t&&(m.Vb(0,"h3",31),m.Sc(1),m.Ub()),2&t){const t=m.gc().$implicit;m.Db(1),m.Uc(" ",t.name," ")}}function Yn(t,e){1&t&&(m.Vb(0,"div",48),m.Vb(1,"div",49),m.Vb(2,"span",50),m.Sc(3,"Loading..."),m.Ub(),m.Ub(),m.Ub())}function Xn(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",51),m.Vb(1,"iframe",52),m.cc("load",function(){return m.Ec(t),m.gc(5).onLoad()}),m.hc(2,"safe"),m.Ub(),m.Ub()}if(2&t){const t=m.gc(2).$implicit,e=m.gc(3);m.nc("hidden",e.imgLoading),m.Db(1),m.nc("src",m.ic(2,2,t.videoUrl),m.Gc)}}function to(t,e){if(1&t&&(m.Vb(0,"div",45),m.Qc(1,Yn,4,0,"div",46),m.Qc(2,Xn,3,4,"div",47),m.Ub()),2&t){const t=m.gc().$implicit,e=m.gc(3);m.Db(1),m.nc("ngIf",e.imgLoading),m.Db(1),m.nc("ngIf",t.loading)}}const eo=function(t){return[t]};function no(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",5),m.Vb(1,"div",32),m.Vb(2,"div",33),m.cc("click",function(){m.Ec(t);const n=e.index,o=m.gc().index;return m.gc(2).scrollClick(o,n)}),m.Vb(3,"div",34),m.Vb(4,"a",35),m.Vb(5,"span"),m.Sc(6),m.Ub(),m.Sc(7),m.Ub(),m.Vb(8,"button",36),m.cc("click",function(){return m.Ec(t),m.gc(3).showCopySuccess()}),m.Vb(9,"mat-icon",37),m.Sc(10,"file_copy"),m.Ub(),m.Ub(),m.Ub(),m.Vb(11,"div",38),m.Qb(12,"div",39),m.Qc(13,to,3,2,"div",40),m.Ub(),m.Ub(),m.Ub(),m.Vb(14,"div",41),m.Vb(15,"div",42),m.Vb(16,"a",43),m.hc(17,"mylocalize"),m.Sc(18,"S\u1eeda"),m.Ub(),m.Vb(19,"button",44),m.cc("click",function(){m.Ec(t);const n=e.$implicit,o=e.index,i=m.gc().index;return m.gc(2).openDialog(n.id,i,o)}),m.Sc(20,"X\xf3a"),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=e.$implicit,n=e.index,o=m.gc().index,i=m.gc(2);m.Db(2),m.nc("id",o+"_"+n),m.Db(4),m.Uc("",n+1,". "),m.Db(1),m.Vc("",t.title," (V\u1ecb tr\xed:",t.position,")"),m.Db(1),m.nc("cdkCopyToClipboard",i.copyLinkToClipboard(o+"_"+n)),m.Db(3),m.nc("id","collapse_"+o+"_"+n),m.Db(1),m.nc("innerHTML",t.content,m.Fc),m.Db(1),m.nc("ngIf",""!=t.videoUrl),m.Db(3),m.nc("routerLink",m.tc(11,eo,m.ic(17,9,"/auth/add-faq/"+t.id)))}}function oo(t,e){if(1&t&&(m.Vb(0,"div",27),m.Qc(1,Jn,2,1,"h3",28),m.Vb(2,"div",29),m.Qc(3,no,21,13,"div",30),m.hc(4,"appFilter"),m.Ub(),m.Ub()),2&t){const t=e.$implicit,n=m.gc(2);m.Db(1),m.nc("ngIf",n.checkSearch||0==t.objs.length),m.Db(2),m.nc("ngForOf",m.jc(4,2,t.objs,n.searchText))}}function io(t,e){1&t&&(m.Vb(0,"span"),m.Qb(1,"span",62),m.Sc(2,"\xa0"),m.Ub())}function ro(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",53),m.Vb(1,"div",54),m.Vb(2,"div",55),m.Vb(3,"p",56),m.Sc(4," B\u1ea1n mu\u1ed1n x\xf3a faq n\xe0y ? "),m.Ub(),m.Ub(),m.Vb(5,"div",57),m.Vb(6,"div",58),m.Vb(7,"button",59),m.cc("click",function(){return m.Ec(t),m.gc(2).closeDialog()}),m.Sc(8," H\u1ee7y "),m.Ub(),m.Ub(),m.Vb(9,"button",60),m.cc("click",function(){return m.Ec(t),m.gc(2).configDeleteFaq()}),m.Qc(10,io,3,0,"span",61),m.Sc(11," X\xe1c nh\u1eadn "),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=m.gc(2);m.Db(9),m.nc("disabled",t.isLoading),m.Db(1),m.nc("ngIf",!0===t.isLoading)}}function co(t,e){if(1&t){const t=m.Wb();m.Qb(0,"header-backend",2),m.Vb(1,"div",3),m.Vb(2,"div",4),m.Vb(3,"div",5),m.Vb(4,"div",6),m.Vb(5,"div",7),m.Vb(6,"div",8),m.Vb(7,"h2",9),m.Sc(8,"T\xecm c\xe2u h\u1ecfi ho\u1eb7c ch\u1ecdn theo danh m\u1ee5c b\xean d\u01b0\u1edbi"),m.Ub(),m.Vb(9,"div",10),m.Vb(10,"div",11),m.Vb(11,"input",12),m.cc("ngModelChange",function(e){return m.Ec(t),m.gc().searchText=e})("ngModelChange",function(){return m.Ec(t),m.gc().changeValueSearch()}),m.Ub(),m.Vb(12,"div",13),m.Vb(13,"span",14),m.Vb(14,"span",15),m.fc(),m.Vb(15,"svg",16),m.Qb(16,"line",17),m.Qb(17,"polyline",18),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.ec(),m.Vb(18,"div",19),m.Vb(19,"div",5),m.Vb(20,"div",20),m.Vb(21,"a",21),m.hc(22,"mylocalize"),m.Sc(23," + Th\xeam Faq "),m.Ub(),m.Vb(24,"a",21),m.hc(25,"mylocalize"),m.Sc(26," + Th\xeam danh m\u1ee5c Faq "),m.Ub(),m.Ub(),m.Ub(),m.Vb(27,"div",22),m.Vb(28,"div",23),m.Qc(29,oo,5,5,"div",24),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Qc(30,ro,12,2,"div",25),m.Vb(31,"button",26),m.cc("click",function(){return m.Ec(t),m.gc().topFunction()}),m.Vb(32,"mat-icon"),m.Sc(33,"arrow_upward"),m.Ub(),m.Ub()}if(2&t){const t=m.gc();m.nc("headerTitle","Faq")("back_link","/admin/testbank/dashboard"),m.Db(11),m.nc("ngModel",t.searchText),m.Db(10),m.nc("routerLink",m.tc(11,eo,m.ic(22,7,"/auth/add-faq/"))),m.Db(3),m.nc("routerLink",m.tc(13,eo,m.ic(25,9,"/auth/category-faq/"))),m.Db(5),m.nc("ngForOf",t.dataFaq),m.Db(1),m.nc("ngIf",t.isShow)}}let so=(()=>{class t{constructor(t,e,n,o,i){this.router=t,this.vps=e,this.commonService=n,this.cdr=o,this.apiCommonService=i,this.subscriptions=new b.a,this.searchText="",this.checkSearch=!0,this.id=null,this.imgLoading=!0,this.backLink="/admin/testbank/dashboard",this.dataFaq=[],this.isLoading=!1,this.isShow=!1,this.idDelete=0,this.objIndex={}}topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}changeValueSearch(){this.checkSearch=""===this.searchText}onLoad(){this.imgLoading=!1}getFaqs(){this.isLoading=!0,this.apiCommonService.getFaqObjs().subscribe(t=>{if(1==t.success){this.dataFaq=t.data.objs;for(let t=0;t<this.dataFaq;t++)for(let e=0;e<this.dataFaq[t].objs.length;e++)this.dataFaq[t].objs[e].loading=!1}else this.commonService.snackError("Kh\xf4ng t\u1ea3i \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u","");this.isLoading=!1})}openDialog(t,e,n){this.objIndex.i=e,this.objIndex.j=n,this.idDelete=t,this.isShow=!0}editFaq(t){this.commonService.myNavigation("/auth/add-faq/"+t)}addFaq(){this.commonService.myNavigation("/auth/add-faq")}configDeleteFaq(){this.isLoading=!0,this.apiCommonService.deleteFaqObj(this.idDelete).subscribe(t=>{1==t.success?(this.commonService.snackSuccess("X\xf3a d\u1eef li\u1ec7u th\xe0nh c\xf4ng.",""),this.dataFaq[this.objIndex.i].objs.splice(this.objIndex.j,1)):this.commonService.snackError("X\xf3a d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoading=!1}),this.isShow=!1}closeDialog(){this.isShow=!1,this.idDelete=0}scroll(t){this.vps.scrollToAnchor(t);let e=t.split("_")[0],n=t.split("_")[1],o=document.getElementById(`collapse_${e}_${n}`);this.dataFaq[e].objs[n].loading=!0,null!==o&&o.classList.toggle("show-content")}scrollClick(t,e){let n=document.getElementById(`collapse_${t}_${e}`);this.dataFaq[t].objs[e].loading=!0,null!==n&&n.classList.toggle("show-content")}copyLinkToClipboard(t){return`${location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}/en/faq/${t}`}showCopySuccess(){this.commonService.snackSuccess("Sao ch\xe9p th\xe0nh c\xf4ng","")}ngOnInit(){this.getFaqs(),this.commonService.getMyQueryParam("backto")&&(this.backLink=this.commonService.getMyQueryParam("backto")),this.commonService.translateMetaData({title:"lang_core_faq_title",description:"lang_core_faq_description",image:"lang_cms_test_image"})}ngAfterViewInit(){setTimeout(()=>{this.id=this.router.snapshot.paramMap.get("id"),null!==this.id&&this.scroll(this.id)},200)}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(r.a),m.Pb(o.w),m.Pb(u.a),m.Pb(m.h),m.Pb(p.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-add-faq"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"headerTitle","back_link"],[1,"wrapper"],[1,"container-fluid","pb-80"],[1,"row"],[1,"col-xl-12","p-0"],[1,"faq-search-wrap","bg-teal-light-3"],[1,"container"],[1,"display-5","text-white","mb-20"],[1,"form-group","w-100","mb-0"],[1,"input-group"],["type","text","placeholder","T\xecm ki\u1ebfm... ","type","text",1,"form-control","form-control-lg","filled-input","bg-white","form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],[1,"input-group-text",2,"background","transparent","border","none"],[1,"feather-icon"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-arrow-right"],["x1","5","y1","12","x2","19","y2","12"],["points","12 5 19 12 12 19"],[1,"container","mt-sm-60","mt-30"],[1,"col-md-12","text-right"],[1,"btn","btn-success","mr-2",2,"margin-right","25px",3,"routerLink"],[1,"hk-row"],[1,"col-xl-12"],["class","card-lg",4,"ngFor","ngForOf"],["class","school-info_bg",4,"ngIf"],["id","myBtn","mat-fab","","title","Go to top",3,"click"],[1,"card-lg"],["style"," margin-top: 20px; ",4,"ngIf"],["id","accordion_1a",1,"accordion","accordion-type-2","accordion-flush"],["class","row",4,"ngFor","ngForOf"],[2,"margin-top","20px"],[1,"col-xl-10"],[1,"card","card-custom","contsearch",3,"id","click"],[1,"card-header","d-flex","justify-content-between","activestate","simple"],["role","button","aria-expanded","false",1,"collapsed","gsearch"],["mat-button","",1,"btn",2,"font-size","10px","padding-top","9px",3,"cdkCopyToClipboard","click"],[2,"font-size","16px","color","#00000082"],["data-parent","#accordion_1","role","tabpanel",1,"collapse",3,"id"],[1,"card-body","pa-15",3,"innerHTML"],["class","p-md-3",4,"ngIf"],[1,"col-xl-2"],[1,"block-btn"],["mat-flat-button","","color","primary",3,"routerLink"],["mat-flat-button","","color","warn",3,"click"],[1,"p-md-3"],["class","px-4 py-3 text-center",4,"ngIf"],["class","embed-responsive embed-responsive-16by9 video_link",3,"hidden",4,"ngIf"],[1,"px-4","py-3","text-center"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"],[1,"embed-responsive","embed-responsive-16by9","video_link",3,"hidden"],["allowfullscreen","",1,"embed-responsive-item",3,"src","load"],[1,"school-info_bg"],[1,"school-info","p-4"],[1,"text-center"],[1,"h5","para_respon","font-weight-normal"],[1,"d-flex","float-right","mt-3"],[1,"azt-block-button"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"disabled","click"],[4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){if(1&t&&(m.Qc(0,Kn,1,0,"azt-loading-effect",0),m.Qc(1,co,34,15,"ng-template",null,1,m.Rc)),2&t){const t=m.Ac(2);m.nc("ngIf",e.isLoading)("ngIfElse",t)}},directives:[o.m,f.a,v.a,i.d,i.r,i.u,r.k,o.l,ct.b,St.a,Zn.a,ct.a],pipes:[st.p,st.j,st.s],styles:['@charset "UTF-8";body[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:#fff;width:16px}.btn-green[_ngcontent-%COMP%]{color:#fff;background-color:#28a745;border-color:#28a745}.btn-green[_ngcontent-%COMP%]:hover{color:#fff;background-color:#218838;border-color:#1e7e34}body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#fff}body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#babac0;border-radius:16px;border:4px solid #fff}body[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}.pb-80[_ngcontent-%COMP%]{padding-bottom:80px}.img-custom[_ngcontent-%COMP%]{width:100%!important}.header-top[_ngcontent-%COMP%]{max-height:65px;overflow:hidden;background-color:#fff;display:flex;align-items:center;padding:5px 10px;box-shadow:0 1px 7px rgba(169,151,151,.24);justify-content:space-between}a[_ngcontent-%COMP%]{text-decoration:none!important}.logo-link[_ngcontent-%COMP%]{display:flex;align-items:center}.logo-img[_ngcontent-%COMP%]{width:95px;height:41px}.faq-search-wrap[_ngcontent-%COMP%]{padding:80px 0}.faq-search-wrap[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .dd-handle[_ngcontent-%COMP%], .faq-search-wrap[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.faq-search-wrap[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-group-append[_ngcontent-%COMP%]{position:absolute;right:0;top:0;bottom:0;z-index:10;pointer-events:none}.bg-teal-light-3[_ngcontent-%COMP%]{background-color:rgba(35,97,174,.8)!important}.hk-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-right:-10px;margin-left:-10px}@media (min-width:576px){.mt-sm-60[_ngcontent-%COMP%]{margin-top:60px!important}}.mt-30[_ngcontent-%COMP%]{margin-top:30px!important}.list-group-item.active[_ngcontent-%COMP%]{background-color:#00acf0;border-color:#00acf0}.accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header.activestate[_ngcontent-%COMP%]{border-width:1px}.accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:0;border-width:0}.card.card-lg[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%], .card.card-lg[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:.9rem 1.5rem}.accordion[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{margin-bottom:-1px}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:transparent;border:none}.accordion.accordion-type-2[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%] > a.collapsed[_ngcontent-%COMP%]{color:#324148}.accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:first-of-type   .card-header[_ngcontent-%COMP%]:first-child > a[_ngcontent-%COMP%]{border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.accordion.accordion-type-2[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{background:transparent;color:#00acf0;padding-left:10px;padding-right:10px}.accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%] > a.collapsed[_ngcontent-%COMP%]{color:#324148;background:transparent}.accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{background:#00acf0;color:#fff;font-weight:500;padding:.75rem 1.25rem .75rem 0;display:block;width:100%;text-align:left;position:relative;transition:all .2s ease-in-out}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;transition:color .2s ease}.card-header[_ngcontent-%COMP%] + .list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:first-child{border-top:1px solid rgba(0,0,0,.125)!important}.badge.badge-pill[_ngcontent-%COMP%]{border-radius:50px}.badge.badge-light[_ngcontent-%COMP%]{background:#eaecec;color:#324148}.badge[_ngcontent-%COMP%]{font-weight:500;border-radius:4px;padding:5px 7px;font-size:72%;letter-spacing:.3px;vertical-align:middle;display:inline-block;text-align:center;text-transform:capitalize}.ml-15[_ngcontent-%COMP%]{margin-left:15px!important}.accordion[_ngcontent-%COMP%]{padding:0}h3[_ngcontent-%COMP%]{margin-top:20px;font-weight:500;font-size:20px;text-transform:uppercase}.mr-15[_ngcontent-%COMP%]{margin-right:15px!important}.card-custom[_ngcontent-%COMP%]{margin:20px 0;border-bottom:1px solid rgba(0,0,0,.125);border-radius:0!important;padding:5px;box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);transition:all .3s cubic-bezier(.25,.8,.25,1)}.postion[_ngcontent-%COMP%]{position:relative}.card-custom[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px rgba(0,0,0,.25),0 3px 3px rgba(0,0,0,.22)}.accordion[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:last-of-type){border-bottom:1px solid rgba(0,0,0,.125);border-radius:.25rem;padding:5px}#button[_ngcontent-%COMP%]{display:inline-block;background-color:#00acf0;width:50px;height:50px;text-align:center;border-radius:4px;position:fixed;bottom:30px;right:30px;transition:background-color .3s,opacity .5s,visibility .5s;opacity:0;visibility:hidden;z-index:1000}#button[_ngcontent-%COMP%]:after{content:"\uf077";font-family:FontAwesome;font-weight:400;font-style:normal;font-size:2em;line-height:50px;color:#fff}#button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#333}#button[_ngcontent-%COMP%]:active{background-color:#555}#button.show[_ngcontent-%COMP%]{opacity:1;visibility:visible}.card-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;display:block;margin:auto}.section-title-line[_ngcontent-%COMP%]{display:flex}.content-outline__item[_ngcontent-%COMP%]{line-height:1.2;list-style:none;padding:5px 0;font-size:.9rem;color:#495057}.collapse[_ngcontent-%COMP%]{display:block;opacity:0;visibility:hidden;height:0}.show-content[_ngcontent-%COMP%]{transition:all .5s;opacity:1;visibility:visible;height:auto}#myBtn[_ngcontent-%COMP%]{display:block;position:fixed;bottom:20px;right:30px;z-index:99;cursor:pointer;background:rgba(35,97,174,.8);color:#fff}.block-btn[_ngcontent-%COMP%]{margin-top:30px}.block-btn[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:10px}.school-info_bg[_ngcontent-%COMP%]{z-index:9998;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background:rgba(0,0,0,.5607843137254902)}.school-info[_ngcontent-%COMP%]{z-index:9999;top:50%;left:50%;min-width:30%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}}@media screen and (max-width:768px){.block-btn[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:30px}}']}),t})();const ao=["elementCreateQr"],lo=["aztScanQrcode"];function bo(t,e){1&t&&(m.Vb(0,"h2",25),m.Qb(1,"img",26),m.Ub())}function ho(t,e){1&t&&(m.Vb(0,"div",20),m.Sc(1," D\xf9ng thi\u1ebft b\u1ecb \u0111\xe3 \u0111\u0103ng nh\u1eadp \u0111\u1ec3 qu\xe9t m\xe3 \u0111\u0103ng nh\u1eadp "),m.Ub())}function go(t,e){1&t&&(m.Vb(0,"div",20),m.Sc(1," D\xf9ng thi\u1ebft b\u1ecb c\u1ea7n \u0111\u0103ng nh\u1eadp qu\xe9t m\xe3 "),m.Ub())}function mo(t,e){if(1&t&&(m.Vb(0,"div",27),m.Qb(1,"span",28),m.Sc(2),m.Ub()),2&t){const t=m.gc();m.Db(2),m.Uc("\xa0 \u0110ang ch\u1edd qu\xe9t m\xe3 Qrcode: ",t.nameSessionConfirm," ")}}function uo(t,e){1&t&&(m.Vb(0,"div",27),m.Qb(1,"span",28),m.Sc(2,"\xa0 \u0110ang ch\u1edd qu\xe9t m\xe3 Qrcode "),m.Ub())}function po(t,e){if(1&t&&(m.Vb(0,"span"),m.Sc(1,"X\xe1c nh\u1eadn \u0111\u0103ng nh\u1eadp t\xe0i kho\u1ea3n"),m.Qb(2,"br"),m.Sc(3),m.Ub()),2&t){const t=m.gc(2);m.Db(3),m.Uc("v\u1edbi m\xe3 QR \u0111\xe3 ph\xe1t hi\u1ec7n: ",t.nameSessionConfirm,"")}}function fo(t,e){1&t&&(m.Vb(0,"div"),m.Qb(1,"span",28),m.Sc(2,"\xa0 "),m.Vb(3,"span",35),m.Sc(4,"\u0110ang ch\u1edd x\u1eed l\xfd"),m.Ub(),m.Ub())}function vo(t,e){if(1&t&&(m.Vb(0,"div",36),m.Sc(1),m.Ub()),2&t){const t=m.gc(2);m.Db(1),m.Tc(t.textResultErr)}}function _o(t,e){if(1&t&&(m.Vb(0,"div",37),m.Sc(1),m.Ub()),2&t){const t=m.gc(2);m.Db(1),m.Tc(t.textResultSuss)}}function Uo(t,e){1&t&&(m.Vb(0,"span"),m.Qb(1,"span",28),m.Sc(2,"\xa0"),m.Ub())}function So(t,e){1&t&&(m.Vb(0,"span"),m.Qb(1,"span",28),m.Sc(2,"\xa0"),m.Ub())}function yo(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div"),m.Vb(1,"button",38),m.cc("click",function(){return m.Ec(t),m.gc(2).confContentPendingLogin(1)}),m.Qc(2,Uo,3,0,"span",32),m.Sc(3," Ch\u1ea5p nh\u1eadn "),m.Ub(),m.Vb(4,"button",39),m.cc("click",function(){return m.Ec(t),m.gc(2).confContentPendingLogin(2)}),m.Qc(5,So,3,0,"span",32),m.Sc(6," T\u1eeb ch\u1ed1i "),m.Ub(),m.Ub()}if(2&t){const t=m.gc(2);m.Db(1),m.nc("disabled",t.isLoadingBtn||!1!==t.textResultErr),m.Db(1),m.nc("ngIf",t.isLoadingBtn),m.Db(2),m.nc("disabled",t.isLoadingBtn||!1!==t.textResultErr),m.Db(1),m.nc("ngIf",t.isLoadingBtn)}}function Vo(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div"),m.Vb(1,"button",40),m.cc("click",function(){return m.Ec(t),m.gc(2).backScanActionWithIsLogin()}),m.Sc(2,"Quay l\u1ea1i "),m.Ub(),m.Ub()}}function ko(t,e){if(1&t&&(m.Vb(0,"div",29),m.Vb(1,"div",30),m.Vb(2,"div",31),m.Qc(3,po,4,1,"span",32),m.Ub(),m.Qc(4,fo,5,0,"div",32),m.Qc(5,vo,2,1,"div",33),m.Qc(6,_o,2,1,"div",34),m.Qc(7,yo,7,4,"div",32),m.Qc(8,Vo,3,0,"div",32),m.Ub(),m.Ub()),2&t){const t=m.gc();m.Db(3),m.nc("ngIf",t.nameSessionConfirm),m.Db(1),m.nc("ngIf",t.isLoadingBtn),m.Db(1),m.nc("ngIf",!1!==t.textResultErr),m.Db(1),m.nc("ngIf",!1!==t.textResultSuss),m.Db(1),m.nc("ngIf",!1===t.textResultSuss||!1===t.isConfirmBtn),m.Db(1),m.nc("ngIf",t.isLogin&&!1===t.isLoadingBtn&&!0===t.isConfirmBtn)}}function xo(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",44),m.cc("click",function(){return m.Ec(t),m.gc(2).createRequestLoginHashCodeAction()}),m.Vb(1,"div",45),m.Vb(2,"div"),m.Vb(3,"mat-icon"),m.Sc(4,"sync"),m.Ub(),m.Ub(),m.Vb(5,"div"),m.Sc(6,"T\u1ea1o m\u1edbi m\xe3"),m.Ub(),m.Ub(),m.Ub()}}function wo(t,e){if(1&t){const t=m.Wb();m.Vb(0,"azt-create-qr-image",46,47),m.cc("expiredAction",function(){return m.Ec(t),m.gc(2).expiredQrcodeAction()}),m.Ub()}if(2&t){const t=m.gc(2);m.nc("content",t.contentCreateQrcode)("expired",t.durationQrcodeExpire)}}function Co(t,e){if(1&t&&(m.Vb(0,"div",41),m.Qc(1,xo,7,0,"div",42),m.Qc(2,wo,2,2,"azt-create-qr-image",43),m.Ub()),2&t){const t=m.gc();m.Db(1),m.nc("ngIf",!1===t.isLogin&&!1===t.contentCreateQrcode),m.Db(1),m.nc("ngIf",!1!==t.contentCreateQrcode)}}function Po(t,e){if(1&t){const t=m.Wb();m.Vb(0,"a",48),m.cc("click",function(){return m.Ec(t),m.gc().downloadQrCode()}),m.Vb(1,"mat-icon"),m.Sc(2,"download"),m.Ub(),m.Sc(3," T\u1ea3i xu\u1ed1ng m\xe3"),m.Ub()}}function Oo(t,e){1&t&&(m.Vb(0,"div",16),m.Vb(1,"span"),m.Sc(2,"- HO\u1eb6C B\u1ea0N C\xd3 TH\u1ec2 -"),m.Ub(),m.Ub())}function Mo(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",16),m.Vb(1,"a",49),m.cc("click",function(){return m.Ec(t),m.gc().switchModeView()}),m.Vb(2,"span",50),m.Vb(3,"mat-icon",51),m.Sc(4,"center_focus_strong"),m.Ub(),m.Sc(5," Qu\xe9t m\xe3 QR c\xf3 s\u1eb5n"),m.Ub(),m.Ub(),m.Ub()}}function Do(t,e){if(1&t&&(m.Vb(0,"div",36),m.Sc(1),m.Ub()),2&t){const t=m.gc(2);m.Db(1),m.Tc(t.textResultErr)}}function Qo(t,e){if(1&t&&(m.Vb(0,"div",37),m.Sc(1),m.Ub()),2&t){const t=m.gc(2);m.Db(1),m.Tc(t.textResultSuss)}}function Io(t,e){1&t&&(m.Vb(0,"span"),m.Qb(1,"span",28),m.Sc(2,"\xa0"),m.Ub())}function Ao(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div"),m.Vb(1,"button",38),m.cc("click",function(){return m.Ec(t),m.gc(2).confContentLogin()}),m.Qc(2,Io,3,0,"span",32),m.Sc(3," \u0110\u0103ng nh\u1eadp "),m.Ub(),m.Vb(4,"button",39),m.cc("click",function(){return m.Ec(t),m.gc(2).reopenScanCamInit()}),m.Sc(5,"Th\u1eed l\u1ea1i"),m.Ub(),m.Ub()}if(2&t){const t=m.gc(2);m.Db(1),m.nc("disabled",t.isLoadingBtn||!1!==t.textResultErr),m.Db(1),m.nc("ngIf",t.isLoadingBtn),m.Db(2),m.nc("disabled",t.isLoadingBtn)}}function jo(t,e){if(1&t&&(m.Vb(0,"div",29),m.Vb(1,"div",30),m.Vb(2,"div",31),m.Sc(3,"X\xe1c nh\u1eadn \u0111\u0103ng nh\u1eadp t\xe0i kho\u1ea3n"),m.Qb(4,"br"),m.Sc(5,"v\u1edbi m\xe3 QR \u0111\xe3 ph\xe1t hi\u1ec7n"),m.Ub(),m.Qc(6,Do,2,1,"div",33),m.Qc(7,Qo,2,1,"div",34),m.Qc(8,Ao,6,3,"div",32),m.Ub(),m.Ub()),2&t){const t=m.gc();m.Db(6),m.nc("ngIf",!1!==t.textResultErr),m.Db(1),m.nc("ngIf",!1!==t.textResultSuss),m.Db(1),m.nc("ngIf",!1===t.textResultSuss)}}function Lo(t,e){if(1&t&&(m.Vb(0,"span"),m.Sc(1,"\u0110\u0103ng nh\u1eadp t\xe0i kho\u1ea3n"),m.Qb(2,"br"),m.Sc(3),m.Ub()),2&t){const t=m.gc(2);m.Db(3),m.Uc("v\u1edbi m\xe3 QR \u0111\xe3 ph\xe1t hi\u1ec7n: ",t.nameSessionConfirm,"")}}function Eo(t,e){1&t&&(m.Vb(0,"div"),m.Qb(1,"span",28),m.Sc(2,"\xa0 "),m.Vb(3,"span",35),m.Sc(4,"\u0110ang ch\u1edd x\u1eed l\xfd"),m.Ub(),m.Ub())}function To(t,e){if(1&t&&m.Qb(0,"div",55),2&t){const t=m.gc(2);m.nc("innerHTML",t.textResultErr,m.Fc)}}function Fo(t,e){1&t&&(m.Vb(0,"span"),m.Qb(1,"span",28),m.Sc(2,"\xa0"),m.Ub())}function qo(t,e){if(1&t&&(m.Vb(0,"button",56),m.Qc(1,Fo,3,0,"span",32),m.Sc(2),m.Ub()),2&t){const t=m.gc(2);m.nc("disabled",!1!==t.textResultSuss),m.Db(1),m.nc("ngIf",t.isLoadingBtn),m.Db(1),m.Uc(" ",t.textResultSuss," ")}}function zo(t,e){if(1&t){const t=m.Wb();m.Vb(0,"button",39),m.cc("click",function(){return m.Ec(t),m.gc(2).reopenScanCamInit()}),m.Sc(1,"Th\u1eed l\u1ea1i"),m.Ub()}if(2&t){const t=m.gc(2);m.nc("disabled",t.isLoadingBtn)}}function Ro(t,e){if(1&t&&(m.Vb(0,"div",29),m.Vb(1,"div",30),m.Vb(2,"div",31),m.Qc(3,Lo,4,1,"span",32),m.Ub(),m.Qc(4,Eo,5,0,"div",32),m.Qc(5,To,1,1,"div",52),m.Vb(6,"div"),m.Qc(7,qo,3,3,"button",53),m.Qc(8,zo,2,1,"button",54),m.Ub(),m.Ub(),m.Ub()),2&t){const t=m.gc();m.Db(3),m.nc("ngIf",t.nameSessionConfirm),m.Db(1),m.nc("ngIf",t.isLoadingBtn),m.Db(1),m.nc("ngIf",!1!==t.textResultErr),m.Db(2),m.nc("ngIf",!1!==t.textResultSuss),m.Db(1),m.nc("ngIf",!1!==t.textResultErr)}}const Bo=function(t){return[t]},No=function(t){return{return_url:t}},Wo=function(t){return{"d-none":t}};let Ho=(()=>{class t{constructor(t,e,n,o){this.commonService=t,this.apiAuthService=e,this.localStorageObjetct=n,this.activeRoute=o,this.subscriptions=new b.a,this.isLogin=!1,this.status_obj={form_loading:!0,loading:!1,error:!1,error_obj:{message:""}},this.modeShowInit="create",this.contentCreateQrcode=!1,this.sussScanNextConf=!1,this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss=!1,this.textResultErr=!1,this.pendingDuration=!1,this.role=0,this.backLink=""}ngOnInit(){switch(this.role=+this.commonService.getMyParam(this.activeRoute,"role"),this.role){case 0:this.backLink="/admin/testbank/dashboard";break;case 1:this.backLink="/student/dashboard/0";break;case 2:this.backLink="/auth/login"}this.isLogin=this.apiAuthService.isLogin(),this.isLogin&&(this.userLogin=this.commonService.getUserObj(),this.createQrCodeWithUser()),this.commonService.translateMetaData({title:"lang_cms_auth_login_title",description:"lang_cms_auth_login_description",image:"lang_cms_test_image"})}createQrCodeWithUser(){this.status_obj.form_loading=!0,this.subscriptions.add(this.apiAuthService.CreateLoginQrCode().subscribe(t=>{1==t.success?(this.status_obj.form_loading=!1,this.contentCreateQrcode=t.data.qrCode,this.durationQrcodeExpire=t.data.duration,this.initPendingLoadingConfirm()):this.commonService.snackError("Kh\xf4ng t\u1ea3i \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u","")}))}downloadQrCode(){this.elementCreateQr&&this.elementCreateQr.downloadQrcode("azota-login")}switchModeView(){this.modeShowInit="create"===this.modeShowInit?"scan":"create",this.elementaztScanQrcode&&("scan"===this.modeShowInit?(this.elementaztScanQrcode.initScanCam(),this.clearLoopRefLogin(),this.clearLoopPendingLogin()):(this.elementaztScanQrcode.unInitSscanCam(),this.initLoopRefLogin(),this.initPendingLoadingConfirm()))}outContentScan(t){var e;null!==t?(this.scanQrContent=t,this.sussScanNextConf=!0,this.isLogin||(null===(e=this.elementaztScanQrcode)||void 0===e||e.pauseScanQrcode(),this.isLoadingBtn=!0,this.textResultSuss=!1,this.apiAuthService.CreateLoginQrCodeRequest({QrCode:this.scanQrContent}).subscribe(t=>{this.isLoadingBtn=!1,1==t.success?(this.isLoadingBtn=!0,this.scanQrContentConfirm=t.data.qrCode,this.nameSessionConfirm=t.data.name,this.textResultSuss=!1,this.initLoopPendingLogin()):(this.textResultSuss=!1,this.textResultErr="M\xe3 Qrcode \u0111\xe3 h\u1ebft h\u1ea1n ho\u1eb7c kh\xf4ng \u0111\xfang. Vui l\xf2ng t\u1ea1o l\u1ea1i m\xe3 m\u1edbi v\xe0 th\u1eed l\u1ea1i.")}))):(this.sussScanNextConf=!0,this.textResultErr="M\xe3 Qrcode \u0111\xe3 h\u1ebft h\u1ea1n ho\u1eb7c kh\xf4ng \u0111\xfang. Vui l\xf2ng t\u1ea1o l\u1ea1i m\xe3 m\u1edbi v\xe0 th\u1eed l\u1ea1i.",this.commonService.snackError("M\xe3 Qrcode \u0111\xe3 h\u1ebft h\u1ea1n ho\u1eb7c kh\xf4ng \u0111\xfang. Vui l\xf2ng t\u1ea1o l\u1ea1i m\xe3 m\u1edbi v\xe0 th\u1eed l\u1ea1i.",""))}reloadLogin(){this.isLogin&&this.commonService.redirectToDashboard()}initLoopPendingLogin(){this.loopPendingLogin=setInterval(()=>{this.apiAuthService.CheckLoginQrCodeRequestConfirmed(this.scanQrContentConfirm).subscribe(t=>{1==t.success&&(t.hasOwnProperty("new_user")?(this.clearLoopPendingLogin(),this.commonService.gaEvent("sign_in_login_in"),this.isLoadingBtn=!1,this.commonService.snackSuccess("\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng.",null),this.textResultSuss=!1,this.localStorageObjetct.clearAllCache(),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.apiAuthService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url"))):t.data&&2===t.data.status&&(this.clearLoopPendingLogin(),this.isLoadingBtn=!1,this.commonService.snackError("X\xe1c nh\u1eadn \u0111\u0103ng nh\u1eadp th\u1ea5t b\u1ea1i",null),this.textResultErr="X\xe1c nh\u1eadn \u0111\u0103ng nh\u1eadp th\u1ea5t b\u1ea1i.<br/> M\xe3 Qr kh\xf4ng c\xf2n ho\u1ea1t \u0111\u1ed9ng.<br/> Vui l\xf2ng t\u1ea1o m\xe3 Qrcode m\u1edbi \u0111\u1ec3 \u0111\u0103ng nh\u1eadp l\u1ea1i.",this.textResultSuss=!1))})},3e3)}clearLoopPendingLogin(){this.loopPendingLogin&&clearInterval(this.loopPendingLogin)}initPendingLoadingConfirm(){this.isLogin&&(this.loopPendingLogin=setInterval(()=>{this.apiAuthService.GetFirstQrCodeLoginRequest().subscribe(t=>{1==t.success&&t.data&&""!==t.data.qrCode&&(this.pendingDuration=!0,this.scanQrContentConfirm=t.data.qrCode,this.nameSessionConfirm=t.data.name,this.clearLoopPendingLogin())})},3e3))}confContentPendingLogin(t){this.isLogin&&(this.isLoadingBtn=!0,this.apiAuthService.ConfirmLoginQrCodeRequest({qrCode:this.scanQrContentConfirm,status:t}).subscribe(e=>{1==e.success?this.textResultSuss=1==t?"X\xe1c nh\u1eadn th\xe0nh c\xf4ng":"T\u1eeb ch\u1ed1i th\xe0nh c\xf4ng":this.textResultErr="H\u1ec7 th\u1ed1ng kh\xf4ng ph\u1ea3n h\u1ed3i. Vui l\xf2ng t\u1ea3i l\u1ea1i trang \u0111\u1ec3 th\u1eed l\u1ea1i.",this.isConfirmBtn=!0,this.isLoadingBtn=!1}))}createRequestLoginHashCodeAction(){this.isLogin||this.apiAuthService.AnonymousCreateLoginQrCode().subscribe(t=>{1==t.success&&(this.contentCreateQrcode=t.data.qrcode,this.nameSessionConfirm=t.data.name,this.durationQrcodeExpire=t.data.duration,this.initLoopRefLogin())})}initLoopRefLogin(){0==this.isLogin&&(this.loopRefCheckQrcodeLogin=setInterval(()=>{this.apiAuthService.AnonymousCheckLoginQrCodeRequestConfimed(this.contentCreateQrcode).subscribe(t=>{1===t.success&&404!=t.data.status&&(this.commonService.gaEvent("sign_in_login_in"),this.commonService.snackSuccess("\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng.",null),this.apiAuthService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")))})},3e3))}clearLoopRefLogin(){this.loopRefCheckQrcodeLogin&&clearInterval(this.loopRefCheckQrcodeLogin)}confContentLogin(){this.isLoadingBtn=!0,this.isLogin&&this.apiAuthService.AnonymousConfirmLoginQrCodeRequest(this.scanQrContent).subscribe(t=>{this.isLoadingBtn=!1,1===t.success?this.textResultSuss="X\xe1c nh\u1eadn th\xe0nh c\xf4ng. Phi\xean \u0111\u0103ng nh\u1eadp \u0111\xe3 \u0111\u01b0\u1ee3c ph\xea duy\u1ec7t":this.textResultErr="M\xe3 \u0111\u0103ng nh\u1eadp kh\xf4ng h\u1ee3p l\u1ec7. Vui l\xf2ng thao t\xe1c l\u1ea1i"})}reopenScanCamInit(){this.textResultErr=!1,this.textResultSuss=!1,this.elementaztScanQrcode&&(this.elementaztScanQrcode.initScanCam(),this.sussScanNextConf=!1)}backScanActionWithIsLogin(){this.isLogin&&(this.clearLoopRefLogin(),this.clearLoopPendingLogin(),this.status_obj={form_loading:!0,loading:!1,error:!1,error_obj:{message:""}},this.contentCreateQrcode=!1,this.sussScanNextConf=!1,this.scanQrContent=null,this.scanQrContentConfirm=null,this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss=!1,this.textResultErr=!1,this.nameSessionConfirm=null,this.durationQrcodeExpire=null,this.createQrCodeWithUser())}expiredQrcodeAction(){this.pendingDuration||(this.clearLoopRefLogin(),this.clearLoopPendingLogin(),this.status_obj={form_loading:!0,loading:!1,error:!1,error_obj:{message:""}},this.contentCreateQrcode=!1,this.sussScanNextConf=!1,this.scanQrContent=null,this.scanQrContentConfirm=null,this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss=!1,this.textResultErr=!1,this.nameSessionConfirm=null,this.durationQrcodeExpire=null,this.isLogin?(this.createQrCodeWithUser(),this.commonService.snackError("M\xe3 Qrcode \u0111\xe3 h\u1ebft h\u1ea1n, \u0111\xe3 t\u1ea1o m\xe3 qrcode m\u1edbi. Vui l\xf2ng thao t\xe1c l\u1ea1i.",null)):this.commonService.snackError("M\xe3 Qrcode \u0111\xe3 h\u1ebft h\u1ea1n, vui l\xf2ng t\u1ea1o m\u1edbi v\xe0 thao t\xe1c l\u1ea1i.",null))}forgotPassword(){this.commonService.gaEvent("sign_in_forgot_password"),this.commonService.myNavigation("/auth/confirm_forgot_password")}ngOnDestroy(){this.subscriptions.unsubscribe(),this.clearLoopRefLogin(),this.clearLoopPendingLogin()}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(u.a),m.Pb(rt.a),m.Pb(ye.a),m.Pb(r.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-login"]],viewQuery:function(t,e){if(1&t&&(m.Zc(ao,!0),m.Zc(lo,!0)),2&t){let t;m.zc(t=m.dc())&&(e.elementCreateQr=t.first),m.zc(t=m.dc())&&(e.elementaztScanQrcode=t.first)}},decls:39,vars:37,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","6vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6","mb-5"],["class","text-center",4,"ngIf"],[1,"card"],[1,"text-center","loginscan__card-header"],[1,"back-btn",2,"font-size","16px","color","#6d6d6d",3,"routerLink","queryParams"],[2,"font-size","16px","color","#6d6d6d","font-weight","500"],[1,"loginscan__card-body"],[1,"loginscan_createmode",3,"ngClass"],["class","text-center mb-3",4,"ngIf"],["class","text-center mb-3 block-inline-center",4,"ngIf"],["class","loginscan_scanmode_conf",4,"ngIf"],["class","loginscan__card-img",4,"ngIf"],[1,"text-center","mt-3"],["class","link-center",3,"click",4,"ngIf"],["class","text-center mt-3",4,"ngIf"],[1,"loginscan_scanmode",3,"ngClass"],[1,"text-center","mb-3"],[3,"routerLink","queryParams"],[1,"loginscan_scanmode_cam",3,"ngClass"],[3,"outContentScan"],["aztScanQrcode",""],[1,"text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],[1,"text-center","mb-3","block-inline-center"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"loginscan_scanmode_conf"],[1,"loginscan_scanmode_conf--box"],[1,"boxtext"],[4,"ngIf"],["class","boxtext-err","style","font-size: 20px; margin-bottom: 20px; color: #f44336;",4,"ngIf"],["class","boxtext-suss","style","font-size: 20px; margin-bottom: 20px; color: #009688;",4,"ngIf"],[2,"font-size","18px"],[1,"boxtext-err",2,"font-size","20px","margin-bottom","20px","color","#f44336"],[1,"boxtext-suss",2,"font-size","20px","margin-bottom","20px","color","#009688"],["type","button",1,"btn","btn-primary","mr-3",3,"disabled","click"],["type","button",1,"btn","btn-warning",3,"disabled","click"],["type","button",1,"btn","btn-primary","mr-3",3,"click"],[1,"loginscan__card-img"],["class","box-create-login-img",3,"click",4,"ngIf"],["width","350","height","350",3,"content","expired","expiredAction",4,"ngIf"],[1,"box-create-login-img",3,"click"],[1,"box-create-login-content"],["width","350","height","350",3,"content","expired","expiredAction"],["elementCreateQr",""],[1,"link-center",3,"click"],[1,"btn","btn-outline-primary","mt-2",3,"click"],[1,"link-center"],[1,"mr-1"],["class","boxtext-err","style","font-size: 20px; margin-bottom: 20px; color: #f44336; line-height: 30px;",3,"innerHTML",4,"ngIf"],["type","button","class","btn btn-primary mr-3",3,"disabled",4,"ngIf"],["type","button","class","btn btn-warning",3,"disabled","click",4,"ngIf"],[1,"boxtext-err",2,"font-size","20px","margin-bottom","20px","color","#f44336","line-height","30px",3,"innerHTML"],["type","button",1,"btn","btn-primary","mr-3",3,"disabled"]],template:function(t,e){1&t&&(m.Vb(0,"div",0),m.Vb(1,"div",1),m.Vb(2,"div",2),m.Qb(3,"div",3),m.Vb(4,"div",4),m.Qc(5,bo,2,0,"h2",5),m.Vb(6,"div",6),m.Vb(7,"div",7),m.Vb(8,"a",8),m.hc(9,"localize"),m.Vb(10,"mat-icon"),m.Sc(11,"arrow_back"),m.Ub(),m.Ub(),m.Vb(12,"span",9),m.Sc(13,"\u0110\u0103ng nh\u1eadp v\u1edbi m\xe3 qr code"),m.Ub(),m.Ub(),m.Vb(14,"div",10),m.Vb(15,"div",11),m.Qc(16,ho,2,0,"div",12),m.Qc(17,go,2,0,"div",12),m.Qc(18,mo,3,1,"div",13),m.Qc(19,uo,3,0,"div",13),m.Qc(20,ko,9,6,"div",14),m.Qc(21,Co,3,2,"div",15),m.Vb(22,"div",16),m.Qc(23,Po,4,0,"a",17),m.Ub(),m.Qc(24,Oo,3,0,"div",18),m.Qc(25,Mo,6,0,"div",18),m.Ub(),m.Vb(26,"div",19),m.Vb(27,"div",20),m.Sc(28," Di chuy\u1ec3n camera t\u1edbi m\xe3 qrcode \u0111\u0103ng nh\u1eadp ( "),m.Vb(29,"a",21),m.hc(30,"localize"),m.Sc(31,"H\u01b0\u1edbng d\u1eabn"),m.Ub(),m.Sc(32," ) "),m.Ub(),m.Vb(33,"div",22),m.Vb(34,"azt-scan-qrcode",23,24),m.cc("outContentScan",function(t){return e.outContentScan(t)}),m.Ub(),m.Ub(),m.Qc(36,jo,9,3,"div",14),m.Qc(37,Ro,9,5,"div",14),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Qb(38,"div",3),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.Db(5),m.nc("ngIf",!e.isLogin),m.Db(3),m.nc("routerLink",m.tc(23,Bo,m.ic(9,19,e.backLink)))("queryParams",m.tc(25,No,e.returnUrl)),m.Db(7),m.nc("ngClass",m.tc(27,Wo,"create"!==e.modeShowInit)),m.Db(1),m.nc("ngIf",!e.isLogin),m.Db(1),m.nc("ngIf",e.isLogin),m.Db(1),m.nc("ngIf",!e.isLogin&&e.contentCreateQrcode),m.Db(1),m.nc("ngIf",e.isLogin&&e.contentCreateQrcode&&!e.scanQrContentConfirm),m.Db(1),m.nc("ngIf",e.scanQrContentConfirm&&e.isLogin),m.Db(1),m.nc("ngIf",!e.scanQrContentConfirm),m.Db(2),m.nc("ngIf",!1!==e.contentCreateQrcode&&!e.scanQrContentConfirm),m.Db(1),m.nc("ngIf",!e.scanQrContentConfirm),m.Db(1),m.nc("ngIf",!e.scanQrContentConfirm),m.Db(1),m.nc("ngClass",m.tc(29,Wo,"scan"!==e.modeShowInit)),m.Db(3),m.nc("routerLink",m.tc(31,Bo,m.ic(30,21,"/auth/register")))("queryParams",m.tc(33,No,e.returnUrl)),m.Db(4),m.nc("ngClass",m.tc(35,Wo,!1!==e.sussScanNextConf)),m.Db(3),m.nc("ngIf",!0===e.sussScanNextConf&&e.isLogin),m.Db(1),m.nc("ngIf",!0===e.sussScanNextConf&&!e.isLogin))},directives:[o.m,r.k,St.a,o.k,Qe,Je],pipes:[d.d],styles:[".loginscan__card-header[_ngcontent-%COMP%]{padding:15px;text-transform:uppercase;display:flex;justify-content:center;align-items:center;position:relative}.loginscan__card-body[_ngcontent-%COMP%]{padding:15px}.loginscan__card-img[_ngcontent-%COMP%], .loginscan__card-video[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.loginscan__card-video[_ngcontent-%COMP%]{position:relative}.loginscan__card-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%}.loginscan__card-control--switch[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:rgba(36,98,174,.43137254901960786);color:#fff;padding:5px;border-right:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0;cursor:pointer}.box-create-login-img[_ngcontent-%COMP%], .link-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.box-create-login-img[_ngcontent-%COMP%]{height:100px;background:#f5f5f5;border:1px solid #e0e0e0;padding:10px;cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.box-create-login-img[_ngcontent-%COMP%]:hover{background:#eceff1}.box-create-login-content[_ngcontent-%COMP%]{text-align:center}.loginscan_scanmode_conf[_ngcontent-%COMP%]{width:100%;background:#e0f2f1;padding:10px;display:flex;align-items:center;justify-content:center;height:300px}.loginscan_scanmode_conf--box[_ngcontent-%COMP%]{text-align:center}.loginscan_scanmode_conf--box[_ngcontent-%COMP%]   .boxtext[_ngcontent-%COMP%]{font-size:20px;line-height:30px;margin-bottom:20px}.block-inline-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.back-btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:14px}.back-btn[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),t})();function Go(t,e){1&t&&(m.Vb(0,"div"),m.Vb(1,"div",12),m.Vb(2,"div",13),m.Vb(3,"span",14),m.Sc(4),m.hc(5,"mytranslate"),m.Ub(),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.Db(4),m.Uc("",m.ic(5,1,"lang_cms_common_loading"),"..."))}function $o(t,e){if(1&t&&(m.Vb(0,"div",19),m.Vb(1,"label",35),m.Sc(2),m.hc(3,"mytranslate"),m.Ub(),m.Ub()),2&t){const t=m.gc(2);m.Db(2),m.Uc("*** ",m.ic(3,1,t.status_obj.error_obj.message),"")}}function Zo(t,e){1&t&&(m.Vb(0,"span"),m.Qb(1,"span",36),m.Sc(2,"\xa0"),m.Ub())}const Ko=function(t){return[t]},Jo=function(t){return{return_url:t}};function Yo(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div"),m.Vb(1,"div",15),m.Vb(2,"a",16),m.cc("click",function(){return m.Ec(t),m.gc().loginZalo()}),m.Qb(3,"img",17),m.Vb(4,"span"),m.Sc(5,"\u0110\u0103ng nh\u1eadp b\u1eb1ng Zalo"),m.Ub(),m.Ub(),m.Qb(6,"br"),m.Qb(7,"br"),m.Vb(8,"div",5),m.Vb(9,"span",18),m.Sc(10,"- HO\u1eb6C -"),m.Ub(),m.Ub(),m.Qb(11,"br"),m.Ub(),m.Vb(12,"div",19),m.Vb(13,"div",20),m.Vb(14,"div",21),m.Qb(15,"input",22),m.Vb(16,"div",23),m.Vb(17,"span",24),m.Vb(18,"mat-icon"),m.Sc(19,"phone_enabled"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(20,"div",19),m.Vb(21,"div",20),m.Vb(22,"div",21),m.Qb(23,"input",25),m.Vb(24,"div",23),m.Vb(25,"span",24),m.Vb(26,"mat-icon"),m.Sc(27,"lock"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Qc(28,$o,4,3,"div",26),m.Vb(29,"div",19),m.Vb(30,"div",27),m.Vb(31,"div",15),m.Vb(32,"button",28),m.cc("click",function(){m.Ec(t);const e=m.gc();return e.form.invalid||e.status_obj.loading||e.login()}),m.Qc(33,Zo,3,0,"span",11),m.Sc(34,"\u0110\u0103ng nh\u1eadp "),m.Ub(),m.Vb(35,"a",29),m.hc(36,"mylocalize"),m.Vb(37,"mat-icon",30),m.Sc(38,"center_focus_strong"),m.Ub(),m.Vb(39,"span"),m.Sc(40,"\u0110\u0103ng nh\u1eadp b\u1eb1ng m\xe3 Qrcode"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(41,"div",31),m.Vb(42,"a",32),m.hc(43,"localize"),m.Sc(44,"\u0110\u0103ng k\xfd th\xe0nh vi\xean m\u1edbi"),m.Ub(),m.Ub(),m.Vb(45,"div",33),m.Vb(46,"a",34),m.cc("click",function(){return m.Ec(t),m.gc().forgotPassword()}),m.Sc(47,"Qu\xean m\u1eadt kh\u1ea9u?"),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=m.gc();m.Db(28),m.nc("ngIf",t.status_obj.error_obj.message),m.Db(4),m.nc("disabled",t.form.invalid||t.status_obj.loading),m.Db(1),m.nc("ngIf",!0===t.status_obj.loading),m.Db(2),m.nc("routerLink",m.tc(10,Ko,m.ic(36,6,"/auth/login-scan/2"))),m.Db(7),m.nc("routerLink",m.tc(12,Ko,m.ic(43,8,"/auth/register")))("queryParams",m.tc(14,Jo,t.returnUrl))}}let Xo=(()=>{class t{constructor(t,e,n,o,r,c){this.formBuilder=t,this.activeRoute=e,this.router=n,this.commonService=o,this.apiAuthService=r,this.localStorageObjetct=c,this.subscriptions=new b.a,this.form=new i.k({}),this.zaloAccessTkn="",this.returnUrl="",this.zaloLoginUrl="",this.status_obj={form_loading:!0,loading:!1,error:!1,error_obj:{message:""}}}getError(t){return!(!this.form.controls[t]||!this.form.controls[t].errors)&&this.form.controls[t].errors}login(){if(this.form.valid){this.commonService.gaEvent("sign_in_login_in");var t=this.commonService.getFormObj(this.form);this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiAuthService.login(t.phone,t.password).subscribe(t=>{1==t.success?(this.localStorageObjetct.clearAllCache(),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.apiAuthService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url"))):this.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t}}))}}loginAnonymous(){this.commonService.gaEvent("sign_in_login_anonymous"),this.status_obj={form_loading:!0,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiAuthService.loginAnonymous().subscribe(t=>{1==t.success?(this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.apiAuthService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url"))):this.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t}}))}loginWithZaloAccessToken(t){this.commonService.gaEvent("sign_in_login_by_zalo"),this.status_obj={form_loading:!0,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiAuthService.loginWithZalo(t).subscribe(t=>{1==t.success?(this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.apiAuthService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url"))):this.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t}}))}loginZalo(){this.commonService.gaEvent("sign_in_click_sign_in_by_zalo"),window.location.href=this.zaloLoginUrl}forgotPassword(){this.commonService.gaEvent("sign_in_forgot_password"),this.commonService.myNavigation("/auth/confirm_forgot_password")}ngOnInit(){this.form=this.formBuilder.group({phone:["",i.z.required],password:["",i.z.required]}),this.zaloAccessTkn=this.commonService.getMyQueryParam("access_token"),this.commonService.getMyQueryParam("not_register")?this.commonService.myNavigation("/auth/register"):this.zaloAccessTkn?(this.commonService.getMyQueryParam("register")&&this.commonService.gaEvent("sign_in_sign_up_by_zalo"),this.loginWithZaloAccessToken(this.zaloAccessTkn)):this.apiAuthService.isLogin()&&!this.apiAuthService.isAnonymousRole()?this.apiAuthService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")):(this.returnUrl=this.commonService.getMyQueryParam("return_url")||"",-1===this.returnUrl.indexOf("/test/")&&-1===this.returnUrl.indexOf("/de-thi/")&&-1===this.returnUrl.indexOf("/bai-tap/")||"register"==this.commonService.getMyQueryParam("from")?(this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.zaloLoginUrl=zt.a.main_api+"Auth/LoginZalo?callback_uri="+encodeURIComponent(this.commonService.getLocalRouter("/auth/login")+"?return_url="+this.returnUrl+"&is_login=1")):this.apiAuthService.isLogin()?this.apiAuthService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")):this.loginAnonymous()),this.commonService.translateMetaData({title:"lang_cms_auth_login_title",description:"lang_cms_auth_login_description",image:"lang_cms_test_image"})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(i.g),m.Pb(r.a),m.Pb(r.i),m.Pb(u.a),m.Pb(rt.a),m.Pb(ye.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-login"]],decls:15,vars:3,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"col-md-12"],[1,"btn","btn-outline-primary","mt-2",2,"width","100%",3,"click"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/zaloicon.png","alt","Zalo Icon",1,"img-responsive","zalo-icon"],[1,"h6","mute-text"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","tel","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","formControlName","phone",1,"form-control"],[1,"input-group-append"],["id","basic-addon2",1,"input-group-text"],["type","password","placeholder","M\u1eadt kh\u1ea9u","formControlName","password",1,"form-control"],["class","form-group",4,"ngIf"],[2,"display","flex"],["mat-raised-button","","color","primary",2,"width","100%",3,"disabled","click"],[1,"btn","btn-outline-primary","mt-3",2,"width","100%","display","flex","align-items","center","justify-content","center",3,"routerLink"],[2,"margin-right","10px"],[1,"text-center","mt-3"],[3,"routerLink","queryParams"],[1,"text-center","mt-1"],[2,"color","rgb(216, 2, 2)",3,"click"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&(m.Vb(0,"div",0),m.Vb(1,"form",1),m.Vb(2,"div",2),m.Qb(3,"div",3),m.Vb(4,"div",4),m.Vb(5,"h2",5),m.Qb(6,"img",6),m.Ub(),m.Vb(7,"div",7),m.Vb(8,"div",8),m.Vb(9,"span",9),m.Sc(10,"\u0110\u0103ng nh\u1eadp"),m.Ub(),m.Ub(),m.Vb(11,"div",10),m.Qc(12,Go,6,3,"div",11),m.Qc(13,Yo,48,16,"div",11),m.Ub(),m.Ub(),m.Ub(),m.Qb(14,"div",3),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.Db(1),m.nc("formGroup",e.form),m.Db(11),m.nc("ngIf",1==e.status_obj.form_loading),m.Db(1),m.nc("ngIf",1!=e.status_obj.form_loading))},directives:[i.B,i.s,i.l,o.m,i.d,i.r,i.j,St.a,ct.b,r.k],pipes:[st.q,st.p,d.d],styles:[".checkboxInput[_ngcontent-%COMP%]{padding:5px 15px;font-size:1rem;font-weight:400;line-height:2}.zalo-icon[_ngcontent-%COMP%]{height:30px;margin-right:10px}"]}),t})(),ti=(()=>{class t{constructor(t,e){this.commonService=t,this.apiAuthService=e}ngOnInit(){this.apiAuthService.logout();var t=this.commonService.getMyQueryParam("return_url")||null;t?this.commonService.redirectSimpleLoginWithReturnUrl(t):this.commonService.redirectSimpleLogin()}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(u.a),m.Pb(rt.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-register"]],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();var ei=n("1yaQ"),ni=n("jCJ1");function oi(t,e){1&t&&(m.Vb(0,"div"),m.Vb(1,"div",13),m.Vb(2,"div",14),m.Vb(3,"span",15),m.Sc(4),m.hc(5,"mytranslate"),m.Ub(),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.Db(4),m.Uc("",m.ic(5,1,"lang_cms_common_loading"),"..."))}function ii(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",16),m.Vb(1,"div",17),m.cc("click",function(){return m.Ec(t),m.gc().changeRegisterType(1)}),m.Vb(2,"div",18),m.Qb(3,"i",19),m.Vb(4,"p"),m.Sc(5,"T\xf4i l\xe0 h\u1ecdc sinh"),m.Ub(),m.Ub(),m.Ub(),m.Vb(6,"div",17),m.cc("click",function(){return m.Ec(t),m.gc().changeRegisterType(2)}),m.Vb(7,"div",18),m.Qb(8,"img",20),m.Vb(9,"p"),m.Sc(10,"T\xf4i l\xe0 gi\xe1o vi\xean"),m.Ub(),m.Ub(),m.Ub(),m.Ub()}}function ri(t,e){1&t&&(m.Vb(0,"div"),m.Sc(1," Y\xeau c\u1ea7u nh\u1eadp h\u1ecd t\xean \u0111\u1ea7y \u0111\u1ee7! "),m.Ub())}function ci(t,e){if(1&t&&(m.Vb(0,"div",53),m.Qc(1,ri,2,0,"div",10),m.Ub()),2&t){const t=m.gc(3);m.Db(1),m.nc("ngIf",t.getErrorType("fullName","required"))}}function si(t,e){1&t&&(m.Vb(0,"div"),m.Sc(1," Y\xeau c\u1ea7u nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i! "),m.Ub())}function ai(t,e){1&t&&(m.Vb(0,"div"),m.Sc(1," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ch\u1ec9 g\u1ed3m c\xe1c ch\u1eef s\u1ed1 v\xe0 d\xe0i 10 k\xfd t\u1ef1! "),m.Ub())}function li(t,e){if(1&t&&(m.Vb(0,"div",53),m.Qc(1,si,2,0,"div",10),m.Qc(2,ai,2,0,"div",10),m.Ub()),2&t){const t=m.gc(3);m.Db(1),m.nc("ngIf",t.getErrorType("phone","required")),m.Db(1),m.nc("ngIf",t.getErrorType("phone","pattern")||t.getErrorType("phone","minlength")||t.getErrorType("phone","maxlength"))}}function di(t,e){1&t&&(m.Vb(0,"div"),m.Sc(1," M\u1eadt kh\u1ea9u ph\u1ea3i d\xe0i t\u1ed1i thi\u1ec3u l\xe0 6! "),m.Ub())}function bi(t,e){if(1&t&&(m.Vb(0,"div",53),m.Qc(1,di,2,0,"div",10),m.Ub()),2&t){const t=m.gc(3);m.Db(1),m.nc("ngIf",t.getErrorType("password","required")||t.getErrorType("password","minlength"))}}function hi(t,e){1&t&&(m.Vb(0,"div"),m.Sc(1," Email b\u1ea1n nh\u1eadp sai \u0111\u1ecbnh d\u1ea1ng! "),m.Ub())}function gi(t,e){if(1&t&&(m.Vb(0,"div",53),m.Qc(1,hi,2,0,"div",10),m.Ub()),2&t){const t=m.gc(3);m.Db(1),m.nc("ngIf",t.getErrorType("email","email"))}}function mi(t,e){if(1&t&&(m.Vb(0,"div",39),m.Vb(1,"label",54),m.Sc(2),m.hc(3,"mytranslate"),m.Ub(),m.Ub()),2&t){const t=m.gc(3);m.Db(2),m.Uc("*** ",m.ic(3,1,t.status_obj.error_obj.message),"")}}function ui(t,e){1&t&&(m.Vb(0,"span"),m.Qb(1,"span",55),m.Sc(2,"\xa0"),m.Ub())}function pi(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",36),m.Vb(1,"form",37),m.Vb(2,"div",27),m.Vb(3,"div",38),m.Vb(4,"div",39),m.Vb(5,"div",40),m.Vb(6,"div",41),m.Qb(7,"input",42),m.Vb(8,"div",43),m.Vb(9,"span",44),m.Vb(10,"mat-icon"),m.Sc(11,"account_box"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Qc(12,ci,2,1,"div",45),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(13,"div",27),m.Vb(14,"div",38),m.Vb(15,"div",39),m.Vb(16,"div",40),m.Vb(17,"div",41),m.Qb(18,"input",46),m.Vb(19,"div",43),m.Vb(20,"span",47),m.Vb(21,"mat-icon"),m.Sc(22,"phone_enabled"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Qc(23,li,3,2,"div",45),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(24,"div",27),m.Vb(25,"div",38),m.Vb(26,"div",39),m.Vb(27,"div",40),m.Vb(28,"div",41),m.Qb(29,"input",48),m.Vb(30,"div",43),m.Vb(31,"span",49),m.Vb(32,"mat-icon"),m.Sc(33,"lock"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Qc(34,bi,2,1,"div",45),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(35,"div",27),m.Vb(36,"div",38),m.Vb(37,"div",39),m.Vb(38,"div",40),m.Vb(39,"div",41),m.Qb(40,"input",50),m.Vb(41,"div",43),m.Vb(42,"span",47),m.Vb(43,"mat-icon"),m.Sc(44,"email"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Qc(45,gi,2,1,"div",45),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Qc(46,mi,4,3,"div",51),m.Vb(47,"div",39),m.Vb(48,"div",27),m.Vb(49,"div",38),m.Vb(50,"button",52),m.cc("click",function(){m.Ec(t);const e=m.gc(2);return e.form.invalid||e.status_obj.loading||e.registerForTeacher()}),m.Qc(51,ui,3,0,"span",10),m.Sc(52,"\u0110\u0103ng k\xfd "),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=m.gc(2);m.Db(1),m.nc("formGroup",t.form),m.Db(11),m.nc("ngIf",t.form.controls.fullName.invalid&&(t.form.controls.fullName.dirty||t.form.controls.fullName.touched)),m.Db(11),m.nc("ngIf",t.form.controls.phone.invalid&&(t.form.controls.phone.dirty||t.form.controls.phone.touched)),m.Db(11),m.nc("ngIf",t.form.controls.password.invalid&&(t.form.controls.password.dirty||t.form.controls.password.touched)),m.Db(11),m.nc("ngIf",t.form.controls.email.invalid&&(t.form.controls.email.dirty||t.form.controls.email.touched)),m.Db(1),m.nc("ngIf",t.status_obj.error_obj.message),m.Db(4),m.nc("disabled",t.form.invalid||t.status_obj.loading),m.Db(1),m.nc("ngIf",!0===t.status_obj.loading)}}function fi(t,e){1&t&&(m.Vb(0,"div",63),m.Sc(1," B\u1ea1n ph\u1ea3i nh\u1eadp h\u1ecd v\xe0 t\xean c\u1ee7a b\u1ea1n. "),m.Ub())}function vi(t,e){1&t&&(m.Vb(0,"div"),m.Sc(1," B\u1ea1n ph\u1ea3i nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i. "),m.Ub())}function _i(t,e){1&t&&(m.Vb(0,"div"),m.Sc(1," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ph\u1ea3i l\xe0 10 s\u1ed1. "),m.Ub())}function Ui(t,e){if(1&t&&(m.Vb(0,"div",63),m.Qc(1,vi,2,0,"div",10),m.Qc(2,_i,2,0,"div",10),m.Ub()),2&t){const t=m.gc(3);m.Db(1),m.nc("ngIf",t.getErrorForm("studentPhone","required")),m.Db(1),m.nc("ngIf",t.getErrorForm("studentPhone","minlength")||t.getErrorForm("studentPhone","maxlength"))}}function Si(t,e){1&t&&(m.Vb(0,"div"),m.Sc(1," B\u1ea1n ph\u1ea3i nh\u1eadp m\u1eadt kh\u1ea9u. "),m.Ub())}function yi(t,e){1&t&&(m.Vb(0,"div"),m.Sc(1," M\u1eadt kh\u1ea9u bao g\u1ed3m 6 k\xfd t\u1ef1. "),m.Ub())}function Vi(t,e){if(1&t&&(m.Vb(0,"div",63),m.Qc(1,Si,2,0,"div",10),m.Qc(2,yi,2,0,"div",10),m.Ub()),2&t){const t=m.gc(3);m.Db(1),m.nc("ngIf",t.getErrorForm("passWord","required")),m.Db(1),m.nc("ngIf",t.getErrorForm("passWord","minlength"))}}function ki(t,e){if(1&t&&(m.Vb(0,"div",39),m.Vb(1,"label",54),m.Sc(2),m.hc(3,"mytranslate"),m.Ub(),m.Ub()),2&t){const t=m.gc(3);m.Db(2),m.Uc("*** ",m.ic(3,1,t.status_obj.error_obj.message),"")}}function xi(t,e){1&t&&(m.Vb(0,"span"),m.Qb(1,"span",55),m.Sc(2,"\xa0"),m.Ub())}function wi(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",56),m.Vb(1,"form",57),m.Vb(2,"div",39),m.Qb(3,"input",58),m.Qc(4,fi,2,0,"div",59),m.Ub(),m.Vb(5,"div",39),m.Qb(6,"input",60),m.Qc(7,Ui,3,2,"div",59),m.Ub(),m.Vb(8,"div",39),m.Qb(9,"input",61),m.Qc(10,Vi,3,2,"div",59),m.Ub(),m.Ub(),m.Qc(11,ki,4,3,"div",51),m.Qb(12,"br"),m.Vb(13,"button",62),m.cc("click",function(){m.Ec(t);const e=m.gc(2);return e.formRegister.invalid||e.status_obj.loading||e.registerForStudent()}),m.Qc(14,xi,3,0,"span",10),m.Sc(15," Ho\xe0n Th\xe0nh \u0110\u0103ng K\xfd "),m.Ub(),m.Ub()}if(2&t){const t=m.gc(2);m.Db(1),m.nc("formGroup",t.formRegister),m.Db(3),m.nc("ngIf",t.formRegister.controls.studentFullName.invalid&&(t.formRegister.controls.studentFullName.dirty||t.formRegister.controls.studentFullName.touched)),m.Db(3),m.nc("ngIf",t.formRegister.controls.studentPhone.invalid&&(t.formRegister.controls.studentPhone.dirty||t.formRegister.controls.studentPhone.touched)),m.Db(3),m.nc("ngIf",t.formRegister.controls.passWord.invalid&&(t.formRegister.controls.passWord.dirty||t.formRegister.controls.passWord.touched)),m.Db(1),m.nc("ngIf",t.status_obj.error_obj.message),m.Db(2),m.nc("disabled",t.formRegister.invalid||t.status_obj.loading),m.Db(1),m.nc("ngIf",!0===t.status_obj.loading)}}const Ci=function(t){return[t]},Pi=function(t){return{return_url:t,from:"register"}};function Oi(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",21),m.Vb(1,"div",22),m.Vb(2,"div",23),m.Vb(3,"a",24),m.cc("click",function(){return m.Ec(t),m.gc().changeRegisterType(1)}),m.Qb(4,"i",25),m.Sc(5,"\xa0 T\xf4i l\xe0 h\u1ecdc sinh"),m.Ub(),m.Ub(),m.Vb(6,"div",23),m.Vb(7,"a",24),m.cc("click",function(){return m.Ec(t),m.gc().changeRegisterType(2)}),m.Qb(8,"i",26),m.Sc(9,"\xa0 T\xf4i l\xe0 gi\xe1o vi\xean"),m.Ub(),m.Ub(),m.Ub(),m.Vb(10,"div",27),m.Vb(11,"div",28),m.Qb(12,"hr"),m.Ub(),m.Ub(),m.Qc(13,pi,53,8,"div",29),m.Qc(14,wi,16,7,"div",30),m.Vb(15,"div",31),m.Sc(16,' B\u1eb1ng c\xe1ch \u1ea5n v\xe0o n\xfat "\u0110\u0102NG K\xdd", t\xf4i \u0111\u1ed3ng \xfd v\u1edbi '),m.Vb(17,"a",32),m.Sc(18," \u0110i\u1ec1u Kho\u1ea3n S\u1eed D\u1ee5ng "),m.Ub(),m.Sc(19," v\xe0 "),m.Vb(20,"a",32),m.Sc(21," Ch\xednh S\xe1ch B\u1ea3o M\u1eadt c\u1ee7a AZOTA."),m.Ub(),m.Ub(),m.Vb(22,"div",33),m.Vb(23,"p",34),m.Sc(24,"B\u1ea1n \u0111\xe3 c\xf3 t\xe0i kho\u1ea3n?"),m.Ub(),m.Vb(25,"p"),m.Vb(26,"a",35),m.hc(27,"localize"),m.Sc(28,"\u0110\u0103ng nh\u1eadp"),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=m.gc();m.nc("hidden",t.isShowOption),m.Db(3),m.Hb("select-style-active",t.isStudent),m.Db(4),m.Hb("select-style-active",t.isTeacher),m.Db(6),m.nc("ngIf",1==t.isTeacher),m.Db(1),m.nc("ngIf",1==t.isStudent),m.Db(12),m.nc("routerLink",m.tc(11,Ci,m.ic(27,9,"/auth/login")))("queryParams",m.tc(13,Pi,t.returnUrl))}}const Mi={parse:{dateInput:"LL"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"YYYY"}};let Di=(()=>{class t{constructor(t,e,n,o,r,c,s){this.formBuilder=t,this.activeRoute=e,this.titleCasePipe=n,this.commonService=o,this.apiAuthService=r,this.router=c,this.recaptchaV3Service=s,this.subscriptions=new b.a,this.form=new i.k({}),this.formClass=new i.k({}),this.formRegister=new i.k({}),this.returnUrl="",this.zaloLoginUrl="",this.status_obj={form_loading:!0,loading:!1,error:!1,error_obj:{message:""}},this.isHiddenFormRegister=!0,this.isTeacher=!1,this.isStudent=!1,this.hashId="",this.teacherName="",this.isShowAlert=!0,this.classObjs="",this.teacherObjs="",this.isOnClick=!1,this.yesterday=new Date,this.isShowOption=!0,this.isShowRegisterForStudent=!1,this.isShowRegisterForTeacher=!1}getError(t){return!(!this.form.controls[t]||!this.form.controls[t].errors)&&this.form.controls[t].errors}getErrorType(t,e){return!!(this.form.controls[t]&&this.form.controls[t].errors&&this.form.controls[t].errors[e])&&this.form.controls[t].errors[e]}getErrorForm(t,e){return!!(this.formRegister.controls[t]&&this.formRegister.controls[t].errors&&this.formRegister.controls[t].errors[e])&&this.formRegister.controls[t].errors[e]}onlyNumber(t){const e=t.which?t.which:t.keyCode;return!(e>31&&(e<48||e>57))}goToConfirm(){this.returnUrl=this.commonService.getMyQueryParam("return_url");var t="?return_url="+encodeURIComponent(this.returnUrl)+"&confirm_type=confirm_phone_register";this.commonService.myNavigationWithQueryString("/auth/checking_service",t)}changeRegisterType(t){this.isShowOption=!1,1==t?(this.commonService.gaEvent("sign_up_switch_to_student"),this.isTeacher=!1,this.isStudent=!0):(this.commonService.gaEvent("sign_up_switch_to_teacher"),this.isTeacher=!0,this.isStudent=!1)}registerForTeacher(){this.form.valid&&this.executeImportantAction().then(t=>{var e=this.commonService.getFormObj(this.form);this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiAuthService.register(e.fullName,e.phone,e.password,e.email,t).subscribe(t=>{1==t.success?(this.commonService.gaEvent("sign_up_teacher"),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.apiAuthService.redirectLoginByRoleForRegister(this.commonService.getMyQueryParam("return_url"))):this.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t}}))})}registerForStudent(){this.executeImportantAction().then(t=>{this.commonService.gaEvent("sign_up_student");var e=this.commonService.getFormObj(this.formRegister);this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiAuthService.registerStudent(e.studentPhone,e.studentFullName,e.passWord,t).subscribe(t=>{1==t.success?(this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.apiAuthService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url"))):this.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t}}))})}loginZalo(){this.commonService.gaEvent("sign_up_teacher_by_zalo"),window.location.href=this.zaloLoginUrl}ngOnInit(){if(this.apiAuthService.isLogin()&&!this.apiAuthService.isAnonymousRole())this.apiAuthService.redirectLoginByRole(!1);else{var t=this.commonService.getMyParam(this.activeRoute,"type");if(null!=t){var e=parseInt(null==t?void 0:t.toString());this.changeRegisterType(0==e?0:1)}this.yesterday.setDate(this.yesterday.getDate()-1),this.form=this.formBuilder.group({fullName:["",i.z.required],phone:["",[i.z.required,i.z.pattern("^[0-9]*$"),i.z.minLength(10),i.z.maxLength(10)]],password:["",[i.z.required,i.z.minLength(6)]],email:["",i.z.email]}),this.formRegister=this.formBuilder.group({studentPhone:["",[i.z.required,i.z.pattern("^[0-9]*$"),i.z.minLength(10),i.z.maxLength(10)]],studentFullName:["",i.z.required],passWord:["",[i.z.required,i.z.minLength(6)]]}),this.formClass=this.formBuilder.group({hashId:["",i.z.required]}),this.form.get("fullName").valueChanges.subscribe(t=>{var e=this.titleCasePipe.transform(t);t!=e&&this.form.controls.fullName.setValue(e)}),this.returnUrl=this.commonService.getMyQueryParam("return_url")||this.commonService.getLocalRouter("/admin/testbank/dashboard"),this.zaloLoginUrl=zt.a.main_api+"Auth/LoginZalo?callback_uri="+encodeURIComponent(this.commonService.getLocalRouter("/auth/login")+"?return_url="+this.returnUrl+"&is_register=1"),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.commonService.translateMetaData({title:"lang_cms_auth_register_title",description:"lang_cms_auth_register_description",image:"lang_cms_test_image"})}}executeImportantAction(){return new Promise(t=>{this.recaptchaV3Service.execute("importantAction").subscribe(e=>{t(e)})})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(i.g),m.Pb(r.a),m.Pb(o.v),m.Pb(u.a),m.Pb(rt.a),m.Pb(r.i),m.Pb(ni.b))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-register"]],features:[m.Cb([o.v,{provide:D.c,useClass:ei.b,deps:[D.f]},{provide:D.e,useValue:Mi}])],decls:15,vars:3,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"row","py-5"],[1,"col-sm-3"],[1,"col-sm-6"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"text-center","p-0"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],[1,"p-0","m-0"],[1,"card-body"],[4,"ngIf"],["class","row","style","justify-content: space-around;",4,"ngIf"],[3,"hidden",4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"row",2,"justify-content","space-around"],[1,"col-sm-4","border-card","mb-3",3,"click"],[1,"df-logo"],[1,"fas","fa-graduation-cap","pb-3",2,"font-size","36px"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/teacher.png","width","36px","height","45px",1,"mb-3"],[3,"hidden"],[1,"row","justify-content-center","pt-3"],[1,"col-sm-6","text-center","mb-3"],[1,"clickable","select-style",3,"click"],[1,"fas","fa-graduation-cap"],[1,"fas","fa-user-alt"],[1,"row"],[1,"col-12"],["id","teacher",4,"ngIf"],["id","chilren",4,"ngIf"],[1,"mt-2",2,"text-align","justify","font-size","13px"],["href","/privacy/index.html","target","_blank"],[1,"text-center","mt-3"],[1,"text-normal"],[3,"routerLink","queryParams"],["id","teacher"],[1,"form-horizontal",3,"formGroup"],[1,"col-sm-12"],[1,"form-group"],[1,"col-sm-12","p-0"],[1,"input-group","mb-3"],["type","text","placeholder","H\u1ecd t\xean","formControlName","fullName","autocomplete","new-password",1,"form-control"],[1,"input-group-append"],["id","basic-addon1",1,"input-group-text"],["class","alert alert-danger",4,"ngIf"],["type","phone","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","formControlName","phone","autocomplete","new-password",1,"form-control"],["id","basic-addon2",1,"input-group-text"],["type","password","placeholder","M\u1eadt kh\u1ea9u","formControlName","password","autocomplete","new-password",1,"form-control"],["id","basic-addon3",1,"input-group-text"],["type","phone","placeholder","Email (kh\xf4ng b\u1eaft bu\u1ed9c nh\u1eadp)","formControlName","email","autocomplete","new-password",1,"form-control"],["class","form-group",4,"ngIf"],["mat-raised-button","","color","primary",2,"width","100%",3,"disabled","click"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"],["id","chilren"],["autocomplete","off",1,"form-horinzal",3,"formGroup"],["type","text","placeholder","H\u1ecd v\xe0 t\xean","formControlName","studentFullName","autocomplete","new-password",1,"form-control"],["class","alert alert-danger mt-3",4,"ngIf"],["type","text","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","formControlName","studentPhone","autocomplete","new-password",1,"form-control"],["type","password","placeholder","M\u1eadt Kh\u1ea9u","formControlName","passWord","autocomplete","new-password",1,"form-control"],["mat-raised-button","",1,"button-color","text-uppercase",2,"width","100%",3,"disabled","click"],[1,"alert","alert-danger","mt-3"]],template:function(t,e){1&t&&(m.Vb(0,"div",0),m.Vb(1,"div",1),m.Qb(2,"div",2),m.Vb(3,"div",3),m.Vb(4,"div",4),m.Vb(5,"div",5),m.Vb(6,"h2",6),m.Qb(7,"img",7),m.Ub(),m.Vb(8,"h3",8),m.Sc(9,"N\u1ec1n t\u1ea3ng gi\xe1o d\u1ee5c s\u1ed1"),m.Ub(),m.Ub(),m.Vb(10,"div",9),m.Qc(11,oi,6,3,"div",10),m.Qc(12,ii,11,0,"div",11),m.Qc(13,Oi,29,15,"div",12),m.Ub(),m.Ub(),m.Ub(),m.Qb(14,"div",2),m.Ub(),m.Ub()),2&t&&(m.Db(11),m.nc("ngIf",1==e.status_obj.form_loading),m.Db(1),m.nc("ngIf",1==e.isShowOption),m.Db(1),m.nc("ngIf",1!=e.status_obj.form_loading))},directives:[o.m,r.k,i.B,i.s,i.l,i.d,i.r,i.j,St.a,ct.b],pipes:[st.q,d.d],styles:['.zalo-icon[_ngcontent-%COMP%]{height:40px;margin-right:10px}.select-style[_ngcontent-%COMP%]{color:#868686!important}.select-style[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.select-style[_ngcontent-%COMP%]:hover{color:#0eafc0!important}.select-style-active[_ngcontent-%COMP%]{color:#0eafc0!important}.df-logo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.register--login[_ngcontent-%COMP%]{width:88px;height:88px}.two-button[_ngcontent-%COMP%]{width:80%;margin:auto}.register-button[_ngcontent-%COMP%], .two-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;height:100vh}.register-button[_ngcontent-%COMP%]{width:100%}.btn-max-width[_ngcontent-%COMP%]{width:100%;padding-top:1.25rem;padding-bottom:1.25rem;font-size:1.5rem}.responsive__text[_ngcontent-%COMP%]{width:90%;margin-left:auto;margin-right:auto}.btn-outline-primary[_ngcontent-%COMP%]{color:#0eafc0!important;border-color:#0eafc0!important}.btn-primary[_ngcontent-%COMP%]{color:#fff!important;border-color:#0eafc0!important;background-color:#0eafc0!important}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0b818e!important}.btn-outline-primary[_ngcontent-%COMP%]:hover{color:#0eafc0!important;border-color:#0eafc0!important;background-color:rgba(14,172,190,.15)}.btn-border-fix[_ngcontent-%COMP%]{border-radius:10px!important}.border-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid hsla(0,0%,86.3%,.8);border-radius:8px;cursor:pointer;padding:12px;align-items:center;text-align:center}.border-card[_ngcontent-%COMP%]:hover{box-shadow:10px 10px 20px rgba(0,0,0,.07),-10px -10px 20px hsla(0,0%,100%,.8)}.button-color[_ngcontent-%COMP%]{background-color:#0eafc0!important;color:#fff!important}.text-line[_ngcontent-%COMP%]{position:relative;text-align:center}.text-line[_ngcontent-%COMP%]:before{content:"";display:block;width:45%;height:.5px;position:absolute;right:0;background-color:#868686;top:50%}.text-line[_ngcontent-%COMP%]:after{content:"";display:block;width:45%;height:.5px;position:absolute;left:0;background-color:#868686;top:50%}.border-select-box[_ngcontent-%COMP%]{border:1px solid #ccd0d5;border-radius:4px;padding:8px 16px}  .mat-radio-label{margin-bottom:0!important}  .mat-radio-label-content{padding-left:16px!important}.mat-radio-button.mat-accent.mat-radio-checked[_ngcontent-%COMP%]   .mat-radio-persistent-ripple[_ngcontent-%COMP%], .mat-radio-button.mat-accent[_ngcontent-%COMP%]   .mat-radio-ripple[_ngcontent-%COMP%]   .mat-ripple-element[_ngcontent-%COMP%]:not(.mat-radio-persistent-ripple), .mat-radio-button.mat-accent[_ngcontent-%COMP%]:active   .mat-radio-persistent-ripple[_ngcontent-%COMP%],   .mat-radio-button.mat-accent .mat-radio-inner-circle{background-color:#0eafc0!important}  .mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle{border-color:#0eafc0!important}  .mat-input-element{font-size:18px!important;caret-color:#0eafc0!important}.mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-form-field-suffix[_ngcontent-%COMP%]   .mat-datepicker-toggle-default-icon[_ngcontent-%COMP%],   .mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon{width:1.5em!important}button[_ngcontent-%COMP%]:disabled{background-color:rgba(0,0,0,.12)!important}@media only screen and (max-width:424px){.btn-max-width[_ngcontent-%COMP%]{font-size:1rem}}@media only screen and (max-width:364px){.text-line[_ngcontent-%COMP%]:after, .text-line[_ngcontent-%COMP%]:before{width:40%}}']}),t})();function Qi(t,e){1&t&&(m.Vb(0,"div"),m.Vb(1,"div",12),m.Vb(2,"div",13),m.Vb(3,"span",14),m.Sc(4),m.hc(5,"mytranslate"),m.Ub(),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.Db(4),m.Uc("",m.ic(5,1,"lang_cms_common_loading"),"..."))}function Ii(t,e){1&t&&(m.Vb(0,"div"),m.Sc(1," M\u1eadt kh\u1ea9u ph\u1ea3i d\xe0i t\u1ed1i thi\u1ec3u l\xe0 6! "),m.Ub())}function Ai(t,e){if(1&t&&(m.Vb(0,"div",28),m.Qc(1,Ii,2,0,"div",11),m.Ub()),2&t){const t=m.gc(2);m.Db(1),m.nc("ngIf",t.getErrorType("password","required")||t.getErrorType("password","minlength"))}}function ji(t,e){if(1&t&&(m.Vb(0,"div",15),m.Vb(1,"label",29),m.Sc(2),m.hc(3,"mytranslate"),m.Ub(),m.Ub()),2&t){const t=m.gc(2);m.Db(2),m.Uc("*** ",m.ic(3,1,t.status_obj.error_obj.message),"")}}function Li(t,e){1&t&&(m.Vb(0,"span"),m.Qb(1,"span",30),m.Sc(2,"\xa0"),m.Ub())}const Ei=function(t){return[t]};function Ti(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div"),m.Vb(1,"div",15),m.Vb(2,"div",16),m.Vb(3,"div",17),m.Qb(4,"input",18),m.Vb(5,"div",19),m.Vb(6,"span",20),m.Vb(7,"mat-icon"),m.Sc(8,"lock"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(9,"div",17),m.Qb(10,"input",21),m.Vb(11,"div",19),m.Vb(12,"span",20),m.Vb(13,"mat-icon"),m.Sc(14,"lock"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Qc(15,Ai,2,1,"div",22),m.Ub(),m.Ub(),m.Qc(16,ji,4,3,"div",23),m.Vb(17,"div",15),m.Vb(18,"div",16),m.Vb(19,"div",24),m.Vb(20,"button",25),m.cc("click",function(){m.Ec(t);const e=m.gc();return e.form.invalid||e.status_obj.loading||e.changePassword()}),m.Qc(21,Li,3,0,"span",11),m.Sc(22,"\u0110\u1ed5i m\u1eadt kh\u1ea9u "),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Qb(23,"hr"),m.Vb(24,"div",26),m.Vb(25,"a",27),m.hc(26,"localize"),m.Sc(27,"\u0110\u0103ng nh\u1eadp t\xe0i kho\u1ea3n"),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=m.gc();m.Db(15),m.nc("ngIf",t.form.controls.password.invalid&&(t.form.controls.password.dirty||t.form.controls.password.touched)),m.Db(1),m.nc("ngIf",t.status_obj.error_obj.message),m.Db(4),m.nc("disabled",t.form.invalid||t.status_obj.loading),m.Db(1),m.nc("ngIf",!0===t.status_obj.loading),m.Db(4),m.nc("routerLink",m.tc(7,Ei,m.ic(26,5,"/auth/login")))}}let Fi=(()=>{class t{constructor(t,e,n,o){this.formBuilder=t,this.activeRoute=e,this.commonService=n,this.apiAuthService=o,this.subscriptions=new b.a,this.form=new i.k({}),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}}}getError(t){return!(!this.form.controls[t]||!this.form.controls[t].errors)&&this.form.controls[t].errors}getErrorType(t,e){return!!(this.form.controls[t]&&this.form.controls[t].errors&&this.form.controls[t].errors[e])&&this.form.controls[t].errors[e]}changePassword(){if(this.form.valid)if(this.form.value.password!=this.form.value.confirm_password)this.commonService.snackError("X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u kh\xf4ng kh\u1edbp","");else{var t=this.commonService.getFormObj(this.form),e=this.commonService.getMyQueryParam("token");this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}};var n=this.commonService.getMyQueryParam("app_name");this.subscriptions.add(this.apiAuthService.changePasswordWithFirebase(e,t.password,n).subscribe(t=>{1==t.success?(this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.apiAuthService.redirectLoginByRole(!1)):this.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t}}))}}ngOnInit(){this.form=this.formBuilder.group({password:["",[i.z.required,i.z.minLength(6)]],confirm_password:""}),this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(i.g),m.Pb(r.a),m.Pb(u.a),m.Pb(rt.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-confirm-forgot-password"]],decls:15,vars:3,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","password","placeholder","M\u1eadt kh\u1ea9u m\u1edbi","formControlName","password","autocomplete","off",1,"form-control"],[1,"input-group-append"],["id","basic-addon3",1,"input-group-text"],["type","password","placeholder","X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u","formControlName","confirm_password","autocomplete","off",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"text-right"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"text-center","mt-3"],[1,"text-normal",3,"routerLink"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&(m.Vb(0,"div",0),m.Vb(1,"form",1),m.Vb(2,"div",2),m.Qb(3,"div",3),m.Vb(4,"div",4),m.Vb(5,"h2",5),m.Qb(6,"img",6),m.Ub(),m.Vb(7,"div",7),m.Vb(8,"div",8),m.Vb(9,"span",9),m.Sc(10,"\u0110\u1ed5i m\u1eadt kh\u1ea9u m\u1edbi"),m.Ub(),m.Ub(),m.Vb(11,"div",10),m.Qc(12,Qi,6,3,"div",11),m.Qc(13,Ti,28,9,"div",11),m.Ub(),m.Ub(),m.Ub(),m.Qb(14,"div",3),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.Db(1),m.nc("formGroup",e.form),m.Db(11),m.nc("ngIf",1==e.status_obj.form_loading),m.Db(1),m.nc("ngIf",1!=e.status_obj.form_loading))},directives:[i.B,i.s,i.l,o.m,i.d,i.r,i.j,St.a,ct.b,r.k],pipes:[st.q,d.d],encapsulation:2}),t})();function qi(t,e){1&t&&(m.Vb(0,"span"),m.Qb(1,"span",28),m.Sc(2,"\xa0"),m.Ub())}function zi(t,e){if(1&t){const t=m.Wb();m.Vb(0,"span"),m.Vb(1,"button",33),m.cc("click",function(){m.Ec(t);const e=m.gc(2);return e.copyExamByHashId(e.examObj.hashId)}),m.Sc(2,"Copy Exam"),m.Ub(),m.Sc(3,"\xa0\xa0"),m.Ub()}}function Ri(t,e){if(1&t&&(m.Vb(0,"a",34),m.hc(1,"mycdn"),m.Sc(2,"T\u1ea3i xu\u1ed1ng file \u0111\u1ec1"),m.Ub()),2&t){const t=m.gc(2);m.oc("href",m.ic(1,1,t.examFileObj.path),m.Ic)}}function Bi(t,e){if(1&t){const t=m.Wb();m.Vb(0,"span"),m.Vb(1,"button",31),m.cc("click",function(){m.Ec(t);const e=m.gc().$implicit;return m.gc().redirectToHomeworkAndLogin(e.id)}),m.Sc(2,"Link xem \u0111i\u1ec3m b\xe0i t\u1eadp"),m.Ub(),m.Sc(3,"\xa0\xa0"),m.Ub()}}function Ni(t,e){if(1&t){const t=m.Wb();m.Vb(0,"span"),m.Vb(1,"button",31),m.cc("click",function(){m.Ec(t);const e=m.gc().$implicit;return m.gc().redirectToExamAndLogin(e.id)}),m.Sc(2,"Link xem \u0111i\u1ec3m \u0111\u1ec1 thi"),m.Ub(),m.Sc(3,"\xa0\xa0"),m.Ub()}}function Wi(t,e){if(1&t){const t=m.Wb();m.Vb(0,"tr"),m.Vb(1,"td"),m.Sc(2),m.Ub(),m.Vb(3,"td"),m.Sc(4),m.Ub(),m.Vb(5,"td"),m.Sc(6),m.Ub(),m.Vb(7,"td"),m.Sc(8),m.Ub(),m.Vb(9,"td",29),m.Qc(10,zi,4,0,"span",21),m.Qc(11,Ri,3,3,"a",30),m.Qc(12,Bi,4,0,"span",21),m.Qc(13,Ni,4,0,"span",21),m.Vb(14,"button",31),m.cc("click",function(){m.Ec(t);const n=e.$implicit;return m.gc().loginToThisAccount(n.id)}),m.Sc(15,"\u0110\u0103ng nh\u1eadp"),m.Ub(),m.Sc(16,"\xa0 "),m.Vb(17,"button",31),m.cc("click",function(){m.Ec(t);const n=e.$implicit;return m.gc().getForgotPasswordLink(n.id)}),m.Sc(18,"L\u1ea5y link qu\xean m\u1eadt kh\u1ea9u"),m.Ub(),m.Sc(19,"\xa0 "),m.Vb(20,"button",32),m.cc("click",function(){m.Ec(t);const n=e.$implicit;return m.gc().blockPhoneAccount(n.id)}),m.Sc(21,"Kh\xf3a s\u1ed1 phone n\xe0y"),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=e.$implicit,n=m.gc();m.Db(2),m.Tc(t.fullName),m.Db(2),m.Tc(t.email),m.Db(2),m.Tc(t.phone),m.Db(2),m.Tc(t.zalo_id),m.Db(2),m.nc("ngIf",0!=n.examObj.id),m.Db(1),m.nc("ngIf",n.examFileObj&&-1!=n.examFileObj.id),m.Db(1),m.nc("ngIf",0!=n.homeworkObj.id),m.Db(1),m.nc("ngIf",0!=n.examObj.id)}}let Hi=(()=>{class t{constructor(t,e,n){this.formBuilder=t,this.commonService=e,this.apiAuthService=n,this.subscriptions=new b.a,this.form=new i.k({}),this.status_obj={loading:!1,error:!1},this.forgotpassword_link="",this.objs=[],this.homeworkObj={id:0},this.examObj={id:0},this.examFileObj={},this.homeworkAnswerObj={id:0},this.checkRedirect=""}search(){this.status_obj={loading:!0,error:!1};var t=this.commonService.getFormObj(this.form);this.subscriptions.add(this.apiAuthService.searchUser(t.full_name,t.phone,t.email,t.user_id,t.classroom_id,t.homework_hashid,t.exam_hashid,t.homework_id,t.exam_id,t.homework_answer_id,t.test_answer_id).subscribe(t=>{1==t.success?(this.objs=t.data.objs,this.homeworkObj=t.data.hasOwnProperty("homeworkObj")?t.data.homeworkObj:{id:0},this.examObj=t.data.hasOwnProperty("examObj")?t.data.examObj:{id:0},this.examFileObj=t.data.hasOwnProperty("examFileObj")?t.data.examFileObj:{id:-1},this.homeworkAnswerObj=t.data.hasOwnProperty("homeworkAnswerObj")?t.data.homeworkAnswerObj:{id:0},this.status_obj={loading:!1,error:!1}):(this.status_obj={loading:!1,error:!0},this.commonService.myTranslate([t.message]).subscribe(e=>{this.commonService.snackError(e[t.message],"")}))}))}loginToThisAccount(t){this.subscriptions.add(this.apiAuthService.getTokenByUser(t).subscribe(t=>{if(1==t.success)switch(this.status_obj={loading:!1,error:!1},this.apiAuthService.redirectLoginByRole(!1),this.checkRedirect){case"Homwork":this.commonService.myNavigation(`/admin/homework/score-list/${this.homeworkObj.classroomId}/${this.homeworkObj.id}/${this.homeworkObj.hashId}`);break;case"Exam":this.commonService.myNavigation(`/admin/testbank/tested-list/${null!=this.examObj.categoryId?this.examObj.categoryId:0}/${this.examObj.id}/0`)}else this.status_obj={loading:!1,error:!0},this.commonService.myTranslate([t.message]).subscribe(e=>{this.commonService.snackError(e[t.message],"")})}))}getForgotPasswordLink(t){this.subscriptions.add(this.apiAuthService.getForgotPasswordCode(t).subscribe(t=>{1==t.success?(this.status_obj={loading:!1,error:!1},this.forgotpassword_link=this.commonService.getHostUrl()+this.commonService.getLocalRouter("/auth/confirm_forgot_password_old?token=")+t.data,this.commonService.snackSuccess("T\u1ea1o link th\xe0nh c\xf4ng","")):(this.status_obj={loading:!1,error:!0},this.commonService.myTranslate([t.message]).subscribe(e=>{this.commonService.snackError(e[t.message],"")}))}))}blockPhoneAccount(t){this.subscriptions.add(this.apiAuthService.disablePhoneAccount(t).subscribe(t=>{1==t.success?(this.status_obj={loading:!1,error:!1},this.commonService.snackSuccess("Kh\xf3a s\u1ed1 phone th\xe0nh c\xf4ng","")):(this.status_obj={loading:!1,error:!0},this.commonService.myTranslate([t.message]).subscribe(e=>{this.commonService.snackError(e[t.message],"")}))}))}redirectToHomeworkAndLogin(t){this.checkRedirect="Homwork",this.loginToThisAccount(t)}redirectToExamAndLogin(t){this.checkRedirect="Exam",this.loginToThisAccount(t)}copyExamByHashId(t){this.subscriptions.add(this.apiAuthService.copyExamByHashId(t).subscribe(t=>{if(1==t.success){this.status_obj={loading:!1,error:!1};var e=t.data.obj;this.commonService.myNavigation(`/admin/testbank/tested-list/${null!=e.categoryId?e.categoryId:0}/${e.id}/0`)}else this.status_obj={loading:!1,error:!0},this.commonService.myTranslate([t.message]).subscribe(e=>{this.commonService.snackError(e[t.message],"")})}))}ngOnInit(){this.form=this.formBuilder.group({full_name:[""],phone:[""],email:[""],user_id:[""],classroom_id:[""],homework_hashid:[""],exam_hashid:[""],homework_id:[""],exam_id:[""],homework_answer_id:[""],test_answer_id:[""]}),this.commonService.translateMetaData({title:"lang_cms_auth_support_title",description:"lang_cms_auth_support_description",image:"lang_cms_test_image"})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(i.g),m.Pb(u.a),m.Pb(rt.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-support"]],decls:95,vars:7,consts:[[3,"headerTitle","back_link"],[1,"container-fluid","component-wrap","centerBoth","hasBg","mt-3"],[1,"card"],[1,"card-body"],[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"row"],[1,"col-sm-12"],[1,"form-group"],[1,"col-sm-12","control-label"],["type","text","formControlName","full_name",1,"form-control"],["type","text","formControlName","phone",1,"form-control"],["type","text","formControlName","email",1,"form-control"],["type","text","formControlName","user_id",1,"form-control"],["type","text","formControlName","classroom_id",1,"form-control"],["type","text","formControlName","homework_id",1,"form-control"],["type","text","formControlName","homework_hashid",1,"form-control"],["type","text","formControlName","homework_answer_id",1,"form-control"],["type","text","formControlName","exam_id",1,"form-control"],["type","text","formControlName","exam_hashid",1,"form-control"],["type","text","formControlName","test_answer_id",1,"form-control"],["mat-raised-button","","color","primary",2,"width","100%",3,"disabled","click"],[4,"ngIf"],["type","text",1,"form-control",3,"value"],[1,"table-responsive"],[1,"table"],["scope","col"],["scope","col",1,"text-right"],[4,"ngFor","ngForOf"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"text-right"],["mat-raised-button","","class","mx-2 mb-1","download","proposed_file_name","style","text-transform: uppercase;","target","_black",3,"href",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","",3,"click"],["mat-raised-button","","download","proposed_file_name","target","_black",1,"mx-2","mb-1",2,"text-transform","uppercase",3,"href"]],template:function(t,e){1&t&&(m.Qb(0,"header-backend",0),m.Vb(1,"div",1),m.Vb(2,"div",2),m.Vb(3,"div",3),m.Vb(4,"h3"),m.Vb(5,"b"),m.Sc(6,"M\xe0n h\xecnh h\u1ed7 tr\u1ee3 vi\xean"),m.Ub(),m.Ub(),m.Qb(7,"hr"),m.Vb(8,"form",4),m.Vb(9,"div",5),m.Vb(10,"div",6),m.Vb(11,"div",7),m.Vb(12,"label",8),m.Sc(13,"User: T\xecm theo T\xean"),m.Ub(),m.Vb(14,"div",6),m.Qb(15,"input",9),m.Ub(),m.Ub(),m.Vb(16,"div",7),m.Vb(17,"label",8),m.Sc(18,"User: T\xecm theo Phone"),m.Ub(),m.Vb(19,"div",6),m.Qb(20,"input",10),m.Ub(),m.Ub(),m.Vb(21,"div",7),m.Vb(22,"label",8),m.Sc(23,"User: T\xecm theo Email"),m.Ub(),m.Vb(24,"div",6),m.Qb(25,"input",11),m.Ub(),m.Ub(),m.Vb(26,"div",7),m.Vb(27,"label",8),m.Sc(28,"User: T\xecm theo ID"),m.Ub(),m.Vb(29,"div",6),m.Qb(30,"input",12),m.Ub(),m.Ub(),m.Vb(31,"div",7),m.Vb(32,"label",8),m.Sc(33,"Classroom: T\xecm theo Id l\u1edbp h\u1ecdc"),m.Ub(),m.Vb(34,"div",6),m.Qb(35,"input",13),m.Ub(),m.Ub(),m.Vb(36,"div",7),m.Vb(37,"label",8),m.Sc(38,"B\xe0i t\u1eadp: T\xecm theo Id"),m.Ub(),m.Vb(39,"div",6),m.Qb(40,"input",14),m.Ub(),m.Ub(),m.Vb(41,"div",7),m.Vb(42,"label",8),m.Sc(43,"B\xe0i t\u1eadp: T\xecm theo M\xe3 b\xe0i t\u1eadp"),m.Ub(),m.Vb(44,"div",6),m.Qb(45,"input",15),m.Ub(),m.Ub(),m.Vb(46,"div",7),m.Vb(47,"label",8),m.Sc(48,"B\xe0i t\u1eadp: T\xecm theo Id k\u1ebft qu\u1ea3"),m.Ub(),m.Vb(49,"div",6),m.Qb(50,"input",16),m.Ub(),m.Ub(),m.Vb(51,"div",7),m.Vb(52,"label",8),m.Sc(53,"\u0110\u1ec1 thi: T\xecm theo Id"),m.Ub(),m.Vb(54,"div",6),m.Qb(55,"input",17),m.Ub(),m.Ub(),m.Vb(56,"div",7),m.Vb(57,"label",8),m.Sc(58,"\u0110\u1ec1 thi: T\xecm theo M\xe3 \u0111\u1ec1"),m.Ub(),m.Vb(59,"div",6),m.Qb(60,"input",18),m.Ub(),m.Ub(),m.Vb(61,"div",7),m.Vb(62,"label",8),m.Sc(63,"\u0110\u1ec1 thi: T\xecm theo Id k\u1ebft qu\u1ea3"),m.Ub(),m.Vb(64,"div",6),m.Qb(65,"input",19),m.Ub(),m.Ub(),m.Vb(66,"div",7),m.Vb(67,"div",6),m.Vb(68,"button",20),m.cc("click",function(){return e.form.invalid||e.status_obj.loading||e.search()}),m.Qc(69,qi,3,0,"span",21),m.Sc(70,"T\xecm ki\u1ebfm "),m.Ub(),m.Ub(),m.Ub(),m.Qb(71,"hr"),m.Vb(72,"div",7),m.Vb(73,"label",8),m.Sc(74,"Link qu\xean m\u1eadt kh\u1ea9u"),m.Ub(),m.Vb(75,"div",6),m.Qb(76,"input",22),m.Ub(),m.Ub(),m.Vb(77,"div",7),m.Vb(78,"div",6),m.Vb(79,"div",23),m.Vb(80,"table",24),m.Vb(81,"thead"),m.Vb(82,"tr"),m.Vb(83,"th",25),m.Sc(84,"T\xean"),m.Ub(),m.Vb(85,"th",25),m.Sc(86,"Email"),m.Ub(),m.Vb(87,"th",25),m.Sc(88,"Phone"),m.Ub(),m.Vb(89,"th",25),m.Sc(90,"Zalo ID"),m.Ub(),m.Vb(91,"th",26),m.Sc(92,"H\xe0nh \u0111\u1ed9ng"),m.Ub(),m.Ub(),m.Ub(),m.Vb(93,"tbody"),m.Qc(94,Wi,22,8,"tr",27),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.nc("headerTitle","H\u1ed7 tr\u1ee3 kh\xe1ch h\xe0ng")("back_link","/admin/testbank/dashboard"),m.Db(8),m.nc("formGroup",e.form),m.Db(60),m.nc("disabled",e.form.invalid||e.status_obj.loading),m.Db(1),m.nc("ngIf",!0===e.status_obj.loading),m.Db(7),m.oc("value",e.forgotpassword_link),m.Db(18),m.nc("ngForOf",e.objs))},directives:[v.a,i.B,i.s,i.l,i.d,i.r,i.j,ct.b,o.m,o.l,ct.a],pipes:[st.o],encapsulation:2}),t})();function Gi(t,e){1&t&&(m.Vb(0,"div"),m.Vb(1,"div",13),m.Vb(2,"div",14),m.Vb(3,"span",15),m.Sc(4),m.hc(5,"mytranslate"),m.Ub(),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.Db(4),m.Uc("",m.ic(5,1,"lang_cms_common_loading"),"..."))}function $i(t,e){1&t&&(m.Vb(0,"span"),m.Qb(1,"span",21),m.Sc(2,"\xa0"),m.Ub())}function Zi(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div"),m.Vb(1,"div",16),m.Vb(2,"div",17),m.Vb(3,"button",18),m.cc("click",function(){m.Ec(t);const e=m.gc(2);return e.status_obj.loading||e.becomeTeacher()}),m.Qc(4,$i,3,0,"span",12),m.Sc(5,"Click v\xe0o \u0111\xe2y \u0111\u1ec3 tr\u1edf th\xe0nh gi\xe1o vi\xean "),m.Ub(),m.Ub(),m.Ub(),m.Vb(6,"div",19),m.Vb(7,"a",20),m.cc("click",function(){return m.Ec(t),m.gc(2).goBack()}),m.Sc(8,"Quay l\u1ea1i trang ch\u1ee7"),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=m.gc(2);m.Db(3),m.nc("disabled",t.status_obj.loading),m.Db(1),m.nc("ngIf",!0===t.status_obj.loading)}}function Ki(t,e){if(1&t&&(m.Vb(0,"div",5),m.Vb(1,"h2",6),m.Qb(2,"img",7),m.Ub(),m.Vb(3,"div",8),m.Vb(4,"div",9),m.Vb(5,"span",10),m.Sc(6,"T\xf4i mu\u1ed1n th\xe0nh gi\xe1o vi\xean"),m.Ub(),m.Ub(),m.Vb(7,"div",11),m.Qc(8,Gi,6,3,"div",12),m.Qc(9,Zi,9,2,"div",12),m.Ub(),m.Ub(),m.Ub()),2&t){const t=m.gc();m.Db(8),m.nc("ngIf",1==t.status_obj.form_loading),m.Db(1),m.nc("ngIf",1!=t.status_obj.form_loading)}}function Ji(t,e){1&t&&(m.Vb(0,"div"),m.Vb(1,"div",13),m.Vb(2,"div",14),m.Vb(3,"span",15),m.Sc(4),m.hc(5,"mytranslate"),m.Ub(),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.Db(4),m.Uc("",m.ic(5,1,"lang_cms_common_loading"),"..."))}function Yi(t,e){1&t&&(m.Vb(0,"span"),m.Qb(1,"span",21),m.Sc(2,"\xa0"),m.Ub())}function Xi(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div"),m.Vb(1,"div",16),m.Vb(2,"div",17),m.Vb(3,"button",18),m.cc("click",function(){m.Ec(t);const e=m.gc(2);return e.status_obj.loading||e.becomeStudent()}),m.Qc(4,Yi,3,0,"span",12),m.Sc(5,"Click v\xe0o \u0111\xe2y \u0111\u1ec3 b\u1ecf quy\u1ec1n gi\xe1o vi\xean "),m.Ub(),m.Ub(),m.Ub(),m.Vb(6,"div",19),m.Vb(7,"a",20),m.cc("click",function(){return m.Ec(t),m.gc(2).goBack()}),m.Sc(8,"Quay l\u1ea1i trang ch\u1ee7"),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=m.gc(2);m.Db(3),m.nc("disabled",t.status_obj.loading),m.Db(1),m.nc("ngIf",!0===t.status_obj.loading)}}function tr(t,e){if(1&t&&(m.Vb(0,"div",5),m.Vb(1,"h2",6),m.Qb(2,"img",7),m.Ub(),m.Vb(3,"div",8),m.Vb(4,"div",9),m.Vb(5,"span",10),m.Sc(6,"T\xf4i mu\u1ed1n b\u1ecf quy\u1ec1n gi\xe1o vi\xean"),m.Ub(),m.Ub(),m.Vb(7,"div",11),m.Qc(8,Ji,6,3,"div",12),m.Qc(9,Xi,9,2,"div",12),m.Ub(),m.Ub(),m.Ub()),2&t){const t=m.gc();m.Db(8),m.nc("ngIf",1==t.status_obj.form_loading),m.Db(1),m.nc("ngIf",1!=t.status_obj.form_loading)}}let er=(()=>{class t{constructor(t,e){this.apiAuthService=t,this.commonService=e,this.subscriptions=new b.a,this.status_obj={form_loading:!0,loading:!1,error:!1,error_obj:{message:""}},this.isTeacher=!1,this.isStudent=!1}goBack(){this.apiAuthService.redirectLoginByRole(!1)}becomeTeacher(){this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiAuthService.becomeTeacher().subscribe(t=>{1==t.success?(this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.apiAuthService.redirectLoginByRole(!1)):(this.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t},this.commonService.myTranslate([t.message]).subscribe(e=>{this.commonService.snackError(e[t.message],"")}))}))}becomeStudent(){this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiAuthService.removeTeacherRole().subscribe(t=>{1==t.success?(this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.apiAuthService.redirectLoginByRole(this.commonService.getLocalRouter("/student/dashboard/0"))):(this.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t},this.commonService.myTranslate([t.message]).subscribe(e=>{this.commonService.snackError(e[t.message],"")}))}))}ngOnInit(){this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.commonService.translateMetaData({title:"\u0110\u1ed5i Vai Tr\xf2",description:"\u0110\u1ed5i Vai Tr\xf2",image:"lang_cms_test_image"}),this.isTeacher=this.apiAuthService.isTeacherRole()}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(rt.a),m.Pb(u.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-switch-teacher-student"]],decls:7,vars:2,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[2,"margin-top","6vh"],[1,"row"],[1,"col-sm-3"],["class","col-sm-6",4,"ngIf"],[1,"col-sm-6"],[1,"text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-md-12","text-center"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"text-center","mt-3"],[1,"clickable",3,"click"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&(m.Vb(0,"div",0),m.Vb(1,"div",1),m.Vb(2,"div",2),m.Qb(3,"div",3),m.Qc(4,Ki,10,2,"div",4),m.Qc(5,tr,10,2,"div",4),m.Qb(6,"div",3),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.Db(4),m.nc("ngIf",0==e.isTeacher),m.Db(1),m.nc("ngIf",1==e.isTeacher))},directives:[o.m,ct.b],pipes:[st.q],styles:[""]}),t})();function nr(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",8),m.Vb(1,"div",9),m.Vb(2,"label",10),m.Sc(3),m.Ub(),m.Vb(4,"div",11),m.Qb(5,"textarea",12),m.Ub(),m.Vb(6,"div",13),m.Vb(7,"button",14),m.cc("click",function(){m.Ec(t);const n=e.$implicit;return m.gc().saveConfig(n.controls.id.value)}),m.Sc(8,"C\u1eadp nh\u1eadt"),m.Ub(),m.Sc(9,"\xa0 "),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=e.$implicit;m.Db(1),m.nc("formGroup",t),m.Db(2),m.Tc(t.controls.name.value)}}let or=(()=>{class t{constructor(t,e,n){this.fb=t,this.commonService=e,this.apiAuthService=n,this.subscriptions=new b.a,this.form=new i.k({}),this.status_obj={loading:!1,error:!1},this.objs=[]}ngOnInit(){this.form=this.fb.group({config_objs:this.fb.array([])}),this.getConfigObjs(),this.commonService.translateMetaData({title:"lang_cms_auth_update_config_title",description:"lang_cms_auth_update_config_description",image:"lang_cms_test_image"})}saveConfig(t){for(var e=this.commonService.getFormObj(this.form),n=!1,o="",i=0;i<e.config_objs.length;i++)if(e.config_objs[i].id==t){n=!0,o=e.config_objs[i].value;break}n?(this.status_obj={loading:!0,error:!1},this.subscriptions.add(this.apiAuthService.updateConfigObj(t,o).subscribe(t=>{1==t.success?(this.status_obj={loading:!1,error:!1},this.commonService.snackSuccess("L\u01b0u d\u1eef li\u1ec7u th\xe0nh c\xf4ng","")):(this.status_obj={loading:!1,error:!0},this.commonService.myTranslate([t.message]).subscribe(e=>{this.commonService.snackError(e[t.message],"")}))}))):this.commonService.snackError("Kh\xf4ng t\xecm th\u1ea5y d\u1eef li\u1ec7u","")}getConfigObjs(){this.status_obj={loading:!0,error:!1},this.subscriptions.add(this.apiAuthService.getConfigObjs().subscribe(t=>{if(1==t.success){this.objs=t.data;for(var e=this.fb.array([]),n=0;n<this.objs.length;n++){var o=this.fb.group({id:[this.objs[n].id,[i.z.required]],name:[this.objs[n].name,[i.z.required]],value:[this.objs[n].value,[i.z.required]]});e.push(o)}this.form.setControl("config_objs",e),this.status_obj={loading:!1,error:!1}}else this.status_obj={loading:!1,error:!0},this.commonService.myTranslate([t.message]).subscribe(e=>{this.commonService.snackError(e[t.message],"")})}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(i.g),m.Pb(u.a),m.Pb(rt.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-update-config"]],decls:12,vars:4,consts:[[3,"headerTitle","back_link"],[1,"container-fluid","component-wrap","centerBoth","hasBg","mt-3"],[1,"card"],[1,"card-body"],[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"row"],[1,"col-sm-12"],["class","form-group",4,"ngFor","ngForOf"],[1,"form-group"],[1,"row",3,"formGroup"],[1,"col-sm-2","control-label"],[1,"col-sm-6"],["type","text","formControlName","value",1,"form-control"],[1,"col-sm-3"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(m.Qb(0,"header-backend",0),m.Vb(1,"div",1),m.Vb(2,"div",2),m.Vb(3,"div",3),m.Vb(4,"h3"),m.Vb(5,"b"),m.Sc(6,"C\u1eadp nh\u1eadt c\u1ea5u h\xecnh"),m.Ub(),m.Ub(),m.Qb(7,"hr"),m.Vb(8,"form",4),m.Vb(9,"div",5),m.Vb(10,"div",6),m.Qc(11,nr,10,2,"div",7),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.nc("headerTitle","C\u1eadp nh\u1eadt c\u1ea5u h\xecnh")("back_link","/admin/testbank/dashboard"),m.Db(8),m.nc("formGroup",e.form),m.Db(3),m.nc("ngForOf",e.form.controls.config_objs.controls))},directives:[v.a,i.B,i.s,i.l,o.l,i.d,i.r,i.j,ct.b],encapsulation:2}),t})(),ir=(()=>{class t{constructor(t,e,n,o,r){this.activeRoute=t,this.router=e,this.fb=n,this.commonService=o,this.apiCommonService=r,this.subscriptions=new b.a,this.form=new i.k({}),this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.returnUrl=""}checkCorrectVersion(){this.apiCommonService.isCorrectVersion()&&this.commonService.redirectByUrl(this.returnUrl)}ngOnInit(){Object(h.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.returnUrl=this.commonService.getMyQueryParam("return_url"),this.checkCorrectVersion()})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(r.a),m.Pb(r.i),m.Pb(i.g),m.Pb(u.a),m.Pb(p.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-update-version"]],decls:18,vars:1,consts:[[3,"headerTitle"],[1,"container","py-5","bg-white","mt-3","rounded"],[1,"row"],[1,"col-12"],[1,"font-weight-bold"]],template:function(t,e){1&t&&(m.Qb(0,"header-backend",0),m.Vb(1,"div",1),m.Vb(2,"div",2),m.Vb(3,"div",3),m.Vb(4,"h3",4),m.Sc(5,"N\u1ebfu b\u1ea1n s\u1eed d\u1ee5ng m\xe1y t\xednh th\xec h\xe3y l\xe0m theo h\u01b0\u1edbng d\u1eabn sau:"),m.Ub(),m.Vb(6,"p"),m.Sc(7,'- Nh\u1ea5n t\u1ed5 h\u1ee3p ph\xedm "Ctrl + F5" ho\u1eb7c "Ctrl + Shift + R" (\u0111\u1ed1i v\u1edbi m\xe1y s\u1eed d\u1ee5ng h\u1ec7 \u0111i\u1ec1u h\xe0nh Windows) ho\u1eb7c "Command + Shift + R" (\u0111\u1ed1i v\u1edbi m\xe1y s\u1eed d\u1ee5ng h\u1ec7 \u0111i\u1ec1u h\xe0nh Mac OS) \u0111\u1ec3 t\u1ea3i l\u1ea1i trang \u0111\u1ed3ng th\u1eddi x\xf3a cache tr\xecnh duy\u1ec7t. Sau \u0111\xf3 \u0111\u0103ng nh\u1eadp l\u1ea1i.'),m.Ub(),m.Ub(),m.Ub(),m.Vb(8,"div",2),m.Vb(9,"div",3),m.Vb(10,"h3",4),m.Sc(11,"N\u1ebfu b\u1ea3n s\u1eed d\u1ee5ng \u0111i\u1ec7n tho\u1ea1i th\xec h\xe3y l\xe0m theo h\u01b0\u1edbng d\u1eabn sau:"),m.Ub(),m.Vb(12,"p"),m.Sc(13,"- Truy c\u1eadp v\xe0o thanh menu v\xe0 nh\u1ea5n n\xfat History."),m.Ub(),m.Vb(14,"p"),m.Sc(15,"- Click ch\u1ecdn Clear Browsing Data. V\xe0 ch\u1ecdn th\u1eddi gian. \u0110\u1ec3 x\xf3a m\u1ecdi th\u1ee9, ch\u1ecdn All Time."),m.Ub(),m.Vb(16,"p"),m.Sc(17,"- Ch\u1ecdn y\u1ebfu t\u1ed1 b\u1ea1n mu\u1ed1n x\xf3a \u2013 history, cookies, cache."),m.Ub(),m.Ub(),m.Ub(),m.Ub()),2&t&&m.nc("headerTitle","Th\xf4ng b\xe1o c\u1eadp nh\u1eadt phi\xean b\u1ea3n m\u1edbi")},directives:[v.a],styles:[""]}),t})();function rr(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",15),m.Qb(1,"img",16),m.hc(2,"mycdn"),m.hc(3,"mycdn"),m.Vb(4,"span",17),m.cc("click",function(){m.Ec(t);const n=e.index;return m.gc(2).removeFile(n)}),m.Vb(5,"mat-icon"),m.Sc(6,"cancel"),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=e.$implicit;m.Db(1),m.oc("src",m.ic(2,2,t.thumb.url),m.Ic),m.oc("alt",m.ic(3,4,t.thumb.url))}}function cr(t,e){if(1&t&&(m.Vb(0,"div",13),m.Qc(1,rr,7,6,"div",14),m.Ub()),2&t){const t=m.gc();m.Db(1),m.nc("ngForOf",t.answerFiles)}}function sr(t,e){1&t&&(m.Vb(0,"span"),m.Qb(1,"span",18),m.Sc(2,"\xa0"),m.Ub())}let ar=(()=>{class t{constructor(t,e,n){this.fb=t,this.commonService=e,this.apiCommonService=n,this.subscriptions=new b.a,this.form=new i.k({}),this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.answerFiles=[],this.selectFile=t=>{let e=t.target.files;try{for(var n in e)"length"!=n&&"item"!=n&&(this.answerFile=e?e[n]:this.answerFile,this.answerFile&&(this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.uploadPPT(this.answerFile)))}catch(o){alert("\u0110\xe3 x\u1ea3y ra l\u1ed7i:"+o)}},this.uploadPPT=t=>{this.apiCommonService.uploadPptThumbnail(t).subscribe(e=>{1==e.success?this.apiCommonService.uploadToCdnForPptFile(t).subscribe(t=>{1==t.success?(Array.isArray(this.answerFiles)||(this.answerFiles=[]),this.answerFiles.push({thumb:e.data,ppt:t.data}),this.status_obj={loading:!1,error:!1,error_obj:{message:""}}):(this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c file PowerPoint! Vui l\xf2ng th\u1eed l\u1ea1i sau!",""))}):(this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c file Thumbnail! Vui l\xf2ng th\u1eed l\u1ea1i sau!",""))})},this.answerFile=null}saveObj(){this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.apiCommonService.saveContentObjs(this.answerFiles).subscribe(t=>{this.status_obj={loading:!1,error:!1,error_obj:{message:""}},1==t.success?this.commonService.snackSuccess("T\u1ea1o n\u1ed9i dung th\xe0nh c\xf4ng",""):this.commonService.snackError("T\u1ea1o n\u1ed9i dung b\u1ecb l\u1ed7i!","")})}removeFile(t){this.answerFiles[t]&&delete this.answerFiles[t]}ngOnInit(){this.form=this.fb.group({file:new i.h("",i.z.required)})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(i.g),m.Pb(u.a),m.Pb(p.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-upload-file"]],decls:19,vars:4,consts:[[1,"container-fluid","mt-5","mb-5"],["enctype","multipart/form-data",1,"form-horizontal","text-center",3,"formGroup"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","text-center","v-dragndrop","dropzone","dz-started"],["id","dropzone-3404",1,"px-4","py-3","rounded",2,"cursor","pointer",3,"click"],[1,"file"],["id","select-upload-file",1,"align-self-center","select","dz-clickable"],["type","file","id","file_select","multiple","","formControlName","file",1,"form-control","file-input",3,"change"],["fileSelect",""],["class","row ml-0 mr-0 mt-4 attach-container",4,"ngIf"],[1,"mt-20"],[1,"col-sm-12"],["mat-raised-button","","color","primary",2,"margin-top","20px",3,"disabled","click"],[4,"ngIf"],[1,"row","ml-0","mr-0","mt-4","attach-container"],["class","img-container",4,"ngFor","ngForOf"],[1,"img-container"],[1,"img-fluid","item",3,"src","alt"],[1,"notify-badge",3,"click"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",0),m.Vb(1,"form",1),m.Vb(2,"div",2),m.Vb(3,"div",3),m.cc("click",function(){return m.Ec(t),m.Ac(12).click()}),m.Vb(4,"div",4),m.Vb(5,"a",5),m.Vb(6,"mat-icon"),m.Sc(7,"attach_file"),m.Ub(),m.Ub(),m.Qb(8,"br"),m.Vb(9,"span"),m.Sc(10,"Ch\u1ecdn file t\u1ea3i l\xean"),m.Ub(),m.Vb(11,"input",6,7),m.cc("change",function(t){return e.selectFile(t)}),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Qc(13,cr,2,1,"div",8),m.Vb(14,"div",9),m.Vb(15,"div",10),m.Vb(16,"button",11),m.cc("click",function(){return e.saveObj()}),m.Qc(17,sr,3,0,"span",12),m.Sc(18,"L\u01b0u file Powerpoint "),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub()}2&t&&(m.Db(1),m.nc("formGroup",e.form),m.Db(12),m.nc("ngIf",e.answerFiles.length>0),m.Db(3),m.nc("disabled",e.status_obj.loading),m.Db(1),m.nc("ngIf",!0===e.status_obj.loading))},directives:[i.B,i.s,i.l,St.a,i.d,i.r,i.j,o.m,ct.b,o.l],pipes:[st.o],styles:[".v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;line-height:1.5}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}@media (max-width:768px){.dropzone[_ngcontent-%COMP%]{min-width:100px}._col-left[_ngcontent-%COMP%]{margin-bottom:20px}}"]}),t})();var lr=n("tk/3"),dr=n("Qu3c");function br(t,e){1&t&&(m.Vb(0,"div",19),m.Vb(1,"span"),m.Qb(2,"span",20),m.Ub(),m.Qb(3,"br"),m.Vb(4,"p",21),m.Sc(5,"B\xe0i l\xe0m \u0111ang \u0111\u01b0\u1ee3c t\u1ea3i l\xean. Vui l\xf2ng \u0111\u1ee3i trong gi\xe2y l\xe1t!"),m.Ub(),m.Ub())}const hr=function(t){return{"width.%":t}};function gr(t,e){if(1&t&&(m.Vb(0,"div",24),m.Vb(1,"p",25),m.Sc(2),m.Ub(),m.Vb(3,"div",26),m.Qb(4,"div",27),m.Ub(),m.Ub()),2&t){const t=e.$implicit;m.Db(2),m.Tc(t.fileName),m.Db(2),m.nc("ngStyle",m.tc(2,hr,t.uploadProgress))}}function mr(t,e){if(1&t&&(m.Vb(0,"div",22),m.Qc(1,gr,5,4,"div",23),m.Ub()),2&t){const t=m.gc();m.Db(1),m.nc("ngForOf",t.convertObjToArray(t.fileUploadQueue))}}function ur(t,e){if(1&t){const t=m.Wb();m.Vb(0,"span",35),m.cc("click",function(){m.Ec(t);const e=m.gc().$implicit;return m.gc(2).removeImg(e.url)}),m.Vb(1,"mat-icon"),m.Sc(2,"cancel"),m.Ub(),m.Ub()}}function pr(t,e){1&t&&(m.Vb(0,"span",36),m.Vb(1,"mat-icon",37),m.Sc(2,"check_box_outline"),m.Ub(),m.Ub())}function fr(t,e){if(1&t&&(m.Vb(0,"div",29),m.Vb(1,"a",30),m.Vb(2,"mat-icon",31),m.Sc(3,"attach_file"),m.Ub(),m.Vb(4,"span",32),m.Sc(5),m.Ub(),m.Ub(),m.Qc(6,ur,3,0,"span",33),m.Qc(7,pr,3,0,"span",34),m.Ub()),2&t){const t=e.$implicit,n=m.gc(2);m.Db(4),m.nc("matTooltip",t.name),m.Db(1),m.Tc(t.name),m.Db(1),m.nc("ngIf",1!=n.isSuccess),m.Db(1),m.nc("ngIf",n.isSuccess)}}function vr(t,e){if(1&t&&(m.Vb(0,"div",22),m.Qc(1,fr,8,4,"div",28),m.Ub()),2&t){const t=m.gc();m.Db(1),m.nc("ngForOf",t.uploadFiles)}}function _r(t,e){1&t&&(m.Vb(0,"div",19),m.Vb(1,"span"),m.Qb(2,"span",20),m.Ub(),m.Qb(3,"br"),m.Vb(4,"p",21),m.Sc(5,"B\xe0i l\xe0m \u0111ang \u0111\u01b0\u1ee3c t\u1ea3i l\xean. Vui l\xf2ng \u0111\u1ee3i trong gi\xe2y l\xe1t!"),m.Ub(),m.Ub())}const Ur=function(t){return{"width.%":t}};function Sr(t,e){if(1&t&&(m.Vb(0,"div",24),m.Vb(1,"p",25),m.Sc(2),m.Ub(),m.Vb(3,"div",26),m.Qb(4,"div",27),m.Ub(),m.Ub()),2&t){const t=e.$implicit;m.Db(2),m.Tc(t.fileName),m.Db(2),m.nc("ngStyle",m.tc(2,Ur,t.uploadProgress))}}function yr(t,e){if(1&t&&(m.Vb(0,"div",22),m.Qc(1,Sr,5,4,"div",23),m.Ub()),2&t){const t=m.gc();m.Db(1),m.nc("ngForOf",t.convertObjToArray(t.fileUploadQueue))}}function Vr(t,e){if(1&t){const t=m.Wb();m.Vb(0,"span",35),m.cc("click",function(){m.Ec(t);const e=m.gc().$implicit;return m.gc(2).removeImg(e.url)}),m.Vb(1,"mat-icon"),m.Sc(2,"cancel"),m.Ub(),m.Ub()}}function kr(t,e){1&t&&(m.Vb(0,"span",36),m.Vb(1,"mat-icon",37),m.Sc(2,"check_box_outline"),m.Ub(),m.Ub())}function xr(t,e){if(1&t&&(m.Vb(0,"div",29),m.Vb(1,"a",30),m.Vb(2,"mat-icon",31),m.Sc(3,"attach_file"),m.Ub(),m.Vb(4,"span",32),m.Sc(5),m.Ub(),m.Ub(),m.Qc(6,Vr,3,0,"span",33),m.Qc(7,kr,3,0,"span",34),m.Ub()),2&t){const t=e.$implicit,n=m.gc(2);m.Db(4),m.nc("matTooltip",t.name),m.Db(1),m.Tc(t.name),m.Db(1),m.nc("ngIf",1!=n.isSuccess),m.Db(1),m.nc("ngIf",n.isSuccess)}}function wr(t,e){if(1&t&&(m.Vb(0,"div",22),m.Qc(1,xr,8,4,"div",28),m.Ub()),2&t){const t=m.gc();m.Db(1),m.nc("ngForOf",t.uploadFiles)}}const Cr=[{path:"",children:[{path:"",children:[{path:"login",component:Xo},{path:"login-scan/:role",component:Ho},{path:"register",component:Di},{path:"register/:type",component:Di},{path:"logout",component:ti},{path:"confirm_forgot_password",component:ge},{path:"forgot_password_susscess",component:Gn},{path:"confirm_forgot_password_qr",component:Be},{path:"confirm_forgot_password_old",component:Se},{path:"confirm_account",component:Zt},{path:"checking_service",component:Et},{path:"set_new_password",component:Fi},{path:"change-info",component:Lt},{path:"become-teacher",component:bt},{path:"update-new-version",component:ir},{path:"switch-teacher-student",component:er},{path:"support",component:Hi},{path:"report_error",component:En},{path:"report_exception",component:Sn},{path:"upload_assets",component:(()=>{class t{constructor(t,e,n){this.formBuilder=t,this.commonService=e,this.apiCommonService=n,this.subscriptions=new b.a,this.form=new i.k({}),this.isLoading=!1,this.logs=[],this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.isSuccess=!1,this.uploadCount=0,this.uploadFiles=[],this.fileUploadQueue={},this.uploadFile=(t,e)=>{var n=this.commonService.getFormObj(this.form);this.apiCommonService.uploadAssetsToCdnProgress(n.folder_name,t).subscribe(n=>{if(0==n.success)this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau! L\u1ed7i: "+n.message,"");else if(n.type&&n.type==lr.d.UploadProgress){var o=Math.round(n.loaded/n.total*100);this.fileUploadQueue.hasOwnProperty(e)?(this.fileUploadQueue[e].uploadProgress=o,this.fileUploadQueue[e].fileName=t.name):this.fileUploadQueue[e]={uploadProgress:0,fileName:t.name}}else n.successUpload&&1==n.successUpload&&(delete this.fileUploadQueue[e],Array.isArray(this.uploadFiles)||(this.uploadFiles=[]),this.uploadFiles.push(Object.assign({},n.data)),this.status_obj={loading:!1,error:!1,error_obj:{message:""}})},t=>{this.logs.push("Err:"+t),this.commonService.snackWarning("L\u1ed7i: "+t.subString(0,50),"")})},this.answerFile=null}selectFile(t){let e=t.target.files;try{for(var n in e)"length"!=n&&"item"!=n&&(this.answerFile=e?e[n]:this.answerFile,this.answerFile&&(this.isSuccess=!1,this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.uploadFile(this.answerFile,this.uploadCount),this.uploadCount+=1));t.target.value=""}catch(o){alert("\u0110\xe3 x\u1ea3y ra l\u1ed7i:"+o)}}convertObjToArray(t){var e=[];for(var n in t)e.push(t[n]);return e}removeImg(t){var e=this.uploadFiles.filter(e=>e.url!==t);this.uploadFiles=e}ngOnInit(){this.form=this.formBuilder.group({folder_name:[""]})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(i.g),m.Pb(u.a),m.Pb(p.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-upload-assets"]],decls:26,vars:4,consts:[[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"rowr"],[1,"form-group"],[1,"col-sm-12","control-label"],[1,"col-sm-12"],["type","text","formControlName","folder_name",1,"form-control"],["id","component-upload-image-mobile"],[1,"card-box"],[1,"description"],["class","text-center m-4",4,"ngIf"],["class","row ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container",4,"ngIf"],[1,"summitForm","pt-5","pb-5"],[1,"row","pl-3","pr-3"],[1,"col-12","text-center","v-dragndrop"],[1,"px-4","py-3","rounded",2,"cursor","pointer",3,"click"],[1,"file"],["id","select-upload-file",1,"align-self-center","select","dz-clickable"],["type","file","id","file_select","multiple","",1,"form-control","d-none",3,"change"],["fileSelect",""],[1,"text-center","m-4"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"h5"],[1,"row","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container"],["class","col-6 col-sm-6 col-md-4 col-xl-2 col-lg-2",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-4","col-xl-2","col-lg-2"],[1,"h5","truncate"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngStyle"],["class","col-12 box-file mt-2",4,"ngFor","ngForOf"],[1,"col-12","box-file","mt-2"],["target","_blank",1,"clickable",2,"display","flex","margin-top","3px","font-size","14px"],[2,"font-size","20px","vertical-align","sub"],[1,"truncate",2,"line-height","1.6","max-width","75%",3,"matTooltip"],["class","notify-badge",3,"click",4,"ngIf"],["class","notify-badge",4,"ngIf"],[1,"notify-badge",3,"click"],[1,"notify-badge"],[2,"color","rgb(26,188,0)"]],template:function(t,e){if(1&t){const t=m.Wb();m.Vb(0,"form",0),m.Vb(1,"div",1),m.Vb(2,"div",2),m.Vb(3,"label",3),m.Sc(4,"Folder"),m.Ub(),m.Vb(5,"div",4),m.Qb(6,"input",5),m.Ub(),m.Ub(),m.Ub(),m.Vb(7,"div",6),m.Vb(8,"div",7),m.Vb(9,"div",8),m.Qc(10,br,6,0,"div",9),m.Qc(11,mr,2,1,"div",10),m.Qc(12,vr,2,1,"div",10),m.Ub(),m.Vb(13,"div",11),m.Vb(14,"div",12),m.Vb(15,"div",13),m.Vb(16,"div",14),m.cc("click",function(){return m.Ec(t),m.Ac(22).click()}),m.Vb(17,"div",15),m.Vb(18,"a",16),m.Vb(19,"mat-icon"),m.Sc(20,"attach_file"),m.Ub(),m.Vb(21,"input",17,18),m.cc("change",function(t){return e.selectFile(t)}),m.Ub(),m.Ub(),m.Qb(23,"br"),m.Vb(24,"span"),m.Sc(25,"Ch\u1ecdn file"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub()}2&t&&(m.nc("formGroup",e.form),m.Db(10),m.nc("ngIf",e.status_obj.loading),m.Db(1),m.nc("ngIf",e.convertObjToArray(e.fileUploadQueue).length>0),m.Db(1),m.nc("ngIf",e.uploadFiles.length>0))},directives:[i.B,i.s,i.l,i.d,i.r,i.j,o.m,St.a,o.l,o.n,dr.a],styles:[".card-box[_ngcontent-%COMP%]{width:100%;border:1px solid #00a7d0}.top-row[_ngcontent-%COMP%]{background-color:#00a7d0;margin:0;padding:10px}.text-white[_ngcontent-%COMP%]{color:#fff}.text-white[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.description[_ngcontent-%COMP%], .files[_ngcontent-%COMP%]{background:inherit;background-color:#f2f2f2;box-sizing:border-box;border:1px solid #e5e5e5;border-left:0;border-right:0;border-radius:0;border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:0;box-shadow:none;padding:0 10px}.description[_ngcontent-%COMP%]{padding:10px 10px 0}.files[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:10px 20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.students[_ngcontent-%COMP%]{border-width:0;background:inherit;background-color:#fff;box-sizing:border-box;border-radius:3px;box-shadow:0 0 5px rgba(0,0,0,.062745098)}.list-student[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;background:inherit;background-color:#fafafa;box-sizing:border-box;padding:10px 15px;border:1px solid #e0e0e0;border-radius:3px;box-shadow:none;font-weight:400;font-style:bold;display:block}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:100px}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;line-height:1.5}.pl-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.pr-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pb-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pt-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-top:1rem!important}.btn-warm-orange[_ngcontent-%COMP%]{background:#ff7f45;border:1px solid #ff7f45}.btn[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:hover{color:#fff}.btn[_ngcontent-%COMP%]{cursor:pointer;transition:0s}.text-dark-green[_ngcontent-%COMP%]{color:#1caba0!important}.d-block[_ngcontent-%COMP%]{display:block!important}.small[_ngcontent-%COMP%], small[_ngcontent-%COMP%]{font-size:80%;font-weight:400}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.item[_ngcontent-%COMP%]{position:relative;display:inline-block}.notify-badge[_ngcontent-%COMP%]{color:#afafaf;font-size:20px;cursor:pointer}.description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.flex-title[_ngcontent-%COMP%]{display:flex;align-items:center}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00a7d0;cursor:pointer;margin-left:5px}.flex-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;line-height:1.4;font-weight:500}.img-container[_ngcontent-%COMP%]{overflow:hidden;position:relative;height:90px;width:90px;margin:0 0 10px 10px;border-radius:7px}.img-responsive[_ngcontent-%COMP%]{position:absolute;width:100%;height:auto;left:50%;top:50%;transform:translate(-50%,-50%)}.attach-container[_ngcontent-%COMP%]{padding:10px 0 0}.maxW1200[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}@font-face{font-family:handwriting_font;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/HP0015HB.ttf)}._col-left[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:35px}._col-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:5rem;color:#ff0024}._col-right[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;line-height:1.4;font-size:20px;font-family:handwriting_font!important}._col-left_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:10px}._col-left_result[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:3rem;color:#ff0024}._col-right_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right_result[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right_result[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;font-size:16px;line-height:1.4;font-family:handwriting_font!important}.files[_ngcontent-%COMP%]{cursor:pointer}.testbank[_ngcontent-%COMP%]{padding-top:40px;text-align:left}.testbank__title[_ngcontent-%COMP%]{font-size:large;font-weight:500}.testbank_fileitem[_ngcontent-%COMP%]{display:flex;color:#00a7d0;margin-top:15px}.testbank_fileitem_icon[_ngcontent-%COMP%]{margin-right:5px}.testbank_fileitem_name[_ngcontent-%COMP%]{margin-right:10px}.testbank_fileitem_info_resualt[_ngcontent-%COMP%]{color:#000;font-weight:500;font-size:small;margin-right:15px}.testbank_fileitem_info_time[_ngcontent-%COMP%]{color:#9d9d9d}.testbank_fileitem_info_btn_submit[_ngcontent-%COMP%]{text-transform:uppercase;cursor:pointer;font-weight:500}@media (max-width:768px){.dropzone[_ngcontent-%COMP%]{min-width:100px}._col-left[_ngcontent-%COMP%], ._col-left_result[_ngcontent-%COMP%]{margin-bottom:20px}.testbank_fileitem[_ngcontent-%COMP%]{flex-wrap:wrap}}@media (max-width:576px){.flex-title[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:5px;margin-left:0}}.box-file[_ngcontent-%COMP%]{padding:10px;display:flex;justify-content:space-between;align-items:center;border:1px solid #e0e0e0;border-radius:5px}"]}),t})()},{path:"upload_mnote",component:(()=>{class t{constructor(t,e,n){this.formBuilder=t,this.commonService=e,this.apiCommonService=n,this.subscriptions=new b.a,this.form=new i.k({}),this.isLoading=!1,this.logs=[],this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.isSuccess=!1,this.uploadCount=0,this.uploadFiles=[],this.fileUploadQueue={},this.uploadFile=(t,e)=>{var n=this.commonService.getFormObj(this.form);this.apiCommonService.uploadMnoteToCdnProgress(n.folder_name,t).subscribe(n=>{if(0==n.success)this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau! L\u1ed7i: "+n.message,"");else if(n.type&&n.type==lr.d.UploadProgress){var o=Math.round(n.loaded/n.total*100);this.fileUploadQueue.hasOwnProperty(e)?(this.fileUploadQueue[e].uploadProgress=o,this.fileUploadQueue[e].fileName=t.name):this.fileUploadQueue[e]={uploadProgress:0,fileName:t.name}}else n.successUpload&&1==n.successUpload&&(delete this.fileUploadQueue[e],Array.isArray(this.uploadFiles)||(this.uploadFiles=[]),this.uploadFiles.push(Object.assign({},n.data)),this.status_obj={loading:!1,error:!1,error_obj:{message:""}})},t=>{this.logs.push("Err:"+t),this.commonService.snackWarning("L\u1ed7i: "+t.subString(0,50),"")})},this.answerFile=null}selectFile(t){let e=t.target.files;try{for(var n in e)"length"!=n&&"item"!=n&&(this.answerFile=e?e[n]:this.answerFile,this.answerFile&&(this.isSuccess=!1,this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.uploadFile(this.answerFile,this.uploadCount),this.uploadCount+=1));t.target.value=""}catch(o){alert("\u0110\xe3 x\u1ea3y ra l\u1ed7i:"+o)}}convertObjToArray(t){var e=[];for(var n in t)e.push(t[n]);return e}removeImg(t){var e=this.uploadFiles.filter(e=>e.url!==t);this.uploadFiles=e}ngOnInit(){this.form=this.formBuilder.group({folder_name:[""]})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(i.g),m.Pb(u.a),m.Pb(p.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-upload-mnote"]],decls:26,vars:4,consts:[[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"rowr"],[1,"form-group"],[1,"col-sm-12","control-label"],[1,"col-sm-12"],["type","text","formControlName","folder_name",1,"form-control"],["id","component-upload-image-mobile"],[1,"card-box"],[1,"description"],["class","text-center m-4",4,"ngIf"],["class","row ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container",4,"ngIf"],[1,"summitForm","pt-5","pb-5"],[1,"row","pl-3","pr-3"],[1,"col-12","text-center","v-dragndrop"],[1,"px-4","py-3","rounded",2,"cursor","pointer",3,"click"],[1,"file"],["id","select-upload-file",1,"align-self-center","select","dz-clickable"],["type","file","id","file_select","multiple","",1,"form-control","d-none",3,"change"],["fileSelect",""],[1,"text-center","m-4"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"h5"],[1,"row","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container"],["class","col-6 col-sm-6 col-md-4 col-xl-2 col-lg-2",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-4","col-xl-2","col-lg-2"],[1,"h5","truncate"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngStyle"],["class","col-12 box-file mt-2",4,"ngFor","ngForOf"],[1,"col-12","box-file","mt-2"],["target","_blank",1,"clickable",2,"display","flex","margin-top","3px","font-size","14px"],[2,"font-size","20px","vertical-align","sub"],[1,"truncate",2,"line-height","1.6","max-width","75%",3,"matTooltip"],["class","notify-badge",3,"click",4,"ngIf"],["class","notify-badge",4,"ngIf"],[1,"notify-badge",3,"click"],[1,"notify-badge"],[2,"color","rgb(26,188,0)"]],template:function(t,e){if(1&t){const t=m.Wb();m.Vb(0,"form",0),m.Vb(1,"div",1),m.Vb(2,"div",2),m.Vb(3,"label",3),m.Sc(4,"Folder (V\xed d\u1ee5 images)"),m.Ub(),m.Vb(5,"div",4),m.Qb(6,"input",5),m.Ub(),m.Ub(),m.Ub(),m.Vb(7,"div",6),m.Vb(8,"div",7),m.Vb(9,"div",8),m.Qc(10,_r,6,0,"div",9),m.Qc(11,yr,2,1,"div",10),m.Qc(12,wr,2,1,"div",10),m.Ub(),m.Vb(13,"div",11),m.Vb(14,"div",12),m.Vb(15,"div",13),m.Vb(16,"div",14),m.cc("click",function(){return m.Ec(t),m.Ac(22).click()}),m.Vb(17,"div",15),m.Vb(18,"a",16),m.Vb(19,"mat-icon"),m.Sc(20,"attach_file"),m.Ub(),m.Vb(21,"input",17,18),m.cc("change",function(t){return e.selectFile(t)}),m.Ub(),m.Ub(),m.Qb(23,"br"),m.Vb(24,"span"),m.Sc(25,"Ch\u1ecdn file"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub()}2&t&&(m.nc("formGroup",e.form),m.Db(10),m.nc("ngIf",e.status_obj.loading),m.Db(1),m.nc("ngIf",e.convertObjToArray(e.fileUploadQueue).length>0),m.Db(1),m.nc("ngIf",e.uploadFiles.length>0))},directives:[i.B,i.s,i.l,i.d,i.r,i.j,o.m,St.a,o.l,o.n,dr.a],styles:[".card-box[_ngcontent-%COMP%]{width:100%;border:1px solid #00a7d0}.top-row[_ngcontent-%COMP%]{background-color:#00a7d0;margin:0;padding:10px}.text-white[_ngcontent-%COMP%]{color:#fff}.text-white[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.description[_ngcontent-%COMP%], .files[_ngcontent-%COMP%]{background:inherit;background-color:#f2f2f2;box-sizing:border-box;border:1px solid #e5e5e5;border-left:0;border-right:0;border-radius:0;border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:0;box-shadow:none;padding:0 10px}.description[_ngcontent-%COMP%]{padding:10px 10px 0}.files[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:10px 20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.students[_ngcontent-%COMP%]{border-width:0;background:inherit;background-color:#fff;box-sizing:border-box;border-radius:3px;box-shadow:0 0 5px rgba(0,0,0,.062745098)}.list-student[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;background:inherit;background-color:#fafafa;box-sizing:border-box;padding:10px 15px;border:1px solid #e0e0e0;border-radius:3px;box-shadow:none;font-weight:400;font-style:bold;display:block}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:100px}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;line-height:1.5}.pl-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.pr-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pb-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pt-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-top:1rem!important}.btn-warm-orange[_ngcontent-%COMP%]{background:#ff7f45;border:1px solid #ff7f45}.btn[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:hover{color:#fff}.btn[_ngcontent-%COMP%]{cursor:pointer;transition:0s}.text-dark-green[_ngcontent-%COMP%]{color:#1caba0!important}.d-block[_ngcontent-%COMP%]{display:block!important}.small[_ngcontent-%COMP%], small[_ngcontent-%COMP%]{font-size:80%;font-weight:400}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.item[_ngcontent-%COMP%]{position:relative;display:inline-block}.notify-badge[_ngcontent-%COMP%]{color:#afafaf;font-size:20px;cursor:pointer}.description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.flex-title[_ngcontent-%COMP%]{display:flex;align-items:center}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00a7d0;cursor:pointer;margin-left:5px}.flex-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;line-height:1.4;font-weight:500}.img-container[_ngcontent-%COMP%]{overflow:hidden;position:relative;height:90px;width:90px;margin:0 0 10px 10px;border-radius:7px}.img-responsive[_ngcontent-%COMP%]{position:absolute;width:100%;height:auto;left:50%;top:50%;transform:translate(-50%,-50%)}.attach-container[_ngcontent-%COMP%]{padding:10px 0 0}.maxW1200[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}@font-face{font-family:handwriting_font;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/HP0015HB.ttf)}._col-left[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:35px}._col-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:5rem;color:#ff0024}._col-right[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;line-height:1.4;font-size:20px;font-family:handwriting_font!important}._col-left_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:10px}._col-left_result[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:3rem;color:#ff0024}._col-right_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right_result[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right_result[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;font-size:16px;line-height:1.4;font-family:handwriting_font!important}.files[_ngcontent-%COMP%]{cursor:pointer}.testbank[_ngcontent-%COMP%]{padding-top:40px;text-align:left}.testbank__title[_ngcontent-%COMP%]{font-size:large;font-weight:500}.testbank_fileitem[_ngcontent-%COMP%]{display:flex;color:#00a7d0;margin-top:15px}.testbank_fileitem_icon[_ngcontent-%COMP%]{margin-right:5px}.testbank_fileitem_name[_ngcontent-%COMP%]{margin-right:10px}.testbank_fileitem_info_resualt[_ngcontent-%COMP%]{color:#000;font-weight:500;font-size:small;margin-right:15px}.testbank_fileitem_info_time[_ngcontent-%COMP%]{color:#9d9d9d}.testbank_fileitem_info_btn_submit[_ngcontent-%COMP%]{text-transform:uppercase;cursor:pointer;font-weight:500}@media (max-width:768px){.dropzone[_ngcontent-%COMP%]{min-width:100px}._col-left[_ngcontent-%COMP%], ._col-left_result[_ngcontent-%COMP%]{margin-bottom:20px}.testbank_fileitem[_ngcontent-%COMP%]{flex-wrap:wrap}}@media (max-width:576px){.flex-title[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:5px;margin-left:0}}.box-file[_ngcontent-%COMP%]{padding:10px;display:flex;justify-content:space-between;align-items:center;border:1px solid #e0e0e0;border-radius:5px}"]}),t})()},{path:"upload-file",component:ar},{path:"add_school",component:it},{path:"add-faq",component:w},{path:"add-faq/:id",component:w},{path:"list-faq",component:so},{path:"category-faq",component:vt},{path:"category-faq/:id",component:vt},{path:"update-config",component:or},{path:"gzip-tool",component:$n},{path:"json-tool",component:ln},{path:"create-answer-sheet",component:Ge},{path:"exam-printer",component:Hn},{path:"create-qr-forgot-pass/:role",component:cn}]}]}];let Pr=(()=>{class t{}return t.\u0275mod=m.Nb({type:t}),t.\u0275inj=m.Mb({factory:function(e){return new(e||t)},imports:[[r.l.forChild(Cr)],r.l,d.c]}),t})(),Or=(()=>{class t{}return t.\u0275mod=m.Nb({type:t}),t.\u0275inj=m.Mb({factory:function(e){return new(e||t)},imports:[[r.l,o.c,i.m,c.b,a.a,i.x,Pr,s.a,l.a]]}),t})()}}]);