!function(){function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function t(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function e(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{"3u6u":function(t,o,i){"use strict";i.r(o),i.d(o,"TeacherQAModule",function(){return on});var c=i("ofXK"),a=i("3Pt+"),r=i("0IaG"),s=i("tyNb"),l=i("fB2i"),d=i("IkSl"),g=i("rIor"),u=i("Zhhu"),b=i("vvyD"),p=i("mYPf"),f=i("Avyq"),h=i("AeZ5"),m=i("fXoL"),v=i("gbi4"),O=i("hZBc"),P=i("nzN9"),x=i("AWii");function _(n,t){1&n&&m.Qb(0,"azt-loading-effect")}function C(n,t){1&n&&(m.Vb(0,"div",3),m.Qb(1,"azt-list-questions"),m.Ub())}var w,M,k=((M=function(){function t(e,o,i,c,a){n(this,t),this.activeRoute=e,this.commonService=o,this.router=i,this.fb=c,this.vps=a,this.isLoading=!1}return e(t,[{key:"ngOnInit",value:function(){this.isLoading=!0,this.commonService.translateMetaData({title:"lang_cms_teacher_group_title",description:"lang_cms_teacher_group_description",image:"lang_cms_test_image"}),this.isLoading=!1}}]),t}()).\u0275fac=function(n){return new(n||M)(m.Pb(s.a),m.Pb(v.a),m.Pb(s.a),m.Pb(a.g),m.Pb(c.w))},M.\u0275cmp=m.Jb({type:M,selectors:[["app-list-questions-student"]],decls:4,vars:4,consts:[[3,"headerTitle","back_link"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"pl-2","pr-2",2,"max-width","700px","margin","auto"]],template:function(n,t){if(1&n&&(m.Qb(0,"header-backend",0),m.Pc(1,_,1,0,"azt-loading-effect",1),m.Pc(2,C,2,0,"ng-template",null,2,m.Qc)),2&n){var e=m.zc(3);m.nc("headerTitle","Danh s\xe1ch c\xe2u h\u1ecfi c\u1ee7a h\u1ecdc sinh")("back_link","/admin/testbank/dashboard"),m.Db(1),m.nc("ngIf",t.isLoading)("ngIfElse",e)}},directives:[O.a,c.m,P.a,x.a],styles:[".content[_ngcontent-%COMP%]{padding:15px;margin-top:20px!important;margin:auto;max-width:430px;background:inherit;background-color:#ececec;border-radius:5px;box-shadow:0 0 5px rgba(0,0,0,.14)}.content-header[_ngcontent-%COMP%]{text-align:center}.content-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:40px}.content-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .content-list-view[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{max-width:270px;background:inherit;background-color:#169bd5;border:none;border-radius:5px;color:#fff;font-weight:500}.view-single[_ngcontent-%COMP%]{padding:10px 15px;background:inherit;background-color:#fff;box-sizing:border-box;border:1px solid #ececec;border-radius:5px;box-shadow:none;font-style:normal;font-size:12px;color:#494949}"]}),M),y=((w=function(){function t(){n(this,t)}return e(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(n){return new(n||w)},w.\u0275cmp=m.Jb({type:w,selectors:[["question-master-page"]],decls:2,vars:0,consts:[["id","student-layout"]],template:function(n,t){1&n&&(m.Vb(0,"div",0),m.Qb(1,"router-outlet"),m.Ub())},directives:[s.m],styles:[""]}),w),I=i("quSY"),j=i("Dcbt"),S=i("0pw4"),Q=i("diKk"),A=i("BTbT"),D=i("pMRa"),U=i("NFeN"),z=i("Qu3c"),F=i("wAhq");function V(n,t){if(1&n){var e=m.Wb();m.Vb(0,"div",21),m.Vb(1,"span",22),m.cc("click",function(n){m.Dc(e);var o=t.$implicit;return m.gc(2).onShowFile(n,o,-1)}),m.Rc(2),m.Ub(),m.Vb(3,"span"),m.Rc(4),m.Ub(),m.Vb(5,"i",23),m.cc("click",function(){m.Dc(e);var n=t.$implicit;return m.gc(2).removeAttach(n.url)}),m.Ub(),m.Ub()}if(2&n){var o=t.$implicit;m.Db(1),m.nc("matTooltip",o.name),m.Db(1),m.Sc(o.name.split(".")[0]),m.Db(2),m.Tc(".",o.extension,"")}}function q(n,t){if(1&n&&(m.Tb(0),m.Pc(1,V,6,3,"div",20),m.Sb()),2&n){var e=m.gc();m.Db(1),m.nc("ngForOf",e.filesUploaded)}}function E(n,t){1&n&&m.Qb(0,"span",24)}function T(n,t){1&n&&(m.Vb(0,"span"),m.Qb(1,"span",24),m.Rc(2,"\xa0"),m.Ub())}function G(n,t){if(1&n){var e=m.Wb();m.Vb(0,"div"),m.Vb(1,"azt-preview-media",25),m.cc("closePreview",function(){return m.Dc(e),m.gc().onFileClose()}),m.Ub(),m.Ub()}if(2&n){var o=m.gc();m.Db(1),m.nc("fileOption",o.previewFile)}}var L,R=function(){return{standalone:!0}},N=function(){return[]},B=function(n){return{height:250,menubar:!1,plugins:n,toolbar:"bold italic backcolor | alignleft aligncenter alignright alignjustify"}},J=((L=function(){function t(e,o,i,c,r,s,l){n(this,t),this.activeRoute=e,this.commonService=o,this.apiQAService=i,this.apiCommonService=c,this.router=r,this.fb=s,this.vps=l,this.closeFormInputAnswer=new m.o,this.fetchNewData=new m.o,this.subscriptions=new I.a,this.isLoading=!1,this.form=new a.k({}),this.tinymceInit={},this.content="",this.loadingUpload=!1,this.uploadProgress=-1,this.filesUploaded=[],this.previewFile={},this.isShowPreviewFile=!1}return e(t,[{key:"cleanContent",value:function(){var n=this.content.replace(/<img .*?>/gim,"");this.content=n}},{key:"uploadFile",value:function(n){var t=this;n&&(Object(A.j)(n.type)?(this.loadingUpload=!0,this.uploadProgress=0,Object(A.a)(n).then(function(n){t.apiCommonService.uploadToCdnProgressForAnswerQA(n).subscribe(function(n){1==n.success?(t.loadingUpload=!1,t.uploadProgress=-1,t.filesUploaded.push(n.data)):n.hasOwnProperty("success")&&(t.loadingUpload=!1,t.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau! L\u1ed7i: "+n.message,""))},function(n){t.commonService.snackError("L\u1ed7i: "+n.subString(0,50),"")})})):this.commonService.snackError("\u0110\u1ecbnh d\u1ea1ng file kh\xf4ng \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3!",""))}},{key:"onFileClose",value:function(){this.isShowPreviewFile=!1,this.previewFile={}}},{key:"onShowFile",value:function(n,t,e){this.isShowPreviewFile=!0,this.previewFile=Object.assign(Object.assign({},t),{index:e})}},{key:"onFileSelected",value:function(n){var t=n,e=t.target.files,o=!!e&&e[0];0!=o&&this.uploadFile(o),t.target.value=null}},{key:"removeFile",value:function(n){n.stopPropagation(),this.file=null}},{key:"loadEventDropFile",value:function(){var n=this,t=jQuery("#dropzoneAreaFrame");t.on("drag dragstart dragend dragover dragenter dragleave drop",function(n){n.preventDefault(),n.stopPropagation()}).on("dragover dragenter",function(){t.addClass("is-dragover")}).on("dragleave dragend drop",function(){t.removeClass("is-dragover")}).on("drop",function(t){var e=t.originalEvent.dataTransfer.files;n.file=e?e[0]:n.file,n.uploadFile(n.file)})}},{key:"saveAnswer",value:function(){var n=this;this.content?(this.cleanContent(),this.isLoading=!0,this.subscriptions.add(this.apiQAService.saveTeacherAnswerObj({assetGroupId:this.assetGroupId,content:this.content,files:JSON.stringify(this.filesUploaded)}).subscribe(function(t){t.success?(n.commonService.snackSuccess("G\u1eedi c\xe2u tr\u1ea3 l\u1eddi th\xe0nh c\xf4ng",""),n.fetchNewData.emit(),n.isLoading=!1,n.cancelAnswer()):(n.commonService.snackError("G\u1eedi c\xe2u tr\u1ea3 l\u1eddi kh\xf4ng th\xe0nh c\xf4ng",""),n.isLoading=!1)}))):this.commonService.snackError("Vui l\xf2ng nh\u1eadp n\u1ed9i dung c\xe2u tr\u1ea3 l\u1eddi","")}},{key:"removeAttach",value:function(n){var t=this.filesUploaded.indexOf(n);this.filesUploaded.splice(t,1)}},{key:"cancelAnswer",value:function(){this.content="",this.file=null,this.closeFormInputAnswer.emit()}},{key:"ngOnInit",value:function(){var n=this;this.form=this.fb.group({File:new a.h("")}),setTimeout(function(){n.loadEventDropFile()},0),this.tinymceInit={branding:!1,height:250,image_advtab:!0,imagetools_toolbar:"\n            rotateleft rotateright |\n            flipv fliph | \n            editimage imageoptions",importcss_append:!0,inline:!1,menubar:!1,paste_data_images:!0,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"\n            undo redo | formatselect | bold italic backcolor |             alignleft aligncenter alignright alignjustify |             bullist numlist outdent indent | removeformat | help"}}}]),t}()).\u0275fac=function(n){return new(n||L)(m.Pb(s.a),m.Pb(v.a),m.Pb(j.a),m.Pb(D.a),m.Pb(s.a),m.Pb(a.g),m.Pb(c.w))},L.\u0275cmp=m.Jb({type:L,selectors:[["form-input-answer-teacher"]],inputs:{assetGroupId:"assetGroupId"},outputs:{closeFormInputAnswer:"closeFormInputAnswer",fetchNewData:"fetchNewData"},decls:29,vars:14,consts:[[1,"form-horizontal","text-center",3,"formGroup"],[1,"create-answer"],[1,"answer-editor"],["apiKey","ldij13v1886vlrnk42g9bvngyqdc6gxpe8l0n9mo8gdjpg9d",3,"ngModel","ngModelOptions","init","ngModelChange"],[1,"answer-upload"],["id","dropzoneAreaFrame",1,"text-center","v-dragndrop","dropzone","dz-started","cur-po",3,"click"],[1,"px-4","py-3","rounded"],[1,"file"],["id","select-upload-file",1,"align-self-center","select","dz-clickable"],["type","file","formControlName","File",1,"form-control","file-input",3,"change"],["fileSelect",""],[1,"d-block","text-dark-green"],[1,"answer-save"],[1,"mt-1","text-left"],[1,"attachs"],[4,"ngIf"],["class","spinner-border spinner-border-sm","role","status",4,"ngIf"],[1,"answer-buttons"],[1,"btn-cannel",3,"click"],[1,"btn-save",3,"disabled","click"],["class","att-item",4,"ngFor","ngForOf"],[1,"att-item"],[1,"image-preview","truncate",3,"matTooltip","click"],["matTooltip","B\u1ecf t\u1ec7p n\xe0y",1,"fas","fa-window-close",3,"click"],["role","status",1,"spinner-border","spinner-border-sm"],[3,"fileOption","closePreview"]],template:function(n,t){if(1&n){var e=m.Wb();m.Vb(0,"form",0),m.Vb(1,"div",1),m.Vb(2,"div",2),m.Vb(3,"editor",3),m.cc("ngModelChange",function(n){return t.content=n}),m.Ub(),m.Ub(),m.Vb(4,"div",4),m.Vb(5,"div",5),m.cc("click",function(){return m.Dc(e),m.zc(12).click()}),m.Vb(6,"div",6),m.Vb(7,"div",7),m.Vb(8,"a",8),m.Vb(9,"mat-icon"),m.Rc(10,"cloud_upload"),m.Ub(),m.Ub(),m.Vb(11,"input",9,10),m.cc("change",function(n){return t.onFileSelected(n)}),m.Ub(),m.Vb(13,"span",11),m.Rc(14,"K\xe9o th\u1ea3 file ho\u1eb7c Click \u0111\u1ec3 ch\u1ecdn file (H\u1ed7 tr\u1ee3 file \u1ea3nh, pdf, word, excel, video, audio)"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(15,"div",12),m.Vb(16,"h4",13),m.Rc(17),m.Ub(),m.Vb(18,"div",14),m.Pc(19,q,2,1,"ng-container",15),m.Rc(20," \xa0 "),m.Pc(21,E,1,0,"span",16),m.Ub(),m.Vb(22,"div",17),m.Vb(23,"button",18),m.cc("click",function(){return t.cancelAnswer()}),m.Rc(24,"H\u1ee7y"),m.Ub(),m.Vb(25,"button",19),m.cc("click",function(){return t.saveAnswer()}),m.Pc(26,T,3,0,"span",15),m.Rc(27," G\u1eedi "),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Pc(28,G,2,1,"div",15)}2&n&&(m.nc("formGroup",t.form),m.Db(3),m.nc("ngModel",t.content)("ngModelOptions",m.rc(10,R))("init",m.sc(12,B,m.rc(11,N))),m.Db(14),m.Tc("T\u1ec7p \u0111\xednh k\xe8m (",t.filesUploaded.length,")"),m.Db(2),m.nc("ngIf",t.filesUploaded.length>0),m.Db(2),m.nc("ngIf",t.loadingUpload),m.Db(4),m.nc("disabled",t.isLoading),m.Db(1),m.nc("ngIf",t.isLoading),m.Db(2),m.nc("ngIf",t.isShowPreviewFile))},directives:[a.B,a.s,a.l,l.a,a.r,a.u,U.a,a.d,a.j,c.m,c.l,z.a,F.a],styles:["button[_ngcontent-%COMP%]{border:none;text-transform:none}.question-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:10px}.question-info[_ngcontent-%COMP%]{display:flex;align-items:center}.question-text[_ngcontent-%COMP%]{font-size:13px;color:#9a9a9a;margin-right:10px}.question-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}.block-list-answer[_ngcontent-%COMP%], .question-content[_ngcontent-%COMP%]{margin-top:15px}.answer-count[_ngcontent-%COMP%]{font-size:18px;color:#333}.block-answer[_ngcontent-%COMP%]{display:flex;margin-top:15px;padding-bottom:10px;border-bottom:1px solid #d0d0d0}.block-answer-left[_ngcontent-%COMP%]{margin-right:10px}.count-view[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;border-radius:5px;display:flex;justify-content:center;align-items:center;padding:6px}.count-view[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px}.true-answer[_ngcontent-%COMP%]{color:#0ca74a}.true-answer[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:5px}.block-answer-right[_ngcontent-%COMP%]{padding-right:15px}.confirm[_ngcontent-%COMP%]{padding:6px 7px;background:#e8e8e8;border-radius:5px;font-size:12px}.btn-unconfirm[_ngcontent-%COMP%]{color:#00a7d0;background:transparent;transition:all .5s}.btn-unconfirm[_ngcontent-%COMP%]:hover{color:#026680;font-weight:700}.btn-confirm[_ngcontent-%COMP%]{background:#169bd5;color:#fff;font-size:13px;transition:all .5s;border-radius:5px;padding:5px 7px 5px 20px}.btn-confirm[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;font-size:20px}.btn-confirm[_ngcontent-%COMP%]:hover{background:#0b6992}.block-answer-bottom[_ngcontent-%COMP%]{margin-top:15px;justify-content:flex-end}.block-answer-bottom[_ngcontent-%COMP%], .user-info[_ngcontent-%COMP%]{display:flex;align-items:center}.time-ago[_ngcontent-%COMP%]{color:#868686;font-size:10px;margin-bottom:0}.btn-all-add[_ngcontent-%COMP%]{color:#00a7d0}.answer-upload[_ngcontent-%COMP%], .create-answer[_ngcontent-%COMP%]{margin-top:20px}.upload-file[_ngcontent-%COMP%]{background-color:#fff;height:100px;display:flex;justify-content:center;align-items:center}.upload-file-text[_ngcontent-%COMP%]{font-size:16px}.image-preview[_ngcontent-%COMP%]{cursor:pointer}.answer-editor[_ngcontent-%COMP%]{min-height:250px}.answer-save[_ngcontent-%COMP%]   .attachs[_ngcontent-%COMP%]{flex:auto;margin-right:15px;margin-top:15px;display:flex;flex-wrap:wrap}.answer-save[_ngcontent-%COMP%]   .attachs[_ngcontent-%COMP%]   .att-item[_ngcontent-%COMP%]{max-width:250px;margin-right:20px;display:flex;align-items:center}.answer-save[_ngcontent-%COMP%]   .attachs[_ngcontent-%COMP%]   .att-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic;display:block;text-decoration:underline}.answer-save[_ngcontent-%COMP%]   .attachs[_ngcontent-%COMP%]   .att-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:rgba(255,0,0,.7098039215686275);margin-left:5px}.answer-save[_ngcontent-%COMP%]   .attachs[_ngcontent-%COMP%]   .att-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{cursor:pointer;color:red}.answer-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.btn-cannel[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;padding:5px 25px;transition:all .5s}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff;padding:6px 25px}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}.btn-cannel[_ngcontent-%COMP%]:hover{background:#a1a1a1}.btn-save[_ngcontent-%COMP%]:disabled{background:#e0e0e0!important}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:#f0f8ff}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}.is-dragover[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%]{background-color:#c8e6c9}"]}),L);function W(n,t){if(1&n){var e=m.Wb();m.Vb(0,"button",4),m.cc("click",function(){return m.Dc(e),m.gc().isShowFormInputAnswer=!0}),m.Rc(1,"+ Tr\u1ea3 l\u1eddi"),m.Ub()}}function K(n,t){if(1&n){var e=m.Wb();m.Vb(0,"button",8),m.cc("click",function(){return m.Dc(e),m.gc(2).clickRelate("prev")}),m.Qb(1,"i",9),m.Ub()}}function X(n,t){if(1&n){var e=m.Wb();m.Vb(0,"button",10),m.cc("click",function(){return m.Dc(e),m.gc(2).clickRelate("next")}),m.Qb(1,"i",11),m.Ub()}}function Z(n,t){if(1&n&&(m.Vb(0,"div",5),m.Pc(1,K,2,0,"button",6),m.Pc(2,X,2,0,"button",7),m.Ub()),2&n){var e=m.gc();m.Db(1),m.nc("ngIf",e.previousQuestionId),m.Db(1),m.nc("ngIf",e.nextQuestionId)}}function $(n,t){if(1&n){var e=m.Wb();m.Vb(0,"form-input-answer-teacher",12),m.cc("fetchNewData",function(){return m.Dc(e),m.gc().getData()})("closeFormInputAnswer",function(){return m.Dc(e),m.gc().isShowFormInputAnswer=!1}),m.Ub()}if(2&n){var o=m.gc();m.nc("assetGroupId",o.assetGroupStatisticObj.assetGroupId)}}var H,Y,nn,tn=[{path:"",component:y,canActivate:[h.a],children:[{path:"",canActivateChild:[h.a],children:[{path:"view-question/:id",component:(H=function(){function t(e,o,i,c,a,r,s,l){n(this,t),this.activeRoute=e,this.commonService=o,this.apiQAService=i,this.router=c,this.fb=a,this.cd=r,this._location=s,this.localStorageObjetct=l,this.subscriptions=new I.a,this.isLoading=!1,this.isShowFormInputAnswer=!1,this.studentAnswerObj={},this.questionIds=[]}return e(t,[{key:"getData",value:function(){var n=this;this.isLoading=!0;var t=this.activeRoute.snapshot.paramMap.get("id");this.subscriptions.add(this.apiQAService.getTeacherAnwerQuestionObjs(t,1).subscribe(function(t){t.success?(n.curQuestionObj=t.data.curQuestionObj,n.assetGroupStatisticObj=t.data.assetGroupStatisticObj,n.assetObjectObj=t.data.assetObjectObj,n.answerObjs=t.data.answerObjs,n.studentAnswerObj=t.data.studentAnswerObj,n.answerObjs.forEach(function(t){t.files&&(t.files=n.commonService.parseJson(t.files))}),n.sortAnswer(),n.nextQuestionId=t.data.nextQuestionId,n.questionIds=t.data.questionIds,n.previousQuestionId=t.data.previousQuestionId,n.isEndPage=t.data.isEndPage,n.isLoading=!1):(n.commonService.snackError("C\xf3 l\u1ed7i khi xem chi ti\u1ebft c\xe2u h\u1ecfi",""),n.isLoading=!1)}))}},{key:"sortAnswer",value:function(){this.answerObjs.sort(function(n,t){return t.totalAccept-n.totalAccept})}},{key:"clickRelate",value:function(n){var t=this;this.subscriptions.add(this.apiQAService.getRelatedTeacherQuestionObj("next"==n?this.nextQuestionId:this.previousQuestionId).subscribe(function(n){n.success?(t.curQuestionObj=n.data.curQuestionObj,t.nextQuestionId=n.data.nextQuestionId,t.previousQuestionId=n.data.previousQuestionId):t.commonService.snackError("C\xf3 l\u1ed7i khi xem chi ti\u1ebft c\xe2u h\u1ecfi","")}))}},{key:"backClicked",value:function(){this._location.back()}},{key:"deleteQuestion",value:function(n){var t=this;this.apiQAService.TeacherDeleteObjQuestionId(n).subscribe(function(n){n.success?(t.nextQuestionId?t.clickRelate("next"):t.previousQuestionId&&!t.nextQuestionId?t.clickRelate("prev"):t.previousQuestionId||t.nextQuestionId||t.commonService.myNavigation("/admin/testbank/dashboard"),t.localStorageObjetct.removeCacheByValue("TeacherQuestion/GetAnswerObjs"),t.commonService.snackSuccess("X\xf3a c\xe2u h\u1ecfi th\xe0nh c\xf4ng","")):t.commonService.snackError("X\xf3a c\xe2u h\u1ecfi kh\xf4ng th\xe0nh c\xf4ng","")})}},{key:"ngOnInit",value:function(){this.commonService.translateMetaData({title:"lang_cms_view_question_student_title",description:"lang_cms_view_question_student_description",image:"lang_cms_test_image"}),this.getData()}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),t}(),H.\u0275fac=function(n){return new(n||H)(m.Pb(s.a),m.Pb(v.a),m.Pb(j.a),m.Pb(s.i),m.Pb(a.g),m.Pb(m.h),m.Pb(c.i),m.Pb(S.a))},H.\u0275cmp=m.Jb({type:H,selectors:[["app-teacher-view-question"]],decls:4,vars:12,consts:[[3,"isBackend","totalQuestion","studentAnswerObj","curQuestionObj","answerObjs","assetGroupStatisticObj","assetObjectObj","isEndPage","isLoading","sendEvent"],["buttonShowFormInput","","class","btn btn-primary",3,"click",4,"ngIf"],["nextBack","","id","nextBack",4,"ngIf"],["answerInput","",3,"assetGroupId","fetchNewData","closeFormInputAnswer",4,"ngIf"],["buttonShowFormInput","",1,"btn","btn-primary",3,"click"],["nextBack","","id","nextBack"],["id","buttonPrev","class","btn btn-info",3,"click",4,"ngIf"],["id","buttonNext","class","btn btn-info",3,"click",4,"ngIf"],["id","buttonPrev",1,"btn","btn-info",3,"click"],[1,"fas","fa-angle-left",2,"font-size","18px"],["id","buttonNext",1,"btn","btn-info",3,"click"],[1,"fas","fa-angle-right",2,"font-size","18px"],["answerInput","",3,"assetGroupId","fetchNewData","closeFormInputAnswer"]],template:function(n,t){1&n&&(m.Vb(0,"azt-view-answer-question",0),m.cc("sendEvent",function(n){return t.deleteQuestion(n)}),m.Pc(1,W,2,0,"button",1),m.Pc(2,Z,3,2,"div",2),m.Pc(3,$,1,1,"form-input-answer-teacher",3),m.Ub()),2&n&&(m.nc("isBackend",!0)("totalQuestion",t.questionIds.length)("studentAnswerObj",t.studentAnswerObj)("curQuestionObj",t.curQuestionObj)("answerObjs",t.answerObjs)("assetGroupStatisticObj",t.assetGroupStatisticObj)("assetObjectObj",t.assetObjectObj)("isEndPage",t.isEndPage)("isLoading",t.isLoading),m.Db(1),m.nc("ngIf",!t.isShowFormInputAnswer),m.Db(1),m.nc("ngIf",t.previousQuestionId||t.nextQuestionId),m.Db(1),m.nc("ngIf",t.isShowFormInputAnswer))},directives:[Q.a,c.m,J],styles:[".block-list[_ngcontent-%COMP%]{background:#ececec;padding:10px;border-radius:5px;box-shadow:0 0 5px rgba(0,0,0,.14)}.block-list-bottom[_ngcontent-%COMP%]{margin:10px 0}.block-list-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{border:none;display:flex;align-items:center;color:#707070;background:transparent}.block-list-bottom[_ngcontent-%COMP%]   .btn-add-text[_ngcontent-%COMP%]{text-transform:none;margin-left:2px}button[_ngcontent-%COMP%]{border:none;text-transform:none}.block-else[_ngcontent-%COMP%]{height:90px;display:flex;justify-content:center;align-items:center;border-radius:5px}.text-else[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.question-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:10px}.question-info[_ngcontent-%COMP%]{display:flex;align-items:center}.question-text[_ngcontent-%COMP%]{font-size:13px;color:#9a9a9a;margin-right:10px}.question-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}.block-list-answer[_ngcontent-%COMP%], .question-content[_ngcontent-%COMP%]{margin-top:15px}.answer-count[_ngcontent-%COMP%]{font-size:18px;color:#333}.block-answer[_ngcontent-%COMP%]{display:flex;margin-top:15px;padding-bottom:10px;border-bottom:1px solid #d0d0d0}.block-answer-left[_ngcontent-%COMP%]{margin-right:10px}.count-view[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;border-radius:5px;display:flex;justify-content:center;align-items:center;padding:6px}.count-view[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px}.true-answer[_ngcontent-%COMP%]{color:#0ca74a}.true-answer[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:5px}.block-answer-right[_ngcontent-%COMP%]{padding-right:15px}.confirm[_ngcontent-%COMP%]{padding:6px 7px;background:#e8e8e8;border-radius:5px;font-size:12px}.btn-unconfirm[_ngcontent-%COMP%]{color:#00a7d0;background:transparent;transition:all .5s}.btn-unconfirm[_ngcontent-%COMP%]:hover{color:#026680;font-weight:700}.btn-confirm[_ngcontent-%COMP%]{background:#169bd5;color:#fff;font-size:13px;transition:all .5s;border-radius:5px;padding:5px 7px 5px 20px}.btn-confirm[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;font-size:20px}.btn-confirm[_ngcontent-%COMP%]:hover{background:#0b6992}.block-answer-bottom[_ngcontent-%COMP%]{margin-top:15px;justify-content:flex-end}.block-answer-bottom[_ngcontent-%COMP%], .user-info[_ngcontent-%COMP%]{display:flex;align-items:center}.time-ago[_ngcontent-%COMP%]{color:#868686;font-size:10px;margin-bottom:0}.btn-all-add[_ngcontent-%COMP%]{color:#00a7d0}.answer-upload[_ngcontent-%COMP%], .create-answer[_ngcontent-%COMP%]{margin-top:20px}.upload-file[_ngcontent-%COMP%]{background-color:#fff;height:100px;display:flex;justify-content:center;align-items:center}.upload-file-text[_ngcontent-%COMP%]{font-size:16px}.answer-editor[_ngcontent-%COMP%]{min-height:250px}.answer-save[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:15px}.btn-cannel[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;padding:5px 25px;transition:all .5s}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff;padding:6px 25px}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}.btn-cannel[_ngcontent-%COMP%]:hover{background:#eee}.btn-save[_ngcontent-%COMP%]:disabled{background:#e0e0e0!important}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:#f0f8ff}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}.is-dragover[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%]{background-color:#c8e6c9}#nextBack[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;justify-content:center;top:50%;margin-top:-18px;width:20px;right:-26px;background-color:rgba(24,162,184,.4117647058823529)}#nextBack[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#18a2b8}#nextBack[_ngcontent-%COMP%]   button#buttonPrev[_ngcontent-%COMP%]{left:-26px}"]}),H)},{path:"list-questions",component:k}]}]}],en=((nn=function t(){n(this,t)}).\u0275mod=m.Nb({type:nn}),nn.\u0275inj=m.Mb({factory:function(n){return new(n||nn)},imports:[[s.l.forChild(tn)],s.l,f.c]}),nn),on=((Y=function t(){n(this,t)}).\u0275mod=m.Nb({type:Y}),Y.\u0275inj=m.Mb({factory:function(n){return new(n||Y)},imports:[[s.l,c.c,b.a,l.b,a.m,a.x,r.f,p.a,d.b,g.b,en,u.a]]}),Y)}}])}();