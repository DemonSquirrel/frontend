(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"3eqI":function(t,e,i){"use strict";i.d(e,"b",function(){return c}),i.d(e,"a",function(){return d});var n=i("fXoL"),o=i("wd/R"),r=i.n(o),s=i("n1FK");const a=r.a||o,c=new n.s("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function(){return{useUtc:!1}}});function l(t,e){const i=Array(t);for(let n=0;n<t;n++)i[n]=e(n);return i}let d=(()=>{class t extends s.b{constructor(t){super(),this._options=t,this._localeData={firstDayOfWeek:0,longMonths:"",shortMonths:"",dates:"",longDaysOfWeek:"",shortDaysOfWeek:"",narrowDaysOfWeek:""};let e="vi";-1===window.location.href.indexOf("en")&&(e="vi"),a.locale(),this.setLocale(e||a.locale())}setLocale(t){super.setLocale(t);const e=a.localeData(t);this._localeData={firstDayOfWeek:e.firstDayOfWeek(),longMonths:e.months(),shortMonths:e.monthsShort(),dates:l(31,t=>this.createDate(2017,0,t+1).format("D")),longDaysOfWeek:e.weekdays(),shortDaysOfWeek:e.weekdaysShort(),narrowDaysOfWeek:e.weekdaysMin()}}getYear(t){return this.clone(t).year()}getMonth(t){return this.clone(t).month()}getDate(t){return this.clone(t).date()}getDayOfWeek(t){return this.clone(t).day()}getMonthNames(t){return"long"===t?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(t){return"long"===t?this._localeData.longDaysOfWeek:"short"===t?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(t){return this.clone(t).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(t){return this.clone(t).daysInMonth()}clone(t){return t.clone().locale(this.locale)}createDate(t,e,i){if(e<0||e>11)throw Error(`Invalid month index "${e}". Month index has to be between 0 and 11.`);if(i<1)throw Error(`Invalid date "${i}". Date has to be greater than 0.`);const n=this._createMoment({year:t,month:e,date:i}).locale(this.locale);if(!n.isValid())throw Error(`Invalid date "${i}" for month with index "${e}".`);return n}today(){return this._createMoment().locale(this.locale)}parse(t,e){return t&&"string"==typeof t?this._createMoment(t,e,this.locale):t?this._createMoment(t).locale(this.locale):null}format(t,e){if(t=this.clone(t),!this.isValid(t))throw Error("MomentDateAdapter: Cannot format invalid date.");return t.format(e)}addCalendarYears(t,e){return this.clone(t).add({years:e})}addCalendarMonths(t,e){return this.clone(t).add({months:e})}addCalendarDays(t,e){return this.clone(t).add({days:e})}toIso8601(t){return this.clone(t).format()}deserialize(t){let e;if(t instanceof Date)e=this._createMoment(t).locale(this.locale);else if(this.isDateInstance(t))return this.clone(t);if("string"==typeof t){if(!t)return null;e=this._createMoment(t,a.ISO_8601).locale(this.locale)}return e&&this.isValid(e)?this._createMoment(e).locale(this.locale):super.deserialize(t)}isDateInstance(t){return a.isMoment(t)}isValid(t){return this.clone(t).isValid()}invalid(){return a.invalid()}getHour(t){return t.hours()}getMinute(t){return t.minutes()}getSecond(t){return t.seconds()}setHour(t,e){t.hours(e)}setMinute(t,e){t.minutes(e)}setSecond(t,e){t.seconds(e)}_createMoment(t,e,i){const{strict:n,useUtc:o}=this._options||{};return o?a.utc(t,e,i,n):a(t,e,i,n)}}return t.\u0275fac=function(e){return new(e||t)(n.Yb(c,8))},t.\u0275prov=n.Kb({token:t,factory:t.\u0275fac}),t})()},JZA2:function(t,e,i){"use strict";i.r(e),i.d(e,"AuthModule",function(){return Ns});var n=i("tyNb"),o=i("ofXK"),r=i("fB2i"),s=i("3Pt+"),a=i("vvyD"),c=i("mYPf"),l=i("quSY"),d=i("itXk"),h=i("fXoL"),b=i("gbi4"),u=i("yTNM"),m=i("hZBc");let p=(()=>{class t{constructor(t,e,i,n,o){this.activeRoute=t,this.router=e,this.fb=i,this.commonService=n,this.apiService=o,this.subscriptions=new l.a,this.form=new s.k({}),this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.returnUrl=""}checkCorrectVersion(){this.apiService.isCorrectVersion()&&this.commonService.redirectByUrl(this.returnUrl)}ngOnInit(){Object(d.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.returnUrl=this.commonService.getMyQueryParam("return_url"),this.checkCorrectVersion()})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Ob(n.a),h.Ob(n.i),h.Ob(s.g),h.Ob(b.a),h.Ob(u.a))},t.\u0275cmp=h.Ib({type:t,selectors:[["app-update-version"]],decls:18,vars:1,consts:[[3,"headerTitle"],[1,"container","py-5","bg-white","mt-3","rounded"],[1,"row"],[1,"col-12"],[1,"font-weight-bold"]],template:function(t,e){1&t&&(h.Pb(0,"header-backend",0),h.Ub(1,"div",1),h.Ub(2,"div",2),h.Ub(3,"div",3),h.Ub(4,"h3",4),h.Qc(5,"N\u1ebfu b\u1ea1n s\u1eed d\u1ee5ng m\xe1y t\xednh th\xec h\xe3y l\xe0m theo h\u01b0\u1edbng d\u1eabn sau:"),h.Tb(),h.Ub(6,"p"),h.Qc(7,'- Nh\u1ea5n t\u1ed5 h\u1ee3p ph\xedm "Ctrl + F5" ho\u1eb7c "Ctrl + Shift + R" (\u0111\u1ed1i v\u1edbi m\xe1y s\u1eed d\u1ee5ng h\u1ec7 \u0111i\u1ec1u h\xe0nh Windows) ho\u1eb7c "Command + Shift + R" (\u0111\u1ed1i v\u1edbi m\xe1y s\u1eed d\u1ee5ng h\u1ec7 \u0111i\u1ec1u h\xe0nh Mac OS) \u0111\u1ec3 t\u1ea3i l\u1ea1i trang \u0111\u1ed3ng th\u1eddi x\xf3a cache tr\xecnh duy\u1ec7t. Sau \u0111\xf3 \u0111\u0103ng nh\u1eadp l\u1ea1i.'),h.Tb(),h.Tb(),h.Tb(),h.Ub(8,"div",2),h.Ub(9,"div",3),h.Ub(10,"h3",4),h.Qc(11,"N\u1ebfu b\u1ea3n s\u1eed d\u1ee5ng \u0111i\u1ec7n tho\u1ea1i th\xec h\xe3y l\xe0m theo h\u01b0\u1edbng d\u1eabn sau:"),h.Tb(),h.Ub(12,"p"),h.Qc(13,"- Truy c\u1eadp v\xe0o thanh menu v\xe0 nh\u1ea5n n\xfat History."),h.Tb(),h.Ub(14,"p"),h.Qc(15,"- Click ch\u1ecdn Clear Browsing Data. V\xe0 ch\u1ecdn th\u1eddi gian. \u0110\u1ec3 x\xf3a m\u1ecdi th\u1ee9, ch\u1ecdn All Time."),h.Tb(),h.Ub(16,"p"),h.Qc(17,"- Ch\u1ecdn y\u1ebfu t\u1ed1 b\u1ea1n mu\u1ed1n x\xf3a \u2013 history, cookies, cache."),h.Tb(),h.Tb(),h.Tb(),h.Tb()),2&t&&h.mc("headerTitle","Th\xf4ng b\xe1o c\u1eadp nh\u1eadt phi\xean b\u1ea3n m\u1edbi")},directives:[m.a],styles:[""]}),t})();var g=i("n1FK"),f=i("FKr1"),v=i("kmnG"),_=i("3eqI"),T=i("NFeN"),y=i("QibW"),C=i("qFsG"),U=i("bTqV"),k=i("gaSO");function O(t,e){1&t&&(h.Ub(0,"div"),h.Ub(1,"div",12),h.Ub(2,"div",13),h.Ub(3,"span",14),h.Qc(4),h.gc(5,"mytranslate"),h.Tb(),h.Tb(),h.Tb(),h.Tb()),2&t&&(h.Cb(4),h.Sc("",h.hc(5,1,"lang_cms_common_loading"),"..."))}function w(t,e){1&t&&(h.Ub(0,"div"),h.Qc(1," Email ph\u1ea3i nh\u1eadp \u0111\xfang \u0111\u1ecbnh d\u1ea1ng! "),h.Tb())}function I(t,e){if(1&t&&(h.Ub(0,"div",41),h.Oc(1,w,2,0,"div",11),h.Tb()),2&t){const t=h.fc(2);h.Cb(1),h.mc("ngIf",t.getErrorType("email","email"))}}function P(t,e){1&t&&(h.Ub(0,"div"),h.Qc(1," M\u1eadt kh\u1ea9u ph\u1ea3i d\xe0i t\u1ed1i thi\u1ec3u l\xe0 6! "),h.Tb())}function S(t,e){if(1&t&&(h.Ub(0,"div",41),h.Oc(1,P,2,0,"div",11),h.Tb()),2&t){const t=h.fc(2);h.Cb(1),h.mc("ngIf",t.getErrorType("password","required")||t.getErrorType("password","minlength"))}}function x(t,e){1&t&&(h.Ub(0,"div"),h.Qc(1," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ch\u1ec9 g\u1ed3m c\xe1c ch\u1eef s\u1ed1 v\xe0 d\xe0i 10 k\xfd t\u1ef1! "),h.Tb())}function M(t,e){if(1&t&&(h.Ub(0,"div",41),h.Oc(1,x,2,0,"div",11),h.Tb()),2&t){const t=h.fc(2);h.Cb(1),h.mc("ngIf",t.getErrorType("phone","pattern")||t.getErrorType("phone","minlength")||t.getErrorType("phone","maxlength"))}}function E(t,e){1&t&&(h.Ub(0,"span"),h.Qc(1,"OK"),h.Tb())}function j(t,e){if(1&t&&(h.Ub(0,"div",15),h.Ub(1,"label",42),h.Qc(2),h.gc(3,"mytranslate"),h.Tb(),h.Tb()),2&t){const t=h.fc(2);h.Cb(2),h.Sc("*** ",h.hc(3,1,t.status_obj.error_obj.message),"")}}function L(t,e){1&t&&(h.Ub(0,"span"),h.Pb(1,"span",43),h.Qc(2,"\xa0"),h.Tb())}function N(t,e){if(1&t){const t=h.Vb();h.Ub(0,"div"),h.Ub(1,"div",15),h.Ub(2,"div",16),h.Ub(3,"div",17),h.Pb(4,"input",18),h.Ub(5,"div",19),h.Ub(6,"span",20),h.Ub(7,"mat-icon"),h.Qc(8,"account_box"),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Ub(9,"div",15),h.Ub(10,"div",16),h.Ub(11,"div",17),h.Pb(12,"input",21),h.Ub(13,"div",19),h.Ub(14,"span",20),h.Ub(15,"mat-icon"),h.Qc(16,"email"),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Oc(17,I,2,1,"div",22),h.Tb(),h.Tb(),h.Ub(18,"div",15),h.Ub(19,"div",16),h.Ub(20,"div",17),h.Pb(21,"input",23),h.Ub(22,"div",19),h.Ub(23,"span",20),h.Ub(24,"mat-icon"),h.Qc(25,"lock"),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Oc(26,S,2,1,"div",22),h.Tb(),h.Tb(),h.Ub(27,"div",15),h.Ub(28,"div",16),h.Ub(29,"div",24),h.Pb(30,"input",25),h.Ub(31,"div",19),h.Ub(32,"span",20),h.Ub(33,"mat-icon"),h.Qc(34,"phone_enabled"),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Ub(35,"a",26),h.bc("click",function(){return h.Cc(t),h.fc().goToConfirm()}),h.Qc(36,"Click v\xe0o \u0111\xe2y n\u1ebfu b\u1ea1n mu\u1ed1n \u0111\u1ed5i s\u1ed1 \u0111i\u1ec7n tho\u1ea1i!"),h.Tb(),h.Oc(37,M,2,1,"div",22),h.Tb(),h.Tb(),h.Ub(38,"div",15),h.Ub(39,"div",16),h.Ub(40,"div",27),h.Ub(41,"mat-radio-group",28),h.Ub(42,"mat-radio-button",29),h.Qc(43,"Nam"),h.Tb(),h.Ub(44,"mat-radio-button",30),h.Qc(45,"N\u1eef"),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Ub(46,"div",15),h.Ub(47,"div",16),h.Ub(48,"mat-form-field",31),h.Ub(49,"input",32),h.bc("click",function(){return h.Cc(t),h.yc(54).open()}),h.Tb(),h.Ub(50,"button",33),h.bc("click",function(e){return h.Cc(t),h.yc(54).open(),e.stopPropagation()}),h.Ub(51,"mat-icon"),h.Qc(52,"today"),h.Tb(),h.Tb(),h.Ub(53,"ngx-mat-datetime-picker",34,35),h.Oc(55,E,2,0,"ng-template"),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Oc(56,j,4,3,"div",36),h.Ub(57,"div",15),h.Ub(58,"div",37),h.Ub(59,"button",38),h.bc("click",function(){h.Cc(t);const e=h.fc();return e.form.invalid||e.status_obj.loading||e.changeInfo()}),h.Oc(60,L,3,0,"span",11),h.Qc(61,"C\u1eadp nh\u1eadt "),h.Tb(),h.Tb(),h.Tb(),h.Ub(62,"div",39),h.Ub(63,"a",40),h.bc("click",function(){return h.Cc(t),h.fc().goBack()}),h.Qc(64,"Quay l\u1ea1i trang ch\u1ee7"),h.Tb(),h.Tb(),h.Tb()}if(2&t){const t=h.yc(54),e=h.fc();h.Cb(17),h.mc("ngIf",e.form.controls.email.invalid&&e.form.controls.email.dirty),h.Cb(9),h.mc("ngIf",e.form.controls.password.invalid&&(e.form.controls.password.dirty||e.form.controls.password.touched)),h.Cb(4),h.Db("disabled",e.disablePhone),h.Cb(7),h.mc("ngIf",e.form.controls.phone.invalid&&(e.form.controls.phone.dirty||e.form.controls.phone.touched)),h.Cb(12),h.mc("ngxMatDatetimePicker",t),h.Cb(4),h.mc("hideTime",e.hideTime),h.Cb(3),h.mc("ngIf",e.status_obj.error_obj.message),h.Cb(3),h.mc("disabled",e.form.invalid||e.status_obj.loading),h.Cb(1),h.mc("ngIf",!0===e.status_obj.loading)}}const R={parse:{dateInput:"l, LTS"},display:{dateInput:"DD-MM-YYYY",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let D=(()=>{class t{constructor(t,e,i,n,o){this.formBuilder=t,this.activeRoute=e,this.router=i,this.commonService=n,this.apiService=o,this.subscriptions=new l.a,this.form=new s.k({}),this.startDate=new Date(1990,1,1),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.gender=0,this.prevData=0,this.disablePhone=!0,this.returnUrl="",this.hideTime=!0}getError(t){return!(!this.form.controls[t]||!this.form.controls[t].errors)&&this.form.controls[t].errors}getErrorType(t,e){return!!(this.form.controls[t]&&this.form.controls[t].errors&&this.form.controls[t].errors[e])&&this.form.controls[t].errors[e]}goToConfirm(){this.returnUrl="/auth/change-info";var t="?return_url="+encodeURIComponent(this.returnUrl)+"&confirm_type=change_phone";this.commonService.myNavigationWithQueryString("/auth/checking_service",t)}allowChangePhone(){var t=this.apiService.getUserObj(),e=t.zaloId?t.zaloId:"";return""!=e&&e==(t.phone?t.phone:"")}changeInfo(){if(this.form.valid){var t=this.commonService.getFormObj(this.form),e=t.birthday?new Date(Date.parse(t.birthday)):this.startDate,i={fullName:t.fullName,email:t.email,phone:t.phone,gender:t.gender,birthday:Object(o.x)(e,"yyyy-MM-ddTHH:mm:ss","en_vn"),password:t.password};this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiService.changeInfo(i).subscribe(t=>{1==t.success?(this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.commonService.snackSuccess("C\u1eadp nh\u1eadt th\xf4ng tin th\xe0nh c\xf4ng!","OK"),this.getInfo()):(this.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t},this.commonService.snackError("C\u1eadp nh\u1eadt th\xf4ng tin kh\xf4ng th\xe0nh c\xf4ng!","OK"))}))}}goBack(){this.apiService.redirectLoginByRole(!1)}getInfo(){this.status_obj={form_loading:!0,loading:!1,error:!1,error_obj:{message:""}};var t=this.apiService.getUserObj(),e=t.birthday?new Date(t.birthday):new Date(1990,1,1);this.startDate=e,this.gender=t.gender,this.form.patchValue({fullName:this.commonService.isAnonymousName(t)?"":t.fullName,email:t.email?t.email:"",phone:t.phone?t.phone:"",gender:1!=this.gender?"0":"1"}),this.form.controls.birthday.setValue(e),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}}}ngOnInit(){this.form=this.formBuilder.group({fullName:new s.h(""),email:new s.h("",s.z.email),phone:new s.h("",[s.z.pattern("^[0-9]*$")]),gender:new s.h(""),birthday:new s.h(""),password:new s.h("",[s.z.minLength(6)])}),this.apiService.isAnonymousRole()?this.commonService.redirectSimpleRegister():(this.getInfo(),this.form.valueChanges.subscribe(t=>{let e=JSON.stringify(t);e!=this.prevData&&(this.prevData=e,this.form.patchValue(t))}),this.commonService.translateMetaData({title:"lang_cms_auth_change_info_title",description:"lang_cms_auth_change_info_description",image:"lang_cms_test_image"}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Ob(s.g),h.Ob(n.a),h.Ob(n.i),h.Ob(b.a),h.Ob(u.a))},t.\u0275cmp=h.Ib({type:t,selectors:[["app-change-info"]],features:[h.Bb([{provide:g.b,useClass:_.a,deps:[f.f,_.b]},{provide:g.a,useValue:R},{provide:v.b,useValue:{floatLabel:"never"}}])],decls:15,vars:3,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","text","placeholder","H\u1ecd v\xe0 t\xean","formControlName","fullName",1,"form-control"],[1,"input-group-append"],["id","basic-addon3",1,"input-group-text"],["type","text","placeholder","Email","formControlName","email",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["type","password","placeholder","M\u1eadt kh\u1ea9u m\u1edbi","formControlName","password","autocomplete","new-password",1,"form-control"],[1,"input-group","mb-1"],["type","text","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","formControlName","phone",1,"form-control"],[1,"clickable","text-info",2,"font-size","13px","padding-left","5px",3,"click"],[1,"input-group","justify-content-around",2,"border","1px solid  #e2e2e2","border-radius","3px","padding",".8rem 0 .3rem 0"],["formControlName","gender"],["value","1",1,"col-6","p-0"],["value","0",1,"col-6"],[1,"myTimePicker",2,"border","1px solid #ced4da","border-radius","3px","padding-top","2px"],["matInput","","placeholder","Ng\xe0y sinh","formControlName","birthday",1,"form-control",3,"ngxMatDatetimePicker","click"],["mat-icon-button","","matSuffix","",3,"click"],[3,"hideTime"],["birthDay",""],["class","form-group",4,"ngIf"],[1,"col-sm-12","text-center"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"text-center","mt-3"],[1,"clickable",3,"click"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&(h.Ub(0,"div",0),h.Ub(1,"form",1),h.Ub(2,"div",2),h.Pb(3,"div",3),h.Ub(4,"div",4),h.Ub(5,"h2",5),h.Pb(6,"img",6),h.Tb(),h.Ub(7,"div",7),h.Ub(8,"div",8),h.Ub(9,"span",9),h.Qc(10,"\u0110\u1ed5i m\u1eadt kh\u1ea9u m\u1edbi"),h.Tb(),h.Tb(),h.Ub(11,"div",10),h.Oc(12,O,6,3,"div",11),h.Oc(13,N,65,9,"div",11),h.Tb(),h.Tb(),h.Tb(),h.Pb(14,"div",3),h.Tb(),h.Tb(),h.Tb()),2&t&&(h.Cb(1),h.mc("formGroup",e.form),h.Cb(11),h.mc("ngIf",1==e.status_obj.form_loading),h.Cb(1),h.mc("ngIf",1!=e.status_obj.form_loading))},directives:[s.B,s.s,s.l,o.m,s.d,s.r,s.j,T.a,y.b,y.a,v.d,C.b,g.c,U.b,v.h,g.d],pipes:[k.o],encapsulation:2}),t})();var A=i("Avyq"),Q=i("AytR"),F=i("0pw4");function z(t,e){1&t&&(h.Ub(0,"div"),h.Ub(1,"div",12),h.Ub(2,"div",13),h.Ub(3,"span",14),h.Qc(4),h.gc(5,"mytranslate"),h.Tb(),h.Tb(),h.Tb(),h.Tb()),2&t&&(h.Cb(4),h.Sc("",h.hc(5,1,"lang_cms_common_loading"),"..."))}function q(t,e){if(1&t&&(h.Ub(0,"div",19),h.Ub(1,"label",33),h.Qc(2),h.gc(3,"mytranslate"),h.Tb(),h.Tb()),2&t){const t=h.fc(2);h.Cb(2),h.Sc("*** ",h.hc(3,1,t.status_obj.error_obj.message),"")}}function V(t,e){1&t&&(h.Ub(0,"span"),h.Pb(1,"span",34),h.Qc(2,"\xa0"),h.Tb())}const B=function(t){return[t]},$=function(t){return{return_url:t}};function H(t,e){if(1&t){const t=h.Vb();h.Ub(0,"div"),h.Ub(1,"div",15),h.Ub(2,"a",16),h.bc("click",function(){return h.Cc(t),h.fc().loginZalo()}),h.Pb(3,"img",17),h.Ub(4,"span"),h.Qc(5,"\u0110\u0103ng nh\u1eadp b\u1eb1ng Zalo"),h.Tb(),h.Tb(),h.Pb(6,"br"),h.Pb(7,"br"),h.Ub(8,"div",5),h.Ub(9,"span",18),h.Qc(10,"- HO\u1eb6C -"),h.Tb(),h.Tb(),h.Pb(11,"br"),h.Tb(),h.Ub(12,"div",19),h.Ub(13,"div",20),h.Ub(14,"div",21),h.Pb(15,"input",22),h.Ub(16,"div",23),h.Ub(17,"span",24),h.Ub(18,"mat-icon"),h.Qc(19,"phone_enabled"),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Ub(20,"div",19),h.Ub(21,"div",20),h.Ub(22,"div",21),h.Pb(23,"input",25),h.Ub(24,"div",23),h.Ub(25,"span",24),h.Ub(26,"mat-icon"),h.Qc(27,"lock"),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Oc(28,q,4,3,"div",26),h.Ub(29,"div",19),h.Ub(30,"div",27),h.Ub(31,"div",15),h.Ub(32,"button",28),h.bc("click",function(){h.Cc(t);const e=h.fc();return e.form.invalid||e.status_obj.loading||e.login()}),h.Oc(33,V,3,0,"span",11),h.Qc(34,"\u0110\u0103ng nh\u1eadp "),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Ub(35,"div",29),h.Ub(36,"a",30),h.gc(37,"localize"),h.Qc(38,"\u0110\u0103ng k\xfd th\xe0nh vi\xean m\u1edbi"),h.Tb(),h.Tb(),h.Ub(39,"div",31),h.Ub(40,"a",32),h.bc("click",function(){return h.Cc(t),h.fc().forgotPassword()}),h.Qc(41,"Qu\xean m\u1eadt kh\u1ea9u?"),h.Tb(),h.Tb(),h.Tb()}if(2&t){const t=h.fc();h.Cb(28),h.mc("ngIf",t.status_obj.error_obj.message),h.Cb(4),h.mc("disabled",t.form.invalid||t.status_obj.loading),h.Cb(1),h.mc("ngIf",!0===t.status_obj.loading),h.Cb(3),h.mc("routerLink",h.rc(7,B,h.hc(37,5,"/auth/register")))("queryParams",h.rc(9,$,t.returnUrl))}}let W=(()=>{class t{constructor(t,e,i,n,o,r){this.formBuilder=t,this.activeRoute=e,this.router=i,this.commonService=n,this.apiService=o,this.localStorageObjetct=r,this.subscriptions=new l.a,this.form=new s.k({}),this.zaloAccessTkn="",this.returnUrl="",this.zaloLoginUrl="",this.status_obj={form_loading:!0,loading:!1,error:!1,error_obj:{message:""}}}getError(t){return!(!this.form.controls[t]||!this.form.controls[t].errors)&&this.form.controls[t].errors}login(){if(this.form.valid){this.commonService.gaEvent("sign_in_login_in");var t=this.commonService.getFormObj(this.form);this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiService.login(t.phone,t.password).subscribe(t=>{1==t.success?(this.localStorageObjetct.clearAllCache(),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.apiService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url"))):this.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t}}))}}loginAnonymous(){this.commonService.gaEvent("sign_in_login_anonymous"),this.status_obj={form_loading:!0,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiService.loginAnonymous().subscribe(t=>{1==t.success?(this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.apiService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url"))):this.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t}}))}loginWithZaloAccessToken(t){this.commonService.gaEvent("sign_in_login_by_zalo"),this.status_obj={form_loading:!0,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiService.loginWithZalo(t).subscribe(t=>{1==t.success?(this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.apiService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url"))):this.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t}}))}loginZalo(){this.commonService.gaEvent("sign_in_click_sign_in_by_zalo"),window.location.href=this.zaloLoginUrl}forgotPassword(){this.commonService.gaEvent("sign_in_forgot_password"),this.commonService.myNavigation("/auth/confirm_forgot_password")}ngOnInit(){this.form=this.formBuilder.group({phone:["",s.z.required],password:["",s.z.required]}),this.zaloAccessTkn=this.commonService.getMyQueryParam("access_token"),this.commonService.getMyQueryParam("not_register")?this.commonService.myNavigation("/auth/register"):this.zaloAccessTkn?(this.commonService.getMyQueryParam("register")&&this.commonService.gaEvent("sign_in_sign_up_by_zalo"),this.loginWithZaloAccessToken(this.zaloAccessTkn)):this.apiService.isLogin()&&!this.apiService.isAnonymousRole()?this.apiService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")):(this.returnUrl=this.commonService.getMyQueryParam("return_url")||"",-1===this.returnUrl.indexOf("/test/")&&-1===this.returnUrl.indexOf("/de-thi/")&&-1===this.returnUrl.indexOf("/bai-tap/")||"register"==this.commonService.getMyQueryParam("from")?(this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.zaloLoginUrl=Q.a.main_api+"Auth/LoginZalo?callback_uri="+encodeURIComponent(this.commonService.getLocalRouter("/auth/login")+"?return_url="+this.returnUrl+"&is_login=1")):this.apiService.isLogin()?this.apiService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")):this.loginAnonymous()),this.commonService.translateMetaData({title:"lang_cms_auth_login_title",description:"lang_cms_auth_login_description",image:"lang_cms_test_image"})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Ob(s.g),h.Ob(n.a),h.Ob(n.i),h.Ob(b.a),h.Ob(u.a),h.Ob(F.a))},t.\u0275cmp=h.Ib({type:t,selectors:[["app-login"]],decls:15,vars:3,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"col-md-12"],[1,"btn","btn-outline-primary","mt-2",2,"width","100%",3,"click"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/zaloicon.png","alt","Zalo Icon",1,"img-responsive","zalo-icon"],[1,"h6","mute-text"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","tel","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","formControlName","phone",1,"form-control"],[1,"input-group-append"],["id","basic-addon2",1,"input-group-text"],["type","password","placeholder","M\u1eadt kh\u1ea9u","formControlName","password",1,"form-control"],["class","form-group",4,"ngIf"],[2,"display","flex"],["mat-raised-button","","color","primary",2,"width","100%",3,"disabled","click"],[1,"text-center","mt-3"],[3,"routerLink","queryParams"],[1,"text-center","mt-1"],[2,"color","rgb(216, 2, 2)",3,"click"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&(h.Ub(0,"div",0),h.Ub(1,"form",1),h.Ub(2,"div",2),h.Pb(3,"div",3),h.Ub(4,"div",4),h.Ub(5,"h2",5),h.Pb(6,"img",6),h.Tb(),h.Ub(7,"div",7),h.Ub(8,"div",8),h.Ub(9,"span",9),h.Qc(10,"\u0110\u0103ng nh\u1eadp"),h.Tb(),h.Tb(),h.Ub(11,"div",10),h.Oc(12,z,6,3,"div",11),h.Oc(13,H,42,11,"div",11),h.Tb(),h.Tb(),h.Tb(),h.Pb(14,"div",3),h.Tb(),h.Tb(),h.Tb()),2&t&&(h.Cb(1),h.mc("formGroup",e.form),h.Cb(11),h.mc("ngIf",1==e.status_obj.form_loading),h.Cb(1),h.mc("ngIf",1!=e.status_obj.form_loading))},directives:[s.B,s.s,s.l,o.m,s.d,s.r,s.j,T.a,U.b,n.k],pipes:[k.o,A.d],styles:[".checkboxInput[_ngcontent-%COMP%]{padding:5px 15px;font-size:1rem;font-weight:400;line-height:2}.zalo-icon[_ngcontent-%COMP%]{height:30px;margin-right:10px}"]}),t})();var G=i("1yaQ"),K=i("jCJ1");function Y(t,e){1&t&&(h.Ub(0,"div"),h.Ub(1,"div",13),h.Ub(2,"div",14),h.Ub(3,"span",15),h.Qc(4),h.gc(5,"mytranslate"),h.Tb(),h.Tb(),h.Tb(),h.Tb()),2&t&&(h.Cb(4),h.Sc("",h.hc(5,1,"lang_cms_common_loading"),"..."))}function J(t,e){if(1&t){const t=h.Vb();h.Ub(0,"div",16),h.Ub(1,"div",17),h.bc("click",function(){return h.Cc(t),h.fc().changeRegisterType(1)}),h.Ub(2,"div",18),h.Pb(3,"i",19),h.Ub(4,"p"),h.Qc(5,"T\xf4i l\xe0 h\u1ecdc sinh"),h.Tb(),h.Tb(),h.Tb(),h.Ub(6,"div",17),h.bc("click",function(){return h.Cc(t),h.fc().changeRegisterType(2)}),h.Ub(7,"div",18),h.Pb(8,"img",20),h.Ub(9,"p"),h.Qc(10,"T\xf4i l\xe0 gi\xe1o vi\xean"),h.Tb(),h.Tb(),h.Tb(),h.Tb()}}function X(t,e){1&t&&(h.Ub(0,"div"),h.Qc(1," Y\xeau c\u1ea7u nh\u1eadp h\u1ecd t\xean \u0111\u1ea7y \u0111\u1ee7! "),h.Tb())}function Z(t,e){if(1&t&&(h.Ub(0,"div",53),h.Oc(1,X,2,0,"div",10),h.Tb()),2&t){const t=h.fc(3);h.Cb(1),h.mc("ngIf",t.getErrorType("fullName","required"))}}function tt(t,e){1&t&&(h.Ub(0,"div"),h.Qc(1," Y\xeau c\u1ea7u nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i! "),h.Tb())}function et(t,e){1&t&&(h.Ub(0,"div"),h.Qc(1," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ch\u1ec9 g\u1ed3m c\xe1c ch\u1eef s\u1ed1 v\xe0 d\xe0i 10 k\xfd t\u1ef1! "),h.Tb())}function it(t,e){if(1&t&&(h.Ub(0,"div",53),h.Oc(1,tt,2,0,"div",10),h.Oc(2,et,2,0,"div",10),h.Tb()),2&t){const t=h.fc(3);h.Cb(1),h.mc("ngIf",t.getErrorType("phone","required")),h.Cb(1),h.mc("ngIf",t.getErrorType("phone","pattern")||t.getErrorType("phone","minlength")||t.getErrorType("phone","maxlength"))}}function nt(t,e){1&t&&(h.Ub(0,"div"),h.Qc(1," M\u1eadt kh\u1ea9u ph\u1ea3i d\xe0i t\u1ed1i thi\u1ec3u l\xe0 6! "),h.Tb())}function ot(t,e){if(1&t&&(h.Ub(0,"div",53),h.Oc(1,nt,2,0,"div",10),h.Tb()),2&t){const t=h.fc(3);h.Cb(1),h.mc("ngIf",t.getErrorType("password","required")||t.getErrorType("password","minlength"))}}function rt(t,e){1&t&&(h.Ub(0,"div"),h.Qc(1," Email b\u1ea1n nh\u1eadp sai \u0111\u1ecbnh d\u1ea1ng! "),h.Tb())}function st(t,e){if(1&t&&(h.Ub(0,"div",53),h.Oc(1,rt,2,0,"div",10),h.Tb()),2&t){const t=h.fc(3);h.Cb(1),h.mc("ngIf",t.getErrorType("email","email"))}}function at(t,e){if(1&t&&(h.Ub(0,"div",39),h.Ub(1,"label",54),h.Qc(2),h.gc(3,"mytranslate"),h.Tb(),h.Tb()),2&t){const t=h.fc(3);h.Cb(2),h.Sc("*** ",h.hc(3,1,t.status_obj.error_obj.message),"")}}function ct(t,e){1&t&&(h.Ub(0,"span"),h.Pb(1,"span",55),h.Qc(2,"\xa0"),h.Tb())}function lt(t,e){if(1&t){const t=h.Vb();h.Ub(0,"div",36),h.Ub(1,"form",37),h.Ub(2,"div",27),h.Ub(3,"div",38),h.Ub(4,"div",39),h.Ub(5,"div",40),h.Ub(6,"div",41),h.Pb(7,"input",42),h.Ub(8,"div",43),h.Ub(9,"span",44),h.Ub(10,"mat-icon"),h.Qc(11,"account_box"),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Oc(12,Z,2,1,"div",45),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Ub(13,"div",27),h.Ub(14,"div",38),h.Ub(15,"div",39),h.Ub(16,"div",40),h.Ub(17,"div",41),h.Pb(18,"input",46),h.Ub(19,"div",43),h.Ub(20,"span",47),h.Ub(21,"mat-icon"),h.Qc(22,"phone_enabled"),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Oc(23,it,3,2,"div",45),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Ub(24,"div",27),h.Ub(25,"div",38),h.Ub(26,"div",39),h.Ub(27,"div",40),h.Ub(28,"div",41),h.Pb(29,"input",48),h.Ub(30,"div",43),h.Ub(31,"span",49),h.Ub(32,"mat-icon"),h.Qc(33,"lock"),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Oc(34,ot,2,1,"div",45),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Ub(35,"div",27),h.Ub(36,"div",38),h.Ub(37,"div",39),h.Ub(38,"div",40),h.Ub(39,"div",41),h.Pb(40,"input",50),h.Ub(41,"div",43),h.Ub(42,"span",47),h.Ub(43,"mat-icon"),h.Qc(44,"email"),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Oc(45,st,2,1,"div",45),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Oc(46,at,4,3,"div",51),h.Ub(47,"div",39),h.Ub(48,"div",27),h.Ub(49,"div",38),h.Ub(50,"button",52),h.bc("click",function(){h.Cc(t);const e=h.fc(2);return e.form.invalid||e.status_obj.loading||e.registerForTeacher()}),h.Oc(51,ct,3,0,"span",10),h.Qc(52,"\u0110\u0103ng k\xfd "),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb()}if(2&t){const t=h.fc(2);h.Cb(1),h.mc("formGroup",t.form),h.Cb(11),h.mc("ngIf",t.form.controls.fullName.invalid&&(t.form.controls.fullName.dirty||t.form.controls.fullName.touched)),h.Cb(11),h.mc("ngIf",t.form.controls.phone.invalid&&(t.form.controls.phone.dirty||t.form.controls.phone.touched)),h.Cb(11),h.mc("ngIf",t.form.controls.password.invalid&&(t.form.controls.password.dirty||t.form.controls.password.touched)),h.Cb(11),h.mc("ngIf",t.form.controls.email.invalid&&(t.form.controls.email.dirty||t.form.controls.email.touched)),h.Cb(1),h.mc("ngIf",t.status_obj.error_obj.message),h.Cb(4),h.mc("disabled",t.form.invalid||t.status_obj.loading),h.Cb(1),h.mc("ngIf",!0===t.status_obj.loading)}}function dt(t,e){1&t&&(h.Ub(0,"div",63),h.Qc(1," B\u1ea1n ph\u1ea3i nh\u1eadp h\u1ecd v\xe0 t\xean c\u1ee7a b\u1ea1n. "),h.Tb())}function ht(t,e){1&t&&(h.Ub(0,"div"),h.Qc(1," B\u1ea1n ph\u1ea3i nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i. "),h.Tb())}function bt(t,e){1&t&&(h.Ub(0,"div"),h.Qc(1," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ph\u1ea3i l\xe0 10 s\u1ed1. "),h.Tb())}function ut(t,e){if(1&t&&(h.Ub(0,"div",63),h.Oc(1,ht,2,0,"div",10),h.Oc(2,bt,2,0,"div",10),h.Tb()),2&t){const t=h.fc(3);h.Cb(1),h.mc("ngIf",t.getErrorForm("studentPhone","required")),h.Cb(1),h.mc("ngIf",t.getErrorForm("studentPhone","minlength")||t.getErrorForm("studentPhone","maxlength"))}}function mt(t,e){1&t&&(h.Ub(0,"div"),h.Qc(1," B\u1ea1n ph\u1ea3i nh\u1eadp m\u1eadt kh\u1ea9u. "),h.Tb())}function pt(t,e){1&t&&(h.Ub(0,"div"),h.Qc(1," M\u1eadt kh\u1ea9u bao g\u1ed3m 6 k\xfd t\u1ef1. "),h.Tb())}function gt(t,e){if(1&t&&(h.Ub(0,"div",63),h.Oc(1,mt,2,0,"div",10),h.Oc(2,pt,2,0,"div",10),h.Tb()),2&t){const t=h.fc(3);h.Cb(1),h.mc("ngIf",t.getErrorForm("passWord","required")),h.Cb(1),h.mc("ngIf",t.getErrorForm("passWord","minlength"))}}function ft(t,e){if(1&t&&(h.Ub(0,"div",39),h.Ub(1,"label",54),h.Qc(2),h.gc(3,"mytranslate"),h.Tb(),h.Tb()),2&t){const t=h.fc(3);h.Cb(2),h.Sc("*** ",h.hc(3,1,t.status_obj.error_obj.message),"")}}function vt(t,e){1&t&&(h.Ub(0,"span"),h.Pb(1,"span",55),h.Qc(2,"\xa0"),h.Tb())}function _t(t,e){if(1&t){const t=h.Vb();h.Ub(0,"div",56),h.Ub(1,"form",57),h.Ub(2,"div",39),h.Pb(3,"input",58),h.Oc(4,dt,2,0,"div",59),h.Tb(),h.Ub(5,"div",39),h.Pb(6,"input",60),h.Oc(7,ut,3,2,"div",59),h.Tb(),h.Ub(8,"div",39),h.Pb(9,"input",61),h.Oc(10,gt,3,2,"div",59),h.Tb(),h.Tb(),h.Oc(11,ft,4,3,"div",51),h.Pb(12,"br"),h.Ub(13,"button",62),h.bc("click",function(){h.Cc(t);const e=h.fc(2);return e.formRegister.invalid||e.status_obj.loading||e.registerForStudent()}),h.Oc(14,vt,3,0,"span",10),h.Qc(15," Ho\xe0n Th\xe0nh \u0110\u0103ng K\xfd "),h.Tb(),h.Tb()}if(2&t){const t=h.fc(2);h.Cb(1),h.mc("formGroup",t.formRegister),h.Cb(3),h.mc("ngIf",t.formRegister.controls.studentFullName.invalid&&(t.formRegister.controls.studentFullName.dirty||t.formRegister.controls.studentFullName.touched)),h.Cb(3),h.mc("ngIf",t.formRegister.controls.studentPhone.invalid&&(t.formRegister.controls.studentPhone.dirty||t.formRegister.controls.studentPhone.touched)),h.Cb(3),h.mc("ngIf",t.formRegister.controls.passWord.invalid&&(t.formRegister.controls.passWord.dirty||t.formRegister.controls.passWord.touched)),h.Cb(1),h.mc("ngIf",t.status_obj.error_obj.message),h.Cb(2),h.mc("disabled",t.formRegister.invalid||t.status_obj.loading),h.Cb(1),h.mc("ngIf",!0===t.status_obj.loading)}}const Tt=function(t){return[t]},yt=function(t){return{return_url:t,from:"register"}};function Ct(t,e){if(1&t){const t=h.Vb();h.Ub(0,"div",21),h.Ub(1,"div",22),h.Ub(2,"div",23),h.Ub(3,"a",24),h.bc("click",function(){return h.Cc(t),h.fc().changeRegisterType(1)}),h.Pb(4,"i",25),h.Qc(5,"\xa0 T\xf4i l\xe0 h\u1ecdc sinh"),h.Tb(),h.Tb(),h.Ub(6,"div",23),h.Ub(7,"a",24),h.bc("click",function(){return h.Cc(t),h.fc().changeRegisterType(2)}),h.Pb(8,"i",26),h.Qc(9,"\xa0 T\xf4i l\xe0 gi\xe1o vi\xean"),h.Tb(),h.Tb(),h.Tb(),h.Ub(10,"div",27),h.Ub(11,"div",28),h.Pb(12,"hr"),h.Tb(),h.Tb(),h.Oc(13,lt,53,8,"div",29),h.Oc(14,_t,16,7,"div",30),h.Ub(15,"div",31),h.Qc(16,' B\u1eb1ng c\xe1ch \u1ea5n v\xe0o n\xfat "\u0110\u0102NG K\xdd", t\xf4i \u0111\u1ed3ng \xfd v\u1edbi '),h.Ub(17,"a",32),h.Qc(18," \u0110i\u1ec1u Kho\u1ea3n S\u1eed D\u1ee5ng "),h.Tb(),h.Qc(19," v\xe0 "),h.Ub(20,"a",32),h.Qc(21," Ch\xednh S\xe1ch B\u1ea3o M\u1eadt c\u1ee7a AZOTA."),h.Tb(),h.Tb(),h.Ub(22,"div",33),h.Ub(23,"p",34),h.Qc(24,"B\u1ea1n \u0111\xe3 c\xf3 t\xe0i kho\u1ea3n?"),h.Tb(),h.Ub(25,"p"),h.Ub(26,"a",35),h.gc(27,"localize"),h.Qc(28,"\u0110\u0103ng nh\u1eadp"),h.Tb(),h.Tb(),h.Tb(),h.Tb()}if(2&t){const t=h.fc();h.mc("hidden",t.isShowOption),h.Cb(3),h.Gb("select-style-active",t.isStudent),h.Cb(4),h.Gb("select-style-active",t.isTeacher),h.Cb(6),h.mc("ngIf",1==t.isTeacher),h.Cb(1),h.mc("ngIf",1==t.isStudent),h.Cb(12),h.mc("routerLink",h.rc(11,Tt,h.hc(27,9,"/auth/login")))("queryParams",h.rc(13,yt,t.returnUrl))}}const Ut={parse:{dateInput:"LL"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"YYYY"}};let kt=(()=>{class t{constructor(t,e,i,n,o,r,a){this.formBuilder=t,this.activeRoute=e,this.titleCasePipe=i,this.commonService=n,this.apiService=o,this.router=r,this.recaptchaV3Service=a,this.subscriptions=new l.a,this.form=new s.k({}),this.formClass=new s.k({}),this.formRegister=new s.k({}),this.returnUrl="",this.zaloLoginUrl="",this.status_obj={form_loading:!0,loading:!1,error:!1,error_obj:{message:""}},this.isHiddenFormRegister=!0,this.isTeacher=!1,this.isStudent=!1,this.hashId="",this.teacherName="",this.isShowAlert=!0,this.classObjs="",this.teacherObjs="",this.isOnClick=!1,this.yesterday=new Date,this.isShowOption=!0,this.isShowRegisterForStudent=!1,this.isShowRegisterForTeacher=!1}getError(t){return!(!this.form.controls[t]||!this.form.controls[t].errors)&&this.form.controls[t].errors}getErrorType(t,e){return!!(this.form.controls[t]&&this.form.controls[t].errors&&this.form.controls[t].errors[e])&&this.form.controls[t].errors[e]}getErrorForm(t,e){return!!(this.formRegister.controls[t]&&this.formRegister.controls[t].errors&&this.formRegister.controls[t].errors[e])&&this.formRegister.controls[t].errors[e]}onlyNumber(t){const e=t.which?t.which:t.keyCode;return!(e>31&&(e<48||e>57))}goToConfirm(){this.returnUrl=this.commonService.getMyQueryParam("return_url");var t="?return_url="+encodeURIComponent(this.returnUrl)+"&confirm_type=confirm_phone_register";this.commonService.myNavigationWithQueryString("/auth/checking_service",t)}changeRegisterType(t){this.isShowOption=!1,1==t?(this.commonService.gaEvent("sign_up_switch_to_student"),this.isTeacher=!1,this.isStudent=!0):(this.commonService.gaEvent("sign_up_switch_to_teacher"),this.isTeacher=!0,this.isStudent=!1)}registerForTeacher(){this.form.valid&&this.executeImportantAction().then(t=>{var e=this.commonService.getFormObj(this.form);this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiService.register(e.fullName,e.phone,e.password,e.email,t).subscribe(t=>{1==t.success?(this.commonService.gaEvent("sign_up_teacher"),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.apiService.redirectLoginByRoleForRegister(this.commonService.getMyQueryParam("return_url"))):this.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t}}))})}registerForStudent(){this.executeImportantAction().then(t=>{this.commonService.gaEvent("sign_up_student");var e=this.commonService.getFormObj(this.formRegister);this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiService.registerStudent(e.studentPhone,e.studentFullName,e.passWord,t).subscribe(t=>{1==t.success?(this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.apiService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url"))):this.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t}}))})}loginZalo(){this.commonService.gaEvent("sign_up_teacher_by_zalo"),window.location.href=this.zaloLoginUrl}ngOnInit(){if(this.apiService.isLogin()&&!this.apiService.isAnonymousRole())this.apiService.redirectLoginByRole(!1);else{var t=this.commonService.getMyParam(this.activeRoute,"type");if(null!=t){var e=parseInt(null==t?void 0:t.toString());this.changeRegisterType(0==e?0:1)}this.yesterday.setDate(this.yesterday.getDate()-1),this.form=this.formBuilder.group({fullName:["",s.z.required],phone:["",[s.z.required,s.z.pattern("^[0-9]*$"),s.z.minLength(10),s.z.maxLength(10)]],password:["",[s.z.required,s.z.minLength(6)]],email:["",s.z.email]}),this.formRegister=this.formBuilder.group({studentPhone:["",[s.z.required,s.z.pattern("^[0-9]*$"),s.z.minLength(10),s.z.maxLength(10)]],studentFullName:["",s.z.required],passWord:["",[s.z.required,s.z.minLength(6)]]}),this.formClass=this.formBuilder.group({hashId:["",s.z.required]}),this.form.get("fullName").valueChanges.subscribe(t=>{var e=this.titleCasePipe.transform(t);t!=e&&this.form.controls.fullName.setValue(e)}),this.returnUrl=this.commonService.getMyQueryParam("return_url")||this.commonService.getLocalRouter("/admin/testbank/dashboard"),this.zaloLoginUrl=Q.a.main_api+"Auth/LoginZalo?callback_uri="+encodeURIComponent(this.commonService.getLocalRouter("/auth/login")+"?return_url="+this.returnUrl+"&is_register=1"),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.commonService.translateMetaData({title:"lang_cms_auth_register_title",description:"lang_cms_auth_register_description",image:"lang_cms_test_image"})}}executeImportantAction(){return new Promise(t=>{this.recaptchaV3Service.execute("importantAction").subscribe(e=>{t(e)})})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Ob(s.g),h.Ob(n.a),h.Ob(o.v),h.Ob(b.a),h.Ob(u.a),h.Ob(n.i),h.Ob(K.b))},t.\u0275cmp=h.Ib({type:t,selectors:[["app-register"]],features:[h.Bb([o.v,{provide:f.c,useClass:G.b,deps:[f.f]},{provide:f.e,useValue:Ut}])],decls:15,vars:3,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"row","py-5"],[1,"col-sm-3"],[1,"col-sm-6"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"text-center","p-0"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],[1,"p-0","m-0"],[1,"card-body"],[4,"ngIf"],["class","row","style","justify-content: space-around;",4,"ngIf"],[3,"hidden",4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"row",2,"justify-content","space-around"],[1,"col-sm-4","border-card","mb-3",3,"click"],[1,"df-logo"],[1,"fas","fa-graduation-cap","pb-3",2,"font-size","36px"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/teacher.png","width","36px","height","45px",1,"mb-3"],[3,"hidden"],[1,"row","justify-content-center","pt-3"],[1,"col-sm-6","text-center","mb-3"],[1,"clickable","select-style",3,"click"],[1,"fas","fa-graduation-cap"],[1,"fas","fa-user-alt"],[1,"row"],[1,"col-12"],["id","teacher",4,"ngIf"],["id","chilren",4,"ngIf"],[1,"mt-2",2,"text-align","justify","font-size","13px"],["href","/privacy/index.html","target","_blank"],[1,"text-center","mt-3"],[1,"text-normal"],[3,"routerLink","queryParams"],["id","teacher"],[1,"form-horizontal",3,"formGroup"],[1,"col-sm-12"],[1,"form-group"],[1,"col-sm-12","p-0"],[1,"input-group","mb-3"],["type","text","placeholder","H\u1ecd t\xean","formControlName","fullName","autocomplete","new-password",1,"form-control"],[1,"input-group-append"],["id","basic-addon1",1,"input-group-text"],["class","alert alert-danger",4,"ngIf"],["type","phone","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","formControlName","phone","autocomplete","new-password",1,"form-control"],["id","basic-addon2",1,"input-group-text"],["type","password","placeholder","M\u1eadt kh\u1ea9u","formControlName","password","autocomplete","new-password",1,"form-control"],["id","basic-addon3",1,"input-group-text"],["type","phone","placeholder","Email (kh\xf4ng b\u1eaft bu\u1ed9c nh\u1eadp)","formControlName","email","autocomplete","new-password",1,"form-control"],["class","form-group",4,"ngIf"],["mat-raised-button","","color","primary",2,"width","100%",3,"disabled","click"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"],["id","chilren"],["autocomplete","off",1,"form-horinzal",3,"formGroup"],["type","text","placeholder","H\u1ecd v\xe0 t\xean","formControlName","studentFullName","autocomplete","new-password",1,"form-control"],["class","alert alert-danger mt-3",4,"ngIf"],["type","text","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","formControlName","studentPhone","autocomplete","new-password",1,"form-control"],["type","password","placeholder","M\u1eadt Kh\u1ea9u","formControlName","passWord","autocomplete","new-password",1,"form-control"],["mat-raised-button","",1,"button-color","text-uppercase",2,"width","100%",3,"disabled","click"],[1,"alert","alert-danger","mt-3"]],template:function(t,e){1&t&&(h.Ub(0,"div",0),h.Ub(1,"div",1),h.Pb(2,"div",2),h.Ub(3,"div",3),h.Ub(4,"div",4),h.Ub(5,"div",5),h.Ub(6,"h2",6),h.Pb(7,"img",7),h.Tb(),h.Ub(8,"h3",8),h.Qc(9,"N\u1ec1n t\u1ea3ng gi\xe1o d\u1ee5c s\u1ed1"),h.Tb(),h.Tb(),h.Ub(10,"div",9),h.Oc(11,Y,6,3,"div",10),h.Oc(12,J,11,0,"div",11),h.Oc(13,Ct,29,15,"div",12),h.Tb(),h.Tb(),h.Tb(),h.Pb(14,"div",2),h.Tb(),h.Tb()),2&t&&(h.Cb(11),h.mc("ngIf",1==e.status_obj.form_loading),h.Cb(1),h.mc("ngIf",1==e.isShowOption),h.Cb(1),h.mc("ngIf",1!=e.status_obj.form_loading))},directives:[o.m,n.k,s.B,s.s,s.l,s.d,s.r,s.j,T.a,U.b],pipes:[k.o,A.d],styles:['.zalo-icon[_ngcontent-%COMP%]{height:40px;margin-right:10px}.select-style[_ngcontent-%COMP%]{color:#868686!important}.select-style[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.select-style[_ngcontent-%COMP%]:hover{color:#0eafc0!important}.select-style-active[_ngcontent-%COMP%]{color:#0eafc0!important}.df-logo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.register--login[_ngcontent-%COMP%]{width:88px;height:88px}.two-button[_ngcontent-%COMP%]{width:80%;margin:auto}.register-button[_ngcontent-%COMP%], .two-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;height:100vh}.register-button[_ngcontent-%COMP%]{width:100%}.btn-max-width[_ngcontent-%COMP%]{width:100%;padding-top:1.25rem;padding-bottom:1.25rem;font-size:1.5rem}.responsive__text[_ngcontent-%COMP%]{width:90%;margin-left:auto;margin-right:auto}.btn-outline-primary[_ngcontent-%COMP%]{color:#0eafc0!important;border-color:#0eafc0!important}.btn-primary[_ngcontent-%COMP%]{color:#fff!important;border-color:#0eafc0!important;background-color:#0eafc0!important}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0b818e!important}.btn-outline-primary[_ngcontent-%COMP%]:hover{color:#0eafc0!important;border-color:#0eafc0!important;background-color:rgba(14,172,190,.15)}.btn-border-fix[_ngcontent-%COMP%]{border-radius:10px!important}.border-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid hsla(0,0%,86.3%,.8);border-radius:8px;cursor:pointer;padding:12px;align-items:center;text-align:center}.border-card[_ngcontent-%COMP%]:hover{box-shadow:10px 10px 20px rgba(0,0,0,.07),-10px -10px 20px hsla(0,0%,100%,.8)}.button-color[_ngcontent-%COMP%]{background-color:#0eafc0!important;color:#fff!important}.text-line[_ngcontent-%COMP%]{position:relative;text-align:center}.text-line[_ngcontent-%COMP%]:before{content:"";display:block;width:45%;height:.5px;position:absolute;right:0;background-color:#868686;top:50%}.text-line[_ngcontent-%COMP%]:after{content:"";display:block;width:45%;height:.5px;position:absolute;left:0;background-color:#868686;top:50%}.border-select-box[_ngcontent-%COMP%]{border:1px solid #ccd0d5;border-radius:4px;padding:8px 16px}  .mat-radio-label{margin-bottom:0!important}  .mat-radio-label-content{padding-left:16px!important}.mat-radio-button.mat-accent.mat-radio-checked[_ngcontent-%COMP%]   .mat-radio-persistent-ripple[_ngcontent-%COMP%], .mat-radio-button.mat-accent[_ngcontent-%COMP%]   .mat-radio-ripple[_ngcontent-%COMP%]   .mat-ripple-element[_ngcontent-%COMP%]:not(.mat-radio-persistent-ripple), .mat-radio-button.mat-accent[_ngcontent-%COMP%]:active   .mat-radio-persistent-ripple[_ngcontent-%COMP%],   .mat-radio-button.mat-accent .mat-radio-inner-circle{background-color:#0eafc0!important}  .mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle{border-color:#0eafc0!important}  .mat-input-element{font-size:18px!important;caret-color:#0eafc0!important}.mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-form-field-suffix[_ngcontent-%COMP%]   .mat-datepicker-toggle-default-icon[_ngcontent-%COMP%],   .mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon{width:1.5em!important}button[_ngcontent-%COMP%]:disabled{background-color:rgba(0,0,0,.12)!important}@media only screen and (max-width:424px){.btn-max-width[_ngcontent-%COMP%]{font-size:1rem}}@media only screen and (max-width:364px){.text-line[_ngcontent-%COMP%]:after, .text-line[_ngcontent-%COMP%]:before{width:40%}}']}),t})();function Ot(t,e){1&t&&(h.Ub(0,"span"),h.Pb(1,"span",27),h.Qc(2,"\xa0"),h.Tb())}function wt(t,e){if(1&t){const t=h.Vb();h.Ub(0,"span"),h.Ub(1,"button",31),h.bc("click",function(){h.Cc(t);const e=h.fc().$implicit;return h.fc().redirectToHomeworkAndLogin(e.id)}),h.Qc(2,"Link xem \u0111i\u1ec3m b\xe0i t\u1eadp"),h.Tb(),h.Qc(3,"\xa0\xa0"),h.Tb()}}function It(t,e){if(1&t){const t=h.Vb();h.Ub(0,"span"),h.Ub(1,"button",31),h.bc("click",function(){h.Cc(t);const e=h.fc().$implicit;return h.fc().redirectToExamAndLogin(e.id)}),h.Qc(2,"Link xem \u0111i\u1ec3m \u0111\u1ec1 thi"),h.Tb(),h.Qc(3,"\xa0\xa0"),h.Tb()}}function Pt(t,e){if(1&t){const t=h.Vb();h.Ub(0,"tr"),h.Ub(1,"td"),h.Qc(2),h.Tb(),h.Ub(3,"td"),h.Qc(4),h.Tb(),h.Ub(5,"td"),h.Qc(6),h.Tb(),h.Ub(7,"td"),h.Qc(8),h.Tb(),h.Ub(9,"td",28),h.Oc(10,wt,4,0,"span",20),h.Oc(11,It,4,0,"span",20),h.Ub(12,"button",29),h.bc("click",function(){h.Cc(t);const i=e.$implicit;return h.fc().loginToThisAccount(i.id)}),h.Qc(13,"\u0110\u0103ng nh\u1eadp"),h.Tb(),h.Qc(14,"\xa0 "),h.Ub(15,"button",29),h.bc("click",function(){h.Cc(t);const i=e.$implicit;return h.fc().getForgotPasswordLink(i.id)}),h.Qc(16,"L\u1ea5y link qu\xean m\u1eadt kh\u1ea9u"),h.Tb(),h.Qc(17,"\xa0 "),h.Ub(18,"button",30),h.bc("click",function(){h.Cc(t);const i=e.$implicit;return h.fc().blockPhoneAccount(i.id)}),h.Qc(19,"Kh\xf3a s\u1ed1 phone n\xe0y"),h.Tb(),h.Tb(),h.Tb()}if(2&t){const t=e.$implicit,i=h.fc();h.Cb(2),h.Rc(t.fullName),h.Cb(2),h.Rc(t.email),h.Cb(2),h.Rc(t.phone),h.Cb(2),h.Rc(t.zalo_id),h.Cb(2),h.mc("ngIf",0!=i.homeworkObj.id),h.Cb(1),h.mc("ngIf",0!=i.examObj.id)}}let St=(()=>{class t{constructor(t,e,i){this.formBuilder=t,this.commonService=e,this.apiService=i,this.subscriptions=new l.a,this.form=new s.k({}),this.status_obj={loading:!1,error:!1},this.forgotpassword_link="",this.objs=[],this.homeworkObj={id:0},this.examObj={id:0},this.homeworkAnswerObj={id:0},this.checkRedirect=""}ngOnInit(){this.form=this.formBuilder.group({full_name:[""],phone:[""],email:[""],user_id:[""],homework_hashid:[""],exam_hashid:[""],homework_id:[""],exam_id:[""],homework_answer_id:[""],test_answer_id:[""]}),this.commonService.translateMetaData({title:"lang_cms_auth_support_title",description:"lang_cms_auth_support_description",image:"lang_cms_test_image"})}search(){this.status_obj={loading:!0,error:!1};var t=this.commonService.getFormObj(this.form);this.subscriptions.add(this.apiService.searchUser(t.full_name,t.phone,t.email,t.user_id,t.homework_hashid,t.exam_hashid,t.homework_id,t.exam_id,t.homework_answer_id,t.test_answer_id).subscribe(t=>{1==t.success?(this.objs=t.data.objs,this.homeworkObj=t.data.hasOwnProperty("homeworkObj")?t.data.homeworkObj:{id:0},this.examObj=t.data.hasOwnProperty("examObj")?t.data.examObj:{id:0},this.homeworkAnswerObj=t.data.hasOwnProperty("homeworkAnswerObj")?t.data.homeworkAnswerObj:{id:0},this.status_obj={loading:!1,error:!1}):(this.status_obj={loading:!1,error:!0},this.commonService.myTranslate([t.message]).subscribe(e=>{this.commonService.snackError(e[t.message],"")}))}))}loginToThisAccount(t){this.subscriptions.add(this.apiService.getTokenByUser(t).subscribe(t=>{if(1==t.success)switch(this.status_obj={loading:!1,error:!1},this.apiService.redirectLoginByRole(!1),this.checkRedirect){case"Homwork":this.commonService.myNavigation(`/admin/homework/score-list/${this.homeworkObj.classroomId}/${this.homeworkObj.id}`);break;case"Exam":this.commonService.myNavigation(`/admin/testbank/tested-list/${null!=this.examObj.categoryId?this.examObj.categoryId:0}/${this.examObj.id}/0`)}else this.status_obj={loading:!1,error:!0},this.commonService.myTranslate([t.message]).subscribe(e=>{this.commonService.snackError(e[t.message],"")})}))}getForgotPasswordLink(t){this.subscriptions.add(this.apiService.getForgotPasswordCode(t).subscribe(t=>{1==t.success?(this.status_obj={loading:!1,error:!1},this.forgotpassword_link=this.commonService.getHostUrl()+this.commonService.getLocalRouter("/auth/confirm_forgot_password_old?token=")+t.data,this.commonService.snackSuccess("T\u1ea1o link th\xe0nh c\xf4ng","")):(this.status_obj={loading:!1,error:!0},this.commonService.myTranslate([t.message]).subscribe(e=>{this.commonService.snackError(e[t.message],"")}))}))}blockPhoneAccount(t){this.subscriptions.add(this.apiService.disablePhoneAccount(t).subscribe(t=>{1==t.success?(this.status_obj={loading:!1,error:!1},this.commonService.snackSuccess("Kh\xf3a s\u1ed1 phone th\xe0nh c\xf4ng","")):(this.status_obj={loading:!1,error:!0},this.commonService.myTranslate([t.message]).subscribe(e=>{this.commonService.snackError(e[t.message],"")}))}))}redirectToHomeworkAndLogin(t){this.checkRedirect="Homwork",this.loginToThisAccount(t)}redirectToExamAndLogin(t){this.checkRedirect="Exam",this.loginToThisAccount(t)}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Ob(s.g),h.Ob(b.a),h.Ob(u.a))},t.\u0275cmp=h.Ib({type:t,selectors:[["app-support"]],decls:90,vars:7,consts:[[3,"headerTitle","back_link"],[1,"container-fluid","component-wrap","centerBoth","hasBg","mt-3"],[1,"card"],[1,"card-body"],[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"row"],[1,"col-sm-12"],[1,"form-group"],[1,"col-sm-12","control-label"],["type","text","formControlName","full_name",1,"form-control"],["type","text","formControlName","phone",1,"form-control"],["type","text","formControlName","email",1,"form-control"],["type","text","formControlName","user_id",1,"form-control"],["type","text","formControlName","homework_id",1,"form-control"],["type","text","formControlName","homework_hashid",1,"form-control"],["type","text","formControlName","homework_answer_id",1,"form-control"],["type","text","formControlName","exam_id",1,"form-control"],["type","text","formControlName","exam_hashid",1,"form-control"],["type","text","formControlName","test_answer_id",1,"form-control"],["mat-raised-button","","color","primary",2,"width","100%",3,"disabled","click"],[4,"ngIf"],["type","text",1,"form-control",3,"value"],[1,"table-responsive"],[1,"table"],["scope","col"],["scope","col",1,"text-right"],[4,"ngFor","ngForOf"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"text-right"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","",3,"click"]],template:function(t,e){1&t&&(h.Pb(0,"header-backend",0),h.Ub(1,"div",1),h.Ub(2,"div",2),h.Ub(3,"div",3),h.Ub(4,"h3"),h.Ub(5,"b"),h.Qc(6,"M\xe0n h\xecnh h\u1ed7 tr\u1ee3 vi\xean"),h.Tb(),h.Tb(),h.Pb(7,"hr"),h.Ub(8,"form",4),h.Ub(9,"div",5),h.Ub(10,"div",6),h.Ub(11,"div",7),h.Ub(12,"label",8),h.Qc(13,"User: T\xecm theo T\xean"),h.Tb(),h.Ub(14,"div",6),h.Pb(15,"input",9),h.Tb(),h.Tb(),h.Ub(16,"div",7),h.Ub(17,"label",8),h.Qc(18,"User: T\xecm theo Phone"),h.Tb(),h.Ub(19,"div",6),h.Pb(20,"input",10),h.Tb(),h.Tb(),h.Ub(21,"div",7),h.Ub(22,"label",8),h.Qc(23,"User: T\xecm theo Email"),h.Tb(),h.Ub(24,"div",6),h.Pb(25,"input",11),h.Tb(),h.Tb(),h.Ub(26,"div",7),h.Ub(27,"label",8),h.Qc(28,"User: T\xecm theo ID"),h.Tb(),h.Ub(29,"div",6),h.Pb(30,"input",12),h.Tb(),h.Tb(),h.Ub(31,"div",7),h.Ub(32,"label",8),h.Qc(33,"B\xe0i t\u1eadp: T\xecm theo Id"),h.Tb(),h.Ub(34,"div",6),h.Pb(35,"input",13),h.Tb(),h.Tb(),h.Ub(36,"div",7),h.Ub(37,"label",8),h.Qc(38,"B\xe0i t\u1eadp: T\xecm theo M\xe3 b\xe0i t\u1eadp"),h.Tb(),h.Ub(39,"div",6),h.Pb(40,"input",14),h.Tb(),h.Tb(),h.Ub(41,"div",7),h.Ub(42,"label",8),h.Qc(43,"B\xe0i t\u1eadp: T\xecm theo Id k\u1ebft qu\u1ea3"),h.Tb(),h.Ub(44,"div",6),h.Pb(45,"input",15),h.Tb(),h.Tb(),h.Ub(46,"div",7),h.Ub(47,"label",8),h.Qc(48,"\u0110\u1ec1 thi: T\xecm theo Id"),h.Tb(),h.Ub(49,"div",6),h.Pb(50,"input",16),h.Tb(),h.Tb(),h.Ub(51,"div",7),h.Ub(52,"label",8),h.Qc(53,"\u0110\u1ec1 thi: T\xecm theo M\xe3 \u0111\u1ec1"),h.Tb(),h.Ub(54,"div",6),h.Pb(55,"input",17),h.Tb(),h.Tb(),h.Ub(56,"div",7),h.Ub(57,"label",8),h.Qc(58,"\u0110\u1ec1 thi: T\xecm theo Id k\u1ebft qu\u1ea3"),h.Tb(),h.Ub(59,"div",6),h.Pb(60,"input",18),h.Tb(),h.Tb(),h.Ub(61,"div",7),h.Ub(62,"div",6),h.Ub(63,"button",19),h.bc("click",function(){return e.form.invalid||e.status_obj.loading||e.search()}),h.Oc(64,Ot,3,0,"span",20),h.Qc(65,"T\xecm ki\u1ebfm "),h.Tb(),h.Tb(),h.Tb(),h.Pb(66,"hr"),h.Ub(67,"div",7),h.Ub(68,"label",8),h.Qc(69,"Link qu\xean m\u1eadt kh\u1ea9u"),h.Tb(),h.Ub(70,"div",6),h.Pb(71,"input",21),h.Tb(),h.Tb(),h.Ub(72,"div",7),h.Ub(73,"div",6),h.Ub(74,"div",22),h.Ub(75,"table",23),h.Ub(76,"thead"),h.Ub(77,"tr"),h.Ub(78,"th",24),h.Qc(79,"T\xean"),h.Tb(),h.Ub(80,"th",24),h.Qc(81,"Email"),h.Tb(),h.Ub(82,"th",24),h.Qc(83,"Phone"),h.Tb(),h.Ub(84,"th",24),h.Qc(85,"Zalo ID"),h.Tb(),h.Ub(86,"th",25),h.Qc(87,"H\xe0nh \u0111\u1ed9ng"),h.Tb(),h.Tb(),h.Tb(),h.Ub(88,"tbody"),h.Oc(89,Pt,20,6,"tr",26),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb()),2&t&&(h.mc("headerTitle","H\u1ed7 tr\u1ee3 kh\xe1ch h\xe0ng")("back_link","/admin/testbank/dashboard"),h.Cb(8),h.mc("formGroup",e.form),h.Cb(55),h.mc("disabled",e.form.invalid||e.status_obj.loading),h.Cb(1),h.mc("ngIf",!0===e.status_obj.loading),h.Cb(7),h.nc("value",e.forgotpassword_link),h.Cb(18),h.mc("ngForOf",e.objs))},directives:[m.a,s.B,s.s,s.l,s.d,s.r,s.j,U.b,o.m,o.l],encapsulation:2}),t})(),xt=(()=>{class t{constructor(t,e){this.commonService=t,this.apiService=e}ngOnInit(){this.apiService.logout();var t=this.commonService.getMyQueryParam("return_url")||null;t?this.commonService.redirectSimpleLoginWithReturnUrl(t):this.commonService.redirectSimpleLogin()}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)(h.Ob(b.a),h.Ob(u.a))},t.\u0275cmp=h.Ib({type:t,selectors:[["app-register"]],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();function Mt(t,e){1&t&&(h.Ub(0,"div"),h.Ub(1,"div",12),h.Ub(2,"div",13),h.Ub(3,"span",14),h.Qc(4),h.gc(5,"mytranslate"),h.Tb(),h.Tb(),h.Tb(),h.Tb()),2&t&&(h.Cb(4),h.Sc("",h.hc(5,1,"lang_cms_common_loading"),"..."))}function Et(t,e){1&t&&(h.Ub(0,"div"),h.Qc(1," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),h.Tb())}function jt(t,e){if(1&t&&(h.Ub(0,"div",29),h.Oc(1,Et,2,0,"div",11),h.Tb()),2&t){const t=h.fc(2);h.Cb(1),h.mc("ngIf",t.getErrorType("phone","required"))}}function Lt(t,e){1&t&&(h.Ub(0,"div"),h.Qc(1," M\u1eadt kh\u1ea9u ph\u1ea3i d\xe0i t\u1ed1i thi\u1ec3u l\xe0 6! "),h.Tb())}function Nt(t,e){if(1&t&&(h.Ub(0,"div",29),h.Oc(1,Lt,2,0,"div",11),h.Tb()),2&t){const t=h.fc(2);h.Cb(1),h.mc("ngIf",t.getErrorType("password","required")||t.getErrorType("password","minlength"))}}function Rt(t,e){1&t&&(h.Ub(0,"div"),h.Qc(1," M\u1eadt kh\u1ea9u kh\xf4ng tr\xf9ng kh\u1edbp! "),h.Tb())}function Dt(t,e){if(1&t&&(h.Ub(0,"div",29),h.Oc(1,Rt,2,0,"div",11),h.Tb()),2&t){const t=h.fc(2);h.Cb(1),h.mc("ngIf",t.getErrorType("repassword","confirm_pass"))}}function At(t,e){if(1&t&&(h.Ub(0,"div",15),h.Ub(1,"label",30),h.Qc(2),h.gc(3,"mytranslate"),h.Tb(),h.Tb()),2&t){const t=h.fc(2);h.Cb(2),h.Sc("*** ",h.hc(3,1,t.status_obj.error_obj.message),"")}}function Qt(t,e){1&t&&(h.Ub(0,"span"),h.Pb(1,"span",31),h.Qc(2,"\xa0"),h.Tb())}const Ft=function(t){return[t]};function zt(t,e){if(1&t){const t=h.Vb();h.Ub(0,"div"),h.Ub(1,"div",15),h.Ub(2,"div",16),h.Ub(3,"div",17),h.Pb(4,"input",18),h.Ub(5,"div",19),h.Ub(6,"span",20),h.Ub(7,"mat-icon"),h.Qc(8,"phone"),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Oc(9,jt,2,1,"div",21),h.Tb(),h.Tb(),h.Ub(10,"div",15),h.Ub(11,"div",16),h.Ub(12,"div",17),h.Pb(13,"input",22),h.Ub(14,"div",19),h.Ub(15,"span",20),h.Ub(16,"mat-icon"),h.Qc(17,"lock"),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Oc(18,Nt,2,1,"div",21),h.Tb(),h.Tb(),h.Ub(19,"div",15),h.Ub(20,"div",16),h.Ub(21,"div",17),h.Pb(22,"input",23),h.Ub(23,"div",19),h.Ub(24,"span",20),h.Ub(25,"mat-icon"),h.Qc(26,"lock"),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Oc(27,Dt,2,1,"div",21),h.Tb(),h.Tb(),h.Oc(28,At,4,3,"div",24),h.Ub(29,"div",15),h.Ub(30,"div",16),h.Ub(31,"div",25),h.Ub(32,"button",26),h.bc("click",function(){h.Cc(t);const e=h.fc();return e.form.invalid||e.status_obj.loading||e.changePassword()}),h.Oc(33,Qt,3,0,"span",11),h.Qc(34,"Ti\u1ebfp t\u1ee5c "),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Pb(35,"hr"),h.Ub(36,"div",27),h.Ub(37,"a",28),h.gc(38,"localize"),h.Qc(39,"\u0110\u0103ng nh\u1eadp t\xe0i kho\u1ea3n"),h.Tb(),h.Tb(),h.Tb()}if(2&t){const t=h.fc();h.Cb(9),h.mc("ngIf",t.form.controls.phone.invalid&&(t.form.controls.phone.dirty||t.form.controls.phone.touched)),h.Cb(9),h.mc("ngIf",t.form.controls.password.invalid&&t.form.controls.password.dirty),h.Cb(9),h.mc("ngIf",t.getErrorType("repassword","confirm_pass")&&t.form.controls.repassword.touched),h.Cb(1),h.mc("ngIf",t.status_obj.error_obj.message),h.Cb(4),h.mc("disabled",t.form.invalid||t.status_obj.loading||t.is_load_get_phone||t.getErrorType("repassword","confirm_pass")),h.Cb(1),h.mc("ngIf",!0===t.status_obj.loading),h.Cb(4),h.mc("routerLink",h.rc(9,Ft,h.hc(38,7,"/auth/login")))}}function qt(t,e){if(1&t&&(h.Ub(0,"div",35),h.Ub(1,"a"),h.Qc(2,"( Click v\xe0o \u0111\xe2y \u0111\u1ec3 g\u1eedi ngay )"),h.Tb(),h.Tb()),2&t){const t=h.fc(2);h.Cb(1),h.Db("href","sms:"+t.phone_send+"?body=MK "+t.response_change_pass.otp,h.Gc)}}function Vt(t,e){if(1&t){const t=h.Vb();h.Ub(0,"button",38),h.bc("click",function(){return h.Cc(t),h.fc(2).changeStepByNext()}),h.Qc(1," Ti\u1ebfp t\u1ee5c "),h.Tb()}}function Bt(t,e){if(1&t&&(h.Ub(0,"div",39),h.Ub(1,"div",40),h.Pb(2,"span",31),h.Tb(),h.Ub(3,"div",41),h.Qc(4),h.Tb(),h.Tb()),2&t){const t=h.fc(2);h.Cb(4),h.Rc(t.messg)}}function $t(t,e){if(1&t&&(h.Ub(0,"div"),h.Ub(1,"div",16),h.Ub(2,"div",32),h.Qc(3," Th\xf4ng tin m\u1eadt kh\u1ea9u m\u1edbi c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c ghi nh\u1eadn. \u0110\u1ec3 k\xedch ho\u1ea1t m\u1eadt kh\u1ea9u v\u1eeba t\u1ea1o vui l\xf2ng s\u1eed d\u1ee5ng s\u1ed1 \u0111i\u1ec7n tho\u1ea1i "),h.Ub(4,"strong"),h.Qc(5),h.Tb(),h.Qc(6," v\xe0 so\u1ea1n tin nh\u1eafn: "),h.Tb(),h.Ub(7,"div",33),h.Ub(8,"strong"),h.Qc(9),h.Tb(),h.Qc(10," g\u1eedi "),h.Ub(11,"strong"),h.Qc(12),h.Tb(),h.Tb(),h.Oc(13,qt,3,1,"div",34),h.Ub(14,"div",35),h.Qc(15,' "C\u01b0\u1edbc ph\xed tin nh\u1eafn \u0111\u01b0\u1ee3c t\xednh theo gi\xe1 c\u01b0\u1edbc ph\xed th\xf4ng th\u01b0\u1eddng c\u1ee7a nh\xe0 m\u1ea1ng" '),h.Tb(),h.Ub(16,"div",35),h.Qc(17," Sau khi g\u1eedi tin nh\u1eafn vui l\xf2ng b\u1ea5m n\xfat b\xean d\u01b0\u1edbi \u0111\u1ec3 ti\u1ebfp t\u1ee5c "),h.Tb(),h.Ub(18,"div",17),h.Oc(19,Vt,2,0,"button",36),h.Oc(20,Bt,5,1,"div",37),h.Tb(),h.Tb(),h.Tb()),2&t){const t=h.fc();h.Cb(5),h.Rc(t.data_change_pass.phone),h.Cb(4),h.Sc("MK ",t.response_change_pass.otp,""),h.Cb(3),h.Rc(t.phone_send),h.Cb(1),h.mc("ngIf",t.is_mobile),h.Cb(6),h.mc("ngIf",2==t.step_by_step),h.Cb(1),h.mc("ngIf",3==t.step_by_step)}}function Ht(t,e){1&t&&(h.Ub(0,"div"),h.Ub(1,"div",16),h.Ub(2,"div",32),h.Qc(3," M\u1eadt kh\u1ea9u m\u1edbi c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c k\xedch ho\u1ea1t th\xe0nh c\xf4ng. "),h.Tb(),h.Ub(4,"div",27),h.Ub(5,"a",28),h.gc(6,"localize"),h.Qc(7,"\u0110\u0103ng nh\u1eadp t\xe0i kho\u1ea3n"),h.Tb(),h.Tb(),h.Tb(),h.Tb()),2&t&&(h.Cb(5),h.mc("routerLink",h.rc(3,Ft,h.hc(6,1,"/auth/login"))))}let Wt=(()=>{class t{constructor(t,e,i,n){this.formBuilder=t,this.activeRoute=e,this.commonService=i,this.apiService=n,this.subscriptions=new l.a,this.form=new s.k({}),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.response_change_pass=null,this.data_change_pass=null,this.step_by_step=1,this.loop_check=!1,this.messg="",this.is_load_get_phone=!1,this.phone_send="",this.is_mobile=/Android|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.is_mobile_ios=/webOS|iPhone|iPad|iPod/i.test(navigator.userAgent)}getError(t){return!(!this.form.controls[t]||!this.form.controls[t].errors)&&this.form.controls[t].errors}getErrorType(t,e){return"repassword"===t&&"confirm_pass"===e?this.form.controls.repassword.value!=this.form.controls.password.value:!!(this.form.controls[t]&&this.form.controls[t].errors&&this.form.controls[t].errors[e])&&this.form.controls[t].errors[e]}changePassword(){if(this.form.valid){this.status_obj.loading=!0;var t=this.commonService.getFormObj(this.form);this.apiService.suportChangePassword({phone:t.phone,password:t.password}).subscribe(e=>{1==e.success?(this.status_obj.loading=!1,this.step_by_step=2,this.response_change_pass=e.data,this.data_change_pass=t):this.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:e}})}}getPhone(){this.is_load_get_phone=!0,this.apiService.suportgetPhoneChangePass().subscribe(t=>{1==t.success?(this.is_load_get_phone=!1,this.phone_send=t.data.phone):this.commonService.snackError("Ch\u1ee9c n\u0103ng qu\xean m\u1eadt kh\u1ea9u \u0111ang trong th\u1eddi gian b\u1ea3o tr\xec !",null)})}changeStepByNext(){this.status_obj.loading=!0,this.messg="\u0110ang x\u1eed l\xfd d\u1eef li\u1ec7u",this.step_by_step=3,this.loop_check=setInterval(()=>{this.apiService.suportCheckStatusPassword(this.data_change_pass.phone).subscribe(t=>{1==t.success?(this.status_obj.loading=!1,1==t.data.status&&(this.step_by_step=4,clearInterval(this.loop_check))):(this.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t},this.messg="H\u1ec7 th\u1ed1ng t\u1ea1m th\u1eddi kh\xf4ng th\u1ec3 x\u1eed l\xfd, vui l\xf2ng th\u1eed l\u1ea1i sau.",clearInterval(this.loop_check))})},1e3)}ngOnInit(){this.form=this.formBuilder.group({phone:["",[s.z.required]],password:["",[s.z.required,s.z.minLength(6)]],repassword:["",[s.z.required,s.z.minLength(6)]]}),this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),this.getPhone()}ngOnDestroy(){this.subscriptions.unsubscribe(),!1!==this.loop_check&&clearInterval(this.loop_check)}}return t.\u0275fac=function(e){return new(e||t)(h.Ob(s.g),h.Ob(n.a),h.Ob(b.a),h.Ob(u.a))},t.\u0275cmp=h.Ib({type:t,selectors:[["app-confirm-forgot-password"]],decls:17,vars:5,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://azotacdn.studybymusic.com/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","text","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","formControlName","phone","autocomplete","new-phone",1,"form-control"],[1,"input-group-append"],["id","basic-addon3",1,"input-group-text"],["class","alert alert-danger",4,"ngIf"],["type","password","placeholder","M\u1eadt kh\u1ea9u m\u1edbi","formControlName","password","autocomplete","new-password",1,"form-control"],["type","password","placeholder","Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u m\u1edbi","formControlName","repassword","autocomplete","new-repassword",1,"form-control"],["class","form-group",4,"ngIf"],[1,"text-right"],["mat-raised-button","","color","primary",1,"btn","btn-block",3,"disabled","click"],[1,"text-center","mt-3"],[1,"text-normal",3,"routerLink"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"sms-info"],[2,"text-align","right","font-size","15px","margin","10px 0","text-align","center"],["class","sms-info text-center mb-3",4,"ngIf"],[1,"sms-info","text-center","mb-3"],["class","btn btn-block","mat-raised-button","","color","primary",3,"click",4,"ngIf"],["class","loading",4,"ngIf"],["mat-raised-button","","color","primary",1,"btn","btn-block",3,"click"],[1,"loading"],[1,"icon"],[1,"text"]],template:function(t,e){1&t&&(h.Ub(0,"div",0),h.Ub(1,"form",1),h.Ub(2,"div",2),h.Pb(3,"div",3),h.Ub(4,"div",4),h.Ub(5,"h2",5),h.Pb(6,"img",6),h.Tb(),h.Ub(7,"div",7),h.Ub(8,"div",8),h.Ub(9,"span",9),h.Qc(10,"\u0110\u1ed5i m\u1eadt kh\u1ea9u m\u1edbi"),h.Tb(),h.Tb(),h.Ub(11,"div",10),h.Oc(12,Mt,6,3,"div",11),h.Oc(13,zt,40,11,"div",11),h.Oc(14,$t,21,6,"div",11),h.Oc(15,Ht,8,5,"div",11),h.Tb(),h.Tb(),h.Tb(),h.Pb(16,"div",3),h.Tb(),h.Tb(),h.Tb()),2&t&&(h.Cb(1),h.mc("formGroup",e.form),h.Cb(11),h.mc("ngIf",1==e.status_obj.form_loading),h.Cb(1),h.mc("ngIf",1!=e.status_obj.form_loading&&1==e.step_by_step),h.Cb(1),h.mc("ngIf",1!=e.status_obj.form_loading&&(2==e.step_by_step||3==e.step_by_step)),h.Cb(1),h.mc("ngIf",1!=e.status_obj.form_loading&&4==e.step_by_step))},directives:[s.B,s.s,s.l,o.m,s.d,s.r,s.j,T.a,U.b,n.k],pipes:[k.o,A.d],styles:["#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin .5s ease}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}"]}),t})();function Gt(t,e){1&t&&(h.Ub(0,"div"),h.Ub(1,"div",12),h.Ub(2,"div",13),h.Ub(3,"span",14),h.Qc(4),h.gc(5,"mytranslate"),h.Tb(),h.Tb(),h.Tb(),h.Tb()),2&t&&(h.Cb(4),h.Sc("",h.hc(5,1,"lang_cms_common_loading"),"..."))}function Kt(t,e){1&t&&(h.Ub(0,"div"),h.Qc(1," M\u1eadt kh\u1ea9u ph\u1ea3i d\xe0i t\u1ed1i thi\u1ec3u l\xe0 6! "),h.Tb())}function Yt(t,e){if(1&t&&(h.Ub(0,"div",27),h.Oc(1,Kt,2,0,"div",11),h.Tb()),2&t){const t=h.fc(2);h.Cb(1),h.mc("ngIf",t.getErrorType("password","required")||t.getErrorType("password","minlength"))}}function Jt(t,e){if(1&t&&(h.Ub(0,"div",15),h.Ub(1,"label",28),h.Qc(2),h.gc(3,"mytranslate"),h.Tb(),h.Tb()),2&t){const t=h.fc(2);h.Cb(2),h.Sc("*** ",h.hc(3,1,t.status_obj.error_obj.message),"")}}function Xt(t,e){1&t&&(h.Ub(0,"span"),h.Pb(1,"span",29),h.Qc(2,"\xa0"),h.Tb())}const Zt=function(t){return[t]};function te(t,e){if(1&t){const t=h.Vb();h.Ub(0,"div"),h.Ub(1,"div",15),h.Ub(2,"div",16),h.Ub(3,"div",17),h.Pb(4,"input",18),h.Ub(5,"div",19),h.Ub(6,"span",20),h.Ub(7,"mat-icon"),h.Qc(8,"lock"),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Oc(9,Yt,2,1,"div",21),h.Tb(),h.Tb(),h.Oc(10,Jt,4,3,"div",22),h.Ub(11,"div",15),h.Ub(12,"div",16),h.Ub(13,"div",23),h.Ub(14,"button",24),h.bc("click",function(){h.Cc(t);const e=h.fc();return e.form.invalid||e.status_obj.loading||e.changePassword()}),h.Oc(15,Xt,3,0,"span",11),h.Qc(16,"\u0110\u1ed5i m\u1eadt kh\u1ea9u "),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Pb(17,"hr"),h.Ub(18,"div",25),h.Ub(19,"a",26),h.gc(20,"localize"),h.Qc(21,"\u0110\u0103ng nh\u1eadp t\xe0i kho\u1ea3n"),h.Tb(),h.Tb(),h.Tb()}if(2&t){const t=h.fc();h.Cb(9),h.mc("ngIf",t.form.controls.password.invalid&&(t.form.controls.password.dirty||t.form.controls.password.touched)),h.Cb(1),h.mc("ngIf",t.status_obj.error_obj.message),h.Cb(4),h.mc("disabled",t.form.invalid||t.status_obj.loading),h.Cb(1),h.mc("ngIf",!0===t.status_obj.loading),h.Cb(4),h.mc("routerLink",h.rc(7,Zt,h.hc(20,5,"/auth/login")))}}let ee=(()=>{class t{constructor(t,e,i,n){this.formBuilder=t,this.activeRoute=e,this.commonService=i,this.apiService=n,this.subscriptions=new l.a,this.form=new s.k({}),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}}}getError(t){return!(!this.form.controls[t]||!this.form.controls[t].errors)&&this.form.controls[t].errors}getErrorType(t,e){return!!(this.form.controls[t]&&this.form.controls[t].errors&&this.form.controls[t].errors[e])&&this.form.controls[t].errors[e]}changePassword(){if(this.form.valid){var t=this.commonService.getFormObj(this.form),e=this.commonService.getMyQueryParam("token");this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiService.confirmForgotPassword(e,t.password).subscribe(t=>{1==t.success?(this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.apiService.redirectLoginByRole(!1)):this.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t}}))}}ngOnInit(){this.form=this.formBuilder.group({password:["",[s.z.required,s.z.minLength(6)]]}),this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Ob(s.g),h.Ob(n.a),h.Ob(b.a),h.Ob(u.a))},t.\u0275cmp=h.Ib({type:t,selectors:[["app-confirm-forgot-password-admin"]],decls:15,vars:3,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","password","placeholder","M\u1eadt kh\u1ea9u m\u1edbi","formControlName","password","autocomplete","new-password",1,"form-control"],[1,"input-group-append"],["id","basic-addon3",1,"input-group-text"],["class","alert alert-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"text-right"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"text-center","mt-3"],[1,"text-normal",3,"routerLink"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&(h.Ub(0,"div",0),h.Ub(1,"form",1),h.Ub(2,"div",2),h.Pb(3,"div",3),h.Ub(4,"div",4),h.Ub(5,"h2",5),h.Pb(6,"img",6),h.Tb(),h.Ub(7,"div",7),h.Ub(8,"div",8),h.Ub(9,"span",9),h.Qc(10,"\u0110\u1ed5i m\u1eadt kh\u1ea9u m\u1edbi"),h.Tb(),h.Tb(),h.Ub(11,"div",10),h.Oc(12,Gt,6,3,"div",11),h.Oc(13,te,22,9,"div",11),h.Tb(),h.Tb(),h.Tb(),h.Pb(14,"div",3),h.Tb(),h.Tb(),h.Tb()),2&t&&(h.Cb(1),h.mc("formGroup",e.form),h.Cb(11),h.mc("ngIf",1==e.status_obj.form_loading),h.Cb(1),h.mc("ngIf",1!=e.status_obj.form_loading))},directives:[s.B,s.s,s.l,o.m,s.d,s.r,s.j,T.a,U.b,n.k],pipes:[k.o,A.d],encapsulation:2}),t})();function ie(t,e){1&t&&(h.Ub(0,"div"),h.Ub(1,"div",12),h.Ub(2,"div",13),h.Ub(3,"span",14),h.Qc(4),h.gc(5,"mytranslate"),h.Tb(),h.Tb(),h.Tb(),h.Tb()),2&t&&(h.Cb(4),h.Sc("",h.hc(5,1,"lang_cms_common_loading"),"..."))}function ne(t,e){1&t&&(h.Ub(0,"div"),h.Qc(1," M\u1eadt kh\u1ea9u ph\u1ea3i d\xe0i t\u1ed1i thi\u1ec3u l\xe0 6! "),h.Tb())}function oe(t,e){if(1&t&&(h.Ub(0,"div",28),h.Oc(1,ne,2,0,"div",11),h.Tb()),2&t){const t=h.fc(2);h.Cb(1),h.mc("ngIf",t.getErrorType("password","required")||t.getErrorType("password","minlength"))}}function re(t,e){if(1&t&&(h.Ub(0,"div",15),h.Ub(1,"label",29),h.Qc(2),h.gc(3,"mytranslate"),h.Tb(),h.Tb()),2&t){const t=h.fc(2);h.Cb(2),h.Sc("*** ",h.hc(3,1,t.status_obj.error_obj.message),"")}}function se(t,e){1&t&&(h.Ub(0,"span"),h.Pb(1,"span",30),h.Qc(2,"\xa0"),h.Tb())}const ae=function(t){return[t]};function ce(t,e){if(1&t){const t=h.Vb();h.Ub(0,"div"),h.Ub(1,"div",15),h.Ub(2,"div",16),h.Ub(3,"div",17),h.Pb(4,"input",18),h.Ub(5,"div",19),h.Ub(6,"span",20),h.Ub(7,"mat-icon"),h.Qc(8,"lock"),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Ub(9,"div",17),h.Pb(10,"input",21),h.Ub(11,"div",19),h.Ub(12,"span",20),h.Ub(13,"mat-icon"),h.Qc(14,"lock"),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Oc(15,oe,2,1,"div",22),h.Tb(),h.Tb(),h.Oc(16,re,4,3,"div",23),h.Ub(17,"div",15),h.Ub(18,"div",16),h.Ub(19,"div",24),h.Ub(20,"button",25),h.bc("click",function(){h.Cc(t);const e=h.fc();return e.form.invalid||e.status_obj.loading||e.changePassword()}),h.Oc(21,se,3,0,"span",11),h.Qc(22,"\u0110\u1ed5i m\u1eadt kh\u1ea9u "),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Pb(23,"hr"),h.Ub(24,"div",26),h.Ub(25,"a",27),h.gc(26,"localize"),h.Qc(27,"\u0110\u0103ng nh\u1eadp t\xe0i kho\u1ea3n"),h.Tb(),h.Tb(),h.Tb()}if(2&t){const t=h.fc();h.Cb(15),h.mc("ngIf",t.form.controls.password.invalid&&(t.form.controls.password.dirty||t.form.controls.password.touched)),h.Cb(1),h.mc("ngIf",t.status_obj.error_obj.message),h.Cb(4),h.mc("disabled",t.form.invalid||t.status_obj.loading),h.Cb(1),h.mc("ngIf",!0===t.status_obj.loading),h.Cb(4),h.mc("routerLink",h.rc(7,ae,h.hc(26,5,"/auth/login")))}}let le=(()=>{class t{constructor(t,e,i,n){this.formBuilder=t,this.activeRoute=e,this.commonService=i,this.apiService=n,this.subscriptions=new l.a,this.form=new s.k({}),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}}}getError(t){return!(!this.form.controls[t]||!this.form.controls[t].errors)&&this.form.controls[t].errors}getErrorType(t,e){return!!(this.form.controls[t]&&this.form.controls[t].errors&&this.form.controls[t].errors[e])&&this.form.controls[t].errors[e]}changePassword(){if(this.form.valid)if(this.form.value.password!=this.form.value.confirm_password)this.commonService.snackError("X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u kh\xf4ng kh\u1edbp","");else{var t=this.commonService.getFormObj(this.form),e=this.commonService.getMyQueryParam("token");this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}};var i=this.commonService.getMyQueryParam("app_name");this.subscriptions.add(this.apiService.changePasswordWithFirebase(e,t.password,i).subscribe(t=>{1==t.success?(this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.apiService.redirectLoginByRole(!1)):this.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t}}))}}ngOnInit(){this.form=this.formBuilder.group({password:["",[s.z.required,s.z.minLength(6)]],confirm_password:""}),this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Ob(s.g),h.Ob(n.a),h.Ob(b.a),h.Ob(u.a))},t.\u0275cmp=h.Ib({type:t,selectors:[["app-confirm-forgot-password"]],decls:15,vars:3,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","password","placeholder","M\u1eadt kh\u1ea9u m\u1edbi","formControlName","password","autocomplete","off",1,"form-control"],[1,"input-group-append"],["id","basic-addon3",1,"input-group-text"],["type","password","placeholder","X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u","formControlName","confirm_password","autocomplete","off",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"text-right"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"text-center","mt-3"],[1,"text-normal",3,"routerLink"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&(h.Ub(0,"div",0),h.Ub(1,"form",1),h.Ub(2,"div",2),h.Pb(3,"div",3),h.Ub(4,"div",4),h.Ub(5,"h2",5),h.Pb(6,"img",6),h.Tb(),h.Ub(7,"div",7),h.Ub(8,"div",8),h.Ub(9,"span",9),h.Qc(10,"\u0110\u1ed5i m\u1eadt kh\u1ea9u m\u1edbi"),h.Tb(),h.Tb(),h.Ub(11,"div",10),h.Oc(12,ie,6,3,"div",11),h.Oc(13,ce,28,9,"div",11),h.Tb(),h.Tb(),h.Tb(),h.Pb(14,"div",3),h.Tb(),h.Tb(),h.Tb()),2&t&&(h.Cb(1),h.mc("formGroup",e.form),h.Cb(11),h.mc("ngIf",1==e.status_obj.form_loading),h.Cb(1),h.mc("ngIf",1!=e.status_obj.form_loading))},directives:[s.B,s.s,s.l,o.m,s.d,s.r,s.j,T.a,U.b,n.k],pipes:[k.o,A.d],encapsulation:2}),t})();var de=i("tk/3"),he=i("Qu3c");function be(t,e){1&t&&(h.Ub(0,"div",19),h.Ub(1,"span"),h.Pb(2,"span",20),h.Tb(),h.Pb(3,"br"),h.Ub(4,"p",21),h.Qc(5,"B\xe0i l\xe0m \u0111ang \u0111\u01b0\u1ee3c t\u1ea3i l\xean. Vui l\xf2ng \u0111\u1ee3i trong gi\xe2y l\xe1t!"),h.Tb(),h.Tb())}const ue=function(t){return{"width.%":t}};function me(t,e){if(1&t&&(h.Ub(0,"div",24),h.Ub(1,"p",25),h.Qc(2),h.Tb(),h.Ub(3,"div",26),h.Pb(4,"div",27),h.Tb(),h.Tb()),2&t){const t=e.$implicit;h.Cb(2),h.Rc(t.fileName),h.Cb(2),h.mc("ngStyle",h.rc(2,ue,t.uploadProgress))}}function pe(t,e){if(1&t&&(h.Ub(0,"div",22),h.Oc(1,me,5,4,"div",23),h.Tb()),2&t){const t=h.fc();h.Cb(1),h.mc("ngForOf",t.convertObjToArray(t.fileUploadQueue))}}function ge(t,e){if(1&t){const t=h.Vb();h.Ub(0,"span",35),h.bc("click",function(){h.Cc(t);const e=h.fc().$implicit;return h.fc(2).removeImg(e.url)}),h.Ub(1,"mat-icon"),h.Qc(2,"cancel"),h.Tb(),h.Tb()}}function fe(t,e){1&t&&(h.Ub(0,"span",36),h.Ub(1,"mat-icon",37),h.Qc(2,"check_box_outline"),h.Tb(),h.Tb())}function ve(t,e){if(1&t&&(h.Ub(0,"div",29),h.Ub(1,"a",30),h.Ub(2,"mat-icon",31),h.Qc(3,"attach_file"),h.Tb(),h.Ub(4,"span",32),h.Qc(5),h.Tb(),h.Tb(),h.Oc(6,ge,3,0,"span",33),h.Oc(7,fe,3,0,"span",34),h.Tb()),2&t){const t=e.$implicit,i=h.fc(2);h.Cb(4),h.mc("matTooltip",t.name),h.Cb(1),h.Rc(t.name),h.Cb(1),h.mc("ngIf",1!=i.isSuccess),h.Cb(1),h.mc("ngIf",i.isSuccess)}}function _e(t,e){if(1&t&&(h.Ub(0,"div",22),h.Oc(1,ve,8,4,"div",28),h.Tb()),2&t){const t=h.fc();h.Cb(1),h.mc("ngForOf",t.uploadFiles)}}let Te=(()=>{class t{constructor(t,e,i){this.formBuilder=t,this.commonService=e,this.apiService=i,this.subscriptions=new l.a,this.form=new s.k({}),this.isLoading=!1,this.logs=[],this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.isSuccess=!1,this.uploadCount=0,this.uploadFiles=[],this.fileUploadQueue={},this.uploadFile=(t,e)=>{var i=this.commonService.getFormObj(this.form);this.apiService.uploadAssetsToCdnProgress(i.folder_name,t).subscribe(i=>{if(0==i.success)this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau!","");else if(i.type&&i.type==de.c.UploadProgress){var n=Math.round(i.loaded/i.total*100);this.fileUploadQueue.hasOwnProperty(e)?(this.fileUploadQueue[e].uploadProgress=n,this.fileUploadQueue[e].fileName=t.name):this.fileUploadQueue[e]={uploadProgress:0,fileName:t.name}}else i.successUpload&&1==i.successUpload&&(delete this.fileUploadQueue[e],Array.isArray(this.uploadFiles)||(this.uploadFiles=[]),this.uploadFiles.push(Object.assign({},i.data)),this.status_obj={loading:!1,error:!1,error_obj:{message:""}})},t=>{this.logs.push("Err:"+t)})},this.answerFile=null}selectFile(t){let e=t.target.files;try{for(var i in e)"length"!=i&&"item"!=i&&(this.answerFile=e?e[i]:this.answerFile,this.answerFile&&(this.isSuccess=!1,this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.uploadFile(this.answerFile,this.uploadCount),this.uploadCount+=1));t.target.value=""}catch(n){alert("\u0110\xe3 x\u1ea3y ra l\u1ed7i:"+n)}}convertObjToArray(t){var e=[];for(var i in t)e.push(t[i]);return e}removeImg(t){var e=this.uploadFiles.filter(e=>e.url!==t);this.uploadFiles=e}ngOnInit(){this.form=this.formBuilder.group({folder_name:[""]})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Ob(s.g),h.Ob(b.a),h.Ob(u.a))},t.\u0275cmp=h.Ib({type:t,selectors:[["app-upload-assets"]],decls:26,vars:4,consts:[[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"rowr"],[1,"form-group"],[1,"col-sm-12","control-label"],[1,"col-sm-12"],["type","text","formControlName","folder_name",1,"form-control"],["id","component-upload-image-mobile"],[1,"card-box"],[1,"description"],["class","text-center m-4",4,"ngIf"],["class","row ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container",4,"ngIf"],[1,"summitForm","pt-5","pb-5"],[1,"row","pl-3","pr-3"],[1,"col-12","text-center","v-dragndrop"],[1,"px-4","py-3","rounded",2,"cursor","pointer",3,"click"],[1,"file"],["id","select-upload-file",1,"align-self-center","select","dz-clickable"],["type","file","id","file_select","multiple","",1,"form-control","d-none",3,"change"],["fileSelect",""],[1,"text-center","m-4"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"h5"],[1,"row","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container"],["class","col-6 col-sm-6 col-md-4 col-xl-2 col-lg-2",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-4","col-xl-2","col-lg-2"],[1,"h5","truncate"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngStyle"],["class","col-12 box-file mt-2",4,"ngFor","ngForOf"],[1,"col-12","box-file","mt-2"],["target","_blank",1,"clickable",2,"display","flex","margin-top","3px","font-size","14px"],[2,"font-size","20px","vertical-align","sub"],[1,"truncate",2,"line-height","1.6","max-width","75%",3,"matTooltip"],["class","notify-badge",3,"click",4,"ngIf"],["class","notify-badge",4,"ngIf"],[1,"notify-badge",3,"click"],[1,"notify-badge"],[2,"color","rgb(26,188,0)"]],template:function(t,e){if(1&t){const t=h.Vb();h.Ub(0,"form",0),h.Ub(1,"div",1),h.Ub(2,"div",2),h.Ub(3,"label",3),h.Qc(4,"Folder"),h.Tb(),h.Ub(5,"div",4),h.Pb(6,"input",5),h.Tb(),h.Tb(),h.Tb(),h.Ub(7,"div",6),h.Ub(8,"div",7),h.Ub(9,"div",8),h.Oc(10,be,6,0,"div",9),h.Oc(11,pe,2,1,"div",10),h.Oc(12,_e,2,1,"div",10),h.Tb(),h.Ub(13,"div",11),h.Ub(14,"div",12),h.Ub(15,"div",13),h.Ub(16,"div",14),h.bc("click",function(){return h.Cc(t),h.yc(22).click()}),h.Ub(17,"div",15),h.Ub(18,"a",16),h.Ub(19,"mat-icon"),h.Qc(20,"attach_file"),h.Tb(),h.Ub(21,"input",17,18),h.bc("change",function(t){return e.selectFile(t)}),h.Tb(),h.Tb(),h.Pb(23,"br"),h.Ub(24,"span"),h.Qc(25,"Ch\u1ecdn file"),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb()}2&t&&(h.mc("formGroup",e.form),h.Cb(10),h.mc("ngIf",e.status_obj.loading),h.Cb(1),h.mc("ngIf",e.convertObjToArray(e.fileUploadQueue).length>0),h.Cb(1),h.mc("ngIf",e.uploadFiles.length>0))},directives:[s.B,s.s,s.l,s.d,s.r,s.j,o.m,T.a,o.l,o.n,he.a],styles:[".card-box[_ngcontent-%COMP%]{width:100%;border:1px solid #00a7d0}.top-row[_ngcontent-%COMP%]{background-color:#00a7d0;margin:0;padding:10px}.text-white[_ngcontent-%COMP%]{color:#fff}.text-white[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.description[_ngcontent-%COMP%], .files[_ngcontent-%COMP%]{background:inherit;background-color:#f2f2f2;box-sizing:border-box;border:1px solid #e5e5e5;border-left:0;border-right:0;border-radius:0;border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:0;box-shadow:none;padding:0 10px}.description[_ngcontent-%COMP%]{padding:10px 10px 0}.files[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:10px 20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.students[_ngcontent-%COMP%]{border-width:0;background:inherit;background-color:#fff;box-sizing:border-box;border-radius:3px;box-shadow:0 0 5px rgba(0,0,0,.062745098)}.list-student[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;background:inherit;background-color:#fafafa;box-sizing:border-box;padding:10px 15px;border:1px solid #e0e0e0;border-radius:3px;box-shadow:none;font-weight:400;font-style:bold;display:block}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:100px}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;line-height:1.5}.pl-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.pr-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pb-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pt-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-top:1rem!important}.btn-warm-orange[_ngcontent-%COMP%]{background:#ff7f45;border:1px solid #ff7f45}.btn[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:hover{color:#fff}.btn[_ngcontent-%COMP%]{cursor:pointer;transition:0s}.text-dark-green[_ngcontent-%COMP%]{color:#1caba0!important}.d-block[_ngcontent-%COMP%]{display:block!important}.small[_ngcontent-%COMP%], small[_ngcontent-%COMP%]{font-size:80%;font-weight:400}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.item[_ngcontent-%COMP%]{position:relative;display:inline-block}.notify-badge[_ngcontent-%COMP%]{color:#afafaf;font-size:20px;cursor:pointer}.description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.flex-title[_ngcontent-%COMP%]{display:flex;align-items:center}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00a7d0;cursor:pointer;margin-left:5px}.flex-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;line-height:1.4;font-weight:500}.img-container[_ngcontent-%COMP%]{overflow:hidden;position:relative;height:90px;width:90px;margin:0 0 10px 10px;border-radius:7px}.img-responsive[_ngcontent-%COMP%]{position:absolute;width:100%;height:auto;left:50%;top:50%;transform:translate(-50%,-50%)}.attach-container[_ngcontent-%COMP%]{padding:10px 0 0}.maxW1200[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}@font-face{font-family:handwriting_font;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/HP0015HB.ttf)}._col-left[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:35px}._col-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:5rem;color:#ff0024}._col-right[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;line-height:1.4;font-size:20px;font-family:handwriting_font!important}._col-left_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:10px}._col-left_result[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:3rem;color:#ff0024}._col-right_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right_result[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right_result[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;font-size:16px;line-height:1.4;font-family:handwriting_font!important}.files[_ngcontent-%COMP%]{cursor:pointer}.testbank[_ngcontent-%COMP%]{padding-top:40px;text-align:left}.testbank__title[_ngcontent-%COMP%]{font-size:large;font-weight:500}.testbank_fileitem[_ngcontent-%COMP%]{display:flex;color:#00a7d0;margin-top:15px}.testbank_fileitem_icon[_ngcontent-%COMP%]{margin-right:5px}.testbank_fileitem_name[_ngcontent-%COMP%]{margin-right:10px}.testbank_fileitem_info_resualt[_ngcontent-%COMP%]{color:#000;font-weight:500;font-size:small;margin-right:15px}.testbank_fileitem_info_time[_ngcontent-%COMP%]{color:#9d9d9d}.testbank_fileitem_info_btn_submit[_ngcontent-%COMP%]{text-transform:uppercase;cursor:pointer;font-weight:500}@media (max-width:768px){.dropzone[_ngcontent-%COMP%]{min-width:100px}._col-left[_ngcontent-%COMP%], ._col-left_result[_ngcontent-%COMP%]{margin-bottom:20px}.testbank_fileitem[_ngcontent-%COMP%]{flex-wrap:wrap}}@media (max-width:576px){.flex-title[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:5px;margin-left:0}}.box-file[_ngcontent-%COMP%]{padding:10px;display:flex;justify-content:space-between;align-items:center;border:1px solid #e0e0e0;border-radius:5px}"]}),t})();const ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let o=0;o<t.length;o+=3){const e=t[o],r=o+1<t.length,s=r?t[o+1]:0,a=o+2<t.length,c=a?t[o+2]:0;let l=(15&s)<<2|c>>6,d=63&c;a||(d=64,r||(l=64)),n.push(i[e>>2],i[(3&e)<<4|s>>4],i[l],i[d])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){const e=[];let i=0;for(let n=0;n<t.length;n++){let o=t.charCodeAt(n);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=63&o|128):55296==(64512&o)&&n+1<t.length&&56320==(64512&t.charCodeAt(n+1))?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++n)),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=63&o|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=63&o|128)}return e}(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let i=0,n=0;for(;i<t.length;){const o=t[i++];if(o<128)e[n++]=String.fromCharCode(o);else if(o>191&&o<224){const r=t[i++];e[n++]=String.fromCharCode((31&o)<<6|63&r)}else if(o>239&&o<365){const r=((7&o)<<18|(63&t[i++])<<12|(63&t[i++])<<6|63&t[i++])-65536;e[n++]=String.fromCharCode(55296+(r>>10)),e[n++]=String.fromCharCode(56320+(1023&r))}else{const r=t[i++],s=t[i++];e[n++]=String.fromCharCode((15&o)<<12|(63&r)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let o=0;o<t.length;){const e=i[t.charAt(o++)],r=o<t.length?i[t.charAt(o)]:0;++o;const s=o<t.length?i[t.charAt(o)]:64;++o;const a=o<t.length?i[t.charAt(o)]:64;if(++o,null==e||null==r||null==s||null==a)throw Error();n.push(e<<2|r>>4),64!==s&&(n.push(r<<4&240|s>>2),64!==a&&n.push(s<<6&192|a))}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,i))}}}function Ue(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class ke extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oe.prototype.create)}}class Oe{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},n=`${this.service}/${t}`,o=this.errors[t],r=o?function(t,e){return t.replace(we,(t,i)=>{const n=e[i];return null!=n?String(n):`<${i}?>`})}(o,i):"Error";return new ke(n,`${this.serviceName}: ${r} (${n}).`,i)}}const we=/\{\$([^}]+)}/g;function Ie(t,e){if(t===e)return!0;const i=Object.keys(t),n=Object.keys(e);for(const o of i){if(!n.includes(o))return!1;const i=t[o],r=e[o];if(Pe(i)&&Pe(r)){if(!Ie(i,r))return!1}else if(i!==r)return!1}for(const o of n)if(!i.includes(o))return!1;return!0}function Pe(t){return null!==t&&"object"==typeof t}function Se(t){const e=[];for(const[i,n]of Object.entries(t))Array.isArray(n)?n.forEach(t=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(t))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}class xe{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(t=>{this.error(t)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let n;if(void 0===t&&void 0===e&&void 0===i)throw new Error("Missing Observer.");n=function(t,e){if("object"!=typeof t||null===t)return!1;for(const i of["next","error","complete"])if(i in t&&"function"==typeof t[i])return!0;return!1}(t)?t:{next:t,error:e,complete:i},void 0===n.next&&(n.next=Me),void 0===n.error&&(n.error=Me),void 0===n.complete&&(n.complete=Me);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(t){}}),this.observers.push(n),o}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(i){"undefined"!=typeof console&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Me(){}function Ee(t){return t&&t._delegate?t._delegate:t}class je{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}class Le{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new Ce;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:e});i&&t.resolve(i)}catch(i){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),n=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(n)return null;throw o}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(e){}for(const[t,i]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:n});i.resolve(t)}catch(e){}}}}clearInstance(t="[DEFAULT]"){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...t.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return null!=this.component}isInitialized(t="[DEFAULT]"){return this.instances.has(t)}getOptions(t="[DEFAULT]"){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,r]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(o)&&r.resolve(n);return n}onInit(t,e){var i;const n=this.normalizeInstanceIdentifier(e),o=null!==(i=this.onInitCallbacks.get(n))&&void 0!==i?i:new Set;o.add(t),this.onInitCallbacks.set(n,o);const r=this.instances.get(n);return r&&t(r,n),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const o of i)try{o(t,e)}catch(n){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t,"[DEFAULT]"===n?void 0:n),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(o){}var n;return i||null}normalizeInstanceIdentifier(t="[DEFAULT]"){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ne{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Le(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const Re=[];var De;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(De||(De={}));const Ae={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},Qe=De.INFO,Fe={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},ze=(t,e,...i)=>{if(e<t.logLevel)return;const n=(new Date).toISOString(),o=Fe[e];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[o](`[${n}]  ${t.name}:`,...i)};class qe{constructor(t){this.name=t,this._logLevel=Qe,this._logHandler=ze,this._userLogHandler=null,Re.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in De))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?Ae[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...t),this._logHandler(this,De.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...t),this._logHandler(this,De.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,De.INFO,...t),this._logHandler(this,De.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,De.WARN,...t),this._logHandler(this,De.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...t),this._logHandler(this,De.ERROR,...t)}}class Ve{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null}).filter(t=>t).join(" ")}}const Be="@firebase/app",$e=new qe("@firebase/app"),He={[Be]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},We=new Map,Ge=new Map;function Ke(t,e){try{t.container.addComponent(e)}catch(i){$e.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function Ye(t){const e=t.name;if(Ge.has(e))return $e.debug(`There were multiple attempts to register component ${e}.`),!1;Ge.set(e,t);for(const i of We.values())Ke(i,t);return!0}function Je(t,e){return t.container.getProvider(e)}const Xe=new Oe("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Ze{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new je("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xe.create("app-deleted",{appName:this._name})}}function ti(t,e,i){var n;let o=null!==(n=He[t])&&void 0!==n?n:t;i&&(o+="-"+i);const r=o.match(/\s|\//),s=e.match(/\s|\//);if(r||s){const t=[`Unable to register library "${o}" with version "${e}":`];return r&&t.push(`library name "${o}" contains illegal characters (whitespace or "/")`),r&&s&&t.push("and"),s&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void $e.warn(t.join(" "))}Ye(new je(o+"-version",()=>({library:o,version:e}),"VERSION"))}function ei(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(i[n[o]]=t[n[o]])}return i}Ye(new je("platform-logger",t=>new Ve(t),"PRIVATE")),ti(Be,"0.7.8",""),ti(Be,"0.7.8","esm2017"),ti("fire-js","");const ii=new Oe("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ni=new qe("@firebase/auth");function oi(t,...e){ni.logLevel<=De.ERROR&&ni.error("Auth (9.4.1): "+t,...e)}function ri(t,...e){throw ai(t,...e)}function si(t,...e){return ai(t,...e)}function ai(t,...e){if("string"!=typeof t){const i=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(i,...n)}return ii.create(t,...e)}function ci(t,e,...i){if(!t)throw ai(e,...i)}function li(t){const e="INTERNAL ASSERTION FAILED: "+t;throw oi(e),new Error(e)}function di(t,e){t||li(e)}const hi=new Map;function bi(t){di(t instanceof Function,"Expected a class definition");let e=hi.get(t);return e?(di(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hi.set(t,e),e)}function ui(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function mi(){return"http:"===pi()||"https:"===pi()}function pi(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class gi{constructor(t,e){this.shortDelay=t,this.longDelay=e,di(e>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(mi()||function(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function fi(t,e){di(t.emulator,"Emulator should always be set here");const{url:i}=t.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class vi{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _i={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ti=new gi(3e4,6e4);function yi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ci(t,e,i,n,o={}){return Ui(t,o,()=>{let o={},r={};n&&("GET"===e?r=n:o={body:JSON.stringify(n)});const s=Se(Object.assign({key:t.config.apiKey},r)).slice(1),a=new(vi.headers());return a.set("Content-Type","application/json"),a.set("X-Client-Version",t._getSdkClientVersion()),t.languageCode&&a.set("X-Firebase-Locale",t.languageCode),vi.fetch()(Oi(t,t.config.apiHost,i,s),Object.assign({method:e,headers:a,referrerPolicy:"no-referrer"},o))})}async function Ui(t,e,i){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},_i),e);try{const e=new wi(t),o=await Promise.race([i(),e.promise]);e.clearNetworkTimeout();const r=await o.json();if("needConfirmation"in r)throw Ii(t,"account-exists-with-different-credential",r);if(o.ok&&!("errorMessage"in r))return r;{const e=o.ok?r.errorMessage:r.error.message,[i,s]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===i)throw Ii(t,"credential-already-in-use",r);if("EMAIL_EXISTS"===i)throw Ii(t,"email-already-in-use",r);const a=n[i]||i.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw function(t,e,i){const n=Object.assign(Object.assign({},{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),{[e]:i});return new Oe("auth","Firebase",n).create(e,{appName:t.name})}(t,a,s);ri(t,a)}}catch(o){if(o instanceof ke)throw o;ri(t,"network-request-failed")}}async function ki(t,e,i,n,o={}){const r=await Ci(t,e,i,n,o);return"mfaPendingCredential"in r&&ri(t,"multi-factor-auth-required",{_serverResponse:r}),r}function Oi(t,e,i,n){const o=`${e}${i}?${n}`;return t.config.emulator?fi(t.config,o):`${t.config.apiScheme}://${o}`}class wi{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((t,e)=>{this.timer=setTimeout(()=>e(si(this.auth,"timeout")),Ti.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ii(t,e,i){const n={appName:t.name};i.email&&(n.email=i.email),i.phoneNumber&&(n.phoneNumber=i.phoneNumber);const o=si(t,e,n);return o.customData._tokenResponse=i,o}function Pi(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function Si(t){return 1e3*Number(t)}function xi(t){const[e,i,n]=t.split(".");if(void 0===e||void 0===i||void 0===n)return oi("JWT malformed, contained fewer than 3 sections"),null;try{const t=function(t){try{return ye.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(i);return t?JSON.parse(t):(oi("Failed to decode base64 JWT payload"),null)}catch(o){return oi("Caught error parsing JWT payload as JSON",o),null}}async function Mi(t,e,i=!1){if(i)return e;try{return await e}catch(n){throw n instanceof ke&&function({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}class Ei{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&this.schedule(!0))}this.schedule()}}class ji{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pi(this.lastLoginAt),this.creationTime=Pi(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Li(t){var e;const i=t.auth,n=await t.getIdToken(),o=await Mi(t,async function(t,e){return Ci(t,"POST","/v1/accounts:lookup",e)}(i,{idToken:n}));ci(null==o?void 0:o.users.length,i,"internal-error");const r=o.users[0];t._notifyReloadListener(r);const s=(null===(e=r.providerUserInfo)||void 0===e?void 0:e.length)?r.providerUserInfo.map(t=>{var{providerId:e}=t,i=ei(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}}):[],a=(c=s,[...t.providerData.filter(t=>!c.some(e=>e.providerId===t.providerId)),...c]);var c;const l=!!t.isAnonymous&&!(t.email&&r.passwordHash||(null==a?void 0:a.length)),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new ji(r.createdAt,r.lastLoginAt),isAnonymous:l};Object.assign(t,d)}class Ni{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ci(t.idToken,"internal-error"),ci(void 0!==t.idToken,"internal-error"),ci(void 0!==t.refreshToken,"internal-error");const e="expiresIn"in t&&void 0!==t.expiresIn?Number(t.expiresIn):function(t){const e=xi(t);return ci(e,"internal-error"),ci(void 0!==e.exp,"internal-error"),ci(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}async getToken(t,e=!1){return ci(!this.accessToken||this.refreshToken,t,"user-token-expired"),e||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:n,expiresIn:o}=await async function(t,e){const i=await Ui(t,{},()=>{const i=Se({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:n,apiKey:o}=t.config,r=Oi(t,n,"/v1/token","key="+o);return vi.fetch()(r,{method:"POST",headers:{"X-Client-Version":t._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:i})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}(t,e);this.updateTokensAndExpiration(i,n,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(t,e){const{refreshToken:i,accessToken:n,expirationTime:o}=e,r=new Ni;return i&&(ci("string"==typeof i,"internal-error",{appName:t}),r.refreshToken=i),n&&(ci("string"==typeof n,"internal-error",{appName:t}),r.accessToken=n),o&&(ci("number"==typeof o,"internal-error",{appName:t}),r.expirationTime=o),r}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ni,this.toJSON())}_performRefresh(){return li("not implemented")}}function Ri(t,e){ci("string"==typeof t||void 0===t,"internal-error",{appName:e})}class Di{constructor(t){var{uid:e,auth:i,stsTokenManager:n}=t,o=ei(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Ei(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.metadata=new ji(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await Mi(this,this.stsTokenManager.getToken(this.auth,t));return ci(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return async function(t,e=!1){const i=Ee(t),n=await i.getIdToken(e),o=xi(n);ci(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const r="object"==typeof o.firebase?o.firebase:void 0,s=null==r?void 0:r.sign_in_provider;return{claims:o,token:n,authTime:Pi(Si(o.auth_time)),issuedAtTime:Pi(Si(o.iat)),expirationTime:Pi(Si(o.exp)),signInProvider:s||null,signInSecondFactor:(null==r?void 0:r.sign_in_second_factor)||null}}(this,t)}reload(){return async function(t){const e=Ee(t);await Li(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}(this)}_assign(t){this!==t&&(ci(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(t=>Object.assign({},t)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new Di(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){ci(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Li(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Mi(this,async function(t,e){return Ci(t,"POST","/v1/accounts:delete",e)}(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,n,o,r,s,a,c,l;const d=null!==(i=e.displayName)&&void 0!==i?i:void 0,h=null!==(n=e.email)&&void 0!==n?n:void 0,b=null!==(o=e.phoneNumber)&&void 0!==o?o:void 0,u=null!==(r=e.photoURL)&&void 0!==r?r:void 0,m=null!==(s=e.tenantId)&&void 0!==s?s:void 0,p=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=e.createdAt)&&void 0!==c?c:void 0,f=null!==(l=e.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:_,isAnonymous:T,providerData:y,stsTokenManager:C}=e;ci(v&&C,t,"internal-error");const U=Ni.fromJSON(this.name,C);ci("string"==typeof v,t,"internal-error"),Ri(d,t.name),Ri(h,t.name),ci("boolean"==typeof _,t,"internal-error"),ci("boolean"==typeof T,t,"internal-error"),Ri(b,t.name),Ri(u,t.name),Ri(m,t.name),Ri(p,t.name),Ri(g,t.name),Ri(f,t.name);const k=new Di({uid:v,auth:t,email:h,emailVerified:_,displayName:d,isAnonymous:T,photoURL:u,phoneNumber:b,tenantId:m,stsTokenManager:U,createdAt:g,lastLoginAt:f});return y&&Array.isArray(y)&&(k.providerData=y.map(t=>Object.assign({},t))),p&&(k._redirectEventId=p),k}static async _fromIdTokenResponse(t,e,i=!1){const n=new Ni;n.updateFromServerResponse(e);const o=new Di({uid:e.localId,auth:t,stsTokenManager:n,isAnonymous:i});return await Li(o),o}}const Ai=(()=>{class t{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}return t.type="NONE",t})();function Qi(t,e,i){return`firebase:${t}:${e}:${i}`}class Fi{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:n,name:o}=this.auth;this.fullUserKey=Qi(this.userKey,n.apiKey,o),this.fullPersistenceKey=Qi("persistence",n.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Di._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Fi(bi(Ai),t,i);const n=(await Promise.all(e.map(async t=>{if(await t._isAvailable())return t}))).filter(t=>t);let o=n[0]||bi(Ai);const r=Qi(i,t.config.apiKey,t.name);let s=null;for(const l of e)try{const e=await l._get(r);if(e){const i=Di._fromJSON(t,e);l!==o&&(s=i),o=l;break}}catch(c){}const a=n.filter(t=>t._shouldAllowMigration);return o._shouldAllowMigration&&a.length?(o=a[0],s&&await o._set(r,s.toJSON()),await Promise.all(e.map(async t=>{if(t!==o)try{await t._remove(r)}catch(c){}})),new Fi(o,t,i)):new Fi(o,t,i)}}function zi(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($i(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qi(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Wi(e))return"Blackberry";if(Gi(e))return"Webos";if(Vi(e))return"Safari";if((e.includes("chrome/")||Bi(e))&&!e.includes("edge/"))return"Chrome";if(Hi(e))return"Android";{const e=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==e?void 0:e.length))return e[1]}return"Other"}function qi(t=Ue()){return/firefox\//i.test(t)}function Vi(t=Ue()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bi(t=Ue()){return/crios\//i.test(t)}function $i(t=Ue()){return/iemobile/i.test(t)}function Hi(t=Ue()){return/android/i.test(t)}function Wi(t=Ue()){return/blackberry/i.test(t)}function Gi(t=Ue()){return/webos/i.test(t)}function Ki(t=Ue()){return/iphone|ipad|ipod/i.test(t)}function Yi(t=Ue()){return Ki(t)||Hi(t)||Gi(t)||Wi(t)||/windows phone/i.test(t)||$i(t)}function Ji(t,e=[]){let i;switch(t){case"Browser":i=zi(Ue());break;case"Worker":i=`${zi(Ue())}-${t}`;break;default:i=t}return`${i}/JsCore/9.4.1/${e.length?e.join(","):"FirebaseCore-web"}`}class Xi{constructor(t,e){this.app=t,this.config=e,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tn(this),this.idTokenSubscription=new tn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ii,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=e.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=bi(e)),this._initializationPromise=this.queue(async()=>{var i,n;this._deleted||(this.persistenceManager=await Fi.create(this,t),this._deleted||((null===(i=this._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)&&await this._popupRedirectResolver._initialize(this),await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(n=this.currentUser)||void 0===n?void 0:n.uid)||null,this._deleted||(this._isInitialized=!0)))}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(t)):void 0}async initializeCurrentUser(t){var e;let i=await this.assertedPersistence.getCurrentUser();if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(e=this.redirectUser)||void 0===e?void 0:e._redirectEventId,o=null==i?void 0:i._redirectEventId,r=await this.tryRedirectSignIn(t);n&&n!==o||!(null==r?void 0:r.user)||(i=r.user)}return i?i._redirectEventId?(ci(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)):this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(i){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Li(t)}catch(e){if("auth/network-request-failed"!==e.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const e=t?Ee(t):null;return e&&ci(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t){if(!this._deleted)return t&&ci(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(bi(t))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Oe("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return null===t?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&bi(t)||this._popupRedirectResolver;ci(e,this,"argument-error"),this.redirectPersistenceManager=await Fi.create(this,[bi(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,n){if(this._deleted)return()=>{};const o="function"==typeof e?e:e.next.bind(e),r=this._isInitialized?Promise.resolve():this._initializationPromise;return ci(r,this,"internal-error"),r.then(()=>o(this.currentUser)),"function"==typeof e?t.addObserver(e,i,n):t.addObserver(e)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ci(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Ji(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Zi(t){return Ee(t)}class tn{constructor(t){this.auth=t,this.observer=null,this.addObserver=function(t,e){const i=new xe(t,void 0);return i.subscribe.bind(i)}(t=>this.observer=t)}get next(){return ci(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class en{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return li("not implemented")}_getIdTokenResponse(t){return li("not implemented")}_linkToIdToken(t,e){return li("not implemented")}_getReauthenticationResolver(t){return li("not implemented")}}async function nn(t,e){return ki(t,"POST","/v1/accounts:signInWithIdp",yi(t,e))}const on={USER_NOT_FOUND:"user-not-found"};class rn extends en{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new rn({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new rn({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return async function(t,e){return ki(t,"POST","/v1/accounts:signInWithPhoneNumber",yi(t,e))}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return async function(t,e){const i=await ki(t,"POST","/v1/accounts:signInWithPhoneNumber",yi(t,e));if(i.temporaryProof)throw Ii(t,"account-exists-with-different-credential",i);return i}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return async function(t,e){return ki(t,"POST","/v1/accounts:signInWithPhoneNumber",yi(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),on)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:i,verificationCode:n}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:i,code:n}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"==typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:i,phoneNumber:n,temporaryProof:o}=t;return i||e||n||o?new rn({verificationId:e,verificationCode:i,phoneNumber:n,temporaryProof:o}):null}}class sn{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class an extends sn{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class cn{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,n=!1){const o=await Di._fromIdTokenResponse(t,i,n),r=ln(i);return new cn({user:o,providerId:r,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const n=ln(i);return new cn({user:t,providerId:n,_tokenResponse:i,operationType:e})}}function ln(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class dn extends ke{constructor(t,e,i,n){var o;super(e.code,e.message),this.operationType=i,this.user=n,Object.setPrototypeOf(this,dn.prototype),this.customData={appName:t.name,tenantId:null!==(o=t.tenantId)&&void 0!==o?o:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,n){return new dn(t,e,i,n)}}function hn(t,e,i,n){return("reauthenticate"===e?i._getReauthenticationResolver(t):i._getIdTokenResponse(t)).catch(i=>{if("auth/multi-factor-auth-required"===i.code)throw dn._fromErrorAndOperation(t,i,e,n);throw i})}async function bn(t,e,i=!1){const n=await hn(t,"signIn",e),o=await cn._fromIdTokenResponse(t,"signIn",n);return i||await t._updateCurrentUser(o.user),o}new WeakMap;class un{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const mn=(()=>{class t extends un{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=Ue();return Vi(t)||Ki(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=Yi(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),n=this.localCache[e];i!==n&&t(e,n,i)}}onStorageEvent(t,e=!1){if(!t.key)return void this.forAllChangedKeys((t,e,i)=>{this.notifyListeners(t,i)});const i=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const n=this.storage.getItem(i);if(t.newValue!==n)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!e)return}const n=()=>{const t=this.storage.getItem(i);(e||this.localCache[i]!==t)&&this.notifyListeners(i,t)},o=this.storage.getItem(i);!function(){const t=Ue();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||10!==document.documentMode||o===t.newValue||t.newValue===t.oldValue?n():setTimeout(n,10)}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const n of Array.from(i))n(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}return t.type="LOCAL",t})(),pn=(()=>{class t extends un{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}return t.type="SESSION",t})();let gn=(()=>{class t{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(t=>t.isListeningto(e));if(i)return i;const n=new t(e);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:n,data:o}=e.data,r=this.handlersMap[n];if(!(null==r?void 0:r.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:n});const s=Array.from(r).map(async t=>t(e.origin,o)),a=await function(t){return Promise.all(t.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}(s);e.ports[0].postMessage({status:"done",eventId:i,eventType:n,response:a})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function fn(t="",e=10){let i="";for(let n=0;n<e;n++)i+=Math.floor(10*Math.random());return t+i}class vn{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const n="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!n)throw new Error("connection_unavailable");let o,r;return new Promise((s,a)=>{const c=fn("",20);n.port1.start();const l=setTimeout(()=>{a(new Error("unsupported_event"))},i);r={messageChannel:n,onMessage(t){const e=t;if(e.data.eventId===c)switch(e.data.status){case"ack":clearTimeout(l),o=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(e.data.response);break;default:clearTimeout(l),clearTimeout(o),a(new Error("invalid_response"))}}},this.handlers.add(r),n.port1.addEventListener("message",r.onMessage),this.target.postMessage({eventType:t,eventId:c,data:e},[n.port2])}).finally(()=>{r&&this.removeMessageHandler(r)})}}function _n(){return window}function Tn(){return void 0!==_n().WorkerGlobalScope&&"function"==typeof _n().importScripts}const yn="firebaseLocalStorageDb";class Cn{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Un(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly").objectStore("firebaseLocalStorage")}function kn(){const t=indexedDB.open(yn,1);return new Promise((e,i)=>{t.addEventListener("error",()=>{i(t.error)}),t.addEventListener("upgradeneeded",()=>{const e=t.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(n){i(n)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains("firebaseLocalStorage")?e(i):(i.close(),await function(){const t=indexedDB.deleteDatabase(yn);return new Cn(t).toPromise()}(),e(await kn()))})})}async function On(t,e,i){const n=Un(t,!0).put({fbase_key:e,value:i});return new Cn(n).toPromise()}function wn(t,e){const i=Un(t,!0).delete(e);return new Cn(i).toPromise()}const In=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await kn()),this.db}async _withRetries(t){let e=0;for(;;)try{const e=await this._openDb();return await t(e)}catch(i){if(e++>3)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Tn()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gn._getInstance(Tn()?self:null),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new vn(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&(null===(t=i[0])||void 0===t?void 0:t.fulfilled)&&(null===(e=i[0])||void 0===e?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){var e;if(this.sender&&this.activeServiceWorker&&((null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await kn();return await On(t,"__sak","1"),await wn(t,"__sak"),!0}catch(t){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>On(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(e=>async function(t,e){const i=Un(t,!1).get(e),n=await new Cn(i).toPromise();return void 0===n?null:n.value}(e,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>wn(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(t=>{const e=Un(t,!1).getAll();return new Cn(e).toPromise()});if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],i=new Set;for(const{fbase_key:n,value:o}of t)i.add(n),JSON.stringify(this.localCache[n])!==JSON.stringify(o)&&(this.notifyListeners(n,o),e.push(n));for(const n of Object.keys(this.localCache))this.localCache[n]&&!i.has(n)&&(this.notifyListeners(n,null),e.push(n));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const n of Array.from(i))n(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function Pn(t){return new Promise((e,i)=>{const n=document.createElement("script");var o,r;n.setAttribute("src",t),n.onload=e,n.onerror=t=>{const e=si("internal-error");e.customData=t,i(e)},n.type="text/javascript",n.charset="UTF-8",(null!==(r=null===(o=document.getElementsByTagName("head"))||void 0===o?void 0:o[0])&&void 0!==r?r:document).appendChild(n)})}function Sn(t){return`__${t}${Math.floor(1e6*Math.random())}`}class xn{constructor(t){this.auth=t,this.counter=1e12,this._widgets=new Map}render(t,e){const i=this.counter;return this._widgets.set(i,new Mn(t,this.auth.name,e||{})),this.counter++,i}reset(t){var e;const i=t||1e12;null===(e=this._widgets.get(i))||void 0===e||e.delete(),this._widgets.delete(i)}getResponse(t){var e;return(null===(e=this._widgets.get(t||1e12))||void 0===e?void 0:e.getResponse())||""}async execute(t){var e;return null===(e=this._widgets.get(t||1e12))||void 0===e||e.execute(),""}}class Mn{constructor(t,e,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const n="string"==typeof t?document.getElementById(t):t;ci(n,"argument-error",{appName:e}),this.container=n,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(t){const e=[],i="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<50;n++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}();const{callback:t,"expired-callback":e}=this.params;if(t)try{t(this.responseToken)}catch(i){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,e)try{e()}catch(i){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const En=Sn("rcb"),jn=new gi(3e4,6e4);class Ln{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!_n().grecaptcha}load(t,e=""){return ci(function(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}(e),t,"argument-error"),this.shouldResolveImmediately(e)?Promise.resolve(_n().grecaptcha):new Promise((i,n)=>{const o=_n().setTimeout(()=>{n(si(t,"network-request-failed"))},jn.get());_n()[En]=()=>{_n().clearTimeout(o),delete _n()[En];const r=_n().grecaptcha;if(!r)return void n(si(t,"internal-error"));const s=r.render;r.render=(t,e)=>{const i=s(t,e);return this.counter++,i},this.hostLanguage=e,i(r)},Pn("https://www.google.com/recaptcha/api.js??"+Se({onload:En,render:"explicit",hl:e})).catch(()=>{clearTimeout(o),n(si(t,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(t){return!!_n().grecaptcha&&(t===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Nn{async load(t){return new xn(t)}clearedOneInstance(){}}const Rn={theme:"light",type:"image"};class Dn{constructor(t,e=Object.assign({},Rn),i){this.parameters=e,this.type="recaptcha",this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Zi(i),this.isInvisible="invisible"===this.parameters.size,ci("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const n="string"==typeof t?document.getElementById(t):t;ci(n,this.auth,"argument-error"),this.container=n,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Nn:new Ln,this.validateStartingState()}async verify(){this.assertNotDestroyed();const t=await this.render(),e=this.getAssertedRecaptcha();return e.getResponse(t)||new Promise(i=>{const n=t=>{t&&(this.tokenChangeListeners.delete(n),i(t))};this.tokenChangeListeners.add(n),this.isInvisible&&e.execute(t)})}render(){try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(t=>{throw this.renderPromise=null,t})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(t=>{this.container.removeChild(t)})}validateStartingState(){ci(!this.parameters.sitekey,this.auth,"argument-error"),ci(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ci("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(t){return e=>{if(this.tokenChangeListeners.forEach(t=>t(e)),"function"==typeof t)t(e);else if("string"==typeof t){const i=_n()[t];"function"==typeof i&&i(e)}}}assertNotDestroyed(){ci(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let t=this.container;if(!this.isInvisible){const e=document.createElement("div");t.appendChild(e),t=e}this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)}return this.widgetId}async init(){ci(mi()&&!Tn(),this.auth,"internal-error"),await function(){let t=null;return new Promise(e=>{"complete"!==document.readyState?(t=()=>e(),window.addEventListener("load",t)):e()}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const t=await async function(t){return(await Ci(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);ci(t,this.auth,"internal-error"),this.parameters.sitekey=t}getAssertedRecaptcha(){return ci(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class An{constructor(t,e){this.verificationId=t,this.onConfirmation=e}confirm(t){const e=rn._fromVerification(this.verificationId,t);return this.onConfirmation(e)}}class Qn extends en{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return nn(t,this._buildIdpRequest())}_linkToIdToken(t,e){return nn(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return nn(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Fn(t){return bn(t.auth,new Qn(t),t.bypassAuthState)}function zn(t){const{auth:e,user:i}=t;return ci(i,e,"internal-error"),async function(t,e,i=!1){const{auth:n}=t;try{const o=await Mi(t,hn(n,"reauthenticate",e,t),i);ci(o.idToken,n,"internal-error");const r=xi(o.idToken);ci(r,n,"internal-error");const{sub:s}=r;return ci(t.uid===s,n,"user-mismatch"),cn._forOperation(t,"reauthenticate",o)}catch(o){throw"auth/user-not-found"===(null==o?void 0:o.code)&&ri(n,"user-mismatch"),o}}(i,new Qn(t),t.bypassAuthState)}async function qn(t){const{auth:e,user:i}=t;return ci(i,e,"internal-error"),async function(t,e,i=!1){const n=await Mi(t,e._linkToIdToken(t.auth,await t.getIdToken()),i);return cn._forOperation(t,"link",n)}(i,new Qn(t),t.bypassAuthState)}new gi(2e3,1e4);const Vn=new Map;class Bn extends class{constructor(t,e,i,n,o=!1){this.auth=t,this.resolver=i,this.user=n,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:n,tenantId:o,error:r,type:s}=t;if(r)return void this.reject(r);const a={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:n||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Fn;case"linkViaPopup":case"linkViaRedirect":return qn;case"reauthViaPopup":case"reauthViaRedirect":return zn;default:ri(this.auth,"internal-error")}}resolve(t){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Vn.get(this.auth._key());if(!t){try{const e=await async function(t,e){const i=function(t){return Qi("pendingRedirect",t.config.apiKey,t.name)}(e),n=function(t){return bi(t._redirectPersistence)}(t);if(!(await n._isAvailable()))return!1;const o="true"===await n._get(i);return await n._remove(i),o}(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(e)}catch(e){t=()=>Promise.reject(e)}Vn.set(this.auth._key(),t)}return this.bypassAuthState||Vn.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function $n(t,e,i=!1){const n=Zi(t),o=function(t,e){return e?bi(e):(ci(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(n,e),r=new Bn(n,o,i),s=await r.execute();return s&&!i&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}class Hn{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gn(t);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!Gn(t)){const n=(null===(i=t.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";e.onError(si(this.auth,n))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wn(t))}saveEventToCache(t){this.cachedEventUids.add(Wn(t)),this.lastProcessedEventTime=Date.now()}}function Wn(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(t=>t).join("-")}function Gn({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}const Kn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yn=/^https?/;function Jn(t){const e=ui(),{protocol:i,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===n?"chrome-extension:"===i&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===i&&o.hostname===n}if(!Yn.test(i))return!1;if(Kn.test(t))return n===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(n)}const Xn=new gi(3e4,6e4);function Zn(){const t=_n().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let i=0;i<t.CP.length;i++)t.CP[i]=null}let to=null;function eo(t){return to=to||function(t){return new Promise((e,i)=>{var n,o,r;function s(){Zn(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Zn(),i(si(t,"network-request-failed"))},timeout:Xn.get()})}if(null===(o=null===(n=_n().gapi)||void 0===n?void 0:n.iframes)||void 0===o?void 0:o.Iframe)e(gapi.iframes.getContext());else{if(!(null===(r=_n().gapi)||void 0===r?void 0:r.load)){const e=Sn("iframefcb");return _n()[e]=()=>{gapi.load?s():i(si(t,"network-request-failed"))},Pn("https://apis.google.com/js/api.js?onload="+e)}s()}}).catch(t=>{throw to=null,t})}(t),to}const io=new gi(5e3,15e3),no={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ro(t){const e=t.config;ci(e.authDomain,t,"auth-domain-config-required");const i=e.emulator?fi(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,n={apiKey:e.apiKey,appName:t.name,v:"9.4.1"},o=oo.get(t.config.apiHost);o&&(n.eid=o);const r=t._getFrameworks();return r.length&&(n.fw=r.join(",")),`${i}?${Se(n).slice(1)}`}const so={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ao{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function co(t,e,i,n,o,r){ci(t.config.authDomain,t,"auth-domain-config-required"),ci(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:i,redirectUrl:n,v:"9.4.1",eventId:o};if(e instanceof sn){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(r||{}))s[t]=e}if(e instanceof an){const t=e.getScopes().filter(t=>""!==t);t.length>0&&(s.scopes=t.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];return`${function({config:t}){return t.emulator?fi(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${Se(a).slice(1)}`}const lo=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pn,this._completeRedirectFn=$n}async _openPopup(t,e,i,n){var o;return di(null===(o=this.eventManagers[t._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()"),function(t,e,i,n=500,o=600){const r=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const c=Object.assign(Object.assign({},so),{width:n.toString(),height:o.toString(),top:r,left:s}),l=Ue().toLowerCase();i&&(a=Bi(l)?"_blank":i),qi(l)&&(e=e||"http://localhost",c.scrollbars="yes");const d=Object.entries(c).reduce((t,[e,i])=>`${t}${e}=${i},`,"");if(function(t=Ue()){var e;return Ki(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==a)return function(t,e){const i=document.createElement("a");i.href=t,i.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(n)}(e||"",a),new ao(null);const h=window.open(e||"",a,d);ci(h,t,"popup-blocked");try{h.focus()}catch(b){}return new ao(h)}(t,co(t,e,i,ui(),n),fn())}async _openRedirect(t,e,i,n){var o;return await this._originValidation(t),o=co(t,e,i,ui(),n),_n().location.href=o,new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:i}=this.eventManagers[e];return t?Promise.resolve(t):(di(i,"If manager is not set, promise should be"),i)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i}async initAndGetManager(t){const e=await async function(t){const e=await eo(t),i=_n().gapi;return ci(i,t,"internal-error"),e.open({where:document.body,url:ro(t),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:no,dontclear:!0},e=>new Promise(async(i,n)=>{await e.restyle({setHideOnLeave:!1});const o=si(t,"network-request-failed"),r=_n().setTimeout(()=>{n(o)},io.get());function s(){_n().clearTimeout(r),i(e)}e.ping(s).then(s,()=>{n(o)})}))}(t),i=new Hn(t);return e.register("authEvent",e=>(ci(null==e?void 0:e.authEvent,t,"invalid-auth-event"),{status:i.onEvent(e.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send("webStorageSupport",{type:"webStorageSupport"},i=>{var n;const o=null===(n=null==i?void 0:i[0])||void 0===n?void 0:n.webStorageSupport;void 0!==o&&e(!!o),ri(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=async function(t){if(t.config.emulator)return;const{authorizedDomains:e}=await async function(t,e={}){return Ci(t,"GET","/v1/projects",e)}(t);for(const n of e)try{if(Jn(n))return}catch(i){}ri(t,"unauthorized-domain")}(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Yi()||Vi()||Ki()}};class ho{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(e=>{var i;t((null===(i=e)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){ci(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bo(t=function(t="[DEFAULT]"){const e=We.get(t);if(!e)throw Xe.create("no-app",{appName:t});return e}()){const e=Je(t,"auth");return e.isInitialized()?e.getImmediate():function(t,e){const i=Je(t,"auth");if(i.isInitialized()){const t=i.getImmediate();if(Ie(i.getOptions(),null!=e?e:{}))return t;ri(t,"already-initialized")}return i.initialize({options:e})}(t,{popupRedirectResolver:lo,persistence:[In,mn,pn]})}Ye(new je("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),{apiKey:n,authDomain:o}=i.options;return(t=>{ci(n&&!n.includes(":"),"invalid-api-key",{appName:t.name}),ci(!(null==o?void 0:o.includes(":")),"argument-error",{appName:t.name});const i={apiKey:n,authDomain:o,clientPlatform:"Browser",apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ji("Browser")},r=new Xi(t,i);return function(t,e){const i=(null==e?void 0:e.persistence)||[],n=(Array.isArray(i)?i:[i]).map(bi);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,null==e?void 0:e.popupRedirectResolver)}(r,e),r})(i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Ye(new je("auth-internal",t=>{return e=Zi(t.getProvider("auth").getImmediate()),new ho(e);var e},"PRIVATE").setInstantiationMode("EXPLICIT")),ti("@firebase/auth","0.19.3",void 0),ti("@firebase/auth","0.19.3","esm2017"),ti("firebase","9.4.1","app");let uo=(()=>{class t{get windowRef(){return window}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=h.Kb({token:t,factory:t.\u0275fac}),t})();const mo=["verifyCode"];function po(t,e){1&t&&(h.Ub(0,"div"),h.Qc(1," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ph\u1ea3i d\xe0i t\u1ed1i thi\u1ec3u l\xe0 10 k\xfd t\u1ef1! "),h.Tb())}function go(t,e){if(1&t&&(h.Ub(0,"div",34),h.Oc(1,po,2,0,"div",31),h.Tb()),2&t){const t=h.fc();h.Cb(1),h.mc("ngIf",t.getErrorType("phone","required")||t.getErrorType("phone","minlength"))}}function fo(t,e){if(1&t&&(h.Ub(0,"div",13),h.Ub(1,"label",35),h.Qc(2),h.gc(3,"mytranslate"),h.Tb(),h.Tb()),2&t){const t=h.fc();h.Cb(2),h.Sc("*** ",h.hc(3,1,t.status_obj.error_obj.message),"")}}function vo(t,e){if(1&t){const t=h.Vb();h.Ub(0,"div",36),h.Qc(1," Kh\xf4ng nh\u1eadn \u0111\u01b0\u1ee3c m\xe3 x\xe1c th\u1ef1c? "),h.Ub(2,"b",21),h.bc("click",function(){return h.Cc(t),h.fc().resendCode()}),h.Qc(3,"G\u1eedi l\u1ea1i!"),h.Tb(),h.Tb()}}function _o(t,e){1&t&&(h.Ub(0,"span"),h.Pb(1,"span",37),h.Qc(2,"\xa0"),h.Tb())}const To=function(t){return{"margin-left":t}};let yo=(()=>{class t{constructor(t,e,i,n,o,r,a){this.formBuilder=t,this.router=e,this.localizeService=i,this.activeRoute=n,this.commonService=o,this.window=r,this.apiService=a,this.confirm_type="forgot_password",this.subscriptions=new l.a,this.form=new s.k({}),this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.isVerifying=!1,this.smsSent=!1,this.timeOut=60,this.captchaWidgetId="",this.myCountDown="interval",this.appObj="",this.isLoading=!0}skipVerifyPhone(){var t=Math.round((new Date).getTime()/1e3);this.commonService.saveSimpleStorage("skip_verify_phone",t.toString()),this.apiService.redirectLoginByRole(!1);let e=this.getConfirmType();this.commonService.myNavigation("confirm_phone_register"==e?"/admin/student/manage-class/0":"/admin/testbank/dashboard")}getError(t){return!(!this.form.controls[t]||!this.form.controls[t].errors)&&this.form.controls[t].errors}getErrorType(t,e){return!!(this.form.controls[t]&&this.form.controls[t].errors&&this.form.controls[t].errors[e])&&this.form.controls[t].errors[e]}getConfirmType(){return this.commonService.getMyQueryParam("confirm_type")}get firebaseApp(){return this.commonService.getMyQueryParam("app_name")}get returnUrl(){return this.commonService.getMyQueryParam("return_url")}handleConfirmUsage(){const t=this.form.value.phone;let e=this.getConfirmType();if(""!=t)switch(e){case"forgot_password":this.commonService.gaEvent("confirm_event_forgot_password"),this.apiService.checkPhoneExist(t).subscribe(e=>{1==e.success?this.sendLoginCode("+84"+t.slice(1)):(this.commonService.snackError("S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ch\u01b0a t\u1ed3n t\u1ea1i tr\xean h\u1ec7 th\u1ed1ng",""),this.reRenderCaptcha())});break;case"change_phone":this.commonService.gaEvent("confirm_event_change_phone"),this.apiService.checkPhoneExist(t).subscribe(e=>{1!=e.success?this.sendLoginCode("+84"+t.slice(1)):(this.commonService.snackError("S\u1ed1 \u0111i\u1ec7n tho\u1ea1i \u0111\xe3 t\u1ed3n t\u1ea1i tr\xean h\u1ec7 th\u1ed1ng",""),this.reRenderCaptcha())});break;default:this.commonService.gaEvent("confirm_event_confirm_phone"),this.apiService.CheckUpdatePhoneExists(t).subscribe(e=>{1!=e.success?this.sendLoginCode("+84"+t.slice(1)):(this.commonService.snackError("S\u1ed1 \u0111i\u1ec7n tho\u1ea1i \u0111\xe3 t\u1ed3n t\u1ea1i tr\xean h\u1ec7 th\u1ed1ng",""),this.reRenderCaptcha())})}else this.commonService.snackError("Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i!",""),this.reRenderCaptcha()}sendLoginCode(t){const e=this.windowRef.recaptchaVerifier;(async function(t,e,i){const n=Zi(t),o=await async function(t,e,i){var n;const o=await i.verify();try{let r;if(ci("string"==typeof o,t,"argument-error"),ci("recaptcha"===i.type,t,"argument-error"),r="string"==typeof e?{phoneNumber:e}:e,"session"in r){const e=r.session;if("phoneNumber"in r)return ci("enroll"===e.type,t,"internal-error"),(await function(t,e){return Ci(t,"POST","/v2/accounts/mfaEnrollment:start",yi(t,e))}(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,recaptchaToken:o}})).phoneSessionInfo.sessionInfo;{ci("signin"===e.type,t,"internal-error");const i=(null===(n=r.multiFactorHint)||void 0===n?void 0:n.uid)||r.multiFactorUid;return ci(i,t,"missing-multi-factor-info"),(await function(t,e){return Ci(t,"POST","/v2/accounts/mfaSignIn:start",yi(t,e))}(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:i,phoneSignInInfo:{recaptchaToken:o}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=await async function(t,e){return Ci(t,"POST","/v1/accounts:sendVerificationCode",yi(t,e))}(t,{phoneNumber:r.phoneNumber,recaptchaToken:o});return e}}finally{i._reset()}}(n,e,Ee(i));return new An(o,t=>async function(t,e){return bn(Zi(t),e)}(n,t))})(bo(),t,e).then(t=>{this.windowRef.confirmationResult=t,this.smsSent=!0,this.timeOut=60,this.countDownTime()}).catch(t=>{console.log(t),"auth/quota-exceeded"==t.code?this.apiService.setFirebaseExceed(this.firebaseApp).subscribe(t=>{1==t.success?this.apiService.getFirebaseConfig().subscribe(t=>{if(1==t.success)if(t.data.app!==this.firebaseApp){var e=this.commonService.getMyQueryParam("interval_app");if(e&&e!=t.data.app){e=e||t.data.app;let i=this.commonService.getLocalRouter("/auth/confirm_account")+"?return_url="+this.returnUrl+"&confirm_type="+this.confirm_type+"&app_name="+t.data.app+"&interval_app="+e;window.location.href=i.toString()}else this.commonService.snackError("OUT OF QUOTA FIREBASE, CONTACT ADMIN","")}else this.commonService.snackError("OUT OF QUOTA FIREBASE, CONTACT ADMIN","");else this.commonService.snackError("Kh\xf4ng l\u1ea5y \u0111\u01b0\u1ee3c th\xf4ng tin FirebaseApp","")}):this.commonService.snackError("Kh\xf4ng \u0111\xe1nh d\u1ea5u \u0111\u01b0\u1ee3c firebase h\u1ebft quoata","")}):(this.commonService.gaEvent("confirm_event_error_send_code"),this.smsSent=!1,this.commonService.myTranslate([t.code]).subscribe(e=>{this.commonService.snackError("C\xf3 l\u1ed7i x\u1ea3y ra: "+e[t.code],"")}))})}verify_code(t){this.windowRef.confirmationResult?(this.isVerifying=!0,this.windowRef.confirmationResult.confirm(t).then(t=>{this.isVerifying=!1;const e=t.user;let i=this.getConfirmType();switch(i){case"forgot_password":this.commonService.myNavigationWithQueryString("/auth/set_new_password","?app_name="+this.firebaseApp+"&token="+encodeURIComponent(e.za));break;default:this.apiService.UpdatePhoneOrPasswordByFirebase({firebaseToken:e.za,password:"",appName:this.firebaseApp}).subscribe(t=>{1==t.success?(this.commonService.snackSuccess("C\u1eadp nh\u1eadt s\u1ed1 \u0111i\u1ec7n tho\u1ea1i th\xe0nh c\xf4ng!",""),"confirm_phone_register"==i?this.commonService.myNavigation("/admin/student/manage-class/0"):this.apiService.redirectLoginByRole(!1)):this.commonService.myTranslate([t.message]).subscribe(e=>{this.commonService.snackError("C\xf3 l\u1ed7i x\u1ea3y ra: "+e[t.message],"")})})}}).catch(t=>{this.isVerifying=!1,console.log(t),this.commonService.gaEvent("confirm_event_error_verify_code"),this.commonService.myTranslate([t.code]).subscribe(e=>{this.commonService.snackError("C\xf3 l\u1ed7i x\u1ea3y ra: "+e[t.code],"")})})):(this.isVerifying=!1,this.commonService.snackError("M\xe3 x\xe1c th\u1ef1c kh\xf4ng \u0111\xfang, vui l\xf2ng ki\u1ec3m tra l\u1ea1i",""))}resendCode(){var t;this.reRenderCaptcha(),null===(t=document.getElementById("recaptcha-container"))||void 0===t||t.click()}countDownTime(){this.myCountDown=setInterval(()=>{this.timeOut>0&&this.timeOut--},1e3)}initForm(){this.form=this.formBuilder.group({phone:["",[s.z.required,s.z.minLength(10)]]})}handleClickLogout(){"forgot_password"==this.confirm_type||"change_phone"==this.confirm_type?this.apiService.redirectLoginByRole(!1):(this.apiService.logout(),this.commonService.redirectSimpleLogin())}reRenderCaptcha(){this.windowRef.recaptchaVerifier.reset(this.windowRef.recaptchaWidgetId)}handleEnterVerify(t,e){"Enter"==t.key&&(this.commonService.gaEvent("confirm_event_verify_code_by_press_enter"),this.verify_code(e))}ngOnInit(){this.initForm(),function(t,e={}){"object"!=typeof e&&(e={name:e});const i=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},e),n=i.name;if("string"!=typeof n||!n)throw Xe.create("bad-app-name",{appName:String(n)});const o=We.get(n);if(o){if(Ie(t,o.options)&&Ie(i,o.config))return o;throw Xe.create("duplicate-app",{appName:n})}const r=new Ne(n);for(const a of Ge.values())r.addComponent(a);const s=new Ze(t,i,r);We.set(n,s)}(Q.a["firebaseConfig_"+this.firebaseApp]),bo().useDeviceLanguage();let t=this.getConfirmType();switch(this.confirm_type=this.getConfirmType(),"forgot_password"!=t&&this.apiService.getInfo().subscribe(e=>{1==e.success?1==e.data.isVerifyPhone?"change_phone"!=t&&this.apiService.redirectLoginByRole(!1):e.data.phone&&""==e.data.phone?console.log("enter phone plz"):this.form.setValue(e.data.phone&&e.data.phone.length>10?{phone:""}:{phone:e.data.phone}):this.commonService.myTranslate([e.message]).subscribe(t=>{this.commonService.snackError("C\xf3 l\u1ed7i x\u1ea3y ra: "+t[e.message],"")})}),t){case"forgot_password":this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"});break;case"change_phone":this.commonService.translateMetaData({title:"lang_cms_auth_confirm_change_phone_title",description:"lang_cms_auth_confirm_change_phone_description",image:"lang_cms_test_image"});break;default:this.commonService.translateMetaData({title:"lang_cms_auth_confirm_confirm_phone_title",description:"lang_cms_auth_confirm_confirm_phone_description",image:"lang_cms_test_image"})}}ngAfterViewInit(){this.windowRef=this.window.windowRef;const t=bo();if(this.windowRef.recaptchaVerifier=new Dn("recaptcha-container",{size:"invisible",callback:t=>{this.handleConfirmUsage()}},t),alert("done he"),this.windowRef.recaptchaVerifier.render().then(t=>{this.windowRef.recaptchaWidgetId=t}),this.verifyCode&&""!=this.verifyCode.nativeElement.value){let t=this.verifyCode.nativeElement.value;this.verifyCode.nativeElement.addEventListener("keyup",e=>this.handleEnterVerify(e,t))}}ngOnDestroy(){if(this.subscriptions.unsubscribe(),clearInterval(this.myCountDown),this.verifyCode){let t=this.verifyCode.nativeElement.value;this.verifyCode.nativeElement.removeEventListener("keyup",e=>this.handleEnterVerify(e,t))}}}return t.\u0275fac=function(e){return new(e||t)(h.Ob(s.g),h.Ob(n.i),h.Ob(A.e),h.Ob(n.a),h.Ob(b.a),h.Ob(uo),h.Ob(u.a))},t.\u0275cmp=h.Ib({type:t,selectors:[["app-confirm-account"]],viewQuery:function(t,e){if(1&t&&h.Xc(mo,!0),2&t){let t;h.xc(t=h.cc())&&(e.verifyCode=t.first)}},features:[h.Bb([uo])],decls:50,vars:13,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[2,"margin-top","4vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["id","authForm",1,"card"],[1,"card-body"],["id","verify_wrap"],["id","enter_phone_area",3,"ngStyle"],["id","enter_phone_wrap"],[1,"form-horizontal",3,"formGroup"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["id","phoneInput","type","text","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","formControlName","phone","autocomplete","off",1,"form-control"],["phoneInput",""],["class","alert alert-danger",4,"ngIf"],["id","recaptcha-container","color","primary","mat-raised-button",""],[1,"mt-3","text-center"],[1,"clickable",3,"click"],["class","form-group",4,"ngIf"],["id","verify_area",1,"form-group"],[1,"sms-info"],[2,"text-align","right","font-size","12px","margin-bottom","3px"],["class","mb-2 mt-2 resend-code",4,"ngIf"],["type","string","placeholder","M\xe3 x\xe1c th\u1ef1c","autocomplete","off",1,"form-control"],["verifyCode",""],[1,"input-group-append","ml-1"],["id","buttonVerify","mat-raised-button","","color","primary",3,"disabled","click"],[4,"ngIf"],[1,"text-center","mt-3"],[1,"text-normal","clickable",3,"click"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],[1,"mb-2","mt-2","resend-code"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){if(1&t){const t=h.Vb();h.Ub(0,"div",0),h.Ub(1,"div",1),h.Ub(2,"div",2),h.Pb(3,"div",3),h.Ub(4,"div",4),h.Ub(5,"h2",5),h.Pb(6,"img",6),h.Tb(),h.Ub(7,"div",7),h.Ub(8,"div",8),h.Ub(9,"h2"),h.Qc(10),h.Tb(),h.Ub(11,"div"),h.Ub(12,"div",9),h.Ub(13,"div",10),h.Ub(14,"div",11),h.Ub(15,"form",12),h.Ub(16,"div",13),h.Ub(17,"div",14),h.Ub(18,"div",15),h.Pb(19,"input",16,17),h.Tb(),h.Oc(21,go,2,1,"div",18),h.Ub(22,"button",19),h.Qc(23,"Ti\u1ebfp t\u1ee5c"),h.Tb(),h.Ub(24,"div",20),h.Ub(25,"a",21),h.bc("click",function(){return e.skipVerifyPhone()}),h.Qc(26,"B\u1ecf qua"),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Oc(27,fo,4,3,"div",22),h.Tb(),h.Tb(),h.Ub(28,"div",23),h.Ub(29,"div",14),h.Ub(30,"div",24),h.Qc(31," M\u1ed9t tin nh\u1eafn ch\u1ee9a m\xe3 x\xe1c th\u1ef1c v\u1eeba \u0111\u01b0\u1ee3c g\u1eedi t\u1edbi s\u1ed1 \u0111i\u1ec7n tho\u1ea1i "),h.Ub(32,"b"),h.Qc(33),h.Tb(),h.Qc(34,". Vui l\xf2ng nh\u1eadp m\xe3 n\xe0y v\xe0o \xf4 d\u01b0\u1edbi \u0111\xe2y r\u1ed3i \u1ea5n x\xe1c th\u1ef1c "),h.Tb(),h.Ub(35,"div",25),h.Qc(36),h.Tb(),h.Oc(37,vo,4,0,"div",26),h.Ub(38,"div",15),h.Pb(39,"input",27,28),h.Ub(41,"div",29),h.Ub(42,"button",30),h.bc("click",function(){h.Cc(t);const i=h.yc(40);return e.verify_code(i.value)}),h.Oc(43,_o,3,0,"span",31),h.Qc(44,"X\xe1c th\u1ef1c "),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Pb(45,"hr"),h.Ub(46,"div",32),h.Ub(47,"a",33),h.bc("click",function(){return e.handleClickLogout()}),h.Qc(48),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Pb(49,"div",3),h.Tb(),h.Tb(),h.Tb()}if(2&t){const t=h.yc(40);h.Cb(10),h.Rc("change_phone"==e.confirm_type?"Nh\u1eadp v\xe0o s\u1ed1 \u0111i\u1ec7n tho\u1ea1i m\u1edbi":"X\xe1c th\u1ef1c s\u1ed1 \u0111i\u1ec7n tho\u1ea1i c\u1ee7a b\u1ea1n"),h.Cb(3),h.mc("ngStyle",h.rc(11,To,e.smsSent?"-100%":"0")),h.Cb(2),h.mc("formGroup",e.form),h.Cb(6),h.mc("ngIf",e.form.controls.phone.invalid&&(e.form.controls.phone.dirty||e.form.controls.phone.touched)),h.Cb(6),h.mc("ngIf",e.status_obj.error_obj.message),h.Cb(6),h.Rc(e.form.value.phone),h.Cb(3),h.Sc("",e.timeOut," s"),h.Cb(1),h.mc("ngIf",0==e.timeOut),h.Cb(5),h.mc("disabled",""==t.value||e.isVerifying),h.Cb(1),h.mc("ngIf",!0===e.status_obj.loading),h.Cb(5),h.Rc("forgot_password"==e.confirm_type?"\u0110\u0103ng nh\u1eadp t\xe0i kho\u1ea3n":"change_phone"==e.confirm_type?"Quay l\u1ea1i m\xe0n h\xecnh ch\xednh":"\u0110\u0103ng xu\u1ea5t")}},directives:[o.n,s.B,s.s,s.l,s.d,s.r,s.j,o.m,U.b],pipes:[k.o],styles:["#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin .5s ease}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}"]}),t})();function Co(t,e){1&t&&(h.Ub(0,"div"),h.Ub(1,"div",12),h.Ub(2,"div",13),h.Ub(3,"span",14),h.Qc(4),h.gc(5,"mytranslate"),h.Tb(),h.Tb(),h.Tb(),h.Tb()),2&t&&(h.Cb(4),h.Sc("",h.hc(5,1,"lang_cms_common_loading"),"..."))}function Uo(t,e){1&t&&(h.Ub(0,"span"),h.Pb(1,"span",20),h.Qc(2,"\xa0"),h.Tb())}function ko(t,e){if(1&t){const t=h.Vb();h.Ub(0,"div"),h.Ub(1,"div",15),h.Ub(2,"div",16),h.Ub(3,"button",17),h.bc("click",function(){h.Cc(t);const e=h.fc();return e.status_obj.loading||e.becomeTeacher()}),h.Oc(4,Uo,3,0,"span",11),h.Qc(5,"Click v\xe0o \u0111\xe2y \u0111\u1ec3 tr\u1edf th\xe0nh gi\xe1o vi\xean "),h.Tb(),h.Tb(),h.Tb(),h.Ub(6,"div",18),h.Ub(7,"a",19),h.bc("click",function(){return h.Cc(t),h.fc().goBack()}),h.Qc(8,"Quay l\u1ea1i trang ch\u1ee7"),h.Tb(),h.Tb(),h.Tb()}if(2&t){const t=h.fc();h.Cb(3),h.mc("disabled",t.status_obj.loading),h.Cb(1),h.mc("ngIf",!0===t.status_obj.loading)}}let Oo=(()=>{class t{constructor(t,e){this.apiService=t,this.commonService=e,this.subscriptions=new l.a,this.status_obj={form_loading:!0,loading:!1,error:!1,error_obj:{message:""}}}goBack(){this.apiService.redirectLoginByRole(!1)}becomeTeacher(){this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiService.becomeTeacher().subscribe(t=>{1==t.success?(this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.apiService.redirectLoginByRole(!1)):(this.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t},this.commonService.myTranslate([t.message]).subscribe(e=>{this.commonService.snackError(e[t.message],"")}))}))}ngOnInit(){this.apiService.isAnonymousRole()?this.commonService.redirectSimpleRegister():(this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.commonService.translateMetaData({title:"lang_cms_auth_become_teacher_title",description:"lang_cms_auth_become_teacher_description",image:"lang_cms_test_image"}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Ob(u.a),h.Ob(b.a))},t.\u0275cmp=h.Ib({type:t,selectors:[["app-become-teacher"]],decls:15,vars:2,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[2,"margin-top","6vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-md-12","text-center"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"text-center","mt-3"],[1,"clickable",3,"click"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&(h.Ub(0,"div",0),h.Ub(1,"div",1),h.Ub(2,"div",2),h.Pb(3,"div",3),h.Ub(4,"div",4),h.Ub(5,"h2",5),h.Pb(6,"img",6),h.Tb(),h.Ub(7,"div",7),h.Ub(8,"div",8),h.Ub(9,"span",9),h.Qc(10,"T\xf4i mu\u1ed1n th\xe0nh gi\xe1o vi\xean"),h.Tb(),h.Tb(),h.Ub(11,"div",10),h.Oc(12,Co,6,3,"div",11),h.Oc(13,ko,9,2,"div",11),h.Tb(),h.Tb(),h.Tb(),h.Pb(14,"div",3),h.Tb(),h.Tb(),h.Tb()),2&t&&(h.Cb(12),h.mc("ngIf",1==e.status_obj.form_loading),h.Cb(1),h.mc("ngIf",1!=e.status_obj.form_loading))},directives:[o.m,U.b],pipes:[k.o],styles:[".checkboxInput[_ngcontent-%COMP%]{padding:5px 15px;font-size:1rem;font-weight:400;line-height:2}.zalo-icon[_ngcontent-%COMP%]{height:30px;margin-right:10px}"]}),t})();function wo(t,e){if(1&t){const t=h.Vb();h.Ub(0,"div",15),h.Pb(1,"img",16),h.gc(2,"mycdn"),h.gc(3,"mycdn"),h.Ub(4,"span",17),h.bc("click",function(){h.Cc(t);const i=e.index;return h.fc(2).removeFile(i)}),h.Ub(5,"mat-icon"),h.Qc(6,"cancel"),h.Tb(),h.Tb(),h.Tb()}if(2&t){const t=e.$implicit;h.Cb(1),h.nc("src",h.hc(2,2,t.thumb.url),h.Gc),h.nc("alt",h.hc(3,4,t.thumb.url))}}function Io(t,e){if(1&t&&(h.Ub(0,"div",13),h.Oc(1,wo,7,6,"div",14),h.Tb()),2&t){const t=h.fc();h.Cb(1),h.mc("ngForOf",t.answerFiles)}}function Po(t,e){1&t&&(h.Ub(0,"span"),h.Pb(1,"span",18),h.Qc(2,"\xa0"),h.Tb())}let So=(()=>{class t{constructor(t,e,i){this.fb=t,this.commonService=e,this.apiService=i,this.subscriptions=new l.a,this.form=new s.k({}),this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.answerFiles=[],this.selectFile=t=>{let e=t.target.files;try{for(var i in e)"length"!=i&&"item"!=i&&(this.answerFile=e?e[i]:this.answerFile,this.answerFile&&(this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.uploadPPT(this.answerFile)))}catch(n){alert("\u0110\xe3 x\u1ea3y ra l\u1ed7i:"+n)}},this.uploadPPT=t=>{this.apiService.uploadPptThumbnail(t).subscribe(e=>{1==e.success?this.apiService.uploadToCdnForPptFile(t).subscribe(t=>{1==t.success?(Array.isArray(this.answerFiles)||(this.answerFiles=[]),this.answerFiles.push({thumb:e.data,ppt:t.data}),this.status_obj={loading:!1,error:!1,error_obj:{message:""}}):(this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c file PowerPoint! Vui l\xf2ng th\u1eed l\u1ea1i sau!",""))}):(this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c file Thumbnail! Vui l\xf2ng th\u1eed l\u1ea1i sau!",""))})},this.answerFile=null}saveObj(){this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.apiService.saveContentObjs(this.answerFiles).subscribe(t=>{this.status_obj={loading:!1,error:!1,error_obj:{message:""}},1==t.success?this.commonService.snackSuccess("T\u1ea1o n\u1ed9i dung th\xe0nh c\xf4ng",""):this.commonService.snackError("T\u1ea1o n\u1ed9i dung b\u1ecb l\u1ed7i!","")})}removeFile(t){this.answerFiles[t]&&delete this.answerFiles[t]}ngOnInit(){this.form=this.fb.group({file:new s.h("",s.z.required)})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Ob(s.g),h.Ob(b.a),h.Ob(u.a))},t.\u0275cmp=h.Ib({type:t,selectors:[["app-upload-file"]],decls:19,vars:4,consts:[[1,"container-fluid","mt-5","mb-5"],["enctype","multipart/form-data",1,"form-horizontal","text-center",3,"formGroup"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","text-center","v-dragndrop","dropzone","dz-started"],["id","dropzone-3404",1,"px-4","py-3","rounded",2,"cursor","pointer",3,"click"],[1,"file"],["id","select-upload-file",1,"align-self-center","select","dz-clickable"],["type","file","id","file_select","multiple","","formControlName","file",1,"form-control","file-input",3,"change"],["fileSelect",""],["class","row ml-0 mr-0 mt-4 attach-container",4,"ngIf"],[1,"mt-20"],[1,"col-sm-12"],["mat-raised-button","","color","primary",2,"margin-top","20px",3,"disabled","click"],[4,"ngIf"],[1,"row","ml-0","mr-0","mt-4","attach-container"],["class","img-container",4,"ngFor","ngForOf"],[1,"img-container"],[1,"img-fluid","item",3,"src","alt"],[1,"notify-badge",3,"click"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){if(1&t){const t=h.Vb();h.Ub(0,"div",0),h.Ub(1,"form",1),h.Ub(2,"div",2),h.Ub(3,"div",3),h.bc("click",function(){return h.Cc(t),h.yc(12).click()}),h.Ub(4,"div",4),h.Ub(5,"a",5),h.Ub(6,"mat-icon"),h.Qc(7,"attach_file"),h.Tb(),h.Tb(),h.Pb(8,"br"),h.Ub(9,"span"),h.Qc(10,"Ch\u1ecdn file t\u1ea3i l\xean"),h.Tb(),h.Ub(11,"input",6,7),h.bc("change",function(t){return e.selectFile(t)}),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Oc(13,Io,2,1,"div",8),h.Ub(14,"div",9),h.Ub(15,"div",10),h.Ub(16,"button",11),h.bc("click",function(){return e.saveObj()}),h.Oc(17,Po,3,0,"span",12),h.Qc(18,"L\u01b0u file Powerpoint "),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb()}2&t&&(h.Cb(1),h.mc("formGroup",e.form),h.Cb(12),h.mc("ngIf",e.answerFiles.length>0),h.Cb(3),h.mc("disabled",e.status_obj.loading),h.Cb(1),h.mc("ngIf",!0===e.status_obj.loading))},directives:[s.B,s.s,s.l,T.a,s.d,s.r,s.j,o.m,U.b,o.l],pipes:[k.m],styles:[".v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;line-height:1.5}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}@media (max-width:768px){.dropzone[_ngcontent-%COMP%]{min-width:100px}._col-left[_ngcontent-%COMP%]{margin-bottom:20px}}"]}),t})();function xo(t,e){1&t&&(h.Ub(0,"div"),h.Ub(1,"div",13),h.Ub(2,"div",14),h.Ub(3,"span",15),h.Qc(4),h.gc(5,"mytranslate"),h.Tb(),h.Tb(),h.Tb(),h.Tb()),2&t&&(h.Cb(4),h.Sc("",h.hc(5,1,"lang_cms_common_loading"),"..."))}function Mo(t,e){1&t&&(h.Ub(0,"span"),h.Pb(1,"span",21),h.Qc(2,"\xa0"),h.Tb())}function Eo(t,e){if(1&t){const t=h.Vb();h.Ub(0,"div"),h.Ub(1,"div",16),h.Ub(2,"div",17),h.Ub(3,"button",18),h.bc("click",function(){h.Cc(t);const e=h.fc(2);return e.status_obj.loading||e.becomeTeacher()}),h.Oc(4,Mo,3,0,"span",12),h.Qc(5,"Click v\xe0o \u0111\xe2y \u0111\u1ec3 tr\u1edf th\xe0nh gi\xe1o vi\xean "),h.Tb(),h.Tb(),h.Tb(),h.Ub(6,"div",19),h.Ub(7,"a",20),h.bc("click",function(){return h.Cc(t),h.fc(2).goBack()}),h.Qc(8,"Quay l\u1ea1i trang ch\u1ee7"),h.Tb(),h.Tb(),h.Tb()}if(2&t){const t=h.fc(2);h.Cb(3),h.mc("disabled",t.status_obj.loading),h.Cb(1),h.mc("ngIf",!0===t.status_obj.loading)}}function jo(t,e){if(1&t&&(h.Ub(0,"div",5),h.Ub(1,"h2",6),h.Pb(2,"img",7),h.Tb(),h.Ub(3,"div",8),h.Ub(4,"div",9),h.Ub(5,"span",10),h.Qc(6,"T\xf4i mu\u1ed1n th\xe0nh gi\xe1o vi\xean"),h.Tb(),h.Tb(),h.Ub(7,"div",11),h.Oc(8,xo,6,3,"div",12),h.Oc(9,Eo,9,2,"div",12),h.Tb(),h.Tb(),h.Tb()),2&t){const t=h.fc();h.Cb(8),h.mc("ngIf",1==t.status_obj.form_loading),h.Cb(1),h.mc("ngIf",1!=t.status_obj.form_loading)}}function Lo(t,e){1&t&&(h.Ub(0,"div"),h.Ub(1,"div",13),h.Ub(2,"div",14),h.Ub(3,"span",15),h.Qc(4),h.gc(5,"mytranslate"),h.Tb(),h.Tb(),h.Tb(),h.Tb()),2&t&&(h.Cb(4),h.Sc("",h.hc(5,1,"lang_cms_common_loading"),"..."))}function No(t,e){1&t&&(h.Ub(0,"span"),h.Pb(1,"span",21),h.Qc(2,"\xa0"),h.Tb())}function Ro(t,e){if(1&t){const t=h.Vb();h.Ub(0,"div"),h.Ub(1,"div",16),h.Ub(2,"div",17),h.Ub(3,"button",18),h.bc("click",function(){h.Cc(t);const e=h.fc(2);return e.status_obj.loading||e.becomeStudent()}),h.Oc(4,No,3,0,"span",12),h.Qc(5,"Click v\xe0o \u0111\xe2y \u0111\u1ec3 b\u1ecf quy\u1ec1n gi\xe1o vi\xean "),h.Tb(),h.Tb(),h.Tb(),h.Ub(6,"div",19),h.Ub(7,"a",20),h.bc("click",function(){return h.Cc(t),h.fc(2).goBack()}),h.Qc(8,"Quay l\u1ea1i trang ch\u1ee7"),h.Tb(),h.Tb(),h.Tb()}if(2&t){const t=h.fc(2);h.Cb(3),h.mc("disabled",t.status_obj.loading),h.Cb(1),h.mc("ngIf",!0===t.status_obj.loading)}}function Do(t,e){if(1&t&&(h.Ub(0,"div",5),h.Ub(1,"h2",6),h.Pb(2,"img",7),h.Tb(),h.Ub(3,"div",8),h.Ub(4,"div",9),h.Ub(5,"span",10),h.Qc(6,"T\xf4i mu\u1ed1n b\u1ecf quy\u1ec1n gi\xe1o vi\xean"),h.Tb(),h.Tb(),h.Ub(7,"div",11),h.Oc(8,Lo,6,3,"div",12),h.Oc(9,Ro,9,2,"div",12),h.Tb(),h.Tb(),h.Tb()),2&t){const t=h.fc();h.Cb(8),h.mc("ngIf",1==t.status_obj.form_loading),h.Cb(1),h.mc("ngIf",1!=t.status_obj.form_loading)}}let Ao=(()=>{class t{constructor(t,e){this.apiService=t,this.commonService=e,this.subscriptions=new l.a,this.status_obj={form_loading:!0,loading:!1,error:!1,error_obj:{message:""}},this.isTeacher=!1,this.isStudent=!1}goBack(){this.apiService.redirectLoginByRole(!1)}becomeTeacher(){this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiService.becomeTeacher().subscribe(t=>{1==t.success?(this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.apiService.redirectLoginByRole(!1)):(this.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t},this.commonService.myTranslate([t.message]).subscribe(e=>{this.commonService.snackError(e[t.message],"")}))}))}becomeStudent(){this.status_obj={form_loading:!1,loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiService.removeTeacherRole().subscribe(t=>{1==t.success?(this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.apiService.redirectLoginByRole(this.commonService.getLocalRouter("/student/dashboard/0"))):(this.status_obj={form_loading:!1,loading:!1,error:!0,error_obj:t},this.commonService.myTranslate([t.message]).subscribe(e=>{this.commonService.snackError(e[t.message],"")}))}))}ngOnInit(){this.status_obj={form_loading:!1,loading:!1,error:!1,error_obj:{message:""}},this.commonService.translateMetaData({title:"\u0110\u1ed5i Vai Tr\xf2",description:"\u0110\u1ed5i Vai Tr\xf2",image:"lang_cms_test_image"}),this.isTeacher=this.apiService.isTeacherRole()}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Ob(u.a),h.Ob(b.a))},t.\u0275cmp=h.Ib({type:t,selectors:[["app-switch-teacher-student"]],decls:7,vars:2,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[2,"margin-top","6vh"],[1,"row"],[1,"col-sm-3"],["class","col-sm-6",4,"ngIf"],[1,"col-sm-6"],[1,"text-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px"],["id","authForm",1,"card"],[1,"text-center","mt-4"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-md-12","text-center"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"text-center","mt-3"],[1,"clickable",3,"click"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&(h.Ub(0,"div",0),h.Ub(1,"div",1),h.Ub(2,"div",2),h.Pb(3,"div",3),h.Oc(4,jo,10,2,"div",4),h.Oc(5,Do,10,2,"div",4),h.Pb(6,"div",3),h.Tb(),h.Tb(),h.Tb()),2&t&&(h.Cb(4),h.mc("ngIf",0==e.isTeacher),h.Cb(1),h.mc("ngIf",1==e.isTeacher))},directives:[o.m,U.b],pipes:[k.o],styles:[""]}),t})(),Qo=(()=>{class t{constructor(t,e){this.commonService=t,this.apiService=e}get returnUrl(){return this.commonService.getMyQueryParam("return_url")}get confirm_type(){return this.commonService.getMyQueryParam("confirm_type")}ngOnInit(){this.apiService.getFirebaseConfig().subscribe(t=>{if(1==t.success){let e=this.commonService.getLocalRouter("/auth/confirm_account")+"?return_url="+this.returnUrl+"&confirm_type="+this.confirm_type+"&app_name="+t.data.app;window.location.href=e.toString()}else this.commonService.snackError("C\xf3 l\u1ed7i khi ki\u1ec3m tra d\u1ecbch v\u1ee5","")})}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)(h.Ob(b.a),h.Ob(u.a))},t.\u0275cmp=h.Ib({type:t,selectors:[["app-checking-service"]],decls:3,vars:0,consts:[[1,"mt-5","text-center"],["role","status",1,"spinner-border","spinner-border-md",2,"color","#2361ae"]],template:function(t,e){1&t&&(h.Ub(0,"h2",0),h.Pb(1,"span",1),h.Qc(2,"\xa0 \u0110ang ki\u1ec3m tra d\u1ecbch v\u1ee5 ..."),h.Tb())},encapsulation:2}),t})();var Fo=i("0IaG"),zo=i("uZ1F"),qo=i("IU+r"),Vo=i("1jcm");const Bo=["fondovalor1"],$o=["fondovalor2"],Ho=["fondovalor3"];function Wo(t,e){if(1&t){const t=h.Vb();h.Ub(0,"a",21),h.bc("click",function(){return h.Cc(t),h.fc(2).AllErr()}),h.Qc(1,"All Error"),h.Tb()}}function Go(t,e){1&t&&h.Pb(0,"div",22)}function Ko(t,e){1&t&&(h.Ub(0,"div",38),h.Qc(1,"Tuy\u1ec7t v\u1eddi, kh\xf4ng c\xf3 l\u1ed7i n\xe0o."),h.Pb(2,"img",39),h.Tb())}function Yo(t,e){if(1&t&&(h.Pb(0,"img",51),h.gc(1,"mycdn")),2&t){const t=h.fc().$implicit;h.nc("src",h.hc(1,1,t.avatar),h.Gc)}}function Jo(t,e){if(1&t&&h.Pb(0,"azt-create-avatar",52),2&t){const t=h.fc().$implicit;h.mc("nameCreateAvatar",t.fullname)("size",26)}}function Xo(t,e){1&t&&(h.Ub(0,"div",53),h.Qc(1,"\u0110\xe3 xong"),h.Tb())}function Zo(t,e){1&t&&(h.Ub(0,"div",54),h.Qc(1,"Ch\u01b0a xong"),h.Tb())}function tr(t,e){if(1&t){const t=h.Vb();h.Ub(0,"div"),h.Ub(1,"div",40),h.Ub(2,"div",41),h.bc("click",function(){h.Cc(t);const i=e.$implicit;return h.fc(3).searchByEvent("userId",i.userId)}),h.Oc(3,Yo,2,3,"img",42),h.Oc(4,Jo,1,2,"azt-create-avatar",43),h.Ub(5,"span"),h.Qc(6),h.Tb(),h.Tb(),h.Ub(7,"div",44),h.bc("click",function(){h.Cc(t);const i=e.$implicit;return h.fc(3).openDialog(i.id)}),h.Qc(8),h.Tb(),h.Ub(9,"div",45),h.bc("click",function(){h.Cc(t);const i=e.$implicit;return h.fc(3).searchByEvent("url",i.url)}),h.Qc(10),h.Tb(),h.Ub(11,"div",46),h.bc("click",function(){h.Cc(t);const i=e.$implicit;return h.fc(3).openDialog(i.id)}),h.Qc(12),h.gc(13,"date"),h.Tb(),h.Ub(14,"div",47),h.bc("click",function(){h.Cc(t);const i=e.$implicit;return h.fc(3).openDialog(i.id)}),h.Oc(15,Xo,2,0,"div",48),h.Oc(16,Zo,2,0,"div",49),h.Tb(),h.Tb(),h.Pb(17,"hr",50),h.Tb()}if(2&t){const t=e.$implicit;h.Cb(3),h.mc("ngIf",null!=t.avatar),h.Cb(1),h.mc("ngIf",null==t.avatar),h.Cb(2),h.Rc(t.fullname),h.Cb(2),h.Sc(" ",t.content," "),h.Cb(2),h.Sc(" ",t.url," "),h.Cb(2),h.Sc(" ",h.ic(13,8,t.createdAt,"dd/MM/yyyy HH:mm:ss")," "),h.Cb(3),h.mc("ngIf",1==t.status),h.Cb(1),h.mc("ngIf",0==t.status)}}function er(t,e){if(1&t){const t=h.Vb();h.Ub(0,"div",23),h.Ub(1,"div",24),h.Ub(2,"div",25),h.Qc(3,"L\u1ed7i t\u1eeb ng\u01b0\u1eddi d\xf9ng: "),h.Tb(),h.Ub(4,"div",26),h.Qc(5),h.Tb(),h.Tb(),h.Pb(6,"hr",27),h.Oc(7,Ko,3,0,"div",28),h.Ub(8,"div",29),h.Ub(9,"div",30),h.Qc(10," T\xean t\xe0i kho\u1ea3n "),h.Tb(),h.Ub(11,"div",31),h.Qc(12," N\u1ed9i dung l\u1ed7i "),h.Tb(),h.Ub(13,"div",32),h.Qc(14," Url "),h.Tb(),h.Ub(15,"div",30),h.Qc(16," Ng\xe0y b\xe1o l\u1ed7i "),h.Tb(),h.Ub(17,"div",33),h.Qc(18," Tr\u1ea1ng th\xe1i "),h.Tb(),h.Tb(),h.Pb(19,"hr",34),h.Oc(20,tr,18,11,"div",35),h.Ub(21,"div",36),h.Ub(22,"azt-paging",37),h.bc("SendPage",function(e){return h.Cc(t),h.fc(2).clickPage(e)}),h.Tb(),h.Tb(),h.Tb()}if(2&t){const t=h.fc(2);h.Cb(5),h.Sc("T\u1ed5ng s\u1ed1 l\u1ed7i: ",t.data.totalObjs,""),h.Cb(2),h.mc("ngIf",0==t.data.totalObjs),h.Cb(13),h.mc("ngForOf",t.trackLogs),h.Cb(2),h.mc("lengthPage",t.lengthPage)("paging",t.page)}}function ir(t,e){if(1&t){const t=h.Vb();h.Ub(0,"div",3),h.Ub(1,"div",4),h.Ub(2,"div",5),h.Oc(3,Wo,2,0,"a",6),h.Tb(),h.Ub(4,"div",7),h.Ub(5,"div",8),h.Ub(6,"input",9,10),h.bc("keyup.enter",function(){return h.Cc(t),h.fc().search()}),h.Tb(),h.Pb(8,"div",11),h.Tb(),h.Tb(),h.Ub(9,"div",7),h.Ub(10,"div",8),h.Ub(11,"input",12,13),h.bc("keyup.enter",function(){return h.Cc(t),h.fc().search()}),h.Tb(),h.Tb(),h.Tb(),h.Ub(13,"div",7),h.Ub(14,"div",8),h.Ub(15,"input",14,15),h.bc("keyup.enter",function(){return h.Cc(t),h.fc().search()}),h.Tb(),h.Tb(),h.Tb(),h.Ub(17,"div",16),h.Ub(18,"div",11),h.Ub(19,"mat-icon",17),h.bc("click",function(){return h.Cc(t),h.fc().search()}),h.Qc(20," search "),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Pb(21,"hr",18),h.Oc(22,Go,1,0,"div",19),h.Oc(23,er,23,5,"div",20),h.Tb()}if(2&t){const t=h.fc();h.Cb(3),h.mc("ngIf",1==t.showAllError&&!1===t.loading),h.Cb(3),h.nc("value",t.phone_search),h.Cb(5),h.nc("value",t.user_id_search),h.Cb(4),h.nc("value",t.url_search),h.Cb(7),h.mc("ngIf",!0===t.loading),h.Cb(1),h.mc("ngIf",t.data&&!1===t.loading)}}function nr(t,e){if(1&t){const t=h.Vb();h.Ub(0,"a",21),h.bc("click",function(){return h.Cc(t),h.fc(2).AllErr()}),h.Qc(1,"All Error"),h.Tb()}}function or(t,e){1&t&&h.Pb(0,"div",22)}function rr(t,e){1&t&&(h.Ub(0,"div",38),h.Qc(1,"Tuy\u1ec7t v\u1eddi, kh\xf4ng c\xf3 l\u1ed7i n\xe0o."),h.Pb(2,"img",39),h.Tb())}function sr(t,e){if(1&t&&(h.Pb(0,"img",51),h.gc(1,"mycdn")),2&t){const t=h.fc().$implicit;h.nc("src",h.hc(1,1,t.avatar),h.Gc)}}function ar(t,e){if(1&t&&h.Pb(0,"azt-create-avatar",52),2&t){const t=h.fc().$implicit;h.mc("nameCreateAvatar",t.fullname)("size",26)}}function cr(t,e){1&t&&(h.Ub(0,"div",53),h.Qc(1,"\u0110\xe3 xong"),h.Tb())}function lr(t,e){1&t&&(h.Ub(0,"div",54),h.Qc(1,"Ch\u01b0a xong"),h.Tb())}function dr(t,e){if(1&t){const t=h.Vb();h.Ub(0,"tr",64),h.Ub(1,"td",65),h.bc("click",function(){h.Cc(t);const i=e.$implicit;return h.fc(3).searchByEvent("userId",i.userId)}),h.Oc(2,sr,2,3,"img",42),h.Oc(3,ar,1,2,"azt-create-avatar",43),h.Ub(4,"span"),h.Qc(5),h.Tb(),h.Tb(),h.Ub(6,"td",66),h.bc("click",function(){h.Cc(t);const i=e.$implicit;return h.fc(3).openDialog(i.id)}),h.Qc(7),h.Tb(),h.Ub(8,"td",66),h.bc("click",function(){h.Cc(t);const i=e.$implicit;return h.fc(3).searchByEvent("url",i.url)}),h.Qc(9),h.Tb(),h.Ub(10,"td",66),h.bc("click",function(){h.Cc(t);const i=e.$implicit;return h.fc(3).openDialog(i.id)}),h.Qc(11),h.gc(12,"date"),h.Tb(),h.Ub(13,"td",66),h.bc("click",function(){h.Cc(t);const i=e.$implicit;return h.fc(3).openDialog(i.id)}),h.Oc(14,cr,2,0,"div",48),h.Oc(15,lr,2,0,"div",49),h.Tb(),h.Tb()}if(2&t){const t=e.$implicit;h.Cb(2),h.mc("ngIf",null!=t.avatar),h.Cb(1),h.mc("ngIf",null==t.avatar),h.Cb(2),h.Rc(t.fullname),h.Cb(2),h.Sc(" ",t.content," "),h.Cb(2),h.Sc(" ",t.url," "),h.Cb(2),h.Sc(" ",h.ic(12,8,t.createdAt,"dd/MM/yyyy HH:mm:ss")," "),h.Cb(3),h.mc("ngIf",1==t.status),h.Cb(1),h.mc("ngIf",0==t.status)}}function hr(t,e){if(1&t){const t=h.Vb();h.Ub(0,"div",23),h.Ub(1,"div",60),h.Ub(2,"div",25),h.Qc(3,"L\u1ed7i t\u1eeb ng\u01b0\u1eddi d\xf9ng: "),h.Tb(),h.Ub(4,"div",26),h.Qc(5),h.Tb(),h.Tb(),h.Oc(6,rr,3,0,"div",28),h.Ub(7,"table",61),h.Ub(8,"thead"),h.Ub(9,"tr",62),h.Ub(10,"td"),h.Qc(11," T\xean t\xe0i kho\u1ea3n "),h.Tb(),h.Ub(12,"td"),h.Qc(13," N\u1ed9i dung l\u1ed7i "),h.Tb(),h.Ub(14,"td"),h.Qc(15," Url "),h.Tb(),h.Ub(16,"td"),h.Qc(17," Ng\xe0y b\xe1o l\u1ed7i "),h.Tb(),h.Ub(18,"td"),h.Qc(19," Tr\u1ea1ng th\xe1i "),h.Tb(),h.Tb(),h.Tb(),h.Ub(20,"tbody"),h.Oc(21,dr,16,11,"tr",63),h.Tb(),h.Tb(),h.Ub(22,"div",36),h.Ub(23,"azt-paging",37),h.bc("SendPage",function(e){return h.Cc(t),h.fc(2).clickPage(e)}),h.Tb(),h.Tb(),h.Tb()}if(2&t){const t=h.fc(2);h.Cb(5),h.Sc("T\u1ed5ng s\u1ed1 l\u1ed7i: ",t.data.totalObjs,""),h.Cb(1),h.mc("ngIf",0==t.data.totalObjs),h.Cb(15),h.mc("ngForOf",t.trackLogs),h.Cb(2),h.mc("lengthPage",t.lengthPage)("paging",t.page)}}function br(t,e){if(1&t){const t=h.Vb();h.Ub(0,"div",55),h.Ub(1,"div",56),h.Ub(2,"div",57),h.Oc(3,nr,2,0,"a",6),h.Tb(),h.Tb(),h.Ub(4,"div",56),h.Ub(5,"div",57),h.Ub(6,"input",9,10),h.bc("keyup.enter",function(){return h.Cc(t),h.fc().search()}),h.Tb(),h.Pb(8,"div",11),h.Tb(),h.Tb(),h.Ub(9,"div",56),h.Ub(10,"div",57),h.Ub(11,"input",12,13),h.bc("keyup.enter",function(){return h.Cc(t),h.fc().search()}),h.Tb(),h.Tb(),h.Tb(),h.Ub(13,"div",56),h.Ub(14,"div",57),h.Ub(15,"input",14,15),h.bc("keyup.enter",function(){return h.Cc(t),h.fc().search()}),h.Tb(),h.Tb(),h.Tb(),h.Ub(17,"div",56),h.Ub(18,"div",58),h.Ub(19,"div",59),h.Qc(20," T\xecm ki\u1ebfm "),h.Ub(21,"mat-icon",17),h.bc("click",function(){return h.Cc(t),h.fc().search()}),h.Qc(22," search "),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Oc(23,or,1,0,"div",19),h.Oc(24,hr,24,5,"div",20),h.Tb()}if(2&t){const t=h.fc();h.Cb(3),h.mc("ngIf",1==t.showAllError&&!1===t.loading),h.Cb(3),h.nc("value",t.phone_search),h.Cb(5),h.nc("value",t.user_id_search),h.Cb(4),h.nc("value",t.url_search),h.Cb(8),h.mc("ngIf",!0===t.loading),h.Cb(1),h.mc("ngIf",t.data&&!1===t.loading)}}const ur=".content[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px}.search-icon[_ngcontent-%COMP%]{position:absolute;top:0;color:#0eafc0}.input-search[_ngcontent-%COMP%]{width:100%;border:2px solid rgba(204,201,201,.8901960784313725);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.icon_custom[_ngcontent-%COMP%]{vertical-align:middle;color:rgba(51,51,51,.5803921568627451);font-size:16px;height:20px;width:16px;margin-right:3px}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0eafc0;outline:none}.box[_ngcontent-%COMP%]:hover{background-color:#ecebeb}.buttom-done[_ngcontent-%COMP%]{float:right;color:#fff;max-width:87px;text-align:center;padding:4px 10px;border-radius:5px;background-color:#63d16f}.done[_ngcontent-%COMP%]{color:#fff!important;background-color:#63d16f!important}.buttom-slacking[_ngcontent-%COMP%]{float:right;color:#fff;max-width:87px;text-align:center;padding:4px 10px;border-radius:5px;background-color:#fd612c}.open[_ngcontent-%COMP%]{color:#fff!important;background-color:#fd612c!important}textarea[_ngcontent-%COMP%]{width:100%;border:1px solid #d4d4d4;overflow-y:hidden;padding:7px}.select-dropdown[_ngcontent-%COMP%]{float:right;background-color:#e6e6e6;width:105px;text-align:center;max-width:100%;border-radius:3px;padding:6px}.showFullImageScreen[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#1b2638;z-index:520;display:none;align-content:center;justify-content:center;align-items:center}.showFullImageScreen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:95%}.showFullImageScreen[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0;height:30px;width:30px;margin:10px;color:#f0f8ff;font-size:30px}.showFullImageScreen[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{background-color:#ccc;border-radius:3px}";let mr=(()=>{class t{constructor(t,e,i){this.commonService=t,this.apiService=e,this.dialog=i,this.page=1,this.form=new s.k({}),this.eventSearch="",this.pageSearch=1,this.showAllError=!1,this.loading=!1,this.statusShearch=!1,this.phone_search="",this.url_search="",this.user_id_search="",this.isMobile=!1}AllErr(){this.commonService.myNavigationWithQueryString("/auth/report_error",""),this.getParamUrl("","",""),this.GetTrackLogObjs()}GetTrackLogObjs(){this.statusShearch=!1,this.loading=!0,this.apiService.GetTrackLogObjs(this.page).subscribe(t=>{1==t.success?(this.trackLogs=t.data.trackLogs,this.data=t.data,this.lengthPage=Math.ceil(t.data.totalObjs/18),this.showAllError=!1,this.loading=!1):(this.loading=!1,this.commonService.snackError("L\u1ed7i: kh\xf4ng l\u1ea5y \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u","\u0110\xf3ng"))})}SearchTrackLogObjs(){this.loading=!0,this.apiService.SearchTrackLogObjs(this.page,this.eventSearch).subscribe(t=>{1==t.success?(this.trackLogs=t.data.trackLogs,this.data=t.data,this.lengthPage=Math.ceil(t.data.totalObjs/18),this.showAllError=!0,this.loading=!1):(this.loading=!1,this.commonService.snackError("L\u1ed7i: th\xf4ng tin b\u1ea1n t\xecm kh\xf4ng t\u1ed3n t\u1ea1i","\u0110\xf3ng"))})}searchByEvent(t,e){this.statusShearch=!0,this.page=1,this.loading=!0,this.eventSearch=("userId"==t?"&userId="+e:"")+("url"==t?"&url="+e:""),this.changeLink(),this.getParamUrl("","userId"==t?e:"","url"==t?e:""),this.SearchTrackLogObjs()}search(){this.statusShearch=!0,this.page=1,this.loading=!0;var t=this.fondovalor1.nativeElement.value,e=this.fondovalor2.nativeElement.value,i=this.fondovalor3.nativeElement.value,n=""==t?"":"&userPhone="+t,o=""==e?"":"&userId="+e,r=""==i?"":"&url="+i;""!=e||""!=t||""!=i?(this.eventSearch=n+o+r,this.changeLink(),this.getParamUrl(t,e,i),this.SearchTrackLogObjs()):""!=e&&""!=t&&""!=i||(this.eventSearch=n+o+r,this.AllErr())}dataProcessing(t){for(var e=0;e<this.trackLogs.length;e++)this.trackLogs[e].id==t&&(this.sendDialog={id:this.trackLogs[e].id,fullname:this.trackLogs[e].fullname,createdAt:this.trackLogs[e].createdAt,content:this.trackLogs[e].content,avarta:this.trackLogs[e].avarta,status:this.trackLogs[e].status,url:this.trackLogs[e].url,screenshot:this.trackLogs[e].screenshot})}openDialog(t){this.dataProcessing(t),this.dialog.open(pr,{width:"750px",height:"80%",data:this.sendDialog}).afterClosed().subscribe(t=>{"save"==t&&this.GetTrackLogObjs()})}clickPage(t){this.page=t,0==this.statusShearch?this.GetTrackLogObjs():1==this.statusShearch&&this.SearchTrackLogObjs(),this.changeLink()}changeLink(){this.commonService.myNavigationWithQueryString("/auth/report_error","?page="+this.page+this.eventSearch)}eventHandling(){var t=this.commonService.getMyQueryParam("page"),e=this.commonService.getMyQueryParam("userPhone"),i=this.commonService.getMyQueryParam("userId"),n=this.commonService.getMyQueryParam("url"),o=""==e?"":"&userPhone="+e,r=""==i?"":"&userId="+i,s=""==n?"":"&url="+n;this.getParamUrl(e,i,n),this.page=parseInt(""==t?1:t),""!=o||""!=r||""!=s?(this.statusShearch=!0,this.eventSearch=o+r+s,this.SearchTrackLogObjs()):this.GetTrackLogObjs()}checkDevice(){this.isMobile=window.innerWidth<768}getParamUrl(t,e,i){this.phone_search=t,this.user_id_search=e,this.url_search=i}ngOnInit(){this.eventHandling(),this.commonService.translateMetaData({title:"lang_cms_error_management_title",description:"lang_cms_error_management_description",image:"lang_cms_test_image"}),this.checkDevice()}}return t.\u0275fac=function(e){return new(e||t)(h.Ob(b.a),h.Ob(u.a),h.Ob(Fo.b))},t.\u0275cmp=h.Ib({type:t,selectors:[["app-error-management"]],viewQuery:function(t,e){if(1&t&&(h.Xc(Bo,!0),h.Xc($o,!0),h.Xc(Ho,!0)),2&t){let t;h.xc(t=h.cc())&&(e.fondovalor1=t.first),h.xc(t=h.cc())&&(e.fondovalor2=t.first),h.xc(t=h.cc())&&(e.fondovalor3=t.first)}},decls:3,vars:4,consts:[[3,"headerTitle","back_link"],["class","content  fluid-container pb-4 m-3",4,"ngIf"],["class","content  fluid-container m-3","style","padding: 10px;",4,"ngIf"],[1,"content","fluid-container","pb-4","m-3"],[1,"header-content","row","m-0","pt-2","pb-2"],[1,"col-2"],[3,"click",4,"ngIf"],[1,"col-3"],[2,"position","relative"],["type","text","placeholder","Nh\u1eadp s\u1ed1 phone",1,"input-search",3,"value","keyup.enter"],["fondovalor1",""],[1,"search-icon","clickable"],["type","text","placeholder","Nh\u1eadp id ng\u01b0\u1eddi d\xf9ng",1,"input-search",3,"value","keyup.enter"],["fondovalor2",""],["type","text","placeholder","Nh\u1eadp url",1,"input-search",3,"value","keyup.enter"],["fondovalor3",""],[1,"col-1"],[1,"search-ver",2,"vertical-align","middle","font-size","27px","height","27px","width","27px",3,"click"],[1,"mt-0"],["class","spinner-border spinner-border-sm","role","status","style","margin: 20px 50%;",4,"ngIf"],["class","ml-4 mr-4",4,"ngIf"],[3,"click"],["role","status",1,"spinner-border","spinner-border-sm",2,"margin","20px 50%"],[1,"ml-4","mr-4"],[1,"row","m-0"],[1,"col-6","p-0",2,"font-weight","bold","font-size","16px"],[1,"col-6","p-0","text-right"],[1,"m-0","mt-1",2,"border-top","1px solid black"],["class","text-center m-5",4,"ngIf"],[1,"row","pt-1","pb-1","m-2"],[1,"col-2","p-0",2,"display","flex","align-items","center","font-weight","bold"],[1,"col-4",2,"display","flex","align-items","center","font-weight","bold"],[1,"col-3",2,"display","flex","align-items","center","font-weight","bold"],[1,"col-1","p-0","pr-1","d-flex","justify-content-end",2,"font-weight","bold"],[1,"m-0","mt-1"],[4,"ngFor","ngForOf"],[1,"mt-5"],[3,"lengthPage","paging","SendPage"],[1,"text-center","m-5"],["src","https://classlive.stume.net/images/emoji/emoji4.gif","alt","","width","20"],[1,"row","pt-3","pb-3","m-0","box"],[1,"col-2","p-0","clickable",2,"word-break","break-all","display","flex","align-items","center",3,"click"],["style","border-radius: 50%; margin: 0 5px","width","26","height","26",3,"src",4,"ngIf"],[3,"nameCreateAvatar","size",4,"ngIf"],[1,"col-4","clickable",2,"display","flex","align-items","center",3,"click"],[1,"col-3","clickable",2,"display","flex","align-items","center","word-break","break-all",3,"click"],[1,"col-2","p-0","clickable",2,"color","darkgray","display","flex","align-items","center",3,"click"],[1,"col-1","p-0","pr-1","clickable",3,"click"],["class","buttom-done",4,"ngIf"],["class","buttom-slacking",4,"ngIf"],[1,"m-0"],["width","26","height","26",2,"border-radius","50%","margin","0 5px",3,"src"],[3,"nameCreateAvatar","size"],[1,"buttom-done"],[1,"buttom-slacking"],[1,"content","fluid-container","m-3",2,"padding","10px"],[1,"row","pb-3","m-0"],[1,"col-12"],[1,"col-12","text-right"],[1,"search-icon","clickable",2,"position","unset"],[1,"row","m-0","pb-3"],[1,"table","table-responsive","mb-3"],[2,"vertical-align","middle","font-weight","bold","text-align","center"],["style","text-align: center;",4,"ngFor","ngForOf"],[2,"text-align","center"],[1,"clickable",2,"vertical-align","middle","text-align","center",3,"click"],[1,"clickable",3,"click"]],template:function(t,e){1&t&&(h.Pb(0,"header-backend",0),h.Oc(1,ir,24,6,"div",1),h.Oc(2,br,25,6,"div",2)),2&t&&(h.mc("headerTitle","L\u1ed7i t\u1eeb ng\u01b0\u1eddi d\xf9ng")("back_link","/admin/testbank/dashboard"),h.Cb(1),h.mc("ngIf",0==e.isMobile),h.Cb(1),h.mc("ngIf",1==e.isMobile))},directives:[m.a,o.m,T.a,o.l,zo.a,qo.a],pipes:[o.e,k.m],styles:[ur]}),t})(),pr=(()=>{class t{constructor(t,e,i,n){this.apiService=t,this.commonService=e,this.dialogRef=i,this.data=n,this.isLoading=!1,this.status=!1}ngOnInit(){this.status="1"==this.data.status.toString()}onNoClick(){this.dialogRef.close("cancel")}toggleStatus(){1==this.status?this.status=!1:0==this.status&&(this.status=!0)}SaveStatusTrackLog(){this.apiService.SaveStatusTrackLog({id:this.data.id,status:1==this.status?"1":"0",content:this.content}).subscribe(t=>{1==t.success?(this.dialogRef.close("save"),this.commonService.snackSuccess("\u0110\xe3 l\u01b0u th\xe0nh c\xf4ng","")):this.commonService.snackError("L\u1ed7i: kh\xf4ng l\u01b0u d\u01b0\u1ee3c d\u1eef li\u1ec7u","\u0110\xf3ng")})}autoResize(t,e){if(1==e){var i=document.getElementById("text");setTimeout(function(){i.style.cssText="height:auto;",i.style.cssText="height:"+i.scrollHeight+"px"},0)}else i=document.getElementById("text"),setTimeout(function(){i.style.cssText="height:auto;",i.style.cssText="height:"+i.scrollHeight+"px"},0)}resizeImage(){document.getElementById("imageResize").style.display="flex"}resizeImageRemove(){document.getElementById("imageResize").style.display="none"}MyTextarea(t){this.content=t.target.value}}return t.\u0275fac=function(e){return new(e||t)(h.Ob(u.a),h.Ob(b.a),h.Ob(Fo.g),h.Ob(Fo.a))},t.\u0275cmp=h.Ib({type:t,selectors:[["dialog-overview-example-dialog"]],decls:35,vars:17,consts:[[1,"row"],[1,"col-6"],[2,"float","right"],["color","primary",2,"vertical-align","middle",3,"checked","change"],[1,"m-0"],[2,"word-break","break-all",3,"href"],[1,"row","m-0","mb-3"],[1,"text-center","col-12",2,"height","150px"],["alt","","height","150",3,"src","click"],[1,"mb-3"],["placeholder","Nh\u1eadp n\u1ed9i dung","id","text",2,"overflow-y","none",3,"keyup","change"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-danger","mr-3",3,"mat-dialog-close","click"],["type","button",1,"btn","btn-primary",3,"click"],["id","imageResize",1,"showFullImageScreen"],["alt","",3,"src","click"],[1,"clickable",3,"click"]],template:function(t,e){1&t&&(h.Ub(0,"div"),h.Ub(1,"div",0),h.Ub(2,"h3",1),h.Qc(3),h.Tb(),h.Ub(4,"div",1),h.Ub(5,"div",2),h.Ub(6,"mat-slide-toggle",3),h.bc("change",function(){return e.toggleStatus()}),h.Tb(),h.Qc(7),h.Tb(),h.Tb(),h.Tb(),h.Ub(8,"h2",4),h.Qc(9),h.Tb(),h.Ub(10,"h4",4),h.Qc(11,"Url: "),h.Ub(12,"a",5),h.Qc(13),h.Tb(),h.Tb(),h.Ub(14,"h5"),h.Qc(15),h.gc(16,"date"),h.Tb(),h.Ub(17,"div",6),h.Ub(18,"div",7),h.Ub(19,"img",8),h.bc("click",function(){return e.resizeImage()}),h.gc(20,"mycdn"),h.Tb(),h.Tb(),h.Tb(),h.Ub(21,"div",9),h.Ub(22,"h4",4),h.Qc(23,"Comment"),h.Tb(),h.Ub(24,"textarea",10),h.bc("keyup",function(t){return e.autoResize(t,1)})("change",function(t){return e.MyTextarea(t)}),h.Tb(),h.Tb(),h.Ub(25,"div",11),h.Ub(26,"button",12),h.bc("click",function(){return e.onNoClick()}),h.Qc(27,"H\u1ee7y"),h.Tb(),h.Ub(28,"button",13),h.bc("click",function(){return e.SaveStatusTrackLog()}),h.Qc(29,"G\u1eedi"),h.Tb(),h.Tb(),h.Tb(),h.Ub(30,"div",14),h.Ub(31,"img",15),h.bc("click",function(){return e.resizeImage()}),h.gc(32,"mycdn"),h.Tb(),h.Ub(33,"mat-icon",16),h.bc("click",function(){return e.resizeImageRemove()}),h.Qc(34,"clear"),h.Tb(),h.Tb()),2&t&&(h.Cb(3),h.Sc(" T\xe0i kho\u1ea3n: ",e.data.fullname," "),h.Cb(3),h.mc("checked",1==e.status),h.Cb(1),h.Sc(" ",1==e.status?" \u0110\xe3 xong":" Ch\u01b0a xong"," "),h.Cb(2),h.Sc("L\u1ed7i: ",e.data.content,""),h.Cb(3),h.nc("href",e.data.url,h.Gc),h.Cb(1),h.Rc(e.data.url),h.Cb(2),h.Sc("Ng\xe0y B\xe1o l\u1ed7i: ",h.ic(16,10,e.data.createdAt,"dd/MM/yyyy HH:mm:ss"),""),h.Cb(4),h.nc("src",h.hc(20,13,e.data.screenshot),h.Gc),h.Cb(7),h.mc("mat-dialog-close","cancel"),h.Cb(5),h.nc("src",h.hc(32,15,e.data.screenshot),h.Gc))},directives:[Vo.a,Fo.d,T.a],pipes:[o.e,k.m],styles:[ur]}),t})();function gr(t,e){1&t&&(h.Ub(0,"div",19),h.Ub(1,"span"),h.Pb(2,"span",20),h.Tb(),h.Pb(3,"br"),h.Ub(4,"p",21),h.Qc(5,"B\xe0i l\xe0m \u0111ang \u0111\u01b0\u1ee3c t\u1ea3i l\xean. Vui l\xf2ng \u0111\u1ee3i trong gi\xe2y l\xe1t!"),h.Tb(),h.Tb())}const fr=function(t){return{"width.%":t}};function vr(t,e){if(1&t&&(h.Ub(0,"div",24),h.Ub(1,"p",25),h.Qc(2),h.Tb(),h.Ub(3,"div",26),h.Pb(4,"div",27),h.Tb(),h.Tb()),2&t){const t=e.$implicit;h.Cb(2),h.Rc(t.fileName),h.Cb(2),h.mc("ngStyle",h.rc(2,fr,t.uploadProgress))}}function _r(t,e){if(1&t&&(h.Ub(0,"div",22),h.Oc(1,vr,5,4,"div",23),h.Tb()),2&t){const t=h.fc();h.Cb(1),h.mc("ngForOf",t.convertObjToArray(t.fileUploadQueue))}}function Tr(t,e){if(1&t){const t=h.Vb();h.Ub(0,"span",35),h.bc("click",function(){h.Cc(t);const e=h.fc().$implicit;return h.fc(2).removeImg(e.url)}),h.Ub(1,"mat-icon"),h.Qc(2,"cancel"),h.Tb(),h.Tb()}}function yr(t,e){1&t&&(h.Ub(0,"span",36),h.Ub(1,"mat-icon",37),h.Qc(2,"check_box_outline"),h.Tb(),h.Tb())}function Cr(t,e){if(1&t&&(h.Ub(0,"div",29),h.Ub(1,"a",30),h.Ub(2,"mat-icon",31),h.Qc(3,"attach_file"),h.Tb(),h.Ub(4,"span",32),h.Qc(5),h.Tb(),h.Tb(),h.Oc(6,Tr,3,0,"span",33),h.Oc(7,yr,3,0,"span",34),h.Tb()),2&t){const t=e.$implicit,i=h.fc(2);h.Cb(4),h.mc("matTooltip",t.name),h.Cb(1),h.Rc(t.name),h.Cb(1),h.mc("ngIf",1!=i.isSuccess),h.Cb(1),h.mc("ngIf",i.isSuccess)}}function Ur(t,e){if(1&t&&(h.Ub(0,"div",22),h.Oc(1,Cr,8,4,"div",28),h.Tb()),2&t){const t=h.fc();h.Cb(1),h.mc("ngForOf",t.uploadFiles)}}let kr=(()=>{class t{constructor(t,e,i){this.formBuilder=t,this.commonService=e,this.apiService=i,this.subscriptions=new l.a,this.form=new s.k({}),this.isLoading=!1,this.logs=[],this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.isSuccess=!1,this.uploadCount=0,this.uploadFiles=[],this.fileUploadQueue={},this.uploadFile=(t,e)=>{var i=this.commonService.getFormObj(this.form);this.apiService.uploadMnoteToCdnProgress(i.folder_name,t).subscribe(i=>{if(0==i.success)this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau!","");else if(i.type&&i.type==de.c.UploadProgress){var n=Math.round(i.loaded/i.total*100);this.fileUploadQueue.hasOwnProperty(e)?(this.fileUploadQueue[e].uploadProgress=n,this.fileUploadQueue[e].fileName=t.name):this.fileUploadQueue[e]={uploadProgress:0,fileName:t.name}}else i.successUpload&&1==i.successUpload&&(delete this.fileUploadQueue[e],Array.isArray(this.uploadFiles)||(this.uploadFiles=[]),this.uploadFiles.push(Object.assign({},i.data)),this.status_obj={loading:!1,error:!1,error_obj:{message:""}})},t=>{this.logs.push("Err:"+t)})},this.answerFile=null}selectFile(t){let e=t.target.files;try{for(var i in e)"length"!=i&&"item"!=i&&(this.answerFile=e?e[i]:this.answerFile,this.answerFile&&(this.isSuccess=!1,this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.uploadFile(this.answerFile,this.uploadCount),this.uploadCount+=1));t.target.value=""}catch(n){alert("\u0110\xe3 x\u1ea3y ra l\u1ed7i:"+n)}}convertObjToArray(t){var e=[];for(var i in t)e.push(t[i]);return e}removeImg(t){var e=this.uploadFiles.filter(e=>e.url!==t);this.uploadFiles=e}ngOnInit(){this.form=this.formBuilder.group({folder_name:[""]})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Ob(s.g),h.Ob(b.a),h.Ob(u.a))},t.\u0275cmp=h.Ib({type:t,selectors:[["app-upload-mnote"]],decls:26,vars:4,consts:[[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"rowr"],[1,"form-group"],[1,"col-sm-12","control-label"],[1,"col-sm-12"],["type","text","formControlName","folder_name",1,"form-control"],["id","component-upload-image-mobile"],[1,"card-box"],[1,"description"],["class","text-center m-4",4,"ngIf"],["class","row ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container",4,"ngIf"],[1,"summitForm","pt-5","pb-5"],[1,"row","pl-3","pr-3"],[1,"col-12","text-center","v-dragndrop"],[1,"px-4","py-3","rounded",2,"cursor","pointer",3,"click"],[1,"file"],["id","select-upload-file",1,"align-self-center","select","dz-clickable"],["type","file","id","file_select","multiple","",1,"form-control","d-none",3,"change"],["fileSelect",""],[1,"text-center","m-4"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"h5"],[1,"row","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container"],["class","col-6 col-sm-6 col-md-4 col-xl-2 col-lg-2",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-4","col-xl-2","col-lg-2"],[1,"h5","truncate"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngStyle"],["class","col-12 box-file mt-2",4,"ngFor","ngForOf"],[1,"col-12","box-file","mt-2"],["target","_blank",1,"clickable",2,"display","flex","margin-top","3px","font-size","14px"],[2,"font-size","20px","vertical-align","sub"],[1,"truncate",2,"line-height","1.6","max-width","75%",3,"matTooltip"],["class","notify-badge",3,"click",4,"ngIf"],["class","notify-badge",4,"ngIf"],[1,"notify-badge",3,"click"],[1,"notify-badge"],[2,"color","rgb(26,188,0)"]],template:function(t,e){if(1&t){const t=h.Vb();h.Ub(0,"form",0),h.Ub(1,"div",1),h.Ub(2,"div",2),h.Ub(3,"label",3),h.Qc(4,"Folder (V\xed d\u1ee5 images)"),h.Tb(),h.Ub(5,"div",4),h.Pb(6,"input",5),h.Tb(),h.Tb(),h.Tb(),h.Ub(7,"div",6),h.Ub(8,"div",7),h.Ub(9,"div",8),h.Oc(10,gr,6,0,"div",9),h.Oc(11,_r,2,1,"div",10),h.Oc(12,Ur,2,1,"div",10),h.Tb(),h.Ub(13,"div",11),h.Ub(14,"div",12),h.Ub(15,"div",13),h.Ub(16,"div",14),h.bc("click",function(){return h.Cc(t),h.yc(22).click()}),h.Ub(17,"div",15),h.Ub(18,"a",16),h.Ub(19,"mat-icon"),h.Qc(20,"attach_file"),h.Tb(),h.Ub(21,"input",17,18),h.bc("change",function(t){return e.selectFile(t)}),h.Tb(),h.Tb(),h.Pb(23,"br"),h.Ub(24,"span"),h.Qc(25,"Ch\u1ecdn file"),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb()}2&t&&(h.mc("formGroup",e.form),h.Cb(10),h.mc("ngIf",e.status_obj.loading),h.Cb(1),h.mc("ngIf",e.convertObjToArray(e.fileUploadQueue).length>0),h.Cb(1),h.mc("ngIf",e.uploadFiles.length>0))},directives:[s.B,s.s,s.l,s.d,s.r,s.j,o.m,T.a,o.l,o.n,he.a],styles:[".card-box[_ngcontent-%COMP%]{width:100%;border:1px solid #00a7d0}.top-row[_ngcontent-%COMP%]{background-color:#00a7d0;margin:0;padding:10px}.text-white[_ngcontent-%COMP%]{color:#fff}.text-white[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.description[_ngcontent-%COMP%], .files[_ngcontent-%COMP%]{background:inherit;background-color:#f2f2f2;box-sizing:border-box;border:1px solid #e5e5e5;border-left:0;border-right:0;border-radius:0;border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:0;box-shadow:none;padding:0 10px}.description[_ngcontent-%COMP%]{padding:10px 10px 0}.files[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:10px 20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.students[_ngcontent-%COMP%]{border-width:0;background:inherit;background-color:#fff;box-sizing:border-box;border-radius:3px;box-shadow:0 0 5px rgba(0,0,0,.062745098)}.list-student[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;background:inherit;background-color:#fafafa;box-sizing:border-box;padding:10px 15px;border:1px solid #e0e0e0;border-radius:3px;box-shadow:none;font-weight:400;font-style:bold;display:block}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:100px}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;line-height:1.5}.pl-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.pr-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pb-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pt-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-top:1rem!important}.btn-warm-orange[_ngcontent-%COMP%]{background:#ff7f45;border:1px solid #ff7f45}.btn[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:hover{color:#fff}.btn[_ngcontent-%COMP%]{cursor:pointer;transition:0s}.text-dark-green[_ngcontent-%COMP%]{color:#1caba0!important}.d-block[_ngcontent-%COMP%]{display:block!important}.small[_ngcontent-%COMP%], small[_ngcontent-%COMP%]{font-size:80%;font-weight:400}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.item[_ngcontent-%COMP%]{position:relative;display:inline-block}.notify-badge[_ngcontent-%COMP%]{color:#afafaf;font-size:20px;cursor:pointer}.description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.flex-title[_ngcontent-%COMP%]{display:flex;align-items:center}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00a7d0;cursor:pointer;margin-left:5px}.flex-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;line-height:1.4;font-weight:500}.img-container[_ngcontent-%COMP%]{overflow:hidden;position:relative;height:90px;width:90px;margin:0 0 10px 10px;border-radius:7px}.img-responsive[_ngcontent-%COMP%]{position:absolute;width:100%;height:auto;left:50%;top:50%;transform:translate(-50%,-50%)}.attach-container[_ngcontent-%COMP%]{padding:10px 0 0}.maxW1200[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}@font-face{font-family:handwriting_font;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/HP0015HB.ttf)}._col-left[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:35px}._col-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:5rem;color:#ff0024}._col-right[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;line-height:1.4;font-size:20px;font-family:handwriting_font!important}._col-left_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:10px}._col-left_result[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:3rem;color:#ff0024}._col-right_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right_result[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right_result[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;font-size:16px;line-height:1.4;font-family:handwriting_font!important}.files[_ngcontent-%COMP%]{cursor:pointer}.testbank[_ngcontent-%COMP%]{padding-top:40px;text-align:left}.testbank__title[_ngcontent-%COMP%]{font-size:large;font-weight:500}.testbank_fileitem[_ngcontent-%COMP%]{display:flex;color:#00a7d0;margin-top:15px}.testbank_fileitem_icon[_ngcontent-%COMP%]{margin-right:5px}.testbank_fileitem_name[_ngcontent-%COMP%]{margin-right:10px}.testbank_fileitem_info_resualt[_ngcontent-%COMP%]{color:#000;font-weight:500;font-size:small;margin-right:15px}.testbank_fileitem_info_time[_ngcontent-%COMP%]{color:#9d9d9d}.testbank_fileitem_info_btn_submit[_ngcontent-%COMP%]{text-transform:uppercase;cursor:pointer;font-weight:500}@media (max-width:768px){.dropzone[_ngcontent-%COMP%]{min-width:100px}._col-left[_ngcontent-%COMP%], ._col-left_result[_ngcontent-%COMP%]{margin-bottom:20px}.testbank_fileitem[_ngcontent-%COMP%]{flex-wrap:wrap}}@media (max-width:576px){.flex-title[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:5px;margin-left:0}}.box-file[_ngcontent-%COMP%]{padding:10px;display:flex;justify-content:space-between;align-items:center;border:1px solid #e0e0e0;border-radius:5px}"]}),t})();var Or=i("jhN1"),wr=i("nzN9"),Ir=i("wZkO"),Pr=i("d3UM");function Sr(t,e){1&t&&h.Pb(0,"azt-loading-effect")}function xr(t,e){if(1&t&&(h.Ub(0,"mat-option",31),h.Qc(1),h.Tb()),2&t){const t=e.$implicit;h.mc("value",t.id),h.Cb(1),h.Sc(" ",t.name," ")}}function Mr(t,e){1&t&&(h.Ub(0,"div",32),h.Qc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn t\u1ec9nh th\xe0nh. "),h.Tb())}function Er(t,e){1&t&&(h.Ub(0,"div",32),h.Qc(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng t\xean huy\u1ec7n. "),h.Tb())}function jr(t,e){if(1&t&&(h.Ub(0,"mat-option",31),h.Qc(1),h.Tb()),2&t){const t=e.$implicit;h.mc("value",t.id),h.Cb(1),h.Sc(" ",t.name," ")}}function Lr(t,e){1&t&&(h.Ub(0,"div",32),h.Qc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn t\u1ec9nh th\xe0nh. "),h.Tb())}function Nr(t,e){if(1&t&&(h.Ub(0,"mat-option",31),h.Qc(1),h.Tb()),2&t){const t=e.$implicit;h.mc("value",t.id),h.Cb(1),h.Sc(" ",t.name," ")}}function Rr(t,e){1&t&&(h.Ub(0,"div",32),h.Qc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn huy\u1ec7n. "),h.Tb())}function Dr(t,e){if(1&t&&(h.Ub(0,"mat-option",31),h.Qc(1),h.Tb()),2&t){const t=e.$implicit;h.mc("value",t.id),h.Cb(1),h.Sc(" ",t.name," ")}}function Ar(t,e){1&t&&(h.Ub(0,"div",32),h.Qc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn c\u1ea5p h\u1ecdc. "),h.Tb())}function Qr(t,e){1&t&&(h.Ub(0,"div",32),h.Qc(1," B\u1ea1n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng t\xean tr\u01b0\u1eddng. "),h.Tb())}function Fr(t,e){if(1&t&&(h.Ub(0,"mat-option",31),h.Qc(1),h.Tb()),2&t){const t=e.$implicit;h.mc("value",t.id),h.Cb(1),h.Sc(" ",t.name," ")}}function zr(t,e){1&t&&(h.Ub(0,"div",32),h.Qc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn t\u1ec9nh th\xe0nh. "),h.Tb())}function qr(t,e){if(1&t&&(h.Ub(0,"mat-option",31),h.Qc(1),h.Tb()),2&t){const t=e.$implicit;h.mc("value",t.id),h.Cb(1),h.Sc(" ",t.name," ")}}function Vr(t,e){1&t&&(h.Ub(0,"div",32),h.Qc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn huy\u1ec7n. "),h.Tb())}function Br(t,e){1&t&&(h.Ub(0,"div",32),h.Qc(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng t\xean huy\u1ec7n. "),h.Tb())}function $r(t,e){if(1&t&&(h.Ub(0,"mat-option",31),h.Qc(1),h.Tb()),2&t){const t=e.$implicit;h.mc("value",t.id),h.Cb(1),h.Sc(" ",t.name," ")}}function Hr(t,e){1&t&&(h.Ub(0,"div",32),h.Qc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn t\u1ec9nh th\xe0nh. "),h.Tb())}function Wr(t,e){if(1&t&&(h.Ub(0,"mat-option",31),h.Qc(1),h.Tb()),2&t){const t=e.$implicit;h.mc("value",t.id),h.Cb(1),h.Sc(" ",t.name," ")}}function Gr(t,e){1&t&&(h.Ub(0,"div",32),h.Qc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn huy\u1ec7n. "),h.Tb())}function Kr(t,e){if(1&t&&(h.Ub(0,"mat-option",31),h.Qc(1),h.Tb()),2&t){const t=e.$implicit;h.mc("value",t.id),h.Cb(1),h.Sc(" ",t.name," ")}}function Yr(t,e){1&t&&(h.Ub(0,"div",32),h.Qc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn c\u1ea5p h\u1ecdc. "),h.Tb())}function Jr(t,e){if(1&t&&(h.Ub(0,"mat-option",31),h.Qc(1),h.Tb()),2&t){const t=e.$implicit;h.mc("value",t.id),h.Cb(1),h.Sc(" ",t.name," ")}}function Xr(t,e){1&t&&(h.Ub(0,"div",32),h.Qc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn tr\u01b0\u1eddng. "),h.Tb())}function Zr(t,e){1&t&&(h.Ub(0,"div",32),h.Qc(1," B\u1ea1n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng t\xean tr\u01b0\u1eddng. "),h.Tb())}function ts(t,e){if(1&t){const t=h.Vb();h.Ub(0,"div",3),h.Ub(1,"div",4),h.Ub(2,"div",5),h.Ub(3,"mat-tab-group",6),h.bc("selectedIndexChange",function(e){return h.Cc(t),h.fc().selectedIndexChange(e)}),h.Ub(4,"mat-tab",7),h.Ub(5,"form",8),h.Ub(6,"div",9),h.Ub(7,"label",10),h.Qc(8,"Ch\u1ecdn t\u1ec9nh th\xe0nh"),h.Tb(),h.Ub(9,"mat-form-field",11),h.Ub(10,"mat-select",12),h.Oc(11,xr,2,2,"mat-option",13),h.Tb(),h.Tb(),h.Oc(12,Mr,2,0,"div",14),h.Tb(),h.Ub(13,"div",9),h.Ub(14,"label",10),h.Qc(15,"Th\xeam t\xean huy\u1ec7n"),h.Tb(),h.Ub(16,"div",15),h.Pb(17,"textarea",16),h.Oc(18,Er,2,0,"div",14),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Ub(19,"mat-tab",17),h.Ub(20,"form",8),h.Ub(21,"div",9),h.Ub(22,"label",10),h.Qc(23,"Ch\u1ecdn t\u1ec9nh th\xe0nh"),h.Tb(),h.Ub(24,"mat-form-field",11),h.Ub(25,"mat-select",18),h.bc("selectionChange",function(e){return h.Cc(t),h.fc().selectLocation(e.value)}),h.Oc(26,jr,2,2,"mat-option",13),h.Tb(),h.Tb(),h.Oc(27,Lr,2,0,"div",14),h.Tb(),h.Ub(28,"div",9),h.Ub(29,"label",10),h.Qc(30,"Ch\u1ecdn huy\u1ec7n"),h.Tb(),h.Ub(31,"mat-form-field",11),h.Ub(32,"mat-select",19),h.bc("valueChange",function(e){return h.Cc(t),h.fc().department_select=e}),h.Oc(33,Nr,2,2,"mat-option",13),h.Tb(),h.Tb(),h.Oc(34,Rr,2,0,"div",14),h.Tb(),h.Ub(35,"div",9),h.Ub(36,"label",10),h.Qc(37,"Ch\u1ecdn c\u1ea5p h\u1ecdc"),h.Tb(),h.Ub(38,"mat-form-field",11),h.Ub(39,"mat-select",20),h.Oc(40,Dr,2,2,"mat-option",13),h.Tb(),h.Tb(),h.Oc(41,Ar,2,0,"div",14),h.Tb(),h.Ub(42,"div",9),h.Ub(43,"label",10),h.Qc(44,"Th\xeam t\xean tr\u01b0\u1eddng"),h.Tb(),h.Ub(45,"div",15),h.Pb(46,"textarea",21),h.Tb(),h.Oc(47,Qr,2,0,"div",14),h.Tb(),h.Tb(),h.Tb(),h.Ub(48,"mat-tab",22),h.Ub(49,"form",8),h.Ub(50,"div",9),h.Ub(51,"label",10),h.Qc(52,"Ch\u1ecdn t\u1ec9nh th\xe0nh"),h.Tb(),h.Ub(53,"mat-form-field",11),h.Ub(54,"mat-select",18),h.bc("selectionChange",function(e){return h.Cc(t),h.fc().selectLocation(e.value)}),h.Oc(55,Fr,2,2,"mat-option",13),h.Tb(),h.Tb(),h.Oc(56,zr,2,0,"div",14),h.Tb(),h.Ub(57,"div",9),h.Ub(58,"label",10),h.Qc(59,"Ch\u1ecdn huy\u1ec7n"),h.Tb(),h.Ub(60,"mat-form-field",11),h.Ub(61,"mat-select",19),h.bc("valueChange",function(e){return h.Cc(t),h.fc().department_select=e}),h.Oc(62,qr,2,2,"mat-option",13),h.Tb(),h.Tb(),h.Oc(63,Vr,2,0,"div",14),h.Tb(),h.Ub(64,"div",9),h.Ub(65,"label",10),h.Qc(66,"S\u1eeda t\xean huy\u1ec7n"),h.Tb(),h.Ub(67,"div",15),h.Pb(68,"input",23),h.Tb(),h.Oc(69,Br,2,0,"div",14),h.Tb(),h.Tb(),h.Tb(),h.Ub(70,"mat-tab",24),h.Ub(71,"form",8),h.Ub(72,"div",9),h.Ub(73,"label",10),h.Qc(74,"Ch\u1ecdn t\u1ec9nh th\xe0nh"),h.Tb(),h.Ub(75,"mat-form-field",11),h.Ub(76,"mat-select",18),h.bc("selectionChange",function(e){return h.Cc(t),h.fc().selectLocation(e.value)}),h.Oc(77,$r,2,2,"mat-option",13),h.Tb(),h.Tb(),h.Oc(78,Hr,2,0,"div",14),h.Tb(),h.Ub(79,"div",9),h.Ub(80,"label",10),h.Qc(81,"Ch\u1ecdn huy\u1ec7n"),h.Tb(),h.Ub(82,"mat-form-field",11),h.Ub(83,"mat-select",19),h.bc("valueChange",function(e){return h.Cc(t),h.fc().department_select=e}),h.Oc(84,Wr,2,2,"mat-option",13),h.Tb(),h.Tb(),h.Oc(85,Gr,2,0,"div",14),h.Tb(),h.Ub(86,"div",9),h.Ub(87,"label",10),h.Qc(88,"Ch\u1ecdn c\u1ea5p h\u1ecdc"),h.Tb(),h.Ub(89,"mat-form-field",11),h.Ub(90,"mat-select",25),h.bc("valueChange",function(e){return h.Cc(t),h.fc().level_select=e})("selectionChange",function(e){return h.Cc(t),h.fc().selectLevel(e.value)}),h.Oc(91,Kr,2,2,"mat-option",13),h.Tb(),h.Tb(),h.Oc(92,Yr,2,0,"div",14),h.Tb(),h.Ub(93,"div",9),h.Ub(94,"label",10),h.Qc(95,"Ch\u1ecdn tr\u01b0\u1eddng"),h.Tb(),h.Ub(96,"mat-form-field",11),h.Ub(97,"mat-select",26),h.bc("valueChange",function(e){return h.Cc(t),h.fc().school_select=e})("selectionChange",function(e){return h.Cc(t),h.fc().selectSchool(e.value)}),h.Oc(98,Jr,2,2,"mat-option",13),h.Tb(),h.Tb(),h.Oc(99,Xr,2,0,"div",14),h.Tb(),h.Ub(100,"div",9),h.Ub(101,"label",10),h.Qc(102,"S\u1eeda t\xean tr\u01b0\u1eddng"),h.Tb(),h.Ub(103,"div",15),h.Pb(104,"input",27),h.Tb(),h.Oc(105,Zr,2,0,"div",14),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Ub(106,"div",28),h.Ub(107,"button",29),h.bc("click",function(){return h.Cc(t),h.fc().removeDataOld()}),h.Qc(108,"reset"),h.Tb(),h.Ub(109,"button",30),h.bc("click",function(){return h.Cc(t),h.fc().SaveDataApi()}),h.Qc(110,"L\u01b0u"),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb()}if(2&t){const t=h.fc();h.Cb(3),h.mc("selectedIndex",t.selected.value),h.Cb(2),h.mc("formGroup",t.form),h.Cb(6),h.mc("ngForOf",t.locations),h.Cb(1),h.mc("ngIf",t.form.controls.LocationId.invalid&&(t.form.controls.LocationId.dirty||t.form.controls.LocationId.touched||0==t.checkValidateLocationId)),h.Cb(6),h.mc("ngIf",t.form.controls.NameDistrict.invalid&&(t.form.controls.NameDistrict.dirty||t.form.controls.NameDistrict.touched||0==t.checkValidateNameDistrict)),h.Cb(2),h.mc("formGroup",t.form),h.Cb(6),h.mc("ngForOf",t.locations),h.Cb(1),h.mc("ngIf",t.form.controls.LocationId.invalid&&(t.form.controls.LocationId.dirty||t.form.controls.LocationId.touched||0==t.checkValidateLocationId)),h.Cb(5),h.mc("value",t.department_select),h.Cb(1),h.mc("ngForOf",t.departments),h.Cb(1),h.mc("ngIf",t.form.controls.DistrictId.invalid&&(t.form.controls.DistrictId.dirty||t.form.controls.DistrictId.touched||0==t.checkValidateDistrictId)),h.Cb(6),h.mc("ngForOf",t.levels),h.Cb(1),h.mc("ngIf",t.form.controls.LevelId.invalid&&(t.form.controls.LevelId.dirty||t.form.controls.LevelId.touched||0==t.checkValidateLevelId)),h.Cb(6),h.mc("ngIf",t.form.controls.NameSchool.invalid&&(t.form.controls.NameSchool.dirty||t.form.controls.NameSchool.touched||0==t.checkValidateNameSchool)),h.Cb(2),h.mc("formGroup",t.form),h.Cb(6),h.mc("ngForOf",t.locations),h.Cb(1),h.mc("ngIf",t.form.controls.LocationId.invalid&&(t.form.controls.LocationId.dirty||t.form.controls.LocationId.touched||0==t.checkValidateLocationId)),h.Cb(5),h.mc("value",t.department_select),h.Cb(1),h.mc("ngForOf",t.departments),h.Cb(1),h.mc("ngIf",t.form.controls.DistrictId.invalid&&(t.form.controls.DistrictId.dirty||t.form.controls.DistrictId.touched||0==t.checkValidateDistrictId)),h.Cb(6),h.mc("ngIf",t.form.controls.NameDistrict.invalid&&(t.form.controls.NameDistrict.dirty||t.form.controls.NameDistrict.touched||0==t.checkValidateNameDistrict)),h.Cb(2),h.mc("formGroup",t.form),h.Cb(6),h.mc("ngForOf",t.locations),h.Cb(1),h.mc("ngIf",t.form.controls.LocationId.invalid&&(t.form.controls.LocationId.dirty||t.form.controls.LocationId.touched||0==t.checkValidateLocationId)),h.Cb(5),h.mc("value",t.department_select),h.Cb(1),h.mc("ngForOf",t.departments),h.Cb(1),h.mc("ngIf",t.form.controls.DistrictId.invalid&&(t.form.controls.DistrictId.dirty||t.form.controls.DistrictId.touched||0==t.checkValidateDistrictId)),h.Cb(5),h.mc("value",t.level_select),h.Cb(1),h.mc("ngForOf",t.levels),h.Cb(1),h.mc("ngIf",t.form.controls.LevelId.invalid&&(t.form.controls.LevelId.dirty||t.form.controls.LevelId.touched||0==t.checkValidateLevelId)),h.Cb(5),h.mc("value",t.school_select),h.Cb(1),h.mc("ngForOf",t.schools),h.Cb(1),h.mc("ngIf",t.form.controls.SchoolId.invalid&&(t.form.controls.SchoolId.dirty||t.form.controls.SchoolId.touched||0==t.checkValidateSchoolId)),h.Cb(6),h.mc("ngIf",t.form.controls.NameSchool.invalid&&(t.form.controls.NameSchool.dirty||t.form.controls.NameSchool.touched||0==t.checkValidateNameSchool)),h.Cb(4),h.mc("disabled",t.loading)}}let es=(()=>{class t{constructor(t,e,i,n,o){this.commonService=t,this.dom=e,this.sanitizer=i,this.formBuilder=n,this.apiService=o,this.form=new s.k({}),this.selected=new s.h(0),this.loading=!1,this.checkValidateNameDistrict=!0,this.checkValidateLevelId=!0,this.checkValidateNameSchool=!0,this.checkValidateLocationId=!0,this.checkValidateDistrictId=!0,this.checkValidateSchoolId=!0,this.location_select=null,this.department_select=null,this.school_select=null,this.schools=[],this.level_select=null}initData(){this.GetProvinces(),this.GetTypeSchool()}GetTypeSchool(){this.apiService.getListTypeSchool().subscribe(t=>{t&&(this.levels=t.data)})}GetProvinces(){this.apiService.getListProvinces().subscribe(t=>{t&&(this.locations=t.data,this.locations=this.sortName(this.locations))})}sortName(t){return t.sort(function(t,e){return t.name.trim().localeCompare(e.name.trim())}),t}AddSchool(){this.loading=!0;var t=""==this.form.value.NameSchool?"":{names:this.form.value.NameSchool.split("\n")};this.apiService.AddSchool(this.form.value.LevelId,this.form.value.LocationId,this.form.value.DistrictId,t).subscribe(t=>{1==t.success?(this.commonService.snackSuccess("Th\xeam tr\u01b0\u1eddng th\xe0nh c\xf4ng.",""),this.removeDataOld(),this.loading=!1):(""==this.form.value.LevelId||""==this.form.value.DistrictId||""==this.form.value.LocationId||""==this.form.value.NameSchool?(this.checkValidateLocationId=!1,this.checkValidateDistrictId=!1,this.checkValidateLevelId=!1,this.checkValidateNameSchool=!1):this.commonService.snackError("L\u1ed7i: Th\xeam tr\u01b0\u1eddng kh\xf4ng th\xe0nh c\xf4ng.","\u0110\xf3ng"),this.loading=!1)})}EditSchool(){this.loading=!0,this.apiService.EditSchool(this.school_select,this.form.value.NameSchool).subscribe(t=>{1==t.success?(this.commonService.snackSuccess("S\u1eeda tr\u01b0\u1eddng th\xe0nh c\xf4ng.",""),this.removeDataOld(),this.loading=!1):((this.form.value.LocationId=""==this.form.value.DistrictId||""==this.form.value.LevelId||""==this.form.value.NameSchool||""==this.form.value.SchoolId)?(this.checkValidateLocationId=!1,this.checkValidateDistrictId=!1,this.checkValidateLevelId=!1,this.checkValidateNameSchool=!1,this.checkValidateSchoolId=!1):this.commonService.snackError("L\u1ed7i: S\u1eeda tr\u01b0\u1eddng kh\xf4ng th\xe0nh c\xf4ng.","\u0110\xf3ng"),this.loading=!1)})}selectSchool(t){this.school_select=t}AddDistrict(){var t=""==this.form.value.NameDistrict?"":{names:this.form.value.NameDistrict.split("\n")};this.loading=!0,this.apiService.AddDistrict(this.form.value.LocationId,t).subscribe(t=>{1==t.success?(this.commonService.snackSuccess("Th\xeam huy\u1ec7n th\xe0nh c\xf4ng.",""),this.loading=!1,this.removeDataOld()):((this.form.value.LocationId=""==this.form.value.NameDistrict)?(this.checkValidateNameDistrict=!1,this.checkValidateLocationId=!1):this.commonService.snackError("L\u1ed7i: Th\xeam huy\u1ec7n kh\xf4ng th\xe0nh c\xf4ng.","\u0110\xf3ng"),this.loading=!1)})}EditDistrict(){this.loading=!0,this.apiService.EditDistrict(this.department_select,this.form.value.NameDistrict).subscribe(t=>{1==t.success?(this.removeDataOld(),this.commonService.snackSuccess("S\u1eeda huy\u1ec7n th\xe0nh c\xf4ng.",""),this.loading=!1):((this.form.value.LocationId=""==this.form.value.NameDistrict||""==this.form.value.DistrictId)?(this.checkValidateNameDistrict=!1,this.checkValidateLocationId=!1,this.checkValidateDistrictId=!1):this.commonService.snackError("L\u1ed7i: S\u1eeda huy\u1ec7n kh\xf4ng th\xe0nh c\xf4ng.","\u0110\xf3ng"),this.loading=!1)})}selectDepartment(t){this.schools=[],this.school_select=null,this.department_select=t}selectLevel(t){this.schools=[],this.school_select=null,this.level_select=t,this.getListSchool()}getListSchool(t=(()=>{})){this.department_select&&this.level_select&&this.apiService.getListSchoolsByDistrict(this.department_select,this.level_select).subscribe(e=>{e&&(this.schools=e.data,this.schools=this.sortName(this.schools),this.schools.push({id:-1,name:"Kh\xe1c",districtId:this.department_select,typeId:this.level_select}),t())})}selectLocation(t){this.location_select=t,this.department_select=null,this.departments=[],this.GetDistrictsByProvince()}GetDistrictsByProvince(t=(()=>{})){this.apiService.getListDistrictsByProvince(this.location_select).subscribe(e=>{e&&(this.departments=e.data,this.departments=this.sortName(this.departments),t())})}removeDataOld(){this.form=this.formBuilder.group({NameDistrict:new s.h("",s.z.required),LevelId:new s.h("",s.z.required),NameSchool:new s.h("",s.z.required),LocationId:new s.h("",s.z.required),DistrictId:new s.h("",s.z.required),SchoolId:new s.h("",s.z.required)}),this.checkValidateNameDistrict=!0,this.checkValidateLocationId=!0,this.checkValidateDistrictId=!0,this.checkValidateLevelId=!0,this.checkValidateNameSchool=!0,this.checkValidateSchoolId=!0}SaveDataApi(){0==this.selected.value?this.AddDistrict():1==this.selected.value?this.AddSchool():2==this.selected.value?this.EditDistrict():3==this.selected.value&&this.EditSchool()}selectedIndexChange(t){this.selected.setValue(t),this.removeDataOld()}ngOnInit(){this.removeDataOld(),this.initData()}}return t.\u0275fac=function(e){return new(e||t)(h.Ob(b.a),h.Ob(Or.b),h.Ob(Or.b),h.Ob(s.g),h.Ob(u.a))},t.\u0275cmp=h.Ib({type:t,selectors:[["app-ad-school"]],decls:3,vars:4,consts:[[3,"headerTitle","back_link"],[4,"ngIf"],["class","container-fluid component-wrap centerBoth hasBg mt-3 mb-3",4,"ngIf"],[1,"container-fluid","component-wrap","centerBoth","hasBg","mt-3","mb-3"],[1,"card"],[1,"card-body"],[3,"selectedIndex","selectedIndexChange"],["label","Th\xeam huy\u1ec7n"],[2,"margin-top","20px",3,"formGroup"],[1,"form-group"],[1,"control-label"],["appearance","fill"],["placeholder","Ch\u1ecdn t\u1ec9nh","formControlName","LocationId"],[3,"value",4,"ngFor","ngForOf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,""],["type","text","cols","5","rows","5","placeholder","Nh\u1eadp t\xean huy\u1ec7n","formControlName","NameDistrict",1,"form-control"],["label","Th\xeam tr\u01b0\u1eddng"],["placeholder","Ch\u1ecdn t\u1ec9nh","formControlName","LocationId",3,"selectionChange"],["placeholder","Ch\u1ecdn huy\u1ec7n","name","DepartmentName","formControlName","DistrictId",3,"value","valueChange"],["placeholder","Ch\u1ecdn c\u1ea5p h\u1ecdc","name","LevelId","formControlName","LevelId"],["placeholder","Nh\u1eadp t\xean tr\u01b0\u1eddng","name","","id","","cols","5","rows","5","formControlName","NameSchool",1,"form-control"],["label","S\u1eeda huy\u1ec7n"],["placeholder","Nh\u1eadp t\xean huy\u1ec7n","formControlName","NameDistrict",1,"form-control"],["label","S\u1eeda tr\u01b0\u1eddng"],["placeholder","Ch\u1ecdn c\u1ea5p h\u1ecdc","name","LevelId","formControlName","LevelId",3,"value","valueChange","selectionChange"],["placeholder","Ch\u1ecdn tr\u01b0\u1eddng","name","SchoolName","formControlName","SchoolId",3,"value","valueChange","selectionChange"],["placeholder","Nh\u1eadp t\xean tr\u01b0\u1eddng","formControlName","NameSchool",1,"form-control"],[2,"float","right"],["type","button",1,"btn","btn-danger","mr-3",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[3,"value"],[1,"alert","alert-danger","mt-3"]],template:function(t,e){1&t&&(h.Pb(0,"header-backend",0),h.Oc(1,Sr,1,0,"azt-loading-effect",1),h.Oc(2,ts,111,35,"div",2)),2&t&&(h.mc("headerTitle","Th\xeam tr\u01b0\u1eddng")("back_link","/admin/testbank/dashboard"),h.Cb(1),h.mc("ngIf",1==e.loading),h.Cb(1),h.mc("ngIf",0==e.loading))},directives:[m.a,o.m,wr.a,Ir.b,Ir.a,s.B,s.s,s.l,v.d,Pr.a,s.r,s.j,o.l,s.d,f.n],encapsulation:2}),t})();var is=i("BTbT");function ns(t,e){1&t&&h.Pb(0,"azt-loading-effect")}function os(t,e){if(1&t&&(h.Ub(0,"option",20),h.Qc(1),h.Tb()),2&t){const t=e.$implicit;h.mc("value",t.id),h.Cb(1),h.Rc(t.name)}}function rs(t,e){1&t&&(h.Ub(0,"div",21),h.Ub(1,"div",22),h.Ub(2,"span",23),h.Qc(3,"Loading..."),h.Tb(),h.Tb(),h.Tb())}function ss(t,e){if(1&t){const t=h.Vb();h.Ub(0,"div"),h.Ub(1,"button",24),h.bc("click",function(){return h.Cc(t),h.fc(2).saveFaq()}),h.Qc(2,"L\u01b0u"),h.Tb(),h.Ub(3,"a",25),h.bc("click",function(){return h.Cc(t),h.fc(2).redirectToListFaq()}),h.Qc(4,"H\u1ee7y"),h.Tb(),h.Tb()}}function as(t,e){if(1&t){const t=h.Vb();h.Ub(0,"button",24),h.bc("click",function(){return h.Cc(t),h.fc(2).updateFaq()}),h.Qc(1,"C\u1eadp nh\u1eadt"),h.Tb(),h.Ub(2,"a",25),h.bc("click",function(){return h.Cc(t),h.fc(2).redirectToListFaq()}),h.Qc(3,"H\u1ee7y"),h.Tb()}}const cs=function(){return{standalone:!0}};function ls(t,e){if(1&t){const t=h.Vb();h.Pb(0,"header-backend",2),h.Ub(1,"div",3),h.Ub(2,"form",4),h.Ub(3,"div",5),h.Ub(4,"div",6),h.Ub(5,"h3",7),h.Qc(6,"Danh m\u1ee5c"),h.Tb(),h.Tb(),h.Ub(7,"div",6),h.Ub(8,"select",8),h.Oc(9,os,2,2,"option",9),h.Tb(),h.Tb(),h.Tb(),h.Ub(10,"div",5),h.Ub(11,"div",6),h.Ub(12,"h3",7),h.Qc(13,"T\xean c\xe2u h\u1ecfi"),h.Tb(),h.Tb(),h.Ub(14,"div",6),h.Pb(15,"input",10),h.Tb(),h.Tb(),h.Ub(16,"div",5),h.Ub(17,"div",6),h.Ub(18,"h3",7),h.Qc(19,"C\xe2u tr\u1ea3 l\u1eddi"),h.Tb(),h.Tb(),h.Ub(20,"div",6),h.Ub(21,"input",11,12),h.bc("change",function(e){return h.Cc(t),h.fc().onFileSelected(e)}),h.Tb(),h.Ub(23,"a",13),h.bc("click",function(){return h.Cc(t),h.yc(22).click()}),h.Ub(24,"span"),h.Qc(25,"+ Th\xeam \u1ea3nh"),h.Tb(),h.Tb(),h.Oc(26,rs,4,0,"div",14),h.Tb(),h.Ub(27,"div",6),h.Ub(28,"editor",15),h.bc("ngModelChange",function(e){return h.Cc(t),h.fc().formFaq.content=e}),h.Tb(),h.Tb(),h.Tb(),h.Ub(29,"div",5),h.Ub(30,"div",6),h.Ub(31,"h3",7),h.Qc(32,"V\u1ecb tr\xed"),h.Tb(),h.Tb(),h.Ub(33,"div",6),h.Pb(34,"input",16),h.Tb(),h.Tb(),h.Ub(35,"div",5),h.Ub(36,"div",6),h.Ub(37,"h3",7),h.Qc(38,"Nh\xfang link video"),h.Tb(),h.Tb(),h.Ub(39,"div",6),h.Pb(40,"input",17),h.Tb(),h.Tb(),h.Ub(41,"div",5),h.Ub(42,"div",18),h.Oc(43,ss,5,0,"div",0),h.Oc(44,as,4,0,"ng-template",null,19,h.Pc),h.Tb(),h.Tb(),h.Tb(),h.Tb()}if(2&t){const t=h.yc(45),e=h.fc();h.mc("headerTitle","Th\xeam Faq")("back_link","/auth/list-faq"),h.Cb(2),h.mc("formGroup",e.form),h.Cb(7),h.mc("ngForOf",e.categoryObjs),h.Cb(12),h.mc("ngModelOptions",h.qc(11,cs)),h.Cb(5),h.mc("ngIf",e.loadingUpload),h.Cb(2),h.mc("ngModel",e.formFaq.content)("ngModelOptions",h.qc(12,cs))("init",e.tinymceInit),h.Cb(15),h.mc("ngIf",0==e.checkUpdate)("ngIfElse",t)}}let ds=(()=>{class t{constructor(t,e,i,n,o){this.activeRoute=t,this.commonService=e,this.apiService=i,this.router=n,this.fb=o,this.form=new s.k({}),this.formFaq={},this.isLoading=!1,this.subscriptions=new l.a,this.tinymceInit={},this.categoryObjs=[],this.faqId=0,this.checkUpdate=!1,this.loadingUpload=!1,this.LogErrorsRequest=!1,this.contentEditor=""}getCategoryFaq(){this.isLoading=!0,this.apiService.getCategoryFaqObjs().subscribe(t=>{1==t.success?this.categoryObjs=t.data.objs:this.commonService.snackError("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoading=!1})}saveFaq(){this.isLoading=!0;let t=this.commonService.getFormObj(this.form);null!=JSON.stringify(this.formFaq.content)&&null!=JSON.stringify(this.formFaq.content)||(this.formFaq.content=""),this.apiService.saveFaqObj({supporttype:t.categoryFaq,title:t.questionFaq,content:this.formFaq.content,videoUrl:t.videoUrl,position:t.positionFaq}).subscribe(t=>{1==t.success?this.commonService.snackSuccess("T\u1ea1o faq th\xe0nh c\xf4ng.",""):this.commonService.snackError("T\u1ea1o faq kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoading=!1})}getDetailFaq(t){this.checkUpdate=null!=t&&0!=t&&null!=t,this.checkUpdate&&(this.isLoading=!0,this.apiService.getDetailFaqObj(t).subscribe(t=>{if(1==t.success){let e=t.data.obj;this.formFaq.content=t.data.obj.content,this.form.patchValue({categoryFaq:e.supportType,questionFaq:e.title,videoUrl:e.videoUrl,positionFaq:e.position})}else this.commonService.snackError("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng","")}))}onFileSelected(t){let e=t.target.files,i=!!e&&e[0];0!=i&&(this.loadingUpload=!0,Object(is.a)(i).then(t=>{this.apiService.uploadAssetsToCdnProgress("Images/support",t).subscribe(t=>{0==t.successUpload?(this.loadingUpload=!1,this.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau!","")):1==t.successUpload&&t.successUpload&&1==t.successUpload&&(this.contentEditor.insertContent(`<img width="50%" class="card-img-bottom img-custom my-3" src="${t.url}" alt="">`),this.loadingUpload=!1)},t=>{this.LogErrorsRequest=JSON.stringify(t)})}))}updateFaq(){this.isLoading=!0;let t=this.commonService.getFormObj(this.form);null!=JSON.stringify(this.formFaq.content)&&null!=JSON.stringify(this.formFaq.content)||(this.formFaq.content=""),this.apiService.updateFaqObj({id:this.faqId,supporttype:t.categoryFaq,title:t.questionFaq,content:this.formFaq.content,videoUrl:t.videoUrl,position:t.positionFaq}).subscribe(t=>{1==t.success?this.commonService.snackSuccess("C\u1eadp nh\u1eadt faq th\xe0nh c\xf4ng.",""):this.commonService.snackError("C\u1eadp nh\u1eadt faq kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoading=!1})}redirectToListFaq(){this.commonService.myNavigation("/auth/list-faq")}ngOnInit(){this.formFaq.content="",this.form=this.fb.group({categoryFaq:new s.h(1,s.z.required),questionFaq:new s.h("",s.z.required),positionFaq:new s.h(0),videoUrl:new s.h("")}),Object(d.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.faqId=this.commonService.getMyParam(this.activeRoute,"id"),this.getDetailFaq(this.faqId),this.getCategoryFaq()}),this.tinymceInit={branding:!1,height:400,image_advtab:!0,imagetools_toolbar:"\n                rotateleft rotateright |\n                flipv fliph | \n                editimage imageoptions",importcss_append:!0,inline:!1,menubar:!0,paste_data_images:!0,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"\n                undo redo | formatselect | bold italic backcolor |                 alignleft aligncenter alignright alignjustify |                 bullist numlist outdent indent | removeformat | help",setup:t=>{this.contentEditor=t,t.ui.registry.addButton("insertText",{text:"Press Me To Insert Text!",onAction:()=>{t.insertContent("<strong>Hello World!</strong>")}})}}}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Ob(n.a),h.Ob(b.a),h.Ob(u.a),h.Ob(n.i),h.Ob(s.g))},t.\u0275cmp=h.Ib({type:t,selectors:[["app-add-faq"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"headerTitle","back_link"],[1,"container-fluid","my-3","pb-80"],[1,"px-3",3,"formGroup"],[1,"row","py-3"],[1,"col-md-12"],[1,"text-feild"],["formControlName","categoryFaq","id","exampleFormControlSelect1",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","questionFaq","placeholder","",1,"form-control","questionFaq"],["type","file","name","fileHomework",2,"display","none",3,"ngModelOptions","change"],["formChoseFile",""],[1,"d-flex","align-items-center",2,"color","#3C8DBC",3,"click"],["class","d-flex justify-content-center my-2",4,"ngIf"],["apiKey","ldij13v1886vlrnk42g9bvngyqdc6gxpe8l0n9mo8gdjpg9d",3,"ngModel","ngModelOptions","init","ngModelChange"],["type","number","formControlName","positionFaq","placeholder","",1,"form-control","questionFaq"],["type","text","formControlName","videoUrl","placeholder","",1,"form-control","questionFaq"],[1,"col-md-12","text-right"],["button",""],[3,"value"],[1,"d-flex","justify-content-center","my-2"],["role","status",1,"spinner-border","text-secondary"],[1,"sr-only"],[1,"button-save",3,"click"],[1,"button-cancel",3,"click"]],template:function(t,e){if(1&t&&(h.Oc(0,ns,1,0,"azt-loading-effect",0),h.Oc(1,ls,46,13,"ng-template",null,1,h.Pc)),2&t){const t=h.yc(2);h.mc("ngIf",e.isLoading)("ngIfElse",t)}},directives:[o.m,wr.a,m.a,s.B,s.s,s.l,s.y,s.r,s.j,o.l,s.d,r.a,s.u,s.w,s.v,s.A],styles:[".text-feild[_ngcontent-%COMP%]{margin-bottom:5px}.button-save[_ngcontent-%COMP%]{background-color:#169bd5;color:#fff;padding:8px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:14px;margin-right:16px;cursor:pointer;border-radius:5px;border:1px solid #169bd5;text-transform:uppercase}.button-save[_ngcontent-%COMP%]:hover{background-color:#0069d9;border-color:#0069d9}.pb-80[_ngcontent-%COMP%]{padding-bottom:80px}.button-cancel[_ngcontent-%COMP%]{background-color:#fff!important;color:#333;padding:8px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:14px;cursor:pointer;border:1px solid #797979;border-radius:5px;text-transform:uppercase}.button-cancel[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.02)!important}"]}),t})();var hs=i("UXJo");function bs(t,e){1&t&&h.Pb(0,"azt-loading-effect")}function us(t,e){if(1&t&&(h.Ub(0,"h3",31),h.Qc(1),h.Tb()),2&t){const t=h.fc().$implicit;h.Cb(1),h.Sc(" ",t.name," ")}}function ms(t,e){1&t&&(h.Ub(0,"div",48),h.Ub(1,"div",49),h.Ub(2,"span",50),h.Qc(3,"Loading..."),h.Tb(),h.Tb(),h.Tb())}function ps(t,e){if(1&t){const t=h.Vb();h.Ub(0,"div",51),h.Ub(1,"iframe",52),h.bc("load",function(){return h.Cc(t),h.fc(5).onLoad()}),h.gc(2,"safe"),h.Tb(),h.Tb()}if(2&t){const t=h.fc(2).$implicit,e=h.fc(3);h.mc("hidden",e.imgLoading),h.Cb(1),h.mc("src",h.hc(2,2,t.videoUrl),h.Ec)}}function gs(t,e){if(1&t&&(h.Ub(0,"div",45),h.Oc(1,ms,4,0,"div",46),h.Oc(2,ps,3,4,"div",47),h.Tb()),2&t){const t=h.fc().$implicit,e=h.fc(3);h.Cb(1),h.mc("ngIf",e.imgLoading),h.Cb(1),h.mc("ngIf",t.loading)}}const fs=function(t){return[t]};function vs(t,e){if(1&t){const t=h.Vb();h.Ub(0,"div",5),h.Ub(1,"div",32),h.Ub(2,"div",33),h.bc("click",function(){h.Cc(t);const i=e.index,n=h.fc().index;return h.fc(2).scrollClick(n,i)}),h.Ub(3,"div",34),h.Ub(4,"a",35),h.Ub(5,"span"),h.Qc(6),h.Tb(),h.Qc(7),h.Tb(),h.Ub(8,"button",36),h.bc("click",function(){return h.Cc(t),h.fc(3).showCopySuccess()}),h.Ub(9,"mat-icon",37),h.Qc(10,"file_copy"),h.Tb(),h.Tb(),h.Tb(),h.Ub(11,"div",38),h.Pb(12,"div",39),h.Oc(13,gs,3,2,"div",40),h.Tb(),h.Tb(),h.Tb(),h.Ub(14,"div",41),h.Ub(15,"div",42),h.Ub(16,"a",43),h.gc(17,"mylocalize"),h.Qc(18,"S\u1eeda"),h.Tb(),h.Ub(19,"button",44),h.bc("click",function(){h.Cc(t);const i=e.$implicit,n=e.index,o=h.fc().index;return h.fc(2).openDialog(i.id,o,n)}),h.Qc(20,"X\xf3a"),h.Tb(),h.Tb(),h.Tb(),h.Tb()}if(2&t){const t=e.$implicit,i=e.index,n=h.fc().index,o=h.fc(2);h.Cb(2),h.mc("id",n+"_"+i),h.Cb(4),h.Sc("",i+1,". "),h.Cb(1),h.Tc("",t.title," (V\u1ecb tr\xed:",t.position,")"),h.Cb(1),h.mc("cdkCopyToClipboard",o.copyLinkToClipboard(n+"_"+i)),h.Cb(3),h.mc("id","collapse_"+n+"_"+i),h.Cb(1),h.mc("innerHTML",t.content,h.Dc),h.Cb(1),h.mc("ngIf",""!=t.videoUrl),h.Cb(3),h.mc("routerLink",h.rc(11,fs,h.hc(17,9,"/auth/add-faq/"+t.id)))}}function _s(t,e){if(1&t&&(h.Ub(0,"div",27),h.Oc(1,us,2,1,"h3",28),h.Ub(2,"div",29),h.Oc(3,vs,21,13,"div",30),h.gc(4,"appFilter"),h.Tb(),h.Tb()),2&t){const t=e.$implicit,i=h.fc(2);h.Cb(1),h.mc("ngIf",i.checkSearch||0==t.objs.length),h.Cb(2),h.mc("ngForOf",h.ic(4,2,t.objs,i.searchText))}}function Ts(t,e){1&t&&(h.Ub(0,"span"),h.Pb(1,"span",62),h.Qc(2,"\xa0"),h.Tb())}function ys(t,e){if(1&t){const t=h.Vb();h.Ub(0,"div",53),h.Ub(1,"div",54),h.Ub(2,"div",55),h.Ub(3,"p",56),h.Qc(4," B\u1ea1n mu\u1ed1n x\xf3a faq n\xe0y ? "),h.Tb(),h.Tb(),h.Ub(5,"div",57),h.Ub(6,"div",58),h.Ub(7,"button",59),h.bc("click",function(){return h.Cc(t),h.fc(2).closeDialog()}),h.Qc(8," H\u1ee7y "),h.Tb(),h.Tb(),h.Ub(9,"button",60),h.bc("click",function(){return h.Cc(t),h.fc(2).configDeleteFaq()}),h.Oc(10,Ts,3,0,"span",61),h.Qc(11," X\xe1c nh\u1eadn "),h.Tb(),h.Tb(),h.Tb(),h.Tb()}if(2&t){const t=h.fc(2);h.Cb(9),h.mc("disabled",t.isLoading),h.Cb(1),h.mc("ngIf",!0===t.isLoading)}}function Cs(t,e){if(1&t){const t=h.Vb();h.Pb(0,"header-backend",2),h.Ub(1,"div",3),h.Ub(2,"div",4),h.Ub(3,"div",5),h.Ub(4,"div",6),h.Ub(5,"div",7),h.Ub(6,"div",8),h.Ub(7,"h2",9),h.Qc(8,"T\xecm c\xe2u h\u1ecfi ho\u1eb7c ch\u1ecdn theo danh m\u1ee5c b\xean d\u01b0\u1edbi"),h.Tb(),h.Ub(9,"div",10),h.Ub(10,"div",11),h.Ub(11,"input",12),h.bc("ngModelChange",function(e){return h.Cc(t),h.fc().searchText=e})("ngModelChange",function(){return h.Cc(t),h.fc().changeValueSearch()}),h.Tb(),h.Ub(12,"div",13),h.Ub(13,"span",14),h.Ub(14,"span",15),h.ec(),h.Ub(15,"svg",16),h.Pb(16,"line",17),h.Pb(17,"polyline",18),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.dc(),h.Ub(18,"div",19),h.Ub(19,"div",5),h.Ub(20,"div",20),h.Ub(21,"a",21),h.gc(22,"mylocalize"),h.Qc(23," + Th\xeam Faq "),h.Tb(),h.Ub(24,"a",21),h.gc(25,"mylocalize"),h.Qc(26," + Th\xeam danh m\u1ee5c Faq "),h.Tb(),h.Tb(),h.Tb(),h.Ub(27,"div",22),h.Ub(28,"div",23),h.Oc(29,_s,5,5,"div",24),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Oc(30,ys,12,2,"div",25),h.Ub(31,"button",26),h.bc("click",function(){return h.Cc(t),h.fc().topFunction()}),h.Ub(32,"mat-icon"),h.Qc(33,"arrow_upward"),h.Tb(),h.Tb()}if(2&t){const t=h.fc();h.mc("headerTitle","Faq")("back_link","/admin/testbank/dashboard"),h.Cb(11),h.mc("ngModel",t.searchText),h.Cb(10),h.mc("routerLink",h.rc(11,fs,h.hc(22,7,"/auth/add-faq/"))),h.Cb(3),h.mc("routerLink",h.rc(13,fs,h.hc(25,9,"/auth/category-faq/"))),h.Cb(5),h.mc("ngForOf",t.dataFaq),h.Cb(1),h.mc("ngIf",t.isShow)}}let Us=(()=>{class t{constructor(t,e,i,n,o){this.router=t,this.vps=e,this.commonService=i,this.cdr=n,this.apiService=o,this.subscriptions=new l.a,this.searchText="",this.checkSearch=!0,this.id=null,this.imgLoading=!0,this.backLink="/admin/testbank/dashboard",this.dataFaq=[],this.isLoading=!1,this.isShow=!1,this.idDelete=0,this.objIndex={}}topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}changeValueSearch(){this.checkSearch=""===this.searchText}onLoad(){this.imgLoading=!1}getFaqs(){this.isLoading=!0,this.apiService.getFaqObjs().subscribe(t=>{if(1==t.success){this.dataFaq=t.data.objs;for(let t=0;t<this.dataFaq;t++)for(let e=0;e<this.dataFaq[t].objs.length;e++)this.dataFaq[t].objs[e].loading=!1}else this.commonService.snackError("Kh\xf4ng t\u1ea3i \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u","");this.isLoading=!1})}openDialog(t,e,i){this.objIndex.i=e,this.objIndex.j=i,this.idDelete=t,this.isShow=!0}editFaq(t){this.commonService.myNavigation("/auth/add-faq/"+t)}addFaq(){this.commonService.myNavigation("/auth/add-faq")}configDeleteFaq(){this.isLoading=!0,this.apiService.deleteFaqObj(this.idDelete).subscribe(t=>{1==t.success?(this.commonService.snackSuccess("X\xf3a d\u1eef li\u1ec7u th\xe0nh c\xf4ng.",""),this.dataFaq[this.objIndex.i].objs.splice(this.objIndex.j,1)):this.commonService.snackError("X\xf3a d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoading=!1}),this.isShow=!1}closeDialog(){this.isShow=!1,this.idDelete=0}scroll(t){this.vps.scrollToAnchor(t);let e=t.split("_")[0],i=t.split("_")[1],n=document.getElementById(`collapse_${e}_${i}`);this.dataFaq[e].objs[i].loading=!0,null!==n&&n.classList.toggle("show-content")}scrollClick(t,e){let i=document.getElementById(`collapse_${t}_${e}`);this.dataFaq[t].objs[e].loading=!0,null!==i&&i.classList.toggle("show-content")}copyLinkToClipboard(t){return`${location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}/en/faq/${t}`}showCopySuccess(){this.commonService.snackSuccess("Sao ch\xe9p th\xe0nh c\xf4ng","")}ngOnInit(){this.getFaqs(),this.commonService.getMyQueryParam("backto")&&(this.backLink=this.commonService.getMyQueryParam("backto")),this.commonService.translateMetaData({title:"lang_core_faq_title",description:"lang_core_faq_description",image:"lang_cms_test_image"})}ngAfterViewInit(){this.id=this.router.snapshot.paramMap.get("id"),setTimeout(()=>{null!==this.id&&this.scroll(this.id)},200)}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Ob(n.a),h.Ob(o.w),h.Ob(b.a),h.Ob(h.h),h.Ob(u.a))},t.\u0275cmp=h.Ib({type:t,selectors:[["app-add-faq"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"headerTitle","back_link"],[1,"wrapper"],[1,"container-fluid","pb-80"],[1,"row"],[1,"col-xl-12","p-0"],[1,"faq-search-wrap","bg-teal-light-3"],[1,"container"],[1,"display-5","text-white","mb-20"],[1,"form-group","w-100","mb-0"],[1,"input-group"],["type","text","placeholder","T\xecm ki\u1ebfm... ","type","text",1,"form-control","form-control-lg","filled-input","bg-white","form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],[1,"input-group-text",2,"background","transparent","border","none"],[1,"feather-icon"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-arrow-right"],["x1","5","y1","12","x2","19","y2","12"],["points","12 5 19 12 12 19"],[1,"container","mt-sm-60","mt-30"],[1,"col-md-12","text-right"],[1,"btn","btn-success","mr-2",2,"margin-right","25px",3,"routerLink"],[1,"hk-row"],[1,"col-xl-12"],["class","card-lg",4,"ngFor","ngForOf"],["class","school-info_bg",4,"ngIf"],["id","myBtn","mat-fab","","title","Go to top",3,"click"],[1,"card-lg"],["style"," margin-top: 20px; ",4,"ngIf"],["id","accordion_1a",1,"accordion","accordion-type-2","accordion-flush"],["class","row",4,"ngFor","ngForOf"],[2,"margin-top","20px"],[1,"col-xl-10"],[1,"card","card-custom","contsearch",3,"id","click"],[1,"card-header","d-flex","justify-content-between","activestate","simple"],["role","button","aria-expanded","false",1,"collapsed","gsearch"],["mat-button","",1,"btn",2,"font-size","10px","padding-top","9px",3,"cdkCopyToClipboard","click"],[2,"font-size","16px","color","#00000082"],["data-parent","#accordion_1","role","tabpanel",1,"collapse",3,"id"],[1,"card-body","pa-15",3,"innerHTML"],["class","p-md-3",4,"ngIf"],[1,"col-xl-2"],[1,"block-btn"],["mat-flat-button","","color","primary",3,"routerLink"],["mat-flat-button","","color","warn",3,"click"],[1,"p-md-3"],["class","px-4 py-3 text-center",4,"ngIf"],["class","embed-responsive embed-responsive-16by9 video_link",3,"hidden",4,"ngIf"],[1,"px-4","py-3","text-center"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"],[1,"embed-responsive","embed-responsive-16by9","video_link",3,"hidden"],["allowfullscreen","",1,"embed-responsive-item",3,"src","load"],[1,"school-info_bg"],[1,"school-info","p-4"],[1,"text-center"],[1,"h5","para_respon","font-weight-normal"],[1,"d-flex","float-right","mt-3"],[1,"azt-block-button"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"disabled","click"],[4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){if(1&t&&(h.Oc(0,bs,1,0,"azt-loading-effect",0),h.Oc(1,Cs,34,15,"ng-template",null,1,h.Pc)),2&t){const t=h.yc(2);h.mc("ngIf",e.isLoading)("ngIfElse",t)}},directives:[o.m,wr.a,m.a,s.d,s.r,s.u,n.k,o.l,U.b,T.a,hs.a,U.a],pipes:[k.n,k.i,k.q],styles:['@charset "UTF-8";body[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:#fff;width:16px}.btn-green[_ngcontent-%COMP%]{color:#fff;background-color:#28a745;border-color:#28a745}.btn-green[_ngcontent-%COMP%]:hover{color:#fff;background-color:#218838;border-color:#1e7e34}body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#fff}body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#babac0;border-radius:16px;border:4px solid #fff}body[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}.pb-80[_ngcontent-%COMP%]{padding-bottom:80px}.img-custom[_ngcontent-%COMP%]{width:100%!important}.header-top[_ngcontent-%COMP%]{max-height:65px;overflow:hidden;background-color:#fff;display:flex;align-items:center;padding:5px 10px;box-shadow:0 1px 7px rgba(169,151,151,.24);justify-content:space-between}a[_ngcontent-%COMP%]{text-decoration:none!important}.logo-link[_ngcontent-%COMP%]{display:flex;align-items:center}.logo-img[_ngcontent-%COMP%]{width:95px;height:41px}.faq-search-wrap[_ngcontent-%COMP%]{padding:80px 0}.faq-search-wrap[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .dd-handle[_ngcontent-%COMP%], .faq-search-wrap[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.faq-search-wrap[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-group-append[_ngcontent-%COMP%]{position:absolute;right:0;top:0;bottom:0;z-index:10;pointer-events:none}.bg-teal-light-3[_ngcontent-%COMP%]{background-color:rgba(35,97,174,.8)!important}.hk-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-right:-10px;margin-left:-10px}@media (min-width:576px){.mt-sm-60[_ngcontent-%COMP%]{margin-top:60px!important}}.mt-30[_ngcontent-%COMP%]{margin-top:30px!important}.list-group-item.active[_ngcontent-%COMP%]{background-color:#00acf0;border-color:#00acf0}.accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header.activestate[_ngcontent-%COMP%]{border-width:1px}.accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:0;border-width:0}.card.card-lg[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%], .card.card-lg[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:.9rem 1.5rem}.accordion[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{margin-bottom:-1px}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:transparent;border:none}.accordion.accordion-type-2[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%] > a.collapsed[_ngcontent-%COMP%]{color:#324148}.accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:first-of-type   .card-header[_ngcontent-%COMP%]:first-child > a[_ngcontent-%COMP%]{border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.accordion.accordion-type-2[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{background:transparent;color:#00acf0;padding-left:10px;padding-right:10px}.accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%] > a.collapsed[_ngcontent-%COMP%]{color:#324148;background:transparent}.accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{background:#00acf0;color:#fff;font-weight:500;padding:.75rem 1.25rem .75rem 0;display:block;width:100%;text-align:left;position:relative;transition:all .2s ease-in-out}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;transition:color .2s ease}.card-header[_ngcontent-%COMP%] + .list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:first-child{border-top:1px solid rgba(0,0,0,.125)!important}.badge.badge-pill[_ngcontent-%COMP%]{border-radius:50px}.badge.badge-light[_ngcontent-%COMP%]{background:#eaecec;color:#324148}.badge[_ngcontent-%COMP%]{font-weight:500;border-radius:4px;padding:5px 7px;font-size:72%;letter-spacing:.3px;vertical-align:middle;display:inline-block;text-align:center;text-transform:capitalize}.ml-15[_ngcontent-%COMP%]{margin-left:15px!important}.accordion[_ngcontent-%COMP%]{padding:0}h3[_ngcontent-%COMP%]{margin-top:20px;font-weight:500;font-size:20px;text-transform:uppercase}.mr-15[_ngcontent-%COMP%]{margin-right:15px!important}.card-custom[_ngcontent-%COMP%]{margin:20px 0;border-bottom:1px solid rgba(0,0,0,.125);border-radius:0!important;padding:5px;box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);transition:all .3s cubic-bezier(.25,.8,.25,1)}.postion[_ngcontent-%COMP%]{position:relative}.card-custom[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px rgba(0,0,0,.25),0 3px 3px rgba(0,0,0,.22)}.accordion[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:last-of-type){border-bottom:1px solid rgba(0,0,0,.125);border-radius:.25rem;padding:5px}#button[_ngcontent-%COMP%]{display:inline-block;background-color:#00acf0;width:50px;height:50px;text-align:center;border-radius:4px;position:fixed;bottom:30px;right:30px;transition:background-color .3s,opacity .5s,visibility .5s;opacity:0;visibility:hidden;z-index:1000}#button[_ngcontent-%COMP%]:after{content:"\uf077";font-family:FontAwesome;font-weight:400;font-style:normal;font-size:2em;line-height:50px;color:#fff}#button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#333}#button[_ngcontent-%COMP%]:active{background-color:#555}#button.show[_ngcontent-%COMP%]{opacity:1;visibility:visible}.card-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;display:block;margin:auto}.section-title-line[_ngcontent-%COMP%]{display:flex}.content-outline__item[_ngcontent-%COMP%]{line-height:1.2;list-style:none;padding:5px 0;font-size:.9rem;color:#495057}.collapse[_ngcontent-%COMP%]{display:block;opacity:0;visibility:hidden;height:0}.show-content[_ngcontent-%COMP%]{transition:all .5s;opacity:1;visibility:visible;height:auto}#myBtn[_ngcontent-%COMP%]{display:block;position:fixed;bottom:20px;right:30px;z-index:99;cursor:pointer;background:rgba(35,97,174,.8);color:#fff}.block-btn[_ngcontent-%COMP%]{margin-top:30px}.block-btn[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:10px}.school-info_bg[_ngcontent-%COMP%]{z-index:9998;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background:rgba(0,0,0,.5607843137254902)}.school-info[_ngcontent-%COMP%]{z-index:9999;top:50%;left:50%;min-width:30%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}}@media screen and (max-width:768px){.block-btn[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:30px}}']}),t})();function ks(t,e){1&t&&h.Pb(0,"azt-loading-effect")}function Os(t,e){if(1&t){const t=h.Vb();h.Ub(0,"div"),h.Ub(1,"button",15),h.bc("click",function(){return h.Cc(t),h.fc(2).saveCategoryFaq()}),h.Qc(2,"L\u01b0u"),h.Tb(),h.Tb()}}function ws(t,e){if(1&t){const t=h.Vb();h.Ub(0,"button",15),h.bc("click",function(){return h.Cc(t),h.fc(2).updateCategoryFaq()}),h.Qc(1,"C\u1eadp nh\u1eadt"),h.Tb()}}const Is=function(t){return[t]};function Ps(t,e){if(1&t&&(h.Ub(0,"tr"),h.Ub(1,"td"),h.Qc(2),h.Tb(),h.Ub(3,"td",16),h.Ub(4,"a",17),h.gc(5,"mylocalize"),h.Qc(6,"S\u1eeda"),h.Tb(),h.Tb(),h.Tb()),2&t){const t=e.$implicit;h.Cb(2),h.Rc(t.name),h.Cb(2),h.mc("routerLink",h.rc(4,Is,h.hc(5,2,"/auth/category-faq/"+t.id)))}}function Ss(t,e){if(1&t&&(h.Pb(0,"header-backend",2),h.Ub(1,"div",3),h.Ub(2,"form",4),h.Ub(3,"div",5),h.Ub(4,"div",6),h.Ub(5,"h3",7),h.Qc(6,"T\xean Danh m\u1ee5c"),h.Tb(),h.Tb(),h.Ub(7,"div",6),h.Pb(8,"input",8),h.Tb(),h.Tb(),h.Ub(9,"div",5),h.Ub(10,"div",6),h.Ub(11,"h3",7),h.Qc(12,"V\u1ecb tr\xed"),h.Tb(),h.Tb(),h.Ub(13,"div",6),h.Pb(14,"input",9),h.Tb(),h.Tb(),h.Ub(15,"div",5),h.Ub(16,"div",10),h.Oc(17,Os,3,0,"div",0),h.Oc(18,ws,2,0,"ng-template",null,11,h.Pc),h.Tb(),h.Tb(),h.Tb(),h.Ub(20,"div",12),h.Ub(21,"table",13),h.Oc(22,Ps,7,6,"tr",14),h.Tb(),h.Tb(),h.Tb()),2&t){const t=h.yc(19),e=h.fc();h.mc("headerTitle","Danh m\u1ee5c Faq")("back_link","/auth/list-faq"),h.Cb(2),h.mc("formGroup",e.form),h.Cb(15),h.mc("ngIf",0==e.checkUpdate)("ngIfElse",t),h.Cb(5),h.mc("ngForOf",e.categoryObjs)}}let xs=(()=>{class t{constructor(t,e,i,n,o){this.activeRoute=t,this.commonService=e,this.apiService=i,this.router=n,this.fb=o,this.form=new s.k({}),this.isLoading=!1,this.subscriptions=new l.a,this.categoryObjs=[],this.checkUpdate=!1,this.cateId=0}getCategoryFaq(){this.isLoading=!0,this.apiService.getCategoryFaqObjs().subscribe(t=>{1==t.success?this.categoryObjs=t.data.objs:this.commonService.snackError("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoading=!1})}saveCategoryFaq(){this.isLoading=!0;let t=this.commonService.getFormObj(this.form);this.apiService.saveCategoryFaqObj({name:t.categoryFaq,position:t.categoryPosFaq}).subscribe(t=>{1==t.success?(this.getCategoryFaq(),this.commonService.snackSuccess("T\u1ea1o danh m\u1ee5c faq th\xe0nh c\xf4ng.","")):this.commonService.snackError("T\u1ea1o danh m\u1ee5c faq kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoading=!1})}updateCategoryFaq(){this.isLoading=!0;let t=this.commonService.getFormObj(this.form);this.apiService.updateCategoryFaqObj({id:this.cateId,name:t.categoryFaq,position:t.categoryPosFaq}).subscribe(t=>{1==t.success?(this.getCategoryFaq(),this.commonService.snackSuccess("C\u1eadp nh\u1eadt danh m\u1ee5c faq th\xe0nh c\xf4ng.","")):this.commonService.snackError("C\u1eadp nh\u1eadt danh m\u1ee5c faq kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoading=!1})}getDetailCategoryFaq(t){this.checkUpdate=null!=t&&0!=t&&null!=t,this.checkUpdate&&(this.isLoading=!0,this.apiService.getDetailCategoryFaqObj(t).subscribe(t=>{if(1==t.success){let e=t.data.obj;this.form.patchValue({categoryFaq:e.name,categoryPosFaq:e.position})}else this.commonService.snackError("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng","")}))}ngOnInit(){this.form=this.fb.group({categoryFaq:new s.h("",s.z.required),categoryPosFaq:new s.h(0,s.z.required)}),Object(d.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.getCategoryFaq(),this.cateId=this.commonService.getMyParam(this.activeRoute,"id"),this.getDetailCategoryFaq(this.cateId)})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Ob(n.a),h.Ob(b.a),h.Ob(u.a),h.Ob(n.i),h.Ob(s.g))},t.\u0275cmp=h.Ib({type:t,selectors:[["app-add-faq"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"headerTitle","back_link"],[1,"container-fluid","my-3"],[1,"px-3",3,"formGroup"],[1,"row","py-3"],[1,"col-md-12"],[1,"text-feild"],["type","text","formControlName","categoryFaq","placeholder","",1,"form-control","questionFaq"],["type","number","formControlName","categoryPosFaq","placeholder","",1,"form-control","questionFaq"],[1,"col-md-12","text-right"],["button",""],[1,"row","col-md-12"],[1,"table"],[4,"ngFor","ngForOf"],[1,"button-save",3,"click"],[1,"text-right"],["mat-flat-button","","color","primary",3,"routerLink"]],template:function(t,e){if(1&t&&(h.Oc(0,ks,1,0,"azt-loading-effect",0),h.Oc(1,Ss,23,6,"ng-template",null,1,h.Pc)),2&t){const t=h.yc(2);h.mc("ngIf",e.isLoading)("ngIfElse",t)}},directives:[o.m,wr.a,m.a,s.B,s.s,s.l,s.d,s.r,s.j,s.w,o.l,U.a,n.k],pipes:[k.n],styles:[".text-feild[_ngcontent-%COMP%]{margin-bottom:5px}.button-save[_ngcontent-%COMP%]{background-color:#169bd5;color:#fff;padding:8px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:14px;margin-right:16px;cursor:pointer;border-radius:5px;border:1px solid #169bd5;text-transform:uppercase}.button-save[_ngcontent-%COMP%]:hover{background-color:#0069d9;border-color:#0069d9}.pb-80[_ngcontent-%COMP%]{padding-bottom:80px}.button-cancel[_ngcontent-%COMP%]{background-color:#fff!important;color:#333;padding:8px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:14px;cursor:pointer;border:1px solid #797979;border-radius:5px;text-transform:uppercase}.button-cancel[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.02)!important}"]}),t})();function Ms(t,e){if(1&t){const t=h.Vb();h.Ub(0,"div",8),h.Ub(1,"div",9),h.Ub(2,"label",10),h.Qc(3),h.Tb(),h.Ub(4,"div",11),h.Pb(5,"textarea",12),h.Tb(),h.Ub(6,"div",13),h.Ub(7,"button",14),h.bc("click",function(){h.Cc(t);const i=e.$implicit;return h.fc().saveConfig(i.controls.id.value)}),h.Qc(8,"C\u1eadp nh\u1eadt"),h.Tb(),h.Qc(9,"\xa0 "),h.Tb(),h.Tb(),h.Tb()}if(2&t){const t=e.$implicit;h.Cb(1),h.mc("formGroup",t),h.Cb(2),h.Rc(t.controls.name.value)}}const Es=[{path:"",children:[{path:"",children:[{path:"login",component:W},{path:"register",component:kt},{path:"register/:type",component:kt},{path:"logout",component:xt},{path:"confirm_forgot_password",component:Wt},{path:"confirm_forgot_password_old",component:ee},{path:"confirm_account",component:yo},{path:"checking_service",component:Qo},{path:"set_new_password",component:le},{path:"change-info",component:D},{path:"become-teacher",component:Oo},{path:"update-new-version",component:p},{path:"switch-teacher-student",component:Ao},{path:"support",component:St},{path:"report_error",component:mr},{path:"upload_assets",component:Te},{path:"upload_mnote",component:kr},{path:"upload-file",component:So},{path:"add_school",component:es},{path:"add-faq",component:ds},{path:"add-faq/:id",component:ds},{path:"list-faq",component:Us},{path:"category-faq",component:xs},{path:"category-faq/:id",component:xs},{path:"update-config",component:(()=>{class t{constructor(t,e,i){this.fb=t,this.commonService=e,this.apiService=i,this.subscriptions=new l.a,this.form=new s.k({}),this.status_obj={loading:!1,error:!1},this.objs=[]}ngOnInit(){this.form=this.fb.group({config_objs:this.fb.array([])}),this.getConfigObjs(),this.commonService.translateMetaData({title:"lang_cms_auth_update_config_title",description:"lang_cms_auth_update_config_description",image:"lang_cms_test_image"})}saveConfig(t){for(var e=this.commonService.getFormObj(this.form),i=!1,n="",o=0;o<e.config_objs.length;o++)if(e.config_objs[o].id==t){i=!0,n=e.config_objs[o].value;break}i?(this.status_obj={loading:!0,error:!1},this.subscriptions.add(this.apiService.updateConfigObj(t,n).subscribe(t=>{1==t.success?(this.status_obj={loading:!1,error:!1},this.commonService.snackSuccess("L\u01b0u d\u1eef li\u1ec7u th\xe0nh c\xf4ng","")):(this.status_obj={loading:!1,error:!0},this.commonService.myTranslate([t.message]).subscribe(e=>{this.commonService.snackError(e[t.message],"")}))}))):this.commonService.snackError("Kh\xf4ng t\xecm th\u1ea5y d\u1eef li\u1ec7u","")}getConfigObjs(){this.status_obj={loading:!0,error:!1},this.subscriptions.add(this.apiService.getConfigObjs().subscribe(t=>{if(1==t.success){this.objs=t.data;for(var e=this.fb.array([]),i=0;i<this.objs.length;i++){var n=this.fb.group({id:[this.objs[i].id,[s.z.required]],name:[this.objs[i].name,[s.z.required]],value:[this.objs[i].value,[s.z.required]]});e.push(n)}this.form.setControl("config_objs",e),this.status_obj={loading:!1,error:!1}}else this.status_obj={loading:!1,error:!0},this.commonService.myTranslate([t.message]).subscribe(e=>{this.commonService.snackError(e[t.message],"")})}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Ob(s.g),h.Ob(b.a),h.Ob(u.a))},t.\u0275cmp=h.Ib({type:t,selectors:[["app-update-config"]],decls:12,vars:4,consts:[[3,"headerTitle","back_link"],[1,"container-fluid","component-wrap","centerBoth","hasBg","mt-3"],[1,"card"],[1,"card-body"],[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"row"],[1,"col-sm-12"],["class","form-group",4,"ngFor","ngForOf"],[1,"form-group"],[1,"row",3,"formGroup"],[1,"col-sm-2","control-label"],[1,"col-sm-6"],["type","text","formControlName","value",1,"form-control"],[1,"col-sm-3"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(h.Pb(0,"header-backend",0),h.Ub(1,"div",1),h.Ub(2,"div",2),h.Ub(3,"div",3),h.Ub(4,"h3"),h.Ub(5,"b"),h.Qc(6,"C\u1eadp nh\u1eadt c\u1ea5u h\xecnh"),h.Tb(),h.Tb(),h.Pb(7,"hr"),h.Ub(8,"form",4),h.Ub(9,"div",5),h.Ub(10,"div",6),h.Oc(11,Ms,10,2,"div",7),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb()),2&t&&(h.mc("headerTitle","C\u1eadp nh\u1eadt c\u1ea5u h\xecnh")("back_link","/admin/testbank/dashboard"),h.Cb(8),h.mc("formGroup",e.form),h.Cb(3),h.mc("ngForOf",e.form.controls.config_objs.controls))},directives:[m.a,s.B,s.s,s.l,o.l,s.d,s.r,s.j,U.b],encapsulation:2}),t})()},{path:"gzip-tool",component:(()=>{class t{constructor(t,e){this.formBuilder=t,this.commonService=e,this.subscriptions=new l.a,this.form=new s.k({}),this.count_en=0,this.count_de=0}ngOnInit(){this.form=this.formBuilder.group({content:["",[s.z.required]],result:["",[s.z.required]]}),this.commonService.translateMetaData({title:"lang_cms_auth_gzip_tool_title",description:"lang_cms_auth_gzip_tool_description",image:"lang_cms_test_image"})}encodeAction(){var t=this.form.controls.content.value;this.form.controls.result.setValue(this.commonService.convertContentGzip(t)),this.count_en=t.length,this.count_de=this.form.controls.result.value.length}decodeAction(){var t=this.form.controls.content.value;this.form.controls.result.setValue(this.commonService.decodeContentGzip(t)),this.count_en=t.length,this.count_de=this.form.controls.result.value.length}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Ob(s.g),h.Ob(b.a))},t.\u0275cmp=h.Ib({type:t,selectors:[["app-gzip-tool"]],decls:30,vars:5,consts:[[3,"headerTitle","back_link"],[1,"container-fluid","component-wrap","centerBoth","hasBg","mt-3"],[1,"card"],[1,"card-body"],[1,"form-horizontal",2,"margin-top","6vh",3,"formGroup"],[1,"row"],[1,"col-sm-10"],[1,"row","mb-3"],[1,"col-sm-2","control-label"],["type","text","formControlName","content",1,"form-control"],["type","text","readonly","","formControlName","result",1,"form-control"],[1,"col-sm-2"],[1,"mb-3"],["mat-raised-button","","color","primary",3,"click"],[1,"mt-3","text-center"]],template:function(t,e){1&t&&(h.Pb(0,"header-backend",0),h.Ub(1,"div",1),h.Ub(2,"div",2),h.Ub(3,"div",3),h.Ub(4,"h3"),h.Ub(5,"b"),h.Qc(6,"C\xf4ng c\u1ee5 m\xe3 ho\xe1 - gi\u1ea3i m\xe3"),h.Tb(),h.Tb(),h.Pb(7,"hr"),h.Ub(8,"form",4),h.Ub(9,"div",5),h.Ub(10,"div",6),h.Ub(11,"div",7),h.Ub(12,"label",8),h.Qc(13,"N\u1ed9i dung"),h.Tb(),h.Ub(14,"div",6),h.Pb(15,"textarea",9),h.Tb(),h.Tb(),h.Ub(16,"div",5),h.Ub(17,"label",8),h.Qc(18,"K\u1ebft qu\u1ea3"),h.Tb(),h.Ub(19,"div",6),h.Pb(20,"textarea",10),h.Tb(),h.Tb(),h.Tb(),h.Ub(21,"div",11),h.Ub(22,"div",12),h.Ub(23,"button",13),h.bc("click",function(){return e.encodeAction()}),h.Qc(24,"M\xe3 ho\xe1"),h.Tb(),h.Tb(),h.Ub(25,"div"),h.Ub(26,"button",13),h.bc("click",function(){return e.decodeAction()}),h.Qc(27,"Gi\u1ea3i m\xe3"),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Ub(28,"div",14),h.Qc(29),h.Tb(),h.Tb(),h.Tb(),h.Tb()),2&t&&(h.mc("headerTitle","C\xf4ng c\u1ee5 h\u1ed7 tr\u1ee3 Gzip")("back_link","/admin/testbank/dashboard"),h.Cb(8),h.mc("formGroup",e.form),h.Cb(21),h.Tc("K\u1ebft qu\u1ea3 convert: chi\u1ec1u d\xe0i ban \u0111\u1ea7u: ",e.count_en," - chi\u1ec1u d\xe0i sau khi convert: ",e.count_de,""))},directives:[m.a,s.B,s.s,s.l,s.d,s.r,s.j,U.b],encapsulation:2}),t})()}]}]}];let js=(()=>{class t{}return t.\u0275mod=h.Mb({type:t}),t.\u0275inj=h.Lb({factory:function(e){return new(e||t)},imports:[[n.l.forChild(Es)],n.l,A.c]}),t})();var Ls=i("Zhhu");let Ns=(()=>{class t{}return t.\u0275mod=h.Mb({type:t}),t.\u0275inj=h.Lb({factory:function(e){return new(e||t)},imports:[[n.l,o.c,s.m,r.b,a.a,s.x,js,Ls.a,c.a]]}),t})()}}]);